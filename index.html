<html>

<head>
	<title>Tableaunoir</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport"
		content="width=device-width, target-densitydpi=device-dpi, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<link rel="stylesheet" type="text/css" href="style.css" />
	<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
	<script src="tableaunoir.js"></script>
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
	<div id=controls>
		<button id="buttonMenu" title="Menu"><img class="icon"
				src="img/icons/menu-three-outlined-bars-svgrepo-com.svg" /></button><span
			class="keyboardkeyhelp">Esc</span>
		<button id="buttonColors" title="Choose your color"><img class="icon" src="img/icons/1F3A8.svg" /></button><span
			class="keyboardkeyhelp">c</span>
		<button hidden id="buttonChalk" title="Switch between erase and draw"><img class="icon"
				src="img/icons/270F.svg" /></button>
		<button id="buttonEraser" title="Switch between erase and draw"><img class="icon"
				src="img/icons/eraser-svgrepo-com.svg" /></button><span class="keyboardkeyhelp">e</span>
		<button id="buttonTools" title="Open a menu with a lot of tools"><img class="icon"
				src="img/icons/tools.svg" /></button><span class="keyboardkeyhelp">t</span>
		<button id="buttonText" title="Add text (and/or LaTeX $...$)"><img class="icon"
				src="img/icons/text-svgrepo-com.svg" /></button><span class="keyboardkeyhelp">Enter</span>
		<button id="buttonDivide" title="Divide the screen vertically in two"><img class="icon"
				src="img/icons/divide-svgrepo-com.svg" /></button><span class="keyboardkeyhelp">d</span>

		<div class="toolbargroup">
			<button id="buttonCancel" title="Cancel the last action"><img class="icon"
					src="img/icons/21A9.svg" /></button>
			<button id="buttonRedo" title="Redo the last action"><img class="icon" src="img/icons/21AA.svg" /></button>
		</div>
		<div class="toolbargroup">
			<button id="buttonLeft" title="Go left"><img class="icon" src="img/icons/25C0.svg" /></button>
			<button id="buttonRight" title="Go right"><img class="icon" src="img/icons/25B6.svg" /></button>
			<span class="keyboardkeyhelp">‚Üê ‚Üí</span>
		</div>

		<button id="buttonShare" title="share and copy link to clipboard (if your system allows it)"><img class="icon"
				src="img/icons/E253.svg" /></button>
		<button hidden id="buttonCloseControls" title="Hide this toolbar (it can be shown again in the menu)"
			onclick="controls.hidden = true; welcome.hidden = true;"><img class="icon"
				src="img/icons/hidetoolbar.svg" /></button><span class="keyboardkeyhelp">hide toolbar = h</span>
		<div id="numberOfUsers"></div>
	</div>

	<div id="content">
		<canvas id="canvasBackground" width=2000 height=1200></canvas>
		<div id="container">
			<div id="board">
				<div id="pdf"></div>
				<canvas width=2000 height=1200 id="canvas"></canvas>
				<div id="magnets"></div>
				<svg id="svg" width=100000 height=1300></svg>
				<div id="cursors"></div>
			</div>
		</div>
	</div>
	<div hidden id="questions">
	</div>

	<div hidden id="loading">
		<div id="welcomeMessage">Welcome to tableaunoir. The shared board you are trying to reach will appear soon.
			Please wait...</div>
	</div>
	<div class="pageNumberHidden" id="pageNumber">1</div>


	<div id="menu" class="menuHide MenuPanel">
		<div class="tabs">
			<button class="tablink" id="defaultOpen" onclick="Menu.openPage('MyBlackboard', this)">‚éï
				<span>My Board</span></button>
			<button class="tablink" id="tabShare" onclick="Menu.openPage('Share', this)">üîó <span>Share</span></button>
			<button class="tablink" onclick="Menu.openPage('Background', this)">üñº <span>Background</span></button>
			<button class="tablink" onclick="Menu.openPage('Magnets', this)">üéä <span>Magnets</span></button>
			<button class="tablink" onclick="Menu.openPage('Options', this)">‚öõ Options</button>
			<button class="tablink" onclick="Menu.openPage('KeyboardShortcuts', this)" id="defaultOpen">‚å®
				<span>Keyboard Shortcuts</span></button>
			<button class="tablink" onclick="Menu.openPage('Help', this)" id="defaultOpen">? <span>Help</span></button>
			<button class="tablink" onclick="Menu.openPage('About', this)" id="defaultOpen">About tableaunoir</button>
		</div>
		<div>
			<div id="menucontent"></div>
			<div id="About" class="tabcontent">
				<h2>About tableaunoir</h2>
				<div class="explanation">
					<img src="img/welcome_tableaunoir.png" />
					<span id="aboutPresentation">Tableaunoir is an <em>online blackboard</em>. It is ideally used with a
						<em>graphics
							tablet</em>. You can help your audience <em>focus
							on the content</em> by hiding the toolbar and using keyboard shortcuts.</span>

				</div>

				<div class="explanation">
					<img src="img/welcome_magnets.png" />
					<span id="aboutMagnets">You may create <em>magnets</em> (think of them as fridge magnets) for making
						<em>interactive courses</em>,
						presentations and discussions with students.</span>
				</div>

				<div class="explanation">
					<img src="img/shareInEverybodyWritesMode.png" />
					<span id="aboutShare">Blackboards can be shared in order to <em>collaborate</em> with your friends.</span>
				</div>
				<div class="explanation">
					<img src="img/welcome_open.png" />
					<span id="aboutFree">The project is <em>open source</em>. Feel free to collaborate:</span>
					<a target="_blank" rel="noopener noreferrer"
						href="https://github.com/tableaunoir/tableaunoir">https://github.com/tableaunoir/tableaunoir</a>
				</div>

				<h2>Videos</h2>
				<a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/watch?v=P6_lhqiPBow">Video
					presentation of tableaunoir (in French)</a>

				<a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/watch?v=BtLaNBOuSHc">Video
					presentation of tableaunoir (in English)</a>


				<h2>Privacy policy</h2>

				<ul>
					<li>All data may be sent to the server you are connected to, and be dispatched to other users
						connected to the same board. Some instances of tableaunoir are http, others are https. Data
						means: the board itself, the magnets, options in the menu.</li>
					<li>You own your own data. The server does not store the boards: they are ephemeral. Do not forget
						to save and/or export boards you wish to keep.</li>
					<li>Some options (right-handed or left-handed, toolbar visible or not, etc.) are local and stored in
						<code>localStorage</code> (and do not use cookies üö´ üç™).
					</li>
				</ul>



			</div>

			<div id="MyBlackboard" class="tabcontent">
				<h2>Clear</h2>
				<div class="menuDiv">
					<button class="buttonClear" id="blackboardClear">
						<img src="img/clearboard.png" /><br /><span>Clear the board</span></button>
					<button class="buttonClear" id="clearMagnet">
						<img src="img/magnet_delete.png" /><br /><span>Remove all the magnets</span></button>
				</div>

				<h2>Load</h2>
				<div class="menuDiv">
					<img align="right" class="illustration" height="128px" src="img/illustrations/loading.png" />
					<div class="menuDiv">
						<label id="loadExplanation" for="file">
							To open an existing board, drag and drop your <em>.tableaunoir file</em> in the application
							or
							choose a file:</label>
						<br /><br />
						<input type="file" id="file" name="file" accept="image/png, image/jpeg, .tableaunoir" />
					</div>

				</div>
				<h2>Save</h2>
				<img align="right" class="illustration" height="128px" src="img/illustrations/saving.png" />
				<div id="saveExplanation">
					You may save your board in a <em>.tableaunoir file</em> for later use:</div>
				<div class="menuDiv">
					<span>Name:</span> <input id="name" value="myblackboard" /><button id="save">Save</button>
				</div>

				<div>
					<h2>Export</h2>
					<div id="exportExplanation">You may export your board as an <em>image .png file</em> to show it to
						other people. All
						magnets will be "flattened" in the resulting image.</div>
					<div class="menuDiv">
						<span>Name:</span> <input id="exportPngName" value="myblackboard" />
						<button id="exportPng">Get an image of my board</button>
					</div>
				</div>
			</div>

			<div id="Background" class="tabcontent">
				<div>Behind the board, there is a <em>background color</em> and a
					<em>background image</em>.
				</div>

				<div id="backgroundSnapshot">
					<div id="backgroundSnapshotBackgroundColor"></div>
					<div id="backgroundSnapshotBackgroundImageDiv">
						<img id="backgroundSnapshotBackgroundImage" />
					</div>
					<img id="backgroundSnapshotCanvas" src="img/animatedsmiley.gif" />
				</div>

				<h2>1. <span>Background color</span></h2>

				<button id="blackBoardSwitch"><img src="img/switchblack.png" /><br /><span>Blackboard</span></button>
				<button id="whiteBoardSwitch"><img src="img/switchwhite.png" /><br /><span>Whiteboard</span></button>


				<h2>2. <span>Background image</span></h2>

				<div>If you need to teach music, or do geometry, or present some ideas with an image, use a background
					image.</div>

				<button class="buttonClear" id="buttonNoBackground">
					<img src="img/nobackground.png" /><br /><span>No background</span></button>
				<button class="buttonMusicScore" id="buttonMusicScore">
					<img src="img/backgroundmusicscore.png" /><br /><span>Music score</span></button>
				<button class="buttonGrid" id="buttonGrid">
					<img src="img/grid.png" /><br /><span>Grid</span></button>


				<h2>2'. <span>Or use your own background</span></h2>

				<input type="file" accept="image/png, image/jpeg, image/svg, application/pdf" id="inputBackground" />
			</div>


			<div id="Options" class="tabcontent">
				<h2>Drawing</h2>
				<label for="lineWidth">Line width:</label>
				<input type="number" id="inputLineWidth" name="lineWidth" min="1" max="40" step="0.5">

				<h2>Interface</h2>
				<input type="checkbox" id="inputToolbar"></input><label for="inputToolbar">Show the toolbar (h)</label>

				<br /><br />

				<input type="radio" id="inputToolbarPositionLeft" name="inputToolbarPosition" value="left">
				<label for="inputToolbarPositionLeft">Left</label><br />
				<input type="radio" id="inputToolbarPositionTop" name="inputToolbarPosition" value="top">
				<label for="inputToolbarPositionTop">Top</label><br />
				<input type="radio" id="inputToolbarPositionRight" name="inputToolbarPosition" value="right">
				<label for="inputToolbarPositionRight">Right</label><br />
				<input type="radio" id="inputToolbarPositionBottom" name="inputToolbarPosition" value="bottom">
				<label for="inputToolbarPositionBottom">Bottom</label>

				<h2>Language</h2>
				<input type="radio" id="inputLanguageEn" name="inputLanguage" value='en'>
				<label for="inputLanguageEn">English</label><br />
				<input type="radio" id="inputLanguageFr" name="inputLanguage" value='fr'>
				<label for="inputLanguageFr">French</label><br />

				<h2>Palette</h2>
				<input type="radio" id="inputPaletteStandard" name="inputPalette"
					value='["white", "yellow", "orange", "rgb(100, 172, 255)", "Crimson", "Plum", "LimeGreen", "black"]'><label
					for="inputPaletteCrazy">Standard 8 color palette</label><br />
				<input type="radio" id="inputPaletteCrazy" name="inputPalette" value='["white", 
    "#BBBBBB",
    "#888888",
    "#444444",
    "black",
    "#FFFF00",
    "#FFBB00",
    "#FF8800",
    "#FF5500",
    "#FF0000",
    "#CC0000",
    "#880000",
    "#8800FF",
    "#FF00FF",
    "#FFAAFF",
    "#FFCCFF",
    "#0000FF",
    "#0088FF",
    "#00FFFF",
    "#88FF88",
    "#00FF00",
    "#008800",
    "#558800"]'><label for="inputPaletteCrazy">21 color palette</label><br />
				<h2>Cursor</h2>
				<input type="checkbox" id="inputLeftHanded"></input><label for="inputLeftHanded">Left-handed</label>

				<label hidden>Show a horizontal scrollbar</label>
				<input hidden type="checkbox" id="inputHorizontalScrollbar" />

			</div>

			<div id="KeyboardShortcuts" class="tabcontent">
				<h2>Blackboard keyboard shortcuts</h2>

				<div class="menuDiv">
					<table>
						<tr>
							<td><span class="keyboardkey">Esc</span> or <span class="keyboardkey">F1</span></td>
							<td>show/hide this <em>menu</em></td>
						</tr>
						<tr>
							<td><span class="keyboardkey">e</span></td>
							<td>switch between chalk and <em>eraser</em></td>
						</tr>
						<tr>
							<td><span class="keyboardkey">c</span></td>
							<td>change the <em>color</em> of the chalk or of the selected magnet</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">d</span></td>
							<td><em>divide</em> the screen</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">Ctrl+Z</span></td>
							<td><em>cancel</em> the last action</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">Ctrl+Y</span> or <span class="keyboardkey">Ctrl+Shift+Z</span>
							</td>
							<td><em>redo</em> the last action</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">‚Üê</span> <span class="keyboardkey">‚Üí</span>
							</td>
							<td><em>move</em> in the board half-page by half-page</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">Shift+‚Üê</span> <span class="keyboardkey">Shift+‚Üí</span>
							</td>
							<td><em>move</em> slowly in the board</td>
						</tr>
					</table>


					<h2>Magnet keyboard shortcuts</h2>
					<table>
						<tr>
							<td><span class="keyboardkey">Del</span></td>
							<td><em>delete</em> the current magnet</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">Ctrl+x</span></td>
							<td><em>cut</em> the content inside the drawn contour into a magnet</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">Ctrl+c</span></td>
							<td><em>copy</em> the content inside the drawn contour into a magnet</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">Ctrl+Shift+x</span></td>
							<td><em>cut</em> the content inside the drawn contour into a magnet, but keep the contour
							</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">Ctrl+Shift+c</span></td>
							<td><em>copy</em> the content inside the drawn contour into a magnet, and keep the contour
							</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">m</span></td>
							<td><em>cut</em> the content inside the drawn contour into a magnet / <em>flatten</em> the
								current magnet to the
								blackboard</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">Shift+m</span></td>
							<td><em>cut</em> the content inside the drawn contour into a magnet and keep the contour
							</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">Ctrl+v</span> or <span class="keyboardkey">p</span></td>
							<td><em>print</em> the current magnet (like rubber stamping)</td>
						</tr>
					</table>

					<h2>Text Magnet keyboard shortcuts</h2>

					<table>
						<tr>
							<td><span class="keyboardkey">Enter</span></td>
							<td>create a new magnet that contains <em>text</em> (then type the text)</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">Esc</span></td>
							<td><em>exit</em> the text edition in a magnet</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">Ctrl + +</span></td>
							<td><em>increase</em> the size of the text</td>
						</tr>
						<tr>
							<td><span class="keyboardkey">Ctrl + -</span></td>
							<td><em>decrease</em> the size of the text</td>
						</tr>
					</table>

				</div>
			</div>
			<div id="Share" class="tabcontent">
				<div class="warning" id="ShareGithub">Warning: tableaunoir.github.io is
					a showcase! For sharing, please try <a
						href="http://tableaunoir.irisa.fr">http://tableaunoir.irisa.fr</a> instead.</div>


				<div>For privacy reasons, this board is <em>not stored</em> on the server.
					Save the board on your device at the end of the session if needed.</div>

				<h2>Pseudo</h2>
				<div>
					Type your pseudo:
					<input id="inputUserName"></input>
				</div>



				<div id="shareAndJoin">

					<h2>Make a shared board</h2>
					<img align="right" class="illustration" height="128px" src="img/illustrations/share.png" />
					<div>
						<div>
							The <em>password</em> makes you keep your sharer privileges. If no password is set, all
							participants
							will have full privileges.</div>




						Password (optional): <input type="password" id="password"></input>
						<button id="shareButton">Make a shared board</button>
					</div>

					<br />
					<div id="join">
						<h2>Join an existing board</h2>
						<img align="right" class="illustration" height="128px" src="img/illustrations/join.png" />
						<div>
							<div>
								In order to <em>join</em> an existing shared board, type its URL:</div>
							<input id="joinUrl" value="" />
							<button id="joinButton">Join</button>
						</div>
					</div>
				</div>

				<div hidden id="shareInfo">

					<h2>Users</h2>
					<div id="userList"></div>


					<h2>Discussion</h2>
					<button id="buttonAskQuestion" title="Ask a question because you do not understand the course">
						<img class="icon" src="img/icons/say.svg" /></button>

					<h2>Share with others</h2>
					<div>
						In order to <em>share</em> the board with your friends, give them the following URL:</div>
					<input id="shareUrl" value="" /><button id="buttonCopyShareUrl">Copy</button><span
						id="shareUrlCopied" hidden="true">Copied!</span>

					<div id="askPrivilege">
						<h2>Get privileges</h2>

						<div>Actually, you do not have any privileges, and this board is <em>protected</em>. To obtain
							them, type the correct <em>password</em>.</div>
						<input id="passwordCandidate" type="password" /><button id="buttonAskPrivilege">Ask
							Privilege</button>
					</div>


					<div hidden id="shareMode">
						<h2>Permissions</h2>

						<div>You have all the <em>privileges</em> to modify the permissions on this board.</div>

						<div>
							<input type="checkbox" id="sharePermissionWrite" name="shareMode"
								value="shareInTeacherMode">
							<label for="sharePermissionWrite">All users can write</label>
							<img hidden id="imgWritePermissionfalse" src="img/shareInTeacherMode.png" />
							<img hidden id="imgWritePermissiontrue" src="img/shareInEverybodyWritesMode.png" />
						</div>

					</div>




				</div>
			</div>
			<div id="Magnets" class="tabcontent">


				<h2>Quick magnet manipulation</h2>

				<div class="menuDiv">
					<button id="magnetsArrange"><img src="img/arrange.png" /><br />Arrange the magnets on the
						board</button>
					<button id="magnetsCreateGraph"><img src="img/graph.png" /><br />Create graph from the
						magnets</button>
				</div>

				<br />




				<h2>Using existing images</h2>
				<div class="menuDiv">
					In order to <em>use existing images as magnets</em>, drag and drop .png/.svg/.gif/.jpg files.
				</div>

				<br />

				<h2>Predefined Magnet collections</h2>

				<div class="menuDiv">
					<h3>Algorithms</h3>
					<button class="magnetCollectionButton" id="magnetGS">Gale-Shapley algorithm</button>
					<button class="magnetCollectionButton" id="magnetSorting">Sorting</button>
					<button class="magnetCollectionButton" id="magnetBTrees">B trees</button>
					<button class="magnetCollectionButton" id="magnetGraphNodes">Graph nodes</button>
					<button class="magnetCollectionButton" id="magnetGraphSimCity">SimCity graph nodes</button>
					<button class="magnetCollectionButton" id="magnetFloydsAlgorithm">Floyd's algorithm</button>
					<button class="magnetCollectionButton" id="magnetUnionFind">Union-find</button>
					<h3>Complexity theory</h3>
					<button class="magnetCollectionButton" id="magnetTilings">Tilings</button>
					<h3>Games</h3>
					<button class="magnetCollectionButton" id="magnetGo">Go</button>
				</div>

			</div>
			<div id="Help" class="tabcontent">
				<h2>How to create a magnet?</h2>
				<img src="img/help/createmagnet.gif" />
				<ul>
					<li>Draw a contour around the picture</li>
					<li>Then press <span class="keyboardkey">Ctrl+X</span></li>
				</ul>
				<h2>How to write LaTeX formulas?</h2>
				<img src="img/help/latex.gif" />
				<ul>
					<li>Create a text magnet by pressing <span class="keyboardkey">Enter</span></li>
					<li>Type your LaTeX code between between <code>$</code> and <code>$</code>, or <code>\[</code> and
						<code>\]</code>
					</li>
					<li>Press <span class="keyboardkey">Esc</span> to get the output</li>
					<li>The magnet LaTEX code can be reedited by double-clicking (except if the magnet contains several
						formulas)</li>
				</ul>
				<h2>How to draw squares, circles, horizontal/vertical lines?</h2>
				<ul>
					<li>Open the tool menu (or press <span class="keyboardkey">t</span>)</li>
					<li>Choose the shape you want to draw</li>
					<li>Press <span class="keyboardkey">Shift</span> to draw a regular shape (squares, circles,
						horizontal/vertical lines)</li>
				</ul>
			</div>
		</div>
		<div class="divMenuHide"><button onclick="Menu.hide()">X</button><span>Esc</span></div>
	</div>
	<div id="error" hidden></div>
</body>

</html>