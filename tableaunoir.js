/*! For license information please see tableaunoir.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={986:(e,t,n)=>{n.d(t,{p:()=>a});var o=n(776),r=n(941),a=function(){function e(){}return e.init=function(){var t=function(t){e.leftHanded=t,t?localStorage.setItem("leftHanded","true"):localStorage.removeItem("leftHanded"),o.w.me.updateCursor(),r.v.hide()};document.getElementById("buttonLefthanded").onclick=function(){t(!0)},document.getElementById("buttonRighthanded").onclick=function(){t(!1)}},e.getStyleCursor=function(t){return{data:e.getCursorURL(t),x:e.leftHanded?32:0,y:0}},e.getCursorURL=function(t){var n=16,o=document.createElement("canvas");o.width=32,o.height=44;var r=o.getContext("2d");e.leftHanded&&r.transform(-1,0,0,1,32,0);var a=Math.atan2(44,32),i=a+.3,s=a-.3,c={x:n*Math.cos(i),y:n*Math.sin(i)},u={x:n*Math.cos(s),y:n*Math.sin(s)},l=34*Math.cos(a),d=34*Math.sin(a);return r.beginPath(),r.moveTo(0,0),r.lineTo(c.x,c.y),r.lineTo(c.x+l,c.y+d),r.lineTo(u.x+l,u.y+d),r.lineTo(u.x,u.y),r.lineTo(0,0),r.lineWidth=1,r.strokeStyle="black",r.stroke(),r.fillStyle=t,r.fill(),r.beginPath(),r.moveTo(n*Math.cos(i),n*Math.sin(i)),r.lineTo(n*Math.cos(s),n*Math.sin(s)),r.stroke(),o.toDataURL()},e.leftHanded=localStorage.getItem("leftHanded"),e}()},878:(e,t,n)=>{n.d(t,{$:()=>a});var o=n(634),r=n(776),a=function(){function e(){}return e.generateID=function(){return"d"+Math.random()},e.init=function(){document.getElementById("questions").hidden=!0},e.askQuestion=function(){var t=prompt("Type your question/comment:");null!=t&&""!=(t=t.trim())&&o.m.execute("questionAdd",[r.w.me.userID,e.generateID(),t])},e.removeQuestion=function(e){document.getElementById(e).remove(),0==document.getElementById("questions").children.length&&(document.getElementById("questions").hidden=!0)},e.addQuestion=function(e,t,n){var a=document.createElement("div");a.classList.add("question"),a.id=t,a.innerHTML=r.w.getUserImage(e).outerHTML+n,a.onclick=function(){r.w.me.canWrite&&o.m.execute("questionRemove",[a.id])},document.getElementById("questions").appendChild(a),document.getElementById("questions").hidden=!1},e}()},435:(e,t,n)=>{n.d(t,{u:()=>s});var o=n(640),r=n(776),a=n(17),i=n(514),s=function(){function e(){}return e.clearPolygon=function(e){var t=(0,a.o_)(),n=t.getContext("2d");n.save(),n.beginPath(),n.moveTo(e[0].x,e[0].y);for(var o=0,r=e;o<r.length;o++){var i=r[o];n.lineTo(i.x,i.y)}n.clip(),n.clearRect(0,0,t.width,t.height),n.restore(),n.globalCompositeOperation="source-over"},e.removeContour=function(e){var t=(0,a.o_)().getContext("2d");t.globalCompositeOperation="destination-out",t.strokeStyle="rgba(255, 255, 255, 1)",t.lineWidth=6,t.globalAlpha=1,t.moveTo(e[0].x,e[0].y);for(var n=0,o=e;n<o.length;n++){var r=o[n];t.lineTo(r.x,r.y)}t.stroke()},e.drawLine=function(e,t,n,o,a,i,s){void 0===i&&(i=1),void 0===s&&(s=r.w.me.getCurrentColor()),e.beginPath(),e.strokeStyle=s,e.globalCompositeOperation="source-over",e.globalAlpha=.9+.1*i,e.lineWidth=1.5+3*i,e.moveTo(t,n),e.lineTo(o,a),e.stroke(),e.closePath()},e.drawDot=function(e,t,n){var o=(0,a.o_)().getContext("2d");o.beginPath(),o.fillStyle=n,o.lineWidth=2.5,o.arc(e,t,2,0,2*Math.PI),o.fill(),o.closePath()},e.clearLine=function(e,t,n,o,r){void 0===r&&(r=10);var i=(0,a.o_)().getContext("2d");i.beginPath(),i.globalCompositeOperation="destination-out",i.strokeStyle="rgba(255,255,255,1)",i.lineWidth=r,i.moveTo(e,t),i.lineTo(n,o),i.lineCap="round",i.stroke(),i.closePath()},e.divideScreen=function(){console.log("divide the screen");var t=i.A.getXMiddle();e.drawLine((0,a.o_)().getContext("2d"),t,0,t,i.A.getWindowHeight(),1,o.s.getDefaultChalkColor()),o.s.saveCurrentScreen()},e}()},243:(e,t,n)=>{n.d(t,{B:()=>o});var o=function(){function e(){}return e.show=function(e,t){console.log("error: "+e),t&&console.log(t),document.getElementById("error").hidden=!1,document.getElementById("error").innerHTML=e;var n=function(){document.getElementById("error").hidden=!0};document.getElementById("error").onclick=n,setInterval(n,5e3)},e}()},514:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(17),r=function(){function e(){}return e.getXMiddle=function(){return document.getElementById("container").scrollLeft+e.getWindowWidth()/2},e.getWindowLeft=function(){return document.getElementById("container").scrollLeft},e.getWindowRight=function(){return document.getElementById("container").scrollLeft+e.getWindowWidth()},e.init=function(){console.log("Layout.init()"),e.initWorWT()},e.isTactileDevice=function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/iPAD/i)||navigator.userAgent.match(/IPAD/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)},e.initClassic=function(){var t=(0,o.o_)();t.width<4800&&(t.width=4800),t.height<1500&&(t.height=1500),e.getWindowWidth=function(){return window.innerWidth},e.getWindowHeight=function(){return window.innerHeight},e.getZoom=function(){return 1},e._resize()},e.initS=function(){var t=(0,o.o_)(),n=(0,o.kI)();t.height=e.STANDARDHEIGHT,t.width=4800,n.height=e.STANDARDHEIGHT,n.width=4800,window.addEventListener("resize",e._resize),e.getWindowHeight=function(){return e.STANDARDHEIGHT},e.getWindowWidth=function(){return window.innerWidth*e.getZoom()},e.getZoom=function(){return e.STANDARDHEIGHT/screen.height},e._resize()},e.initW=function(){var t=(0,o.o_)(),n=(0,o.kI)();t.height=e.STANDARDHEIGHT,t.width=4800,n.height=e.STANDARDHEIGHT,n.width=4800,window.addEventListener("resize",e._resize),e.getWindowHeight=function(){return e.STANDARDHEIGHT},e.getWindowWidth=function(){return window.innerWidth*e.getZoom()},e.getZoom=function(){var t=window.innerHeight;return e.STANDARDHEIGHT/t},e._resize()},e.initWorWT=function(){var t=(0,o.o_)(),n=(0,o.kI)(),r=document.getElementById("content");t.height=e.STANDARDHEIGHT,t.width=4800,n.height=e.STANDARDHEIGHT,n.width=4800,window.addEventListener("resize",e._resize),e.getWindowHeight=function(){return e.STANDARDHEIGHT},e.getWindowWidth=function(){return window.innerWidth*e.getZoom()},e.getZoom=function(){var t,n=document.getElementById("controls"),o=window.innerHeight-(n.hidden?0:n.clientHeight);return n.clientHeight<window.innerHeight/10?(t=window.innerHeight,r.style.position="absolute"):(t=o,r.style.position="relative"),e.STANDARDHEIGHT/t},e._resize()},e._resize=function(){console.log("resize");var t=e.getZoom(),n=document.getElementById("content");n.style.width=window.innerWidth*t+"px",n.style.transform="scale("+1/e.getZoom()+")"},e.STANDARDHEIGHT=1e3,e}()},941:(e,t,n)=>{n.d(t,{v:()=>o});var o=function(){function e(){}return e.init=function(){document.getElementById("defaultOpen").click()},e.openPage=function(e,t){var n,o,r;for(o=document.getElementsByClassName("tabcontent"),n=0;n<o.length;n++)o[n].style.display="none";for(r=document.getElementsByClassName("tablink"),n=0;n<r.length;n++)r[n].classList.remove("selected");document.getElementById(e).style.display="block",t.classList.add("selected")},e.toggle=function(){e.isShown()?e.hide():e.show()},e.getMenu=function(){return document.getElementById("menu")},e.hide=function(){e.getMenu().classList.remove("menuShow"),e.getMenu().classList.add("menuHide")},e.show=function(){e.getMenu().classList.add("menuShow"),e.getMenu().classList.remove("menuHide")},e.isShown=function(){return e.getMenu().classList.contains("menuShow")},e}()},574:(e,t,n)=>{n.d(t,{i:()=>u});var o=n(434),r=n(640),a=n(776),i=n(878),s=n(941),c=n(435),u=function(){function e(){}return e.mousedown=function(e,t){a.w.users[e].mousedown(t)},e.mousemove=function(e,t){null==a.w.users[e]&&console.log("why is "+e+" not declared?"),a.w.users[e].mousemove(t)},e.mouseup=function(e,t){a.w.users[e].mouseup(t)},e.setCurrentColor=function(e,t){a.w.users[e].setCurrentColor(t)},e.switchErase=function(e){a.w.users[e].switchErase()},e.switchChalk=function(e){a.w.users[e].switchChalk()},e.setUserCanWrite=function(e,t){a.w.users[e].setCanWrite(t)},e.magnetMove=function(e,t,n){t=parseInt(t),n=parseInt(n);var o=document.getElementById(e);o.style.top=n+"px",o.style.left=t+"px"},e.magnetsClear=function(){o._.clearMagnet()},e.magnetRemove=function(e){o._.magnetRemove(e)},e.magnetChange=function(e,t){document.getElementById(e).outerHTML=t},e.boardClear=function(){r.s._clear(),r.s.save(void 0),s.v.hide()},e.questionAdd=function(e,t,n){i.$.addQuestion(e,t,n)},e.questionRemove=function(e){i.$.removeQuestion(e)},e.removeContour=function(e){c.u.removeContour(e)},e.clearPolygon=function(e){c.u.clearPolygon(e)},e.printMagnet=function(e){o._.printMagnet(document.getElementById(e))},e.cancel=function(){r.s.cancel()},e.redo=function(){r.s.redo()},e}()},945:(e,t,n)=>{n.d(t,{B:()=>o});var o=function(){function e(){}return e.addTouchEvents=function(t){t.ontouchstart=e._touchHandler,t.ontouchmove=e._touchHandler,t.ontouchend=e._touchHandler,t.ontouchcancel=e._touchHandler},e._touchHandler=function(e){var t=e.changedTouches[0],n="";switch(e.type){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;default:return}var o=document.createEvent("MouseEvent");o.initMouseEvent(n,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(o),e.preventDefault()},e}()},776:(e,t,n)=>{n.d(t,{w:()=>h});var o=n(640),r=n(17),a=n(435),i=n(434),s=n(514),c=function(){function e(){}return e.getStyleCursor=function(t){return void 0===t&&(t=20),t>128&&(t=128),{data:e.getCursorURL(t),x:t/2,y:t/2}},e.getCursorURL=function(e){var t=e/2,n=document.createElement("canvas");n.width=2*t,n.height=2*t;var r=n.getContext("2d");return r.beginPath(),r.arc(t,t,t,0,2*Math.PI),r.strokeStyle="black"==o.s.getBackgroundColor()?"white":"black",r.lineWidth=1,r.stroke(),r.fillStyle="black"==o.s.getBackgroundColor()?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",r.fill(),n.toDataURL()},e}(),u=n(634),l=function(){function e(){var e=this;this.points=[],this.lastpoints=[],this.maybeJustAPoint=!0,this._createMagnetFromImg=function(){var t=new Image,n=e._getRectangle();console.log(n),t.src=o.s.getDataURLOfRectangle(n),t.style.clipPath="polygon("+e.points.map((function(e){return e.x-n.x1+"px "+(e.y-n.y1)+"px"})).join(", ")+")",i._.addMagnet(t),t.style.left=n.x1+"px",t.style.top=n.y1+"px"}}return e.prototype.reset=function(){this.drawing=!0,this.lastpoints=this.points,this.points=[],this.maybeJustAPoint=!0},e.prototype.finish=function(){this.drawing=!1,this.removePolygon()},e.prototype.isDrawing=function(){return this.points.length>0},e.prototype.containsPolygonToMagnetize=function(){return this.points.length>0},e.prototype.drawPolygon=function(e){if(!document.getElementById("magnetCreationPolygon")){var t=document.createElementNS("http://www.w3.org/2000/svg","polyline");t.id="magnetCreationPolygon",document.getElementById("svg").appendChild(t),e.push(e[0]),t.setAttribute("points",e.map((function(e){return e.x+", "+e.y})).join(" "))}},e.prototype.removePolygon=function(){document.getElementById("magnetCreationPolygon")&&document.getElementById("svg").removeChild(document.getElementById("magnetCreationPolygon"))},e.prototype.addPoint=function(e){var t=this;this.points.push(e),this.isDot()&&this.dotInPreviousPolygon()?(this.drawPolygon(this.lastpoints),window.setTimeout((function(){t.drawing&&t.isDot()&&t.dotInPreviousPolygon()&&(t.removePolygon(),u.m.execute("removeContour",[t.points]),t.points=t.lastpoints,t.lastpoints=[],t.cutAndMagnetize())}),1e3)):this.removePolygon()},e.prototype.isDot=function(){if(!this.maybeJustAPoint)return!1;if(0==this.points.length)return!1;for(var e=0,t=this.points;e<t.length;e++){var n=t[e];if(Math.abs(n.x-this.points[0].x)>2&&Math.abs(n.y-this.points[0].y)>2)return this.maybeJustAPoint=!1,!1}return!0},e.inPolygon=function(e,t){for(var n=e.x,o=e.y,r=!1,a=0,i=t.length-1;a<t.length;i=a++){var s=t[a].x,c=t[a].y,u=t[i].x,l=t[i].y;c>o!=l>o&&n<(u-s)*(o-c)/(l-c)+s&&(r=!r)}return r},e.prototype.dotInPreviousPolygon=function(){return e.inPolygon(this.points[0],this.lastpoints)},e.prototype.erase=function(){this.isSuitable()&&(u.m.execute("removeContour",[this.points]),u.m.execute("clearPolygon",[this.points]),this.reset(),o.s.save(void 0))},e.prototype.cutAndMagnetize=function(){this.isSuitable()&&(u.m.execute("removeContour",[this.points]),this._createMagnetFromImg(),u.m.execute("clearPolygon",[this.points]),this.reset(),o.s.save(void 0))},e.prototype.copyAndMagnetize=function(){this.isSuitable()&&(u.m.execute("removeContour",[this.points]),this._createMagnetFromImg(),o.s.save(void 0))},e.prototype.isSuitable=function(){for(var e=0,t=this.points;e<t.length;e++){var n=t[e];if(Math.abs(n.x-this.points[0].x)>16&&Math.abs(n.x-this.points[0].x)>16)return!0}return!1},e.prototype._getRectangle=function(){for(var e=(0,r.o_)(),t={x1:e.width,y1:e.height,x2:0,y2:0},n=0,o=this.points;n<o.length;n++){var a=o[n];t.x1=Math.min(t.x1,a.x),t.y1=Math.min(t.y1,a.y),t.x2=Math.max(t.x2,a.x),t.y2=Math.max(t.y2,a.y)}return t},e}(),d=n(986),g=function(){function e(e){this.xInit=0,this.yInit=0,this.x=0,this.y=0,this.isDrawing=!1,this.alreadyDrawnSth=!1,this.eraseMode=!1,this.eraseModeBig=!1,this.lastDelineation=new l,this.canWrite=!0,this.eraseLineWidth=10,this.color="white",this.cursor=void 0,this.toolCursor=void 0,this.userID="0",this.cursor=document.createElement("div"),this.cursor.classList.add("cursor"),this.toolCursor=document.createElement("img"),this.toolCursor.classList.add("toolcursor"),e&&(this.cursor.hidden=!0),e||(this.toolCursor.hidden=!0),document.getElementById("cursors").appendChild(this.cursor),document.getElementById("cursors").appendChild(this.toolCursor),e&&this.setToolCursorImage(d.p.getStyleCursor(this.color))}return e.prototype.setUserID=function(e){this.userID=e},e.prototype.setCanWrite=function(e){this.canWrite=e},e.prototype.setToolCursorImage=function(e){document.getElementById("canvas").style.cursor="url("+e.data+") "+e.x+" "+e.y+", auto"},e.prototype.updateCursor=function(){this.isCurrentUser()&&this.setToolCursorImage(d.p.getStyleCursor(this.color))},e.prototype.destroy=function(){document.getElementById("cursors").removeChild(this.cursor),document.getElementById("cursors").removeChild(this.toolCursor)},e.prototype.setCurrentColor=function(e){this.color=e,this.updateCursor()},e.prototype.getCurrentColor=function(){return this.color},e.prototype.switchChalk=function(){this.eraseMode=!1,this.isCurrentUser()&&(this.updateCursor(),document.getElementById("buttonEraser").hidden=!1,document.getElementById("buttonChalk").hidden=!0)},e.prototype.isCurrentUser=function(){return this==h.me},e.prototype.switchErase=function(){this.eraseMode=!0,this.isCurrentUser()&&(r.DG.hide(),this.setToolCursorImage(c.getStyleCursor(this.eraseLineWidth)),document.getElementById("buttonEraser").hidden=!0,document.getElementById("buttonChalk").hidden=!1)},e.prototype.mousedown=function(e){i._.setInteractable(!1),document.activeElement.blur(),this.x=e.offsetX,this.y=e.offsetY,this.xInit=this.x,this.yInit=this.y,this.isDrawing=!0,this.eraseModeBig=!1,this.canWrite&&(this.eraseMode?a.u.clearLine(this.x,this.y,this.x,this.y,10):(this.lastDelineation.reset(),this.lastDelineation.addPoint({x:this.x,y:this.y}))),this.isCurrentUser()&&r.DG.hide()},e.prototype.mousemove=function(e){var t=e.offsetX,n=e.offsetY;this.isCurrentUser()||(this.cursor.style.left=t-8,this.cursor.style.top=n-8),this.canWrite&&this.isDrawing&&(r.DG.hide(),this.eraseMode?(this.eraseLineWidth=10+30*e.pressure,(Math.abs(this.x-this.xInit)>s.A.getWindowWidth()/4||Math.abs(this.y-this.yInit)>s.A.getWindowHeight()/4)&&(this.eraseModeBig=!0),this.eraseModeBig&&(this.eraseLineWidth=128),this.isCurrentUser()&&this.setToolCursorImage(c.getStyleCursor(this.eraseLineWidth)),a.u.clearLine(this.x,this.y,t,n,this.eraseLineWidth)):this.lastDelineation.isDrawing()&&(a.u.drawLine((0,r.o_)().getContext("2d"),this.x,this.y,t,n,e.pressure,this.color),this.lastDelineation.addPoint({x:t,y:n})),(Math.abs(this.x-this.xInit)>1||Math.abs(this.y-this.yInit)>1)&&(this.alreadyDrawnSth=!0)),this.eraseMode?(this.toolCursor.style.left=t-this.eraseLineWidth/2,this.toolCursor.style.top=n-this.eraseLineWidth/2):(this.toolCursor.style.left=t,this.toolCursor.style.top=n),this.x=t,this.y=n},e.prototype.mouseup=function(e){i._.setInteractable(!0),this.canWrite&&(this.lastDelineation.finish(),!this.isDrawing||this.eraseMode||this.alreadyDrawnSth||a.u.drawDot(this.x,this.y,this.color),this.isCurrentUser()&&this.eraseMode&&(this.eraseLineWidth=10,this.setToolCursorImage(c.getStyleCursor(this.eraseLineWidth))),o.s.save(this.lastDelineation._getRectangle())),this.alreadyDrawnSth=!1,this.isDrawing=!1},e}(),h=function(){function e(){}return e.init=function(){e.me=new g(!0),e.users.root=e.me,e.me.setUserID("root")},e.isSmallestUserID=function(){var t="zzzzzzzzzzzzzzzz";for(var n in e.users)n<t&&(t=n);return e.me.userID==t},e.leave=function(t){e.users[t].destroy(),delete e.users[t],e.updateGUIUsers()},e.add=function(t){e.users[t]=new g(!1),e.updateGUIUsers()},e.setMyUserID=function(t){for(var n in e.users)e.users[n]==e.me&&delete e.users[n];e.users[t]=e.me,e.me.setUserID(t),e.updateGUIUsers()},e.getUserImage=function(t){var n=new Image,o=parseInt(t.substr(1));return n.src="img/users/"+e.usersImageFileNames[o%e.usersImageFileNames.length],n.classList.add("userImage"),n},e.userIdToDom=function(t){var n=e.getUserImage(t);return n.classList.add("user"),n.title="user "+t,n},e.getNumberOfUsers=function(){var t=0;for(var n in e.users)t++;return t},e.updateGUIUsers=function(){document.getElementById("users").innerHTML="",document.getElementById("users").innerHTML=e.getUserImage("u0").outerHTML+" × "+e.getNumberOfUsers()},e.me=void 0,e.users={},e.usersImageFileNames=["1F9D1-200D-1F384.svg","1F9D9.svg","1F9DA-200D-2640-FE0F.svg","1F9DD.svg"],e}()},640:(e,t,n)=>{n.d(t,{s:()=>s});var o=n(17),r=n(634),a=n(514),i=function(){function e(){this.stack=[],this.currentIndex=-1,this.n=0}return e.prototype.clear=function(){this.stack=[],this.currentIndex=-1,this.n=0},e.prototype.push=function(e){this.currentIndex++,this.stack[this.currentIndex]=e,this.n=this.currentIndex+1},e.prototype.back=function(){return this.currentIndex<=0||this.currentIndex--,this.stack[this.currentIndex]},e.prototype.forward=function(){return this.currentIndex>=this.n-1||this.currentIndex++,this.stack[this.currentIndex]},e.prototype.top=function(){return this.stack[this.currentIndex]},e}(),s=function(){function e(){}return e.init=function(){document.getElementById("blackboardClear").onclick=function(){r.m.execute("boardClear",[])}},e.getBackgroundColor=function(){return document.getElementById("canvasBackground").style.backgroundColor},e._clear=function(){var t=(0,o.o_)();t.width=t.width,e.cancelStack.clear()},e.getDefaultChalkColor=function(){return"black"==document.getElementById("canvasBackground").style.backgroundColor?"white":"black"},e._createCanvasForRectangle=function(e){var t=document.createElement("canvas");return t.width=e.x2-e.x1,t.height=e.y2-e.y1,t.getContext("2d").drawImage((0,o.o_)(),e.x1,e.y1,e.x2-e.x1,e.y2-e.y1,0,0,e.x2-e.x1,e.y2-e.y1),t},e._toBlobOfRectangle=function(t,n){e._createCanvasForRectangle(t).toBlob(n)},e.getDataURLOfRectangle=function(t){return e._createCanvasForRectangle(t).toDataURL()},e.isCancelRedoActivated=function(){return!0},e.save=function(t){var n=(0,o.o_)();null==t&&(t={x1:0,y1:0,x2:n.width,y2:n.height}),n.toBlob((function(o){console.log("save that blob: "+o),t={x1:0,y1:0,x2:n.width,y2:n.height},e.cancelStack.push({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,blob:o})}))},e.getCurrentScreenRectangle=function(){var e=document.getElementById("container"),t=e.scrollLeft,n=e.scrollTop;return{x1:t,y1:n,x2:t+a.A.getWindowWidth(),y2:n+a.A.getWindowHeight()}},e.saveCurrentScreen=function(){e.save({x1:a.A.getWindowLeft(),y1:0,x2:a.A.getWindowRight(),y2:a.A.getWindowHeight()})},e.load=function(t){if(void 0===t&&(t=localStorage.getItem(r.m.getTableauNoirID())),null!=t){e._clear();try{var n=new Image;n.src=t,n.onload=function(){var t=(0,o.o_)();t.width=n.width,t.height=n.height,t.getContext("2d").drawImage(n,0,0),e.save(void 0),console.log("loaded!")}}catch(e){}}else e._clear(),e.save(void 0)},e.loadWithoutSave=function(t){if(void 0===t&&(t=localStorage.getItem(e.boardName)),null!=t){e._clear();var n=new Image;n.src=t,n.onload=function(){var e=(0,o.o_)();e.width=n.width,e.height=n.height,e.getContext("2d").drawImage(n,0,0),console.log("loaded!")}}else e._clear()},e.scrollQuantity=function(){var e=a.A.getWindowWidth()/2;return Math.min(e,1500)},e.left=function(){var t=(0,o.ZO)(),n=t.scrollLeft-e.scrollQuantity();n<0?e.showPageNumber(0):(t.scrollTo({top:0,left:n,behavior:"smooth"}),e.showPageNumber(n))},e.right=function(){var t=(0,o.ZO)(),n=(0,o.o_)();if(t.scrollLeft>=2e4-a.A.getWindowWidth())t.scrollLeft=2e4-a.A.getWindowWidth();else{if(t.scrollLeft>=n.width-a.A.getWindowWidth()-e.scrollQuantity()&&e._rightExtendCanvasEnable){var r=new Image;r.src=n.toDataURL(),console.log("extension: canvas width "+n.width+" to "+(t.scrollLeft+a.A.getWindowWidth())),n.width=(n.width/e.scrollQuantity()+1)*e.scrollQuantity();var i=n.getContext("2d");i.globalCompositeOperation="source-over",i.globalAlpha=1,r.onload=function(){i.drawImage(r,0,0)},e._rightExtendCanvasEnable=!1,setTimeout((function(){e._rightExtendCanvasEnable=!0}),1e3)}var s=t.scrollLeft+e.scrollQuantity();t.scrollTo({top:0,left:s,behavior:"smooth"}),e.showPageNumber(s)}},e.showPageNumber=function(t){var n=document.getElementById("pageNumber"),r=(0,o.o_)(),a=(0,o.ZO)();n.classList.remove("pageNumberHidden"),n.classList.remove("pageNumber"),setTimeout((function(){var o=Math.round(t/e.scrollQuantity()),i=Math.round(r.width/e.scrollQuantity());a.scrollLeft=o*e.scrollQuantity(),n.innerHTML=o+1+"/"+i,n.classList.add("pageNumber")}),300)},e._loadCurrentCancellationStackData=function(e,t){var n=new Image,r=(0,o.o_)(),a=r.getContext("2d");a.globalCompositeOperation="source-over",a.globalAlpha=1,n.src=URL.createObjectURL(e.blob),n.onload=function(){r.width=n.width,r.height=n.height,a.drawImage(n,t.x1,t.y1,t.x2-t.x1,t.y2-t.y1,t.x1,t.y1,t.x2-t.x1,t.y2-t.y1)}},e.cancel=function(){if(e.isCancelRedoActivated()){var t=e.cancelStack.top(),n=e.cancelStack.back();e._loadCurrentCancellationStackData(n,t)}},e.redo=function(){if(e.isCancelRedoActivated()){var t=e.cancelStack.forward();e._loadCurrentCancellationStackData(t,t)}},e.boardName="0",e.cancelStack=new i,e._rightExtendCanvasEnable=!0,e}()},434:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>MagnetManager});var _main__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17),_share__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(634),_boardManager__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(640),_Layout__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(514),_Menu__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(941),_TouchScreen__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(945),_Drawing__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(435),MagnetManager=function(){function MagnetManager(){}return MagnetManager.init=function(){document.getElementById("clearMagnet").onclick=MagnetManager.clearMagnet,document.getElementById("magnetsArrange").onclick=MagnetManager.arrange,document.getElementById("magnetsCreateGraph").onclick=MagnetManager.drawGraph},MagnetManager.getMagnetUnderCursor=function(){return MagnetManager.magnetUnderCursor},MagnetManager.hasCurrentMagnet=function(){return null==MagnetManager.currentMagnet},MagnetManager.noCurrentMagnet=function(){MagnetManager.currentMagnet=void 0},MagnetManager.getCurrentMagnetID=function(){return MagnetManager.currentMagnet.id},MagnetManager.setInteractable=function(e){for(var t=e?"auto":"none",n=MagnetManager.getMagnets(),o=0;o<n.length;o++)n[o].style.pointerEvents=t},MagnetManager.getMagnets=function(){return document.getElementsByClassName("magnet")},MagnetManager.getYTopWhenNewMagnets=function(){return 64},MagnetManager.clearMagnet=function(){MagnetManager.currentMagnet=void 0,MagnetManager.magnetX=_boardManager__WEBPACK_IMPORTED_MODULE_2__.s.getCurrentScreenRectangle().x1,MagnetManager.magnetY=MagnetManager.getYTopWhenNewMagnets();for(var e=MagnetManager.getMagnets();e.length>0;)e[0].remove();_share__WEBPACK_IMPORTED_MODULE_1__.m.sendMagnets(),_Menu__WEBPACK_IMPORTED_MODULE_4__.v.hide()},MagnetManager.addMagnet=function(e,t){void 0===t&&(t=function(e){}),MagnetManager.magnetX>_boardManager__WEBPACK_IMPORTED_MODULE_2__.s.getCurrentScreenRectangle().x2-10&&(MagnetManager.magnetX=_boardManager__WEBPACK_IMPORTED_MODULE_2__.s.getCurrentScreenRectangle().x1,MagnetManager.magnetY+=64),e.id="m"+Math.random(),e.style.left=MagnetManager.magnetX+"px",e.style.top=MagnetManager.magnetY+"px",MagnetManager.magnetX+=64,MagnetManager.currentMagnet=e,e.classList.add("magnet"),document.getElementById("magnets").appendChild(e);var n=function(){_share__WEBPACK_IMPORTED_MODULE_1__.m.isShared()&&_share__WEBPACK_IMPORTED_MODULE_1__.m.sendNewMagnet(e),t(e)};"IMG"==e.tagName?e.addEventListener("load",n):n(),MagnetManager._installMagnet(e)},MagnetManager.arrange=function(){for(var e=MagnetManager.getMagnets(),t=function(t){for(var n=e[t],o=void 0,r=void 0,a=function(e,t,n){return parseInt(e.style.left)<=t&&parseInt(e.style.top)<=n&&t<=parseInt(e.style.left)+parseInt(e.clientWidth)&&n<=parseInt(e.style.top)+parseInt(e.clientHeight)},i=function(){for(var t=1e5,n=0;n<e.length;n++)t=Math.min(t,Math.abs(o-parseInt(e[n].style.left))+Math.abs(r-parseInt(e[n].style.top)));return t},s=function(){for(var t=0;t<e.length;t++)if(a(e[t],o,r)||a(e[t],o+n.clientWidth,r+n.clientHeight))return!0;return!1},c=_boardManager__WEBPACK_IMPORTED_MODULE_2__.s.getCurrentScreenRectangle(),u=function(){var e=0;do{o=c.x1+Math.random()*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getWindowWidth(),r=c.y1+3*Math.random()*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getWindowHeight()/4,o=Math.max(o,c.x1+32),r=Math.max(r,c.y1+32),o=Math.min(o,c.x2-n.clientWidth-32),r=Math.min(r,c.y2-n.clientHeight-32),e++}while(s()&&e<50)},l=0,d=0,g=void 0,h=void 0;l<30;)u(),d<i()&&(g=o,h=r,d=i()),l++;n.style.left=g,n.style.top=h},n=0;n<e.length;n++)t(n)},MagnetManager.getNodes=function(){for(var e=MagnetManager.getMagnets(),t=[],n=0;n<e.length;n++){var o=e[n];t.push({x:parseInt(o.style.left)+o.clientWidth/2,y:parseInt(o.style.top)+o.clientHeight/2})}return console.log(t),t},MagnetManager.drawGraph=function(){MagnetManager.arrange();for(var e=MagnetManager.getNodes(),t=(0,_main__WEBPACK_IMPORTED_MODULE_0__.o_)().getContext("2d"),n=[],o=0;o<e.length;o++){n[o]=[];for(var r=0;r<e.length;r++)n[o][r]=0}var a=function(t,o){for(var r=0;r<e.length;r++)for(var a=0;a<e.length;a++)if(n[r][a]&&(i=e[t].x,s=e[t].y,c=e[o].x,u=e[o].y,l=e[r].x,d=e[r].y,g=e[a].x,void 0,m=void 0,f=void 0,0!=(_=(c-i)*((h=e[a].y)-d)-(g-l)*(u-s))&&(m=((s-u)*(g-i)+(c-i)*(h-s))/_,0<(f=((h-d)*(g-i)+(l-g)*(h-s))/_)&&f<1&&0<m&&m<1)))return!0;var i,s,c,u,l,d,g,h,_,m,f;return!1};for(o=0;o<e.length;o++)for(r=0;r<e.length;r++)Math.abs(e[o].x-e[r].x)+Math.abs(e[o].y-e[r].y)<400&&!a(o,r)&&(n[o][r]=1,_Drawing__WEBPACK_IMPORTED_MODULE_6__.u.drawLine(t,e[o].x,e[o].y,e[r].x,e[r].y));_boardManager__WEBPACK_IMPORTED_MODULE_2__.s.save(void 0)},MagnetManager.installMagnets=function(){for(var magnets=MagnetManager.getMagnets(),i=0;i<magnets.length;i++)MagnetManager._installMagnet(magnets[i]);eval("MathJax.typeset();")},MagnetManager.setZIndex=function(e){var t=function(){e.style.zIndex=1e4-e.clientWidth};"IMG"==e.tagName?e.addEventListener("load",t):t()},MagnetManager.createCopyMagnet=function(e){return e.cloneNode(!0)},MagnetManager.makeDraggableElement=function(e){var t=0,n=0,o=0,r=0;e.addEventListener("pointerdown",(function(t){if(s=!0,MagnetManager.currentMagnet=t.target,t.ctrlKey){var n=MagnetManager.createCopyMagnet(e);MagnetManager.addMagnet(n),_share__WEBPACK_IMPORTED_MODULE_1__.m.execute("magnetMove",[n.id,e.style.left,e.style.top])}function l(e,t){return e.offsetLeft>t.offsetLeft&&e.offsetTop>t.offsetTop&&e.offsetLeft+e.clientWidth<t.offsetLeft+t.clientWidth&&e.offsetTop+e.clientHeight<t.offsetTop+t.clientHeight}var d=(0,_main__WEBPACK_IMPORTED_MODULE_0__.o_)();i=d.style.cursor,(t=t||window.event).preventDefault(),o=t.clientX*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getZoom(),r=t.clientY*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getZoom(),document.onpointerup=u,document.onmouseup=u,document.onpointermove=c;var g=MagnetManager.getMagnets();a=[];for(var h=0;h<g.length;h++)g[h]!=e&&l(g[h],e)&&a.push(g[h])})),_TouchScreen__WEBPACK_IMPORTED_MODULE_5__.B.addTouchEvents(e);var a=[],i=void 0,s=!0;function c(i){if(s){MagnetManager.currentMagnet=i.target,i.target.classList.add("magnetDrag"),(0,_main__WEBPACK_IMPORTED_MODULE_0__.o_)().style.cursor="none",(i=i||window.event).preventDefault(),t=o-i.clientX*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getZoom(),n=r-i.clientY*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getZoom(),o=i.clientX*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getZoom(),r=i.clientY*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getZoom(),_share__WEBPACK_IMPORTED_MODULE_1__.m.execute("magnetMove",[e.id,e.offsetLeft-t,e.offsetTop-n]);for(var c=0,u=a;c<u.length;c++){var l=u[c];_share__WEBPACK_IMPORTED_MODULE_1__.m.execute("magnetMove",[l.id,l.offsetLeft-t,l.offsetTop-n])}}}function u(e){if(s){s=!1,console.log("close drag");for(var t=MagnetManager.getMagnets(),n=0;n<t.length;n++)t[n].classList.remove("magnetDrag");(0,_main__WEBPACK_IMPORTED_MODULE_0__.o_)().style.cursor=i,document.onmouseup=null,document.onmousemove=null}}},MagnetManager._installMagnet=function(e){e.classList.contains("magnetText")&&MagnetManager.installMagnetText(e),MagnetManager.makeDraggableElement(e),MagnetManager.setZIndex(e),e.onmouseenter=function(){MagnetManager.magnetUnderCursor=e},e.onmouseleave=function(){MagnetManager.magnetUnderCursor=void 0}},MagnetManager.addMagnetImage=function(e,t){void 0===t&&(t=function(e){});var n=new Image;return n.src="img/magnets/"+e,n.classList.add("backgroundTransparent"),MagnetManager.addMagnet(n,t),n},MagnetManager.installMagnetText=function(element){var divText=element.children[0];divText.onpointerdown=function(e){e.stopPropagation()},divText.onpointermove=function(e){e.stopPropagation()},divText.onpointerup=function(e){e.stopPropagation()},divText.onkeydown=function(e){var setFontSize=function(e){divText.style.fontSize=e+"px";for(var t=0,n=divText.children;t<n.length;t++)n[t].style.fontSize=e+"px"};if("Escape"==e.key&&(divText.blur(),eval("MathJax.typeset();"),window.getSelection().removeAllRanges()),e.ctrlKey&&"="==e.key||e.ctrlKey&&"+"==e.key){var size=parseInt(divText.style.fontSize);size++,setFontSize(size),e.preventDefault()}else if(e.ctrlKey&&"-"==e.key){var size=parseInt(divText.style.fontSize);size>6&&size--,setFontSize(size),e.preventDefault()}e.stopPropagation()},divText.onkeyup=function(e){_share__WEBPACK_IMPORTED_MODULE_1__.m.isShared()&&_share__WEBPACK_IMPORTED_MODULE_1__.m.sendMagnetChanged(element),e.stopPropagation()}},MagnetManager.addMagnetText=function(e,t){var n=document.createElement("div"),o=document.createElement("div");n.appendChild(o),o.innerHTML="type text",o.contentEditable="true",o.style.fontSize="24px",n.classList.add("magnetText"),MagnetManager.addMagnet(n),n.style.left=e+"px",n.style.top=t+"px",o.focus(),_share__WEBPACK_IMPORTED_MODULE_1__.m.isShared()&&_share__WEBPACK_IMPORTED_MODULE_1__.m.sendMagnetChanged(n),document.execCommand("selectAll",!1,null)},MagnetManager.removeCurrentMagnet=function(){null!=MagnetManager.currentMagnet&&_share__WEBPACK_IMPORTED_MODULE_1__.m.execute("magnetRemove",[MagnetManager.currentMagnet.id])},MagnetManager.magnetRemove=function(e){document.getElementById(e).remove(),MagnetManager.currentMagnet,MagnetManager.magnetUnderCursor=void 0},MagnetManager.printMagnet=function(e){if(e instanceof Image){var t=(0,_main__WEBPACK_IMPORTED_MODULE_0__.o_)().getContext("2d"),n=parseInt(e.style.left),o=parseInt(e.style.top),r=e.style.clipPath;r=r.substr("polygon(".length,r.length-"polygon(".length-")".length),t.globalCompositeOperation="source-over",t.save(),t.beginPath();for(var a=!0,i=0,s=r.split(",");i<s.length;i++){var c=s[i],u=(c=c.trim()).split(" ");a?t.moveTo(n+parseInt(u[0]),o+parseInt(u[1])):t.lineTo(n+parseInt(u[0]),o+parseInt(u[1])),a=!1}t.closePath(),t.clip(),t.drawImage(e,n,o),t.restore(),_boardManager__WEBPACK_IMPORTED_MODULE_2__.s.save({x1:n,y1:o,x2:n+e.width,y2:o+e.height})}else console.log("the current image is not an image! Could not be printed!")},MagnetManager.magnetX=0,MagnetManager.magnetY=64,MagnetManager.currentMagnet=void 0,MagnetManager.magnetUnderCursor=void 0,MagnetManager}()},17:(e,t,n)=>{n.d(t,{o_:()=>D,kI:()=>b,ZO:()=>B,DG:()=>w});var o=n(986),r=function(){function e(){this.colors=["white","yellow","orange","rgb(100, 172, 255)","Crimson","Plum","LimeGreen"],this.buttons=[],this.currentColorID=0,this.onchange=function(){}}return e.prototype._createPalette=function(){for(var e=document.getElementById("palette"),t=0;t<this.colors.length;t++)this.buttons[t]=this._createColorButton(t),e.appendChild(this.buttons[t])},e.prototype.switchBlackAndWhite=function(){this.colors[0]="white"==this.colors[0]?"black":"white",this.onchange()},e.prototype._createColorButton=function(t){var n=this,r=new Image;r.src=o.p.getCursorURL(this.colors[t]),r.classList.add("paletteColorButton");var a=-Math.PI/2+2*Math.PI*t/this.colors.length;return r.style.top=e.radius*Math.sin(a)-22+"px",r.style.left=e.radius*Math.cos(a)-16+"px",r.style.borderColor=this.colors[t],r.onmousedown=function(e){e.preventDefault()},r.onclick=function(){n.buttons[n.currentColorID].classList.remove("selected"),n.currentColorID=t,n.buttons[n.currentColorID].classList.add("selected"),n.hide(),n.onchange()},r},e.prototype.next=function(){this.buttons[this.currentColorID].classList.remove("selected"),this.currentColorID++,this.currentColorID=this.currentColorID%this.colors.length,this.buttons[this.currentColorID].classList.add("selected"),this.onchange()},e.prototype.previous=function(){this.buttons[this.currentColorID].classList.remove("selected"),this.currentColorID--,this.currentColorID<0&&(this.currentColorID=this.colors.length-1),this.buttons[this.currentColorID].classList.add("selected"),this.onchange()},e.prototype.show=function(t){var n=document.getElementById("palette");n.innerHTML="",this._createPalette(),t.y=Math.max(t.y,e.radius+16+48),t.x=Math.max(t.x,e.radius+16+48),n.style.left=t.x+"px",n.style.top=t.y+"px",n.classList.remove("PaletteHide"),n.classList.add("PaletteShow")},e.prototype.hide=function(){var e=document.getElementById("palette");e.classList.remove("PaletteShow"),e.classList.add("PaletteHide")},e.prototype.isShown=function(){return document.getElementById("palette").classList.contains("PaletteShow")},e.prototype.getCurrentColor=function(){return this.colors[this.currentColorID]},e.radius=96,e}(),a=n(634),i=n(434),s=function(){function e(){}return e.createMagnet=function(e){var t=document.createElement("div");return t.innerHTML=e,t},e.magnetsClear=function(){a.m.execute("magnetsClear",[])},e.createMagnetGS_B=function(e){var t=document.createElement("div");return t.innerHTML=e,t.classList.add("GS_B"),t},e.magnetGS=function(){e.magnetsClear(),i._.addMagnet(e.createMagnet("1")),i._.addMagnet(e.createMagnet("2")),i._.addMagnet(e.createMagnet("3")),i._.addMagnet(e.createMagnetGS_B("1")),i._.addMagnet(e.createMagnetGS_B("2")),i._.addMagnet(e.createMagnetGS_B("3"))},e.createMagnetRainbow=function(t){var n=e.createMagnet(""+t);return n.style.backgroundColor=["rgb(139, 97, 195)","rgb(115, 97, 195)","rgb(93, 105, 214)","rgb(40, 167, 226)","rgb(40, 204, 226)","rgb(40, 226, 201)","rgb(40, 226, 148)","rgb(40, 226, 102)","rgb(130, 226, 40)","rgb(170, 226, 40)","rgb(223, 226, 40)","rgb(226, 183, 40)","rgb(226, 152, 40)","rgb(226, 124, 40)","rgb(226, 77, 40)","rgb(255, 0, 0)","rgb(144, 24, 24)"][t-1],n},e.magnetSorting=function(){i._.clearMagnet();for(var t=1;t<=17;t++)i._.addMagnet(e.createMagnetRainbow(t))},e.magnetBTrees=function(){i._.clearMagnet();for(var t=1;t<=17;t++)i._.addMagnet(e.createMagnetRainbow(t));for(t=1;t<=7;t++)i._.addMagnetImage("Btreenode.png")},e.magnetGraphNodes=function(){for(var t=0,n=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O"];t<n.length;t++){var o=n[t];i._.addMagnet(e.createMagnet(o))}},e.magnetFloydsAlgorithm=function(){i._.addMagnetImage("turtlerabbit/turtle.png"),i._.addMagnetImage("turtlerabbit/rabbit.png")},e.magnetGraphSimCity=function(){for(var e=0,t=["antenne.png","commerce.png","parking.png","tour.png","batimentplat.png","foursolaire.png","residence2.png","usine.png","building.png","gare.png","residencebleu.png","chateaudeau.png","nuclearplant.png","residence.png","citerne.png","parc.png","stade.png"];e<t.length;e++){var n=t[e];i._.addMagnetImage("simCityGraph/"+n)}},e.createTiling=function(e,t,n,o){var r="http://www.w3.org/2000/svg",a=document.createElement("div"),i=document.createElementNS(r,"svg");function s(e,t){var n=document.createElementNS(r,"path");return n.setAttributeNS(null,"stroke","#333333"),n.setAttributeNS(null,"stroke-width","10"),n.setAttributeNS(null,"stroke-linejoin","round"),n.setAttributeNS(null,"d",e),n.setAttributeNS(null,"fill",t),n.setAttributeNS(null,"opacity","1"),n}return i.setAttributeNS(null,"viewBox","0 0 100 100"),i.setAttributeNS(null,"width","100"),i.setAttributeNS(null,"height","100"),i.style.display="block",i.appendChild(s("M 50 50 L 0 0 L 0 100 Z",e)),i.appendChild(s("M 50 50 L 0 0 L 100 0 Z",t)),i.appendChild(s("M 50 50 L 100 0 L 100 100 Z",n)),i.appendChild(s("M 50, 50 L 100 100 L 0 100 Z",o)),a.appendChild(i),a.style.padding="0px",a},e.magnetTilings=function(){i._.clearMagnet(),i._.addMagnet(e.createTiling("yellow","red","green","red")),i._.addMagnet(e.createTiling("green","red","green","yellow")),i._.addMagnet(e.createTiling("green","red","green","yellow")),i._.addMagnet(e.createTiling("red","red","red","red")),i._.addMagnet(e.createTiling("red","yellow","red","green")),i._.addMagnet(e.createTiling("red","yellow","yellow","yellow")),i._.addMagnet(e.createTiling("green","red","green","yellow")),i._.addMagnet(e.createTiling("green","green","red","green")),i._.addMagnet(e.createTiling("red","yellow","red","green"))},e.magnetUnionFind=function(){i._.clearMagnet(),i._.addMagnetImage("unionfind0.png")},e.magnetGo=function(){i._.clearMagnet();var e=function(e,t){for(var n=function(n){i._.addMagnetImage("go/"+e+".png",(function(e){return a.m.execute("magnetMove",[e.id,t,10+5*n])}))},o=0;o<20;o++)n(o)};e("black",20),e("white",50),i._.addMagnetImage("go/goban.png",(function(e){return a.m.execute("magnetMove",[e.id,110,20])}))},e.register=function(t){document.getElementById(t).onclick=e[t]},e.loadMagnets=function(){e.register("magnetGS"),e.register("magnetSorting"),e.register("magnetBTrees"),e.register("magnetGraphNodes"),e.register("magnetTilings"),e.register("magnetUnionFind"),e.register("magnetGraphSimCity"),e.register("magnetFloydsAlgorithm"),e.register("magnetGo")},e}(),c=n(640),u=n(776),l=n(941),d=function(){function e(){}return e.init=function(){document.getElementById("file").onchange=function(t){e.loadFile(this.files[0])},document.getElementById("save").onclick=e.save,document.getElementById("exportPng").onclick=e.exportPng,document.body.ondragover=function(e){e.preventDefault()},document.body.ondrop=function(t){if(t.preventDefault(),t.dataTransfer.items){for(var n=0;n<t.dataTransfer.items.length;n++)if("file"===t.dataTransfer.items[n].kind){var o=t.dataTransfer.items[n].getAsFile();e.loadFile(o)}}else for(n=0;n<t.dataTransfer.files.length;n++)e.loadFile(o[n])}},e.loadFile=function(t){if(t){var n=new FileReader;n.onerror=function(e){},t.name.endsWith(".tableaunoir")?(n.readAsText(t,"UTF-8"),n.onload=function(t){e.loadJSON(JSON.parse(t.target.result))}):(n.readAsDataURL(t),n.onload=function(e){var t=new Image;t.src=e.target.result,i._.addMagnet(t)}),l.v.hide()}},e.fetchImageFromFile=function(e,t){var n=new FileReader;n.onerror=function(e){},n.readAsDataURL(e),n.onload=function(e){var n=new Image;n.src=e.target.result,n.onload=function(){return t(n)}}},e.loadJSON=function(e){c.s.load(e.canvasDataURL),document.getElementById("magnets").innerHTML=e.magnets,i._.installMagnets()},e.exportPng=function(){document.getElementById("content"),alert("to be implemented. Do screenshots.")},e.save=function(){var t={magnets:document.getElementById("magnets").innerHTML,canvasDataURL:D().toDataURL()};e.download(document.getElementById("name").value+".tableaunoir",JSON.stringify(t))},e.download=function(t,n){e.downloadDataURL(t,"data:text/plain;charset=utf-8,"+encodeURIComponent(n))},e.downloadDataURL=function(e,t){var n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},e}(),g=n(514),h=n(243),_=function(){function e(){}return e.init=function(){if(g.A.isTactileDevice())try{document.getElementById("buttonCloseControls").hidden=!0;for(var t=document.querySelectorAll("#controls > span"),n=0;n<t.length;n++)t[n].hidden=!0}catch(e){h.B.show("Error in loading the toolbar. You can however use Tableaunoir.")}e.helpButtonDivide(),e.helpForButtonCloseControls()},e.helpForButtonCloseControls=function(){document.getElementById("buttonCloseControls").onmouseenter=function(){e.getToolbar().style.opacity="0.5"},document.getElementById("buttonCloseControls").onmouseleave=function(){e.getToolbar().style.opacity="1"}},e.helpButtonDivide=function(){var e=document.createElement("div");e.className="divideLineHelp",document.getElementById("buttonDivide").onmouseenter=function(){e.style.left=""+g.A.getXMiddle(),document.getElementById("board").prepend(e)},document.getElementById("buttonDivide").onmouseleave=function(){e.remove()}},e.getToolbar=function(){return document.getElementById("controls")},e.toggle=function(){var t=e.getToolbar();t.hidden=!t.hidden,g.A._resize()},e}(),m=n(878),f=function(){function e(){}return e.init=function(){e.stylesheet=document.createElement("style"),e.stylesheet.setAttribute("type","text/css"),document.body?document.body.appendChild(e.stylesheet):document.head.appendChild(e.stylesheet)},e.update=function(){var t="\n";e.rules.forEach((function(e){t+=e.selector+" {"+e.property+":"+e.value+"; }\n"})),console.log(t),e.stylesheet.innerHTML=t},e.setRule=function(t,n,o){for(var r=0,a=e.rules;r<a.length;r++){var i=a[r];if(i.selector==t&&i.property==n)return i.value=o,void e.update()}e.rules.push({selector:t,property:n,value:o}),e.update()},e.rules=[],e}(),M=function(){function e(){}return e.init=function(){document.getElementById("canvasBackground").style.backgroundColor="black",document.getElementById("whiteBoardSwitch").onclick=e.switch,document.getElementById("blackBoardSwitch").onclick=e.switch},e.switch=function(){var t=document.getElementById("canvasBackground").style.backgroundColor,n="white"==t?"black":"white";document.getElementById(n+"BoardSwitch").hidden=!0,document.getElementById(t+"BoardSwitch").hidden=!1,console.log("previous background color was "+t),console.log("switch to "+n+"board"),w.switchBlackAndWhite(),document.getElementById("canvasBackground").style.backgroundColor=n,"black"==n?(f.setRule(".magnetText div","background-color","rgba(27, 27, 27, 0.9)"),f.setRule("div.magnetText","background-color","rgba(64, 64, 64, 0.9)"),f.setRule(".magnetText div","color","white")):(f.setRule(".magnetText div","background-color","rgba(247, 247, 247, 0.9)"),f.setRule("div.magnetText","background-color","rgba(227, 227, 227, 0.9)"),f.setRule(".magnetText div","color","black")),e._invertCanvas()},e._invertCanvas=function(){for(var e=D(),t=e.getContext("2d"),n=t.getImageData(0,0,e.width,e.height),o=n.data,r=0;r<o.length;r+=4)o[r]=255-o[r],o[r+1]=255-o[r+1],o[r+2]=255-o[r+2];t.putImageData(n,0,0)},e}(),y=n(435),p=function(){function e(){}return e.init=function(){document.getElementById("buttonNoBackground").onclick=function(){e.clear(),l.v.hide()},document.getElementById("buttonMusicScore").onclick=function(){e.musicScore(),l.v.hide()},document.getElementById("inputBackground").onchange=function(){d.fetchImageFromFile(this.files[0],(function(t){e.clear();var n=b(),o=g.A.getWindowHeight(),r=t.width*o/t.height,a=(g.A.getWindowWidth()-r)/2;console.log(t),n.getContext("2d").drawImage(t,a,0,r,o)}))}},e.clear=function(){var e=b();e.getContext("2d").clearRect(0,0,e.width,e.height)},e.musicScore=function(){e.clear();var t=g.A.getWindowHeight()-32,n=b(),o=2*g.A.getWindowWidth(),r=t/2,a=t/7,i=function(e){for(var r=t/30,a=-2;a<=2;a++){var i=e+a*r;y.u.drawLine(n.getContext("2d"),0,i,o,i,1,"rgb(128, 128, 255)")}};i(r-a),i(r+a),c.s.saveCurrentScreen()},e}(),v=function(){function e(){}return e.init=function(){try{e.translate()}catch(e){h.B.show(e)}},e.getLanguage=function(){return new URL(document.location).searchParams.get("lang")},e.fetchDictionary=function(){var t=e.getLanguage();return null==t?new Promise((function(){})):fetch("src/"+t+".json").then((function(e){return e.json()}))},e.translateElement=function(t,n){if(null!=t.children)if(null==t.title&&n[t.title]&&(t.title=n[t.title]),0==t.children.length)n[t.innerHTML]&&(t.innerHTML=n[t.innerHTML]);else for(var o in t.children)e.translateElement(t.children[o],n)},e.translateFromIDs=function(e){for(var t in e)if(t.startsWith("#")){var n=document.getElementById(t.substr(1));null==n&&console.log("Element "+t+" not found. I can translate.."),n.children.length>0&&console.log("I refuse to translate because the element has some children."),n.innerHTML=e[t]}},e.translate=function(){e.fetchDictionary().then((function(t){e.translateElement(document.getElementById("controls"),t),e.translateElement(document.getElementById("menu"),t),e.translateFromIDs(t)}))},e}(),E=n(945),I=n(574);window.onload=function(){try{if(setInterval((function(){document.body.scrollLeft=0,document.body.scrollTop=0}),1e3),C)return;u.w.init(),p.init(),g.A.init(),v.init(),o.p.init(),d.init(),c.s.init(),l.v.init(),a.m.init(),_.init(),m.$.init();var e=function(){if(null==i._.getMagnetUnderCursor())w.show({x:u.w.me.x,y:u.w.me.y}),w.next();else{var e=i._.getMagnetUnderCursor();e.style.backgroundColor=function(e){for(var t=0;t<x.length;t++)if(x[t]==e)return x[(t+1)%x.length];return x[0]}(e.style.backgroundColor)}},t=function(){u.w.me.eraseMode?a.m.execute("switchChalk",[u.w.me.userID]):a.m.execute("switchErase",[u.w.me.userID])};document.getElementById("buttonMenu").onclick=l.v.toggle,document.getElementById("buttonColors").onclick=e,document.getElementById("buttonChalk").onclick=t,document.getElementById("buttonEraser").onclick=t,document.getElementById("buttonText").onclick=function(){return i._.addMagnetText(u.w.me.x,u.w.me.y)},document.getElementById("buttonDivide").onclick=y.u.divideScreen,document.getElementById("buttonLeft").onclick=c.s.left,document.getElementById("buttonRight").onclick=c.s.right,document.getElementById("buttonCancel").onclick=function(){return a.m.execute("cancel",[])},document.getElementById("buttonRedo").onclick=function(){return a.m.execute("redo",[])},document.getElementById("buttonAskQuestion").onclick=m.$.askQuestion;for(var n=document.getElementById("controls").children,r=0;r<n.length;r++)n[r]instanceof HTMLButtonElement&&(n[r].onfocus=document.activeElement.blur);M.init(),w.onchange=function(){a.m.execute("switchChalk",[u.w.me.userID]),a.m.execute("setCurrentColor",[u.w.me.userID,w.getCurrentColor()])},document.onkeydown=function(n){"Backspace"!=n.key||document.activeElement instanceof HTMLInputElement||n.preventDefault(),"Escape"!=n.key&&"F1"!=n.key||(w.isShown()?w.hide():l.v.toggle()),l.v.isShown()||(n.ctrlKey||n.shiftKey||"c"!=n.key?!n.ctrlKey&&n.shiftKey&&"C"==n.key?function(){if(null==i._.getMagnetUnderCursor())u.w.me.eraseMode=!1,u.w.me.isDrawing||w.show({x:u.w.me.x,y:u.w.me.y}),w.previous();else{var e=i._.getMagnetUnderCursor();e.style.backgroundColor=function(e){for(var t=0;t<x.length;t++)if(x[t]==e)return x[(t-1)%x.length];return x[0]}(e.style.backgroundColor)}}():"Enter"==n.key&&w.isShown()?w.hide():"ArrowLeft"==n.key&&w.isShown()?w.previous():"ArrowRight"==n.key&&w.isShown()?w.next():"Enter"==n.key?(i._.addMagnetText(u.w.me.x,u.w.me.y),n.preventDefault()):"ArrowLeft"==n.key?c.s.left():"ArrowRight"==n.key?c.s.right():"d"==n.key?y.u.divideScreen():n.ctrlKey&&n.shiftKey&&"Z"==n.key||n.ctrlKey&&"y"==n.key?(a.m.execute("redo",[]),n.preventDefault()):n.ctrlKey&&"z"==n.key?(a.m.execute("cancel",[]),n.preventDefault()):"e"==n.key?t():"h"==n.key?_.toggle():n.ctrlKey&&"x"==n.key?(w.hide(),u.w.me.lastDelineation.containsPolygonToMagnetize()&&u.w.me.lastDelineation.cutAndMagnetize()):n.ctrlKey&&"c"==n.key?(w.hide(),u.w.me.lastDelineation.containsPolygonToMagnetize()&&u.w.me.lastDelineation.copyAndMagnetize()):n.ctrlKey&&"v"==n.key?(w.hide(),a.m.execute("printMagnet",[i._.getCurrentMagnetID()])):"m"==n.key?(w.hide(),u.w.me.lastDelineation.containsPolygonToMagnetize()?u.w.me.lastDelineation.cutAndMagnetize():(a.m.execute("printMagnet",[i._.getCurrentMagnetID()]),i._.removeCurrentMagnet())):"p"==n.key?(w.hide(),a.m.execute("printMagnet",[i._.getCurrentMagnetID()])):"Delete"!=n.key&&"x"!=n.key&&"Backspace"!=n.key||(w.hide(),i._.removeCurrentMagnet(),n.preventDefault()):e())},document.getElementById("canvas").onpointerdown=function(e){e.preventDefault(),a.m.execute("mousedown",[u.w.me.userID,e])},document.getElementById("canvasBackground").onpointermove=function(e){console.log("mousemove on the background should not occur")},document.getElementById("canvas").onpointermove=function(e){e.preventDefault(),a.m.execute("mousemove",[u.w.me.userID,e])},document.getElementById("canvas").onpointerup=function(e){e.preventDefault(),a.m.execute("mouseup",[u.w.me.userID,e])},document.getElementById("canvas").onpointerleave=function(e){e.preventDefault(),a.m.execute("mouseup",[u.w.me.userID,e])},E.B.addTouchEvents(document.getElementById("canvas")),i._.init(),s.loadMagnets(),c.s.load(),C=!0}catch(e){h.B.show(e),C=!1}},window.Menu=l.v,window.ShareEvent=I.i;var w=new r,C=!1;function D(){return document.getElementById("canvas")}function b(){return document.getElementById("canvasBackground")}function B(){return document.getElementById("container")}var x=["","rgb(255, 128, 0)","rgb(0, 128, 0)","rgb(192, 0, 0)","rgb(0, 0, 255)"]},634:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>Share});var _main__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17),_magnetManager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(434),_boardManager__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(640),_UserManager__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(776),_ErrorMessage__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(243),_ShareEvent__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(574),_config_json__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(269),Share=function(){function Share(){}return Share.tryConnect=function(e){null==Share.ws&&(Share.ws=new WebSocket(_config_json__WEBPACK_IMPORTED_MODULE_6__.f.I),Share.ws.binaryType="arraybuffer",Share.ws.onerror=function(){_ErrorMessage__WEBPACK_IMPORTED_MODULE_4__.B.show("Impossible to connect to the server.")},Share.ws.onopen=e,Share.ws.onmessage=function(e){console.log("I received the message: "),Share._treatReceivedMessage(JSON.parse(e.data))},document.getElementById("buttonAskQuestion").hidden=!1)},Share.isOnGitHub=function(){return window.location.origin.indexOf("github")>=0},Share.init=function(){document.getElementById("shareButton").onclick=function(){Share.isShared()||Share.share()},document.getElementById("buttonShare").onclick=function(){Share.isShared()?Share.copyShareUrl():Share.share()},document.getElementById("joinButton").onclick=function(){window.open(window.location,"_self")};var e=document.getElementById("sharePermissionWrite");e.onclick=function(){return Share.setCanWriteForAllExceptMeAndByDefault(e.checked)},Share.isOnGitHub()||(document.getElementById("ShareGithub").hidden=!0),Share.isSharedURL()&&Share.tryConnect((function(){try{Share.id=Share.getIDInSharedURL(),null!=Share.id&&(Share.join(Share.id),document.getElementById("shareUrl").value=document.location)}catch(e){Share.ws=void 0,Share.showConnectionError()}})),document.getElementById("buttonAskPrivilege").onclick=Share.askPrivilege,document.getElementById("buttonCopyShareUrl").onclick=Share.copyShareUrl},Share.askPrivilege=function(){var e=document.getElementById("passwordCandidate").value;Share.send({type:"askprivilege",password:e})},Share.copyShareUrl=function(){var e=document.getElementById("shareUrl").value;navigator.clipboard.writeText(e).then((function(){document.getElementById("shareUrlCopied").hidden=!1}),(function(){document.getElementById("shareUrlCopied").hidden=!1}))},Share.isShared=function(){return null!=Share.id},Share.showConnectionError=function(){Share.isOnGitHub()?_ErrorMessage__WEBPACK_IMPORTED_MODULE_4__.B.show("For sharing, first go to a deployed server. Go to menu/share for more information."):_ErrorMessage__WEBPACK_IMPORTED_MODULE_4__.B.show("Impossible to connect to the server")},Share.isRoot=function(){return document.getElementById("askPrivilege").hidden},Share.share=function(){try{var e=document.getElementById("password").value;Share.tryConnect((function(){return Share.send({type:"share",password:e})})),document.getElementById("shareInfo").hidden=!1,document.getElementById("buttonShare").innerHTML=document.getElementById("sharecopytext").innerHTML,document.getElementById("join").hidden=!0,""==e?Share.setCanWriteForAllExceptMeAndByDefault(!0):Share.setCanWriteForAllExceptMeAndByDefault(!1),Share.setRoot()}catch(e){Share.ws=void 0,Share.showConnectionError()}},Share._treatReceivedMessage=function(e){switch("fullCanvas"!=e.type&&"magnets"!=e.type&&"execute"!=e.type?console.log("Server -> me: "+JSON.stringify(e)):console.log("Server -> me: "+e.type),e.type){case"id":Share._setTableauID(e.id);break;case"youruserid":_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.setMyUserID(e.userid),document.getElementById("shareAndJoin").hidden=!0,document.getElementById("shareInfo").hidden=!1,document.getElementById("buttonShare").innerHTML=document.getElementById("sharecopytext").innerHTML;break;case"user":if(console.log("existing user: ",e.userid),e.userid==_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.me.userID)throw"oops... an already existing user has the same name than me";_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.add(e.userid);break;case"root":console.log("I am root."),Share.setRoot();break;case"accessdenied":_ErrorMessage__WEBPACK_IMPORTED_MODULE_4__.B.show("Access denied");break;case"join":console.log("a new user is joining: ",e.userid),_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.add(e.userid),_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.isSmallestUserID()&&(Share.sendFullCanvas(e.userid),Share.sendMagnets(e.userid),Share.execute("setUserCanWrite",[e.userid,Share.canWriteValueByDefault]));break;case"leave":_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.leave(e.userid);break;case"fullCanvas":_boardManager__WEBPACK_IMPORTED_MODULE_2__.s.loadWithoutSave(e.data);break;case"magnets":console.log(e.magnets),document.getElementById("magnets").innerHTML=e.magnets,_magnetManager__WEBPACK_IMPORTED_MODULE_1__._.installMagnets();break;case"magnetChanged":document.getElementById(e.magnetid).outerHTML=e.data,_magnetManager__WEBPACK_IMPORTED_MODULE_1__._.installMagnets();break;case"newmagnet":console.log("new magnet:"),document.getElementById("magnets").innerHTML=document.getElementById("magnets").innerHTML+e.data,_magnetManager__WEBPACK_IMPORTED_MODULE_1__._.installMagnets();break;case"execute":_ShareEvent__WEBPACK_IMPORTED_MODULE_5__.i[e.event].apply(_ShareEvent__WEBPACK_IMPORTED_MODULE_5__.i,e.params)}},Share.setRoot=function(){document.getElementById("askPrivilege").hidden=!0,document.getElementById("shareMode").hidden=!1},Share.send=function(e){e.id=Share.id,this.ws.send(JSON.stringify(e))},Share.sendFullCanvas=function(e){Share.send({type:"fullCanvas",data:(0,_main__WEBPACK_IMPORTED_MODULE_0__.o_)().toDataURL(),to:e})},Share.sendMagnets=function(e){Share.isShared()&&(e?Share.send({type:"magnets",magnets:document.getElementById("magnets").innerHTML,to:e}):Share.send({type:"magnets",magnets:document.getElementById("magnets").innerHTML}))},Share.sendNewMagnet=function(e){console.log("new magnet sent!"),Share.send({type:"newmagnet",data:e.outerHTML})},Share.sendMagnetChanged=function(e){Share.send({type:"magnetChanged",magnetid:e.id,data:e.outerHTML})},Share.execute=function(event,params){function adapt(e){return e instanceof MouseEvent?{pressure:e.pressure,offsetX:e.offsetX,offsetY:e.offsetY}:e}eval("ShareEvent."+event).apply(void 0,params),Share.isShared()&&Share.send({type:"execute",event,params:params.map((function(e){return adapt(e)}))})},Share._setTableauID=function(e){Share.id=e;var t=document.location.href,n=t+"?id="+e;history.pushState({},null,n),document.getElementById("shareUrl").value=t.startsWith("file://")?_config_json__WEBPACK_IMPORTED_MODULE_6__.f.t+"?id="+e:n},Share.isSharedURL=function(){return null!=new URL(document.location).searchParams.get("id")},Share.getTableauNoirID=function(){return Share.isSharedURL()?Share.getIDInSharedURL():"local"},Share.getIDInSharedURL=function(){return new URL(document.location).searchParams.get("id")},Share.join=function(e){Share.send({type:"join",id:e})},Share.setCanWriteForAllExceptMeAndByDefault=function(e){for(var t in document.getElementById("imgWritePermission"+e).hidden=!1,document.getElementById("imgWritePermission"+!e).hidden=!0,document.getElementById("sharePermissionWrite").checked=e,_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.users)_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.users[t]!=_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.me&&Share.execute("setUserCanWrite",[t,e]);Share.canWriteValueByDefault=e,Share.execute("setUserCanWrite",[_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.me.userID,!0])},Share.ws=void 0,Share.id=void 0,Share.canWriteValueByDefault=!0,Share}()},269:e=>{e.exports=JSON.parse('{"f":{"I":"ws://tableaunoir.irisa.fr:8080","t":"http://tableaunoir.irisa.fr"}}')}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__(17)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ2hhbGtDdXJzb3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rpc2N1c3Npb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0RyYXdpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Vycm9yTWVzc2FnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTGF5b3V0LnRzIiwid2VicGFjazovLy8uL3NyYy9NZW51LnRzIiwid2VicGFjazovLy8uL3NyYy9TaGFyZUV2ZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9Ub3VjaFNjcmVlbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRXJhc2VyQ3Vyc29yLnRzIiwid2VicGFjazovLy8uL3NyYy9EZWxpbmVhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVXNlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVXNlck1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbmNlbFN0YWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9ib2FyZE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hZ25ldE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BhbGV0dGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL215TWFnbmV0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTG9hZFNhdmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Rvb2xiYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NTU1N0eWxlTW9kaWZpZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0JsYWNrVlNXaGl0ZUJvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9CYWNrZ3JvdW5kLnRzIiwid2VicGFjazovLy8uL3NyYy9UcmFuc2xhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcmUudHMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJpbml0IiwiY2hhbmdlIiwicGFyYW0iLCJDaGFsa0N1cnNvciIsImxlZnRIYW5kZWQiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJvbmNsaWNrIiwiZ2V0U3R5bGVDdXJzb3IiLCJjb2xvciIsImRhdGEiLCJnZXRDdXJzb3JVUkwiLCJ4IiwieSIsInNpemVIZWFkIiwiY2FudmFzIiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwiaGVpZ2h0IiwiY29udGV4dCIsImdldENvbnRleHQiLCJ0cmFuc2Zvcm0iLCJhbmdsZSIsIk1hdGgiLCJhdGFuMiIsImFuZ2xlUGx1cyIsImFuZ2xlTWludXMiLCJwMSIsImNvcyIsInNpbiIsInAyIiwibGwiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsInN0cm9rZSIsImZpbGxTdHlsZSIsImZpbGwiLCJ0b0RhdGFVUkwiLCJnZXRJdGVtIiwiZ2VuZXJhdGVJRCIsInJhbmRvbSIsImhpZGRlbiIsImFza1F1ZXN0aW9uIiwicXVlc3Rpb24iLCJwcm9tcHQiLCJ0cmltIiwiRGlzY3Vzc2lvbiIsInJlbW92ZVF1ZXN0aW9uIiwicXVlc3Rpb25JRCIsInJlbW92ZSIsImNoaWxkcmVuIiwibGVuZ3RoIiwiYWRkUXVlc3Rpb24iLCJ1c2VySUQiLCJpZHF1ZXN0aW9uIiwicXVlc3Rpb25FbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaWQiLCJpbm5lckhUTUwiLCJvdXRlckhUTUwiLCJhcHBlbmRDaGlsZCIsImNsZWFyUG9seWdvbiIsInBvaW50cyIsInNhdmUiLCJwb2ludCIsImNsaXAiLCJjbGVhclJlY3QiLCJyZXN0b3JlIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwicmVtb3ZlQ29udG91ciIsImdsb2JhbEFscGhhIiwiZHJhd0xpbmUiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInByZXNzdXJlIiwiY2xvc2VQYXRoIiwiZHJhd0RvdCIsImFyYyIsIlBJIiwiY2xlYXJMaW5lIiwibGluZUNhcCIsImRpdmlkZVNjcmVlbiIsImNvbnNvbGUiLCJsb2ciLCJEcmF3aW5nIiwic2hvdyIsIm1zZyIsIm1zZ3BsdXMiLCJoaWRlIiwic2V0SW50ZXJ2YWwiLCJnZXRYTWlkZGxlIiwic2Nyb2xsTGVmdCIsIkxheW91dCIsImdldFdpbmRvd1dpZHRoIiwiZ2V0V2luZG93TGVmdCIsImdldFdpbmRvd1JpZ2h0IiwiaW5pdFdvcldUIiwiaXNUYWN0aWxlRGV2aWNlIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWF0Y2giLCJpbml0Q2xhc3NpYyIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJnZXRXaW5kb3dIZWlnaHQiLCJpbm5lckhlaWdodCIsImdldFpvb20iLCJfcmVzaXplIiwiaW5pdFMiLCJjYW52YXNCYWNrZ3JvdW5kIiwiU1RBTkRBUkRIRUlHSFQiLCJhZGRFdmVudExpc3RlbmVyIiwic2NyZWVuIiwiaW5pdFciLCJjb250ZW50IiwiaGVpZ2h0dXNlZCIsInRvb2xiYXIiLCJjbGllbnRIZWlnaHQiLCJzdHlsZSIsInBvc2l0aW9uIiwiem9vbSIsImNvbnRlbnRFbGVtZW50IiwiY2xpY2siLCJvcGVuUGFnZSIsInBhZ2VOYW1lIiwiZWxtbnQiLCJpIiwidGFiY29udGVudCIsInRhYmxpbmtzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImRpc3BsYXkiLCJ0b2dnbGUiLCJNZW51IiwiaXNTaG93biIsImdldE1lbnUiLCJjb250YWlucyIsIm1vdXNlZG93biIsInVzZXJJZCIsImV2dCIsIm1vdXNlbW92ZSIsInVuZGVmaW5lZCIsIm1vdXNldXAiLCJzZXRDdXJyZW50Q29sb3IiLCJzd2l0Y2hFcmFzZSIsInN3aXRjaENoYWxrIiwic2V0VXNlckNhbldyaXRlIiwiYm9vbCIsInNldENhbldyaXRlIiwibWFnbmV0TW92ZSIsImlkTWFnbmV0IiwicGFyc2VJbnQiLCJlbCIsInRvcCIsImxlZnQiLCJtYWduZXRzQ2xlYXIiLCJtYWduZXRSZW1vdmUiLCJtYWduZXRDaGFuZ2UiLCJib2FyZENsZWFyIiwicXVlc3Rpb25BZGQiLCJxdWVzdGlvblJlbW92ZSIsInByaW50TWFnbmV0IiwibWFnbmV0SUQiLCJjYW5jZWwiLCJyZWRvIiwiYWRkVG91Y2hFdmVudHMiLCJlbGVtZW50Iiwib250b3VjaHN0YXJ0IiwiVG91Y2hTY3JlZW4iLCJfdG91Y2hIYW5kbGVyIiwib250b3VjaG1vdmUiLCJvbnRvdWNoZW5kIiwib250b3VjaGNhbmNlbCIsImV2ZW50IiwiZmlyc3QiLCJjaGFuZ2VkVG91Y2hlcyIsInR5cGUiLCJzaW11bGF0ZWRFdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdE1vdXNlRXZlbnQiLCJzY3JlZW5YIiwic2NyZWVuWSIsImNsaWVudFgiLCJjbGllbnRZIiwidGFyZ2V0IiwiZGlzcGF0Y2hFdmVudCIsInByZXZlbnREZWZhdWx0Iiwic2l6ZSIsIkVyYXNlckN1cnNvciIsInJhZGl1cyIsImN0eCIsImxhc3Rwb2ludHMiLCJtYXliZUp1c3RBUG9pbnQiLCJfY3JlYXRlTWFnbmV0RnJvbUltZyIsImltZyIsIkltYWdlIiwicmVjdGFuZ2xlIiwiX2dldFJlY3RhbmdsZSIsInNyYyIsImNsaXBQYXRoIiwibWFwIiwiam9pbiIsInJlc2V0IiwidGhpcyIsImRyYXdpbmciLCJmaW5pc2giLCJyZW1vdmVQb2x5Z29uIiwiaXNEcmF3aW5nIiwiY29udGFpbnNQb2x5Z29uVG9NYWduZXRpemUiLCJkcmF3UG9seWdvbiIsInBvbHlsaW5lIiwiY3JlYXRlRWxlbWVudE5TIiwicHVzaCIsInNldEF0dHJpYnV0ZSIsInAiLCJyZW1vdmVDaGlsZCIsImFkZFBvaW50IiwiaXNEb3QiLCJkb3RJblByZXZpb3VzUG9seWdvbiIsInNldFRpbWVvdXQiLCJjdXRBbmRNYWduZXRpemUiLCJhYnMiLCJpblBvbHlnb24iLCJwb2x5Z29uIiwiaW5zaWRlIiwiaiIsInhpIiwieWkiLCJ4aiIsInlqIiwiRGVsaW5lYXRpb24iLCJlcmFzZSIsImlzU3VpdGFibGUiLCJjb3B5QW5kTWFnbmV0aXplIiwiciIsIm1pbiIsIm1heCIsImlzQ3VycmVudFVzZXIiLCJ4SW5pdCIsInlJbml0IiwiYWxyZWFkeURyYXduU3RoIiwiZXJhc2VNb2RlIiwiZXJhc2VNb2RlQmlnIiwibGFzdERlbGluZWF0aW9uIiwiY2FuV3JpdGUiLCJlcmFzZUxpbmVXaWR0aCIsImN1cnNvciIsInRvb2xDdXJzb3IiLCJzZXRUb29sQ3Vyc29ySW1hZ2UiLCJzZXRVc2VySUQiLCJzcmNJbWFnZSIsInVwZGF0ZUN1cnNvciIsImRlc3Ryb3kiLCJnZXRDdXJyZW50Q29sb3IiLCJVc2VyTWFuYWdlciIsIm1lIiwiYWN0aXZlRWxlbWVudCIsImJsdXIiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImV2dFgiLCJldnRZIiwiVXNlciIsInVzZXJzIiwiaXNTbWFsbGVzdFVzZXJJRCIsIm1pbmtleSIsImtleSIsImxlYXZlIiwidXNlcmlkIiwidXBkYXRlR1VJVXNlcnMiLCJzZXRNeVVzZXJJRCIsImdldFVzZXJJbWFnZSIsInN1YnN0ciIsInVzZXJzSW1hZ2VGaWxlTmFtZXMiLCJ1c2VySWRUb0RvbSIsInVzZXJET00iLCJ0aXRsZSIsImdldE51bWJlck9mVXNlcnMiLCJzdGFjayIsImN1cnJlbnRJbmRleCIsIm4iLCJjbGVhciIsImJhY2siLCJmb3J3YXJkIiwiZ2V0QmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwiX2NsZWFyIiwiQm9hcmRNYW5hZ2VyIiwiY2FuY2VsU3RhY2siLCJnZXREZWZhdWx0Q2hhbGtDb2xvciIsIl9jcmVhdGVDYW52YXNGb3JSZWN0YW5nbGUiLCJDIiwiZHJhd0ltYWdlIiwiX3RvQmxvYk9mUmVjdGFuZ2xlIiwiY2FsbGJhY2siLCJ0b0Jsb2IiLCJnZXREYXRhVVJMT2ZSZWN0YW5nbGUiLCJpc0NhbmNlbFJlZG9BY3RpdmF0ZWQiLCJibG9iIiwiZ2V0Q3VycmVudFNjcmVlblJlY3RhbmdsZSIsImNvbnRhaW5lciIsInNjcm9sbFRvcCIsInNhdmVDdXJyZW50U2NyZWVuIiwibG9hZCIsIm9ubG9hZCIsImUiLCJsb2FkV2l0aG91dFNhdmUiLCJib2FyZE5hbWUiLCJzY3JvbGxRdWFudGl0eSIsIm1pZGRsZSIsInNob3dQYWdlTnVtYmVyIiwic2Nyb2xsVG8iLCJiZWhhdmlvciIsInJpZ2h0IiwiX3JpZ2h0RXh0ZW5kQ2FudmFzRW5hYmxlIiwicGFnZU51bWJlciIsInJvdW5kIiwidG90YWwiLCJfbG9hZEN1cnJlbnRDYW5jZWxsYXRpb25TdGFja0RhdGEiLCJpbWFnZSIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInByZXZpb3VzIiwiYyIsIkNhbmNlbFN0YWNrIiwiTWFnbmV0TWFuYWdlciIsImNsZWFyTWFnbmV0IiwiYXJyYW5nZSIsImRyYXdHcmFwaCIsImdldE1hZ25ldFVuZGVyQ3Vyc29yIiwibWFnbmV0VW5kZXJDdXJzb3IiLCJoYXNDdXJyZW50TWFnbmV0IiwiY3VycmVudE1hZ25ldCIsIm5vQ3VycmVudE1hZ25ldCIsImdldEN1cnJlbnRNYWduZXRJRCIsInNldEludGVyYWN0YWJsZSIsImIiLCJ2IiwibWFnbmV0cyIsImdldE1hZ25ldHMiLCJwb2ludGVyRXZlbnRzIiwiZ2V0WVRvcFdoZW5OZXdNYWduZXRzIiwibWFnbmV0WCIsIm1hZ25ldFkiLCJhZGRNYWduZXQiLCJmIiwidGFnTmFtZSIsIl9pbnN0YWxsTWFnbmV0IiwibWFnbmV0IiwibWFnbmV0Q29udGFpbnMiLCJtIiwiY2xpZW50V2lkdGgiLCJkaXN0IiwibWluRGlzdCIsInJlY3QiLCJnZW5lcmF0ZVBvc2l0aW9uIiwiY291bnQiLCJiZXN0RGlzdCIsImJlc3RYIiwiYmVzdFkiLCJnZXROb2RlcyIsIm5vZGVzIiwiZWRnZXMiLCJpc0Nyb3NzaW5nIiwiayIsImwiLCJhIiwiZCIsInEiLCJkZXQiLCJnYW1tYSIsImxhbWJkYSIsInMiLCJpbnN0YWxsTWFnbmV0cyIsImV2YWwiLCJzZXRaSW5kZXgiLCJ6SW5kZXgiLCJjcmVhdGVDb3B5TWFnbmV0IiwiY2xvbmVOb2RlIiwibWFrZURyYWdnYWJsZUVsZW1lbnQiLCJkeCIsImR5IiwiZHJhZyIsImN0cmxLZXkiLCJjb3B5IiwiYmlnRWxlbWVudCIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJjYW52YXNDdXJzb3JTdG9yZSIsIm9ucG9pbnRlcnVwIiwiY2xvc2VEcmFnRWxlbWVudCIsIm9ubW91c2V1cCIsIm9ucG9pbnRlcm1vdmUiLCJlbGVtZW50RHJhZyIsIm90aGVyRWxlbWVudHNUb01vdmUiLCJvbm1vdXNlbW92ZSIsImluc3RhbGxNYWduZXRUZXh0Iiwib25tb3VzZWVudGVyIiwib25tb3VzZWxlYXZlIiwiYWRkTWFnbmV0SW1hZ2UiLCJmaWxlbmFtZSIsImRpdlRleHQiLCJvbnBvaW50ZXJkb3duIiwic3RvcFByb3BhZ2F0aW9uIiwib25rZXlkb3duIiwic2V0Rm9udFNpemUiLCJmb250U2l6ZSIsImdldFNlbGVjdGlvbiIsInJlbW92ZUFsbFJhbmdlcyIsIm9ua2V5dXAiLCJhZGRNYWduZXRUZXh0IiwiZGl2IiwiY29udGVudEVkaXRhYmxlIiwiZm9jdXMiLCJleGVjQ29tbWFuZCIsInJlbW92ZUN1cnJlbnRNYWduZXQiLCJiZWdpbiIsInNwbGl0IiwicG9pbnRTdHIiLCJjb2xvcnMiLCJidXR0b25zIiwiY3VycmVudENvbG9ySUQiLCJvbmNoYW5nZSIsIl9jcmVhdGVQYWxldHRlIiwiX2NyZWF0ZUNvbG9yQnV0dG9uIiwic3dpdGNoQmxhY2tBbmRXaGl0ZSIsIlBhbGV0dGUiLCJib3JkZXJDb2xvciIsIm9ubW91c2Vkb3duIiwibmV4dCIsImNyZWF0ZU1hZ25ldCIsIm8iLCJjcmVhdGVNYWduZXRHU19CIiwibWFnbmV0R1MiLCJNeU1hZ25ldHMiLCJjcmVhdGVNYWduZXRSYWluYm93IiwibWFnbmV0U29ydGluZyIsIm1hZ25ldEJUcmVlcyIsIm1hZ25ldEdyYXBoTm9kZXMiLCJtYWduZXRGbG95ZHNBbGdvcml0aG0iLCJtYWduZXRHcmFwaFNpbUNpdHkiLCJjcmVhdGVUaWxpbmciLCJsZWZ0Q29sb3IiLCJ1cENvbG9yIiwicmlnaHRDb2xvciIsImJvdHRvbUNvbG9yIiwieG1sbnMiLCJzdmdFbGVtIiwiY3JlYXRlUGF0aCIsInBhdGhEZXNjIiwicGF0aCIsInNldEF0dHJpYnV0ZU5TIiwicGFkZGluZyIsIm1hZ25ldFRpbGluZ3MiLCJtYWduZXRVbmlvbkZpbmQiLCJtYWduZXRHbyIsInJlZ2lzdGVyIiwibWFnbmV0U2V0TmFtZSIsImxvYWRNYWduZXRzIiwiTG9hZFNhdmUiLCJsb2FkRmlsZSIsImZpbGVzIiwiZXhwb3J0UG5nIiwiYm9keSIsIm9uZHJhZ292ZXIiLCJvbmRyb3AiLCJkYXRhVHJhbnNmZXIiLCJpdGVtcyIsImtpbmQiLCJmaWxlIiwiZ2V0QXNGaWxlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9uZXJyb3IiLCJuYW1lIiwiZW5kc1dpdGgiLCJyZWFkQXNUZXh0IiwibG9hZEpTT04iLCJKU09OIiwicGFyc2UiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiZmV0Y2hJbWFnZUZyb21GaWxlIiwib2JqIiwiY2FudmFzRGF0YVVSTCIsImFsZXJ0IiwiZ2V0Q2FudmFzIiwiZG93bmxvYWQiLCJ2YWx1ZSIsInN0cmluZ2lmeSIsInRleHQiLCJkb3dubG9hZERhdGFVUkwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJkYXRhVVJMIiwic3BhbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiRXJyb3JNZXNzYWdlIiwiVG9vbGJhciIsImhlbHBCdXR0b25EaXZpZGUiLCJoZWxwRm9yQnV0dG9uQ2xvc2VDb250cm9scyIsImdldFRvb2xiYXIiLCJvcGFjaXR5IiwiZGl2aWRlTGluZSIsImNsYXNzTmFtZSIsInByZXBlbmQiLCJjb250cm9scyIsIkNTU1N0eWxlTW9kaWZpZXIiLCJzdHlsZXNoZWV0IiwiaGVhZCIsInVwZGF0ZSIsImNzcyIsInJ1bGVzIiwiZm9yRWFjaCIsInNlbGVjdG9yIiwicHJvcGVydHkiLCJzZXRSdWxlIiwicnVsZSIsIkJsYWNrVlNXaGl0ZUJvYXJkIiwic3dpdGNoIiwicHJldmlvdXNCYWNrZ3JvdW5kQ29sb3IiLCJwYWxldHRlIiwiX2ludmVydENhbnZhcyIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsInB1dEltYWdlRGF0YSIsIkJhY2tncm91bmQiLCJtdXNpY1Njb3JlIiwiZ2V0Q2FudmFzQmFja2dyb3VuZCIsInNjYWxlV2lkdGgiLCJmdWxsSGVpZ2h0IiwieW1pZGRsZVNjcmVlbiIsInlzaGlmdCIsImRyYXdTdGFmZiIsInltaWRkbGUiLCJzcGFjZSIsIlRyYW5zbGF0aW9uIiwidHJhbnNsYXRlIiwiZ2V0TGFuZ3VhZ2UiLCJsb2NhdGlvbiIsInNlYXJjaFBhcmFtcyIsImdldCIsImZldGNoRGljdGlvbmFyeSIsImxhbmd1YWdlIiwiUHJvbWlzZSIsImZldGNoIiwidGhlbiIsInR4dCIsImpzb24iLCJ0cmFuc2xhdGVFbGVtZW50IiwiZGljdCIsInRyYW5zbGF0ZUZyb21JRHMiLCJzdGFydHNXaXRoIiwibG9hZGVkIiwibWFnbmV0Q29sb3JzIiwibmV4dEJhY2tncm91bmRDb2xvciIsIkhUTUxCdXR0b25FbGVtZW50Iiwib25mb2N1cyIsIkhUTUxJbnB1dEVsZW1lbnQiLCJzaGlmdEtleSIsIm9ucG9pbnRlcmxlYXZlIiwiU2hhcmVFdmVudCIsImdldENvbnRhaW5lciIsInRyeUNvbm5lY3QiLCJTaGFyZSIsIndzIiwiV2ViU29ja2V0IiwiYmluYXJ5VHlwZSIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsIl90cmVhdFJlY2VpdmVkTWVzc2FnZSIsImlzT25HaXRIdWIiLCJvcmlnaW4iLCJpbmRleE9mIiwiaXNTaGFyZWQiLCJzaGFyZSIsImNvcHlTaGFyZVVybCIsIm9wZW4iLCJjaGVja2JveFNoYXJlUGVybWlzc2lvbldyaXRlIiwic2V0Q2FuV3JpdGVGb3JBbGxFeGNlcHRNZUFuZEJ5RGVmYXVsdCIsImNoZWNrZWQiLCJpc1NoYXJlZFVSTCIsImdldElESW5TaGFyZWRVUkwiLCJzaG93Q29ubmVjdGlvbkVycm9yIiwiYXNrUHJpdmlsZWdlIiwicGFzc3dvcmRDYW5kaWRhdGUiLCJzZW5kIiwicGFzc3dvcmQiLCJzaGFyZWxpbmsiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJpc1Jvb3QiLCJzZXRSb290IiwiX3NldFRhYmxlYXVJRCIsInNlbmRGdWxsQ2FudmFzIiwic2VuZE1hZ25ldHMiLCJleGVjdXRlIiwiY2FuV3JpdGVWYWx1ZUJ5RGVmYXVsdCIsIm1hZ25ldGlkIiwicGFyYW1zIiwidG8iLCJzZW5kTmV3TWFnbmV0Iiwic2VuZE1hZ25ldENoYW5nZWQiLCJhZGFwdCIsIk1vdXNlRXZlbnQiLCJ1cmwiLCJocmVmIiwibmV3VXJsIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImdldFRhYmxlYXVOb2lySUQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIl0sIm1hcHBpbmdzIjoiO2lHQUdBLDJCQXFGQSxPQTVFVyxFQUFBQSxLQUFQLFdBQ0ksSUFBTUMsRUFBUyxTQUFDQyxHQUNaQyxFQUFZQyxXQUFhRixFQUNwQkEsRUFHREcsYUFBYUMsUUFBUSxhQUFjLFFBRm5DRCxhQUFhRSxXQUFXLGNBRzVCLHNCQUNBLFlBR0pDLFNBQVNDLGVBQWUsb0JBQW9CQyxRQUFVLFdBQVFULEdBQU8sSUFDckVPLFNBQVNDLGVBQWUscUJBQXFCQyxRQUFVLFdBQVFULEdBQU8sS0FTbkUsRUFBQVUsZUFBUCxTQUFzQkMsR0FDbEIsTUFBTyxDQUFFQyxLQUFNVixFQUFZVyxhQUFhRixHQUFRRyxFQUFHWixFQUFZQyxXQUFhLEdBQUssRUFB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QnZhLEVBQ2hCLE1BQUFyRixRQUFhcUYsRUFDYixNQUFBdWMsd0JBQXlCLEVBeWFqQyxNQTVhQSxJLGlIQ1ZJYyx5QkFBMkIsR0FHL0IsU0FBU0Msb0JBQW9CQyxHQUU1QixHQUFHRix5QkFBeUJFLEdBQzNCLE9BQU9GLHlCQUF5QkUsR0FBVUMsUUFHM0MsSUFBSUMsRUFBU0oseUJBQXlCRSxHQUFZLENBR2pEQyxRQUFTLElBT1YsT0FIQUUsb0JBQW9CSCxHQUFVRSxFQUFRQSxFQUFPRCxRQUFTRixxQkFHL0NHLEVBQU9ELFFDbkJmRixvQkFBb0JwUCxFQUFJLENBQUNzUCxFQUFTRyxLQUNqQyxJQUFJLElBQUk5VixLQUFPOFYsRUFDWEwsb0JBQW9CcEwsRUFBRXlMLEVBQVk5VixLQUFTeVYsb0JBQW9CcEwsRUFBRXNMLEVBQVMzVixJQUM1RStWLE9BQU9DLGVBQWVMLEVBQVMzVixFQUFLLENBQUVpVyxZQUFZLEVBQU0vRSxJQUFLNEUsRUFBVzlWLE1DSjNFeVYsb0JBQW9CcEwsRUFBSSxDQUFDb0QsRUFBS3lJLElBQVNILE9BQU9JLFVBQVVDLGVBQWVDLEtBQUs1SSxFQUFLeUksR0NHakZULG9CQUFvQixLIiwiZmlsZSI6InRhYmxlYXVub2lyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlck1hbmFnZXIgfSBmcm9tICcuL1VzZXJNYW5hZ2VyJztcbmltcG9ydCB7IE1lbnUgfSBmcm9tICcuL01lbnUnO1xuXG5leHBvcnQgY2xhc3MgQ2hhbGtDdXJzb3Ige1xuXG4gICAgLyoqIHVuZGVmaW5lZCBmb3IgcmlnaHQtaGFuZGVkLCBcInRydWVcIiBmb3IgbGVmdC1oYW5kZWQgKi9cbiAgICBzdGF0aWMgbGVmdEhhbmRlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibGVmdEhhbmRlZFwiKTtcblxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIGFkZHMgY2xpY2tzIG9uIGJ1dHRvbnMgaW4gdGhlIG1lbnUgZm9yIGxlZnQtIGFuZCByaWdodC1oYW5kZWQgb3B0aW9uc1xuICAgICAqL1xuICAgIHN0YXRpYyBpbml0KCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjaGFuZ2UgPSAocGFyYW0pID0+IHtcbiAgICAgICAgICAgIENoYWxrQ3Vyc29yLmxlZnRIYW5kZWQgPSBwYXJhbTtcbiAgICAgICAgICAgIGlmICghcGFyYW0pXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJsZWZ0SGFuZGVkXCIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibGVmdEhhbmRlZFwiLCBcInRydWVcIik7XG4gICAgICAgICAgICBVc2VyTWFuYWdlci5tZS51cGRhdGVDdXJzb3IoKTtcbiAgICAgICAgICAgIE1lbnUuaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25MZWZ0aGFuZGVkXCIpLm9uY2xpY2sgPSAoKSA9PiB7IGNoYW5nZSh0cnVlKTsgfVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvblJpZ2h0aGFuZGVkXCIpLm9uY2xpY2sgPSAoKSA9PiB7IGNoYW5nZShmYWxzZSk7IH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gY29sb3JcbiAgICAgKiBAcmV0dXJucyB0aGUgLnN0eWxlLmN1cnNvciBvZiB0aGUgY2FudmFzIGlmIHlvdSB3YW50IHRvIGhhdmUgYSBjdXJzb3IgdGhhdCBsb29rcyBsaWtlIGEgY2hhbGsgd2l0aCB0aGUgY29sb3IgY29sb3IuXG4gICAgICogVGhlIGN1cnNvciBpcyBhbiBvYmpldCB7ZGF0YTogZGF0YW9maW1hZ2UsIHg6IHBvc2l0aW9uIHdoZXJlIHRvIGNsaWNrLCB5OiBwb3NpdGlvbiB3aGVyZSB0byBjbGlja31cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0U3R5bGVDdXJzb3IoY29sb3IpOiB7ZGF0YSwgeCwgeX0ge1xuICAgICAgICByZXR1cm4geyBkYXRhOiBDaGFsa0N1cnNvci5nZXRDdXJzb3JVUkwoY29sb3IpLCB4OiBDaGFsa0N1cnNvci5sZWZ0SGFuZGVkID8gMzIgOiAwLCB5OiAwIH07XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gY29sb3JcbiAgICAgKiBAcmV0dXJucyB0aGUgaW1hZ2UgaW5mb3JtYXRpb24gb2YgdGhlIGNoYWxrIG9mIGEgc3BlY2lmaWMgY29sb3JcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0Q3Vyc29yVVJMKGNvbG9yKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3Qgc2l6ZVggPSAzMjtcbiAgICAgICAgY29uc3Qgc2l6ZVkgPSA0NDtcbiAgICAgICAgY29uc3QgYW5nbGVPcGVuaW5nID0gMC4zO1xuICAgICAgICBjb25zdCBzaXplSGVhZCA9IDE2O1xuICAgICAgICBjb25zdCBsZW5ndGggPSAzNDtcblxuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY2FudmFzLndpZHRoID0gc2l6ZVg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBzaXplWTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICAgICAgaWYgKENoYWxrQ3Vyc29yLmxlZnRIYW5kZWQpIC8vdHJhbnNmb3JtYXRpb24gb2YgdGhlIGNoYWxrIHBpY3R1cmUgZm9yIGxlZnQtaGFuZGVkXG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zZm9ybSgtMSwgMCwgMCwgMSwgc2l6ZVgsIDApO1xuXG4gICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihzaXplWSwgc2l6ZVgpO1xuXG4gICAgICAgIGNvbnN0IGFuZ2xlUGx1cyA9IGFuZ2xlICsgYW5nbGVPcGVuaW5nO1xuICAgICAgICBjb25zdCBhbmdsZU1pbnVzID0gYW5nbGUgLSBhbmdsZU9wZW5pbmc7XG5cbiAgICAgICAgY29uc3QgcDEgPSB7IHg6IHNpemVIZWFkICogTWF0aC5jb3MoYW5nbGVQbHVzKSwgeTogc2l6ZUhlYWQgKiBNYXRoLnNpbihhbmdsZVBsdXMpIH07XG4gICAgICAgIGNvbnN0IHAyID0geyB4OiBzaXplSGVhZCAqIE1hdGguY29zKGFuZ2xlTWludXMpLCB5OiBzaXplSGVhZCAqIE1hdGguc2luKGFuZ2xlTWludXMpIH07XG4gICAgICAgIGNvbnN0IGxsID0geyB4OiBsZW5ndGggKiBNYXRoLmNvcyhhbmdsZSksIHk6IGxlbmd0aCAqIE1hdGguc2luKGFuZ2xlKSB9O1xuXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKDAsIDApO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhwMS54LCBwMS55KTtcbiAgICAgICAgY29udGV4dC5saW5lVG8ocDEueCArIGxsLngsIHAxLnkgKyBsbC55KTtcbiAgICAgICAgY29udGV4dC5saW5lVG8ocDIueCArIGxsLngsIHAyLnkgKyBsbC55KTtcbiAgICAgICAgY29udGV4dC5saW5lVG8ocDIueCwgcDIueSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKDAsIDApO1xuXG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMTtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG5cbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8oc2l6ZUhlYWQgKiBNYXRoLmNvcyhhbmdsZVBsdXMpLCBzaXplSGVhZCAqIE1hdGguc2luKGFuZ2xlUGx1cykpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhzaXplSGVhZCAqIE1hdGguY29zKGFuZ2xlTWludXMpLCBzaXplSGVhZCAqIE1hdGguc2luKGFuZ2xlTWludXMpKTtcbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcblxuICAgICAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNoYXJlIH0gZnJvbSBcIi4vc2hhcmVcIjtcbmltcG9ydCB7IFVzZXJNYW5hZ2VyIH0gZnJvbSAnLi9Vc2VyTWFuYWdlcic7XG5cbi8qKlxuICogRGlzY3Vzc2lvbiAoc3R1ZGVudHMgdGhhdCBjYW4gYXNrIHF1ZXN0aW9ucywgbWFrZSBjb21tZW50cylcbiAqIFRoZSBtZXNzYWdlIGFwcGVhcnMgYXQgdGhlIGJvdHRvbSBvZiB0aGUgcGFnZVxuICovXG5leHBvcnQgY2xhc3MgRGlzY3Vzc2lvbiB7XG5cbiAgICAvKipcbiAgICAgKiBnZW5lcmF0ZSBhbiBJRCBmb3IgYSBtZXNzYWdlXG4gICAgICovXG4gICAgc3RhdGljIGdlbmVyYXRlSUQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiZFwiICsgTWF0aC5yYW5kb20oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpbml0aWFsaXphdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBpbml0KCk6IHZvaWQge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInF1ZXN0aW9uc1wiKS5oaWRkZW4gPSB0cnVlO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gc2hvdyBhIGRpYWxvZyBib3ggd2hlcmUgdGhlIHVzZXIgY2FuIGFzayBhIHF1ZXN0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGFza1F1ZXN0aW9uKCk6IHZvaWQge1xuICAgICAgICBsZXQgcXVlc3Rpb24gPSBwcm9tcHQoXCJUeXBlIHlvdXIgcXVlc3Rpb24vY29tbWVudDpcIik7XG5cbiAgICAgICAgaWYgKHF1ZXN0aW9uID09IG51bGwpIC8vaWYgY2FuY2VsXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgcXVlc3Rpb24gPSBxdWVzdGlvbi50cmltKCk7XG5cbiAgICAgICAgaWYgKHF1ZXN0aW9uID09IFwiXCIpIC8vaWYgdGhlIG1lc3NhZ2UgaXMgZW1wdHlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBTaGFyZS5leGVjdXRlKFwicXVlc3Rpb25BZGRcIiwgW1VzZXJNYW5hZ2VyLm1lLnVzZXJJRCwgRGlzY3Vzc2lvbi5nZW5lcmF0ZUlEKCksIHF1ZXN0aW9uXSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBxdWVzdGlvbklEXG4gICAgICogQGRlc2NycHRpb24gcmVtb3ZlcyB0aGUgcXVlc3Rpb24gb2YgSUQgcXVlc3Rpb25JRFxuICAgICAqL1xuICAgIHN0YXRpYyByZW1vdmVRdWVzdGlvbihxdWVzdGlvbklEOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocXVlc3Rpb25JRCkucmVtb3ZlKCk7XG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInF1ZXN0aW9uc1wiKS5jaGlsZHJlbi5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVlc3Rpb25zXCIpLmhpZGRlbiA9IHRydWU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB1c2VySURcbiAgICAgKiBAcGFyYW0gaWRxdWVzdGlvblxuICAgICAqIEBwYXJhbSBxdWVzdGlvblxuICAgICAqIEBkZXNjcmlwdGlvbiBhZGQgYSBxdWVzdGlvbiBpbiB0aGUgcGlwZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgYWRkUXVlc3Rpb24odXNlcklEOiBzdHJpbmcsIGlkcXVlc3Rpb246IHN0cmluZywgcXVlc3Rpb246IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCBxdWVzdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBxdWVzdGlvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInF1ZXN0aW9uXCIpO1xuICAgICAgICBxdWVzdGlvbkVsZW1lbnQuaWQgPSBpZHF1ZXN0aW9uO1xuICAgICAgICBxdWVzdGlvbkVsZW1lbnQuaW5uZXJIVE1MID0gVXNlck1hbmFnZXIuZ2V0VXNlckltYWdlKHVzZXJJRCkub3V0ZXJIVE1MICsgcXVlc3Rpb247XG4gICAgICAgIHF1ZXN0aW9uRWxlbWVudC5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKFVzZXJNYW5hZ2VyLm1lLmNhbldyaXRlKSB7IC8vb25seSB1c2VycyB0aGF0IGNhbiB3cml0ZSBjYW4gcmVtb3ZlIHF1ZXN0aW9uc1xuICAgICAgICAgICAgICAgIFNoYXJlLmV4ZWN1dGUoXCJxdWVzdGlvblJlbW92ZVwiLCBbcXVlc3Rpb25FbGVtZW50LmlkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJxdWVzdGlvbnNcIikuYXBwZW5kQ2hpbGQocXVlc3Rpb25FbGVtZW50KTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJxdWVzdGlvbnNcIikuaGlkZGVuID0gZmFsc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQm9hcmRNYW5hZ2VyIH0gZnJvbSAnLi9ib2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgVXNlck1hbmFnZXIgfSBmcm9tICcuL1VzZXJNYW5hZ2VyJztcbmltcG9ydCB7IGdldENhbnZhcyB9IGZyb20gJy4vbWFpbic7XG5pbXBvcnQgeyBMYXlvdXQgfSBmcm9tICcuL0xheW91dCc7XG5cbmV4cG9ydCBjbGFzcyBEcmF3aW5nIHtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHBvaW50c1xuICAgICAqIEBkZXNjcmlwdGlvbiBjbGVhciAoZXJhc2UpIHRoZSBpbnNpZGUgb2YgdGhlIHBvbHlnb25cbiAgICAgKi9cbiAgICBzdGF0aWMgY2xlYXJQb2x5Z29uKHBvaW50cykge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBnZXRDYW52YXMoKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyhwb2ludHNbMF0ueCwgcG9pbnRzWzBdLnkpO1xuICAgICAgICBmb3IgKGxldCBwb2ludCBvZiBwb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvaW50LngsIHBvaW50LnkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuY2xpcCgpO1xuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1vdmVyXCI7XG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBwb2ludHMgXG4gICAgICogQGRlc2NyaXB0aW9uIGVyYXNlIHRoZSBjb250b3VyIG9mIHRoZSBwb2x5Z29uXG4gICAgICovXG4gICAgc3RhdGljIHJlbW92ZUNvbnRvdXIocG9pbnRzKSB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcImRlc3RpbmF0aW9uLW91dFwiO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCI7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gNjtcbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IDEuMDtcblxuICAgICAgICBjb250ZXh0Lm1vdmVUbyhwb2ludHNbMF0ueCwgcG9pbnRzWzBdLnkpO1xuICAgICAgICBmb3IgKGxldCBwb2ludCBvZiBwb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvaW50LngsIHBvaW50LnkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuXG5cblxuICAgIHN0YXRpYyBkcmF3TGluZShjb250ZXh0LCB4MSwgeTEsIHgyLCB5MiwgcHJlc3N1cmUgPSAxLjAsIGNvbG9yID0gVXNlck1hbmFnZXIubWUuZ2V0Q3VycmVudENvbG9yKCkpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwcmVzc3VyZSlcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLW92ZXJcIjtcbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IDAuOSArIDAuMSAqIHByZXNzdXJlO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDEuNSArIDMgKiBwcmVzc3VyZTtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8oeDEsIHkxKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcbiAgICAgICAgLypjb250ZXh0Lm1vdmVUbyhNYXRoLnJvdW5kKHgxKSwgTWF0aC5yb3VuZCh5MSkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhNYXRoLnJvdW5kKHgyKSwgTWF0aC5yb3VuZCh5MikpOyovXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgZHJhd0RvdCh4LCB5LCBjb2xvcikge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gZ2V0Q2FudmFzKCkuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDIuNTtcbiAgICAgICAgY29udGV4dC5hcmMoeCwgeSwgMiwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBjbGVhckxpbmUoeDEsIHkxLCB4MiwgeTIsIGxpbmVXaWR0aCA9IDEwKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBnZXRDYW52YXMoKS5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIC8vY29udGV4dC5zdHJva2VTdHlsZSA9IEJBQ0tHUk9VTkRfQ09MT1I7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJkZXN0aW5hdGlvbi1vdXRcIjtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwicmdiYSgyNTUsMjU1LDI1NSwxKVwiO1xuXG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gbGluZVdpZHRoO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyh4MSwgeTEpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyh4MiwgeTIpO1xuICAgICAgICBjb250ZXh0LmxpbmVDYXAgPSBcInJvdW5kXCI7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgfVxuXG5cblxuICAgIHN0YXRpYyBkaXZpZGVTY3JlZW4oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGl2aWRlIHRoZSBzY3JlZW5cIilcbiAgICAgICAgbGV0IHggPSBMYXlvdXQuZ2V0WE1pZGRsZSgpO1xuICAgICAgICBEcmF3aW5nLmRyYXdMaW5lKGdldENhbnZhcygpLmdldENvbnRleHQoXCIyZFwiKSwgeCwgMCwgeCwgTGF5b3V0LmdldFdpbmRvd0hlaWdodCgpLCAxLCBCb2FyZE1hbmFnZXIuZ2V0RGVmYXVsdENoYWxrQ29sb3IoKSk7XG4gICAgICAgIEJvYXJkTWFuYWdlci5zYXZlQ3VycmVudFNjcmVlbigpO1xuICAgIH1cblxufVxuIiwiZXhwb3J0IGNsYXNzIEVycm9yTWVzc2FnZSB7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBtc2dcbiAgICAgKiBAcGFyYW0gbXNncGx1c1xuICAgICAqIEBkZXNjcmlwdGlvbiBzaG93IGEgbWVzc2FnZSBlcnJvci4gVGhlIG1lc3NhZ2UgbXNnIGlzIHNob3duLiBtc2dwbHVzIGlzIHNob3duIGluIHRoZSBjb25zb2xlLlxuICAgICAqL1xuICAgIHN0YXRpYyBzaG93KG1zZywgbXNncGx1cz8pIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJlcnJvcjogXCIgKyBtc2cpO1xuICAgICAgICBpZiAobXNncGx1cykgY29uc29sZS5sb2cobXNncGx1cyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JcIikuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JcIikuaW5uZXJIVE1MID0gbXNnO1xuXG4gICAgICAgIGNvbnN0IGhpZGUgPSAoKSA9PiB7IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JcIikuaGlkZGVuID0gdHJ1ZSB9O1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yXCIpLm9uY2xpY2sgPSBoaWRlO1xuICAgICAgICBzZXRJbnRlcnZhbChoaWRlLCA1MDAwKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRDYW52YXMsIGdldENhbnZhc0JhY2tncm91bmQgfSBmcm9tICcuL21haW4nO1xuXG5leHBvcnQgY2xhc3MgTGF5b3V0IHtcbiAgICBzdGF0aWMgZ2V0WE1pZGRsZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuc2Nyb2xsTGVmdCArIExheW91dC5nZXRXaW5kb3dXaWR0aCgpIC8gMjtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBnZXRXaW5kb3dMZWZ0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zY3JvbGxMZWZ0O1xuICAgIH1cblxuXG4gICAgc3RhdGljIGdldFdpbmRvd1JpZ2h0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zY3JvbGxMZWZ0ICsgTGF5b3V0LmdldFdpbmRvd1dpZHRoKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIFNUQU5EQVJESEVJR0hUID0gMTAwMDtcblxuICAgIHN0YXRpYyBnZXRXaW5kb3dXaWR0aDogKCkgPT4gbnVtYmVyO1xuICAgIHN0YXRpYyBnZXRXaW5kb3dIZWlnaHQ6ICgpID0+IG51bWJlcjtcbiAgICBzdGF0aWMgZ2V0Wm9vbTogKCkgPT4gbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogaW5pdGlhbGl6YXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgaW5pdCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJMYXlvdXQuaW5pdCgpXCIpXG4gICAgICAgIExheW91dC5pbml0V29yV1QoKTtcblxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgZGV2aWNlIGlzIGEgc21hcnRwaG9uZSBvciB0YWJsZXQsIGZhbHNlIGlmIGl0IGlzIGEgY29tcHV0ZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgaXNUYWN0aWxlRGV2aWNlKCkge1xuICAgICAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZC9pKVxuICAgICAgICAgICAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvd2ViT1MvaSlcbiAgICAgICAgICAgIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQaG9uZS9pKVxuICAgICAgICAgICAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBhZC9pKVxuICAgICAgICAgICAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaXBhZC9pKVxuICAgICAgICAgICAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBBRC9pKVxuICAgICAgICAgICAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvSVBBRC9pKVxuICAgICAgICAgICAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBvZC9pKVxuICAgICAgICAgICAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQmxhY2tCZXJyeS9pKVxuICAgICAgICAgICAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvV2luZG93cyBQaG9uZS9pKTtcbiAgICB9XG5cblxuXG4gICAgc3RhdGljIGluaXRDbGFzc2ljKCkge1xuICAgICAgICBjb25zdCBXSURUSCA9IDQ4MDA7XG4gICAgICAgIGNvbnN0IEhFSUdIVCA9IDE1MDA7XG5cbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG5cbiAgICAgICAgaWYgKGNhbnZhcy53aWR0aCA8IFdJRFRIKVxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gV0lEVEg7XG5cbiAgICAgICAgaWYgKGNhbnZhcy5oZWlnaHQgPCBIRUlHSFQpXG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gSEVJR0hUO1xuXG4gICAgICAgIExheW91dC5nZXRXaW5kb3dXaWR0aCA9ICgpID0+IHsgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoOyB9O1xuICAgICAgICBMYXlvdXQuZ2V0V2luZG93SGVpZ2h0ID0gKCkgPT4geyByZXR1cm4gd2luZG93LmlubmVySGVpZ2h0OyB9O1xuICAgICAgICBMYXlvdXQuZ2V0Wm9vbSA9ICgpID0+IHsgcmV0dXJuIDE7IH1cbiAgICAgICAgTGF5b3V0Ll9yZXNpemUoKTtcblxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogcmVzY2FsaW5nIHdpdGggdGhlIHNjcmVlblxuICAgICAqL1xuICAgIHN0YXRpYyBpbml0UygpIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG4gICAgICAgIGNvbnN0IGNhbnZhc0JhY2tncm91bmQgPSBnZXRDYW52YXNCYWNrZ3JvdW5kKCk7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBMYXlvdXQuU1RBTkRBUkRIRUlHSFQ7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDQ4MDA7XG5cbiAgICAgICAgY2FudmFzQmFja2dyb3VuZC5oZWlnaHQgPSBMYXlvdXQuU1RBTkRBUkRIRUlHSFQ7XG4gICAgICAgIGNhbnZhc0JhY2tncm91bmQud2lkdGggPSA0ODAwO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIExheW91dC5fcmVzaXplKTtcblxuICAgICAgICBMYXlvdXQuZ2V0V2luZG93SGVpZ2h0ID0gKCkgPT4geyByZXR1cm4gTGF5b3V0LlNUQU5EQVJESEVJR0hUOyB9O1xuICAgICAgICBMYXlvdXQuZ2V0V2luZG93V2lkdGggPSAoKSA9PiB7IHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCAqIExheW91dC5nZXRab29tKCk7IH07XG4gICAgICAgIExheW91dC5nZXRab29tID0gKCkgPT4geyByZXR1cm4gTGF5b3V0LlNUQU5EQVJESEVJR0hUIC8gc2NyZWVuLmhlaWdodDsgfTtcbiAgICAgICAgTGF5b3V0Ll9yZXNpemUoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAgICAqIHJlc2NhbGluZyB3aXRoIHRoZSBzY3JlZW5cbiAgICAgICAgKi9cbiAgICBzdGF0aWMgaW5pdFcoKSB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuICAgICAgICBjb25zdCBjYW52YXNCYWNrZ3JvdW5kID0gZ2V0Q2FudmFzQmFja2dyb3VuZCgpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTGF5b3V0LlNUQU5EQVJESEVJR0hUO1xuICAgICAgICBjYW52YXMud2lkdGggPSA0ODAwO1xuXG4gICAgICAgIGNhbnZhc0JhY2tncm91bmQuaGVpZ2h0ID0gTGF5b3V0LlNUQU5EQVJESEVJR0hUO1xuICAgICAgICBjYW52YXNCYWNrZ3JvdW5kLndpZHRoID0gNDgwMDtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBMYXlvdXQuX3Jlc2l6ZSk7XG5cbiAgICAgICAgTGF5b3V0LmdldFdpbmRvd0hlaWdodCA9ICgpID0+IHsgcmV0dXJuIExheW91dC5TVEFOREFSREhFSUdIVDsgfTtcbiAgICAgICAgTGF5b3V0LmdldFdpbmRvd1dpZHRoID0gKCkgPT4geyByZXR1cm4gd2luZG93LmlubmVyV2lkdGggKiBMYXlvdXQuZ2V0Wm9vbSgpOyB9O1xuICAgICAgICBMYXlvdXQuZ2V0Wm9vbSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlubmVySGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgICAgICAgICByZXR1cm4gTGF5b3V0LlNUQU5EQVJESEVJR0hUIC8gaW5uZXJIZWlnaHQ7XG4gICAgICAgIH07XG4gICAgICAgIExheW91dC5fcmVzaXplKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiByZXNjYWxpbmcgd2l0aCB0aGUgc2NyZWVuXG4gICAgICovXG4gICAgc3RhdGljIGluaXRXb3JXVCgpIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG4gICAgICAgIGNvbnN0IGNhbnZhc0JhY2tncm91bmQgPSBnZXRDYW52YXNCYWNrZ3JvdW5kKCk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBMYXlvdXQuU1RBTkRBUkRIRUlHSFQ7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDQ4MDA7XG5cbiAgICAgICAgY2FudmFzQmFja2dyb3VuZC5oZWlnaHQgPSBMYXlvdXQuU1RBTkRBUkRIRUlHSFQ7XG4gICAgICAgIGNhbnZhc0JhY2tncm91bmQud2lkdGggPSA0ODAwO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIExheW91dC5fcmVzaXplKTtcblxuICAgICAgICBMYXlvdXQuZ2V0V2luZG93SGVpZ2h0ID0gKCkgPT4geyByZXR1cm4gTGF5b3V0LlNUQU5EQVJESEVJR0hUOyB9O1xuICAgICAgICBMYXlvdXQuZ2V0V2luZG93V2lkdGggPSAoKSA9PiB7IHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCAqIExheW91dC5nZXRab29tKCk7IH07XG4gICAgICAgIExheW91dC5nZXRab29tID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9vbGJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udHJvbHNcIik7XG4gICAgICAgICAgICBjb25zdCBpbm5lckhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtICh0b29sYmFyLmhpZGRlbiA/IDAgOiB0b29sYmFyLmNsaWVudEhlaWdodCk7XG4gICAgICAgICAgICBsZXQgaGVpZ2h0dXNlZDtcbiAgICAgICAgICAgIGlmICh0b29sYmFyLmNsaWVudEhlaWdodCA8IHdpbmRvdy5pbm5lckhlaWdodCAvIDEwKSB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0dXNlZCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgICAgICAgICBjb250ZW50LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhlaWdodHVzZWQgPSBpbm5lckhlaWdodDtcbiAgICAgICAgICAgICAgICBjb250ZW50LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuXG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgcmV0dXJuIExheW91dC5TVEFOREFSREhFSUdIVCAvIGhlaWdodHVzZWQ7XG4gICAgICAgIH07XG4gICAgICAgIExheW91dC5fcmVzaXplKCk7XG4gICAgfVxuXG5cblxuICAgIHN0YXRpYyBfcmVzaXplKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcInJlc2l6ZVwiKTtcbiAgICAgICAgLy9pZih3aW5kb3cuaW5uZXJIZWlnaHQgPiBMYXlvdXQuU1RBTkRBUkRIRUlHSFQpXG4gICAgICAgIGNvbnN0IHpvb20gPSBMYXlvdXQuZ2V0Wm9vbSgpO1xuICAgICAgICBjb25zdCBjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbiAgICAgICAgY29udGVudEVsZW1lbnQuc3R5bGUud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCAqIHpvb20gKyBcInB4XCI7XG4gICAgICAgIGNvbnRlbnRFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgkezEgLyBMYXlvdXQuZ2V0Wm9vbSgpfSlgO1xuICAgICAgICAvL0JvYXJkTWFuYWdlci5yZXNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG5cbiAgICB9XG5cblxufVxuIiwiZXhwb3J0IGNsYXNzIE1lbnUge1xuXG4gICAgLyoqXG4gICAgICogaW5pdGlhbGl6YXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgaW5pdCgpIHtcbiAgICAgICAgLy8gR2V0IHRoZSBlbGVtZW50IHdpdGggaWQ9XCJkZWZhdWx0T3BlblwiIGFuZCBjbGljayBvbiBpdFxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlZmF1bHRPcGVuXCIpLmNsaWNrKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlTmFtZVxuICAgICAqIEBwYXJhbSBlbG1udFxuICAgICAqIEBkZXNjcmlwdGlvbiBvcGVuIHRoZSBwYWdlIG9mIG5hbWUgcGFnZU5hbWVcbiAgICAgKi9cbiAgICBzdGF0aWMgb3BlblBhZ2UocGFnZU5hbWU6IHN0cmluZywgZWxtbnQpIHtcbiAgICAgICAgLy8gSGlkZSBhbGwgZWxlbWVudHMgd2l0aCBjbGFzcz1cInRhYmNvbnRlbnRcIiBieSBkZWZhdWx0ICovXG4gICAgICAgIGxldCBpLCB0YWJjb250ZW50LCB0YWJsaW5rcztcbiAgICAgICAgdGFiY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0YWJjb250ZW50XCIpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGFiY29udGVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGFiY29udGVudFtpXS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgdGhlIGJhY2tncm91bmQgY29sb3Igb2YgYWxsIHRhYmxpbmtzL2J1dHRvbnNcbiAgICAgICAgdGFibGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGFibGlua1wiKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRhYmxpbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0YWJsaW5rc1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaG93IHRoZSBzcGVjaWZpYyB0YWIgY29udGVudFxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYWdlTmFtZSkuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgICAgICAvLyBBZGQgdGhlIHNwZWNpZmljIGNvbG9yIHRvIHRoZSBidXR0b24gdXNlZCB0byBvcGVuIHRoZSB0YWIgY29udGVudFxuICAgICAgICBlbG1udC5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIGlmIHRoZSBtZW51IGlzIHNob3duLCBoaWRlIGl0LiBJZiBpdCBpcyBpbnZpc2libGUsIHNob3cgaXQhXG4gICAgICovXG4gICAgc3RhdGljIHRvZ2dsZSgpIHtcbiAgICAgICAgaWYgKE1lbnUuaXNTaG93bigpKSB7XG4gICAgICAgICAgICBNZW51LmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE1lbnUuc2hvdygpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHRoZSBtZW51IHBhbmVsXG4gICAgICovXG4gICAgc3RhdGljIGdldE1lbnUoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lbnVcIik7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gaGlkZVxuICAgICAqL1xuICAgIHN0YXRpYyBoaWRlKCkge1xuICAgICAgICBNZW51LmdldE1lbnUoKS5jbGFzc0xpc3QucmVtb3ZlKFwibWVudVNob3dcIik7XG4gICAgICAgIE1lbnUuZ2V0TWVudSgpLmNsYXNzTGlzdC5hZGQoXCJtZW51SGlkZVwiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIEBkZXNjcmlwdGlvbiBzaG93XG4gICAgKi9cbiAgICBzdGF0aWMgc2hvdygpIHtcbiAgICAgICAgTWVudS5nZXRNZW51KCkuY2xhc3NMaXN0LmFkZChcIm1lbnVTaG93XCIpO1xuICAgICAgICBNZW51LmdldE1lbnUoKS5jbGFzc0xpc3QucmVtb3ZlKFwibWVudUhpZGVcIik7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmZiB0aGUgbWVudSBpcyBzaG93blxuICAgICAqL1xuICAgIHN0YXRpYyBpc1Nob3duKCkgeyByZXR1cm4gTWVudS5nZXRNZW51KCkuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWVudVNob3dcIik7IH1cbn1cbiIsImltcG9ydCB7IE1hZ25ldE1hbmFnZXIgfSBmcm9tICcuL21hZ25ldE1hbmFnZXInO1xuaW1wb3J0IHsgQm9hcmRNYW5hZ2VyIH0gZnJvbSAnLi9ib2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgVXNlck1hbmFnZXIgfSBmcm9tICcuL1VzZXJNYW5hZ2VyJztcbmltcG9ydCB7IERpc2N1c3Npb24gfSBmcm9tICcuL0Rpc2N1c3Npb24nO1xuaW1wb3J0IHsgTWVudSB9IGZyb20gJy4vTWVudSc7XG5pbXBvcnQgeyBEcmF3aW5nIH0gZnJvbSAnLi9EcmF3aW5nJztcblxuLyoqXG4gKiB0aGlzIGNsYXNzIGNvbnRhaW5zIHRoZSBldmVudHMgdGhhdCBhcmUgc2hhcmVkIHdpdGggb3RoZXIgdXNlcnMgY29ubmVjdGVkIHRvIHRoZSBzYW1lIHRhYmxlYXVub2lyXG4gKiAqL1xuXG5leHBvcnQgY2xhc3MgU2hhcmVFdmVudCB7XG4gICAgc3RhdGljIG1vdXNlZG93bih1c2VySWQsIGV2dCkge1xuICAgICAgICBVc2VyTWFuYWdlci51c2Vyc1t1c2VySWRdLm1vdXNlZG93bihldnQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtb3VzZW1vdmUodXNlcklkLCBldnQpIHtcbiAgICAgICAgaWYgKFVzZXJNYW5hZ2VyLnVzZXJzW3VzZXJJZF0gPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ3aHkgaXMgXCIgKyB1c2VySWQgKyBcIiBub3QgZGVjbGFyZWQ/XCIpO1xuICAgICAgICBVc2VyTWFuYWdlci51c2Vyc1t1c2VySWRdLm1vdXNlbW92ZShldnQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtb3VzZXVwKHVzZXJJZCwgZXZ0KSB7XG4gICAgICAgIFVzZXJNYW5hZ2VyLnVzZXJzW3VzZXJJZF0ubW91c2V1cChldnQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXRDdXJyZW50Q29sb3IodXNlcklkLCBjb2xvcikge1xuICAgICAgICBVc2VyTWFuYWdlci51c2Vyc1t1c2VySWRdLnNldEN1cnJlbnRDb2xvcihjb2xvcik7XG4gICAgfVxuXG4gICAgc3RhdGljIHN3aXRjaEVyYXNlKHVzZXJJZCkge1xuICAgICAgICBVc2VyTWFuYWdlci51c2Vyc1t1c2VySWRdLnN3aXRjaEVyYXNlKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHN3aXRjaENoYWxrKHVzZXJJZCkge1xuICAgICAgICBVc2VyTWFuYWdlci51c2Vyc1t1c2VySWRdLnN3aXRjaENoYWxrKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldFVzZXJDYW5Xcml0ZSh1c2VySWQsIGJvb2wpIHtcbiAgICAgICAgVXNlck1hbmFnZXIudXNlcnNbdXNlcklkXS5zZXRDYW5Xcml0ZShib29sKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbWFnbmV0TW92ZShpZE1hZ25ldCwgeCwgeSkge1xuICAgICAgICB4ID0gcGFyc2VJbnQoeCk7XG4gICAgICAgIHkgPSBwYXJzZUludCh5KTtcbiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZE1hZ25ldCk7XG4gICAgICAgIGVsLnN0eWxlLnRvcCA9IHkgKyBcInB4XCI7XG4gICAgICAgIGVsLnN0eWxlLmxlZnQgPSB4ICsgXCJweFwiO1xuICAgIH1cblxuXG4gICAgc3RhdGljIG1hZ25ldHNDbGVhcigpIHtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5jbGVhck1hZ25ldCgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtYWduZXRSZW1vdmUoaWRNYWduZXQpIHtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5tYWduZXRSZW1vdmUoaWRNYWduZXQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtYWduZXRDaGFuZ2UoaWRNYWduZXQsIG91dGVySFRNTCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZE1hZ25ldCkub3V0ZXJIVE1MID0gb3V0ZXJIVE1MO1xuICAgIH1cblxuICAgIHN0YXRpYyBib2FyZENsZWFyKCkge1xuICAgICAgICBCb2FyZE1hbmFnZXIuX2NsZWFyKCk7XG4gICAgICAgIEJvYXJkTWFuYWdlci5zYXZlKHVuZGVmaW5lZCk7XG4gICAgICAgIE1lbnUuaGlkZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBxdWVzdGlvbkFkZCh1c2VySUQsIGlkcXVlc3Rpb24sIHF1ZXN0aW9uKSB7XG4gICAgICAgIERpc2N1c3Npb24uYWRkUXVlc3Rpb24odXNlcklELCBpZHF1ZXN0aW9uLCBxdWVzdGlvbik7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgcXVlc3Rpb25SZW1vdmUocXVlc3Rpb25JRCkge1xuICAgICAgICBEaXNjdXNzaW9uLnJlbW92ZVF1ZXN0aW9uKHF1ZXN0aW9uSUQpO1xuICAgIH1cblxuICAgIHN0YXRpYyByZW1vdmVDb250b3VyKHBvaW50cykge1xuICAgICAgICBEcmF3aW5nLnJlbW92ZUNvbnRvdXIocG9pbnRzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY2xlYXJQb2x5Z29uKHBvaW50cykge1xuICAgICAgICBEcmF3aW5nLmNsZWFyUG9seWdvbihwb2ludHMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwcmludE1hZ25ldChtYWduZXRJRCkge1xuICAgICAgICBNYWduZXRNYW5hZ2VyLnByaW50TWFnbmV0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1hZ25ldElEKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNhbmNlbCgpIHtcbiAgICAgICAgQm9hcmRNYW5hZ2VyLmNhbmNlbCgpO1xuICAgIH1cblxuICAgIHN0YXRpYyByZWRvKCkge1xuICAgICAgICBCb2FyZE1hbmFnZXIucmVkbygpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogVGhpcyBjbGFzcyBtYWtlcyB0aGF0IHRoZSBtb3VzZSBldmVudCBhbHNvIHdvcmtzIGZvciB0b3VjaCBzY3JlZW5zLlxuICoqL1xuZXhwb3J0IGNsYXNzIFRvdWNoU2NyZWVuIHtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBlbGVtZW50XG4gICAgICogQGRlc2NyaXB0aW9uIG1ha2VzIHRoYXQgYW4gZWxlbWVudCB3aXRoIGV2ZW50cyBmb3IgdGhlIG1vdXNlLCBjYW4gYmUgdXNlZCBvbiBhIHNtYXJ0cGhvbmUvdGFibGV0XG4gICAgICovXG4gICAgc3RhdGljIGFkZFRvdWNoRXZlbnRzKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5vbnRvdWNoc3RhcnQgPSBUb3VjaFNjcmVlbi5fdG91Y2hIYW5kbGVyO1xuICAgICAgICBlbGVtZW50Lm9udG91Y2htb3ZlID0gVG91Y2hTY3JlZW4uX3RvdWNoSGFuZGxlcjtcbiAgICAgICAgZWxlbWVudC5vbnRvdWNoZW5kID0gVG91Y2hTY3JlZW4uX3RvdWNoSGFuZGxlcjtcbiAgICAgICAgZWxlbWVudC5vbnRvdWNoY2FuY2VsID0gVG91Y2hTY3JlZW4uX3RvdWNoSGFuZGxlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGV2ZW50XG4gICAgICogQGRlc2NyaXB0aW9uIGNvbnZlcnRzIGEgdG91Y2ggZXZlbnQgaW50byBhIG1vdXNlIGV2ZW50XG4gICAgICovXG4gICAgc3RhdGljIF90b3VjaEhhbmRsZXIoZXZlbnQpIHtcbiAgICAgICAgbGV0IHRvdWNoZXMgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyxcbiAgICAgICAgICAgIGZpcnN0ID0gdG91Y2hlc1swXSxcbiAgICAgICAgICAgIHR5cGUgPSBcIlwiO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0b3VjaHN0YXJ0XCI6IHR5cGUgPSBcIm1vdXNlZG93blwiOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0b3VjaG1vdmVcIjogdHlwZSA9IFwibW91c2Vtb3ZlXCI7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInRvdWNoZW5kXCI6IHR5cGUgPSBcIm1vdXNldXBcIjsgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbml0TW91c2VFdmVudCh0eXBlLCBjYW5CdWJibGUsIGNhbmNlbGFibGUsIHZpZXcsIGNsaWNrQ291bnQsXG4gICAgICAgIC8vICAgICAgICAgICAgICAgIHNjcmVlblgsIHNjcmVlblksIGNsaWVudFgsIGNsaWVudFksIGN0cmxLZXksXG4gICAgICAgIC8vICAgICAgICAgICAgICAgIGFsdEtleSwgc2hpZnRLZXksIG1ldGFLZXksIGJ1dHRvbiwgcmVsYXRlZFRhcmdldCk7XG5cbiAgICAgICAgY29uc3Qgc2ltdWxhdGVkRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRcIik7XG4gICAgICAgIHNpbXVsYXRlZEV2ZW50LmluaXRNb3VzZUV2ZW50KHR5cGUsIHRydWUsIHRydWUsIHdpbmRvdywgMSxcbiAgICAgICAgICAgIGZpcnN0LnNjcmVlblgsIGZpcnN0LnNjcmVlblksXG4gICAgICAgICAgICBmaXJzdC5jbGllbnRYLCBmaXJzdC5jbGllbnRZLCBmYWxzZSxcbiAgICAgICAgICAgIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAvKmxlZnQqLywgbnVsbCk7XG5cbiAgICAgICAgZmlyc3QudGFyZ2V0LmRpc3BhdGNoRXZlbnQoc2ltdWxhdGVkRXZlbnQpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJvYXJkTWFuYWdlciB9IGZyb20gJy4vYm9hcmRNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIEVyYXNlckN1cnNvciB7XG5cbiAgICAvKipcbiAgICAqXG4gICAgKiBAcGFyYW0geyp9IHNpemVcbiAgICAqIEByZXR1cm5zIHRoZSAuc3R5bGUuY3Vyc29yIG9mIHRoZSBjYW52YXMgaWYgeW91IHdhbnQgdG8gaGF2ZSBhIGN1cnNvciB0aGF0IGxvb2tzIGxpa2UgYW4gZXJhc2VyIG9mIHNpemUgc2l6ZVxuICAgICovXG4gICAgc3RhdGljIGdldFN0eWxlQ3Vyc29yKHNpemUgPSAyMCkge1xuICAgICAgICBpZiAoc2l6ZSA+IDEyOCkgc2l6ZSA9IDEyODtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogRXJhc2VyQ3Vyc29yLmdldEN1cnNvclVSTChzaXplKSwgeDogc2l6ZSAvIDIsIHk6IHNpemUgLyAyIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2l6ZVxuICAgICAqIEByZXR1cm5zIHRoZSBVUkwgb2YgdGhlIGltYWdlIG9mIHRoZSBjdXJzb3JcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0Q3Vyc29yVVJMKHNpemUpIHtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gc2l6ZSAvIDI7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBjYW52YXMud2lkdGggPSAyICogcmFkaXVzO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMiAqIHJhZGl1cztcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5hcmMocmFkaXVzLCByYWRpdXMsIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBCb2FyZE1hbmFnZXIuZ2V0QmFja2dyb3VuZENvbG9yKCkgPT0gXCJibGFja1wiID8gXCJ3aGl0ZVwiIDogXCJibGFja1wiO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gQm9hcmRNYW5hZ2VyLmdldEJhY2tncm91bmRDb2xvcigpID09IFwiYmxhY2tcIiA/IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpXCIgOiBcInJnYmEoMCwgMCwgMCwgMC4yKVwiO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJvYXJkTWFuYWdlciB9IGZyb20gJy4vYm9hcmRNYW5hZ2VyJztcbmltcG9ydCB7IGdldENhbnZhcyB9IGZyb20gJy4vbWFpbic7XG5pbXBvcnQgeyBNYWduZXRNYW5hZ2VyIH0gZnJvbSAnLi9tYWduZXRNYW5hZ2VyJztcbmltcG9ydCB7IFNoYXJlIH0gZnJvbSAnLi9zaGFyZSc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgcG9seWxpbmUgZHJhd24gYnkgYSB1c2VyXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWxpbmVhdGlvbiB7XG5cbiAgICBwb2ludHMgPSBbXTtcbiAgICBsYXN0cG9pbnRzID0gW107XG4gICAgZHJhd2luZzogYm9vbGVhbjtcbiAgICBtYXliZUp1c3RBUG9pbnQgPSB0cnVlOyAvL21lbW9pc2F0aW9uIGZvciBnZXREb3RcblxuXG4gICAgcmVzZXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZHJhd2luZyA9IHRydWU7XG4gICAgICAgIHRoaXMubGFzdHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLm1heWJlSnVzdEFQb2ludCA9IHRydWU7XG4gICAgfVxuXG4gICAgZmluaXNoKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRyYXdpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZW1vdmVQb2x5Z29uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHNldCBvZiBjdXJyZW50IHBvaW50cyBpcyBub24tZW1wdHlcbiAgICAgKi9cbiAgICBpc0RyYXdpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50cy5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGNvbnRhaW5zUG9seWdvblRvTWFnbmV0aXplKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludHMubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICBkcmF3UG9seWdvbihwb2ludHM6IHsgeCwgeSB9W10pOiB2b2lkIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFnbmV0Q3JlYXRpb25Qb2x5Z29uXCIpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHBvbHlsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwb2x5bGluZScpO1xuICAgICAgICBwb2x5bGluZS5pZCA9IFwibWFnbmV0Q3JlYXRpb25Qb2x5Z29uXCI7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3ZnXCIpLmFwcGVuZENoaWxkKHBvbHlsaW5lKTtcblxuICAgICAgICBwb2ludHMucHVzaChwb2ludHNbMF0pO1xuICAgICAgICBwb2x5bGluZS5zZXRBdHRyaWJ1dGUoXCJwb2ludHNcIiwgcG9pbnRzLm1hcCgocCkgPT4gcC54ICsgXCIsIFwiICsgcC55KS5qb2luKFwiIFwiKSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlUG9seWdvbigpOiB2b2lkIHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFnbmV0Q3JlYXRpb25Qb2x5Z29uXCIpKVxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdmdcIikucmVtb3ZlQ2hpbGQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWduZXRDcmVhdGlvblBvbHlnb25cIikpO1xuICAgIH1cblxuXG4gICAgYWRkUG9pbnQocG9pbnQ6IHsgeCwgeSB9KTogdm9pZCB7XG4gICAgICAgIHRoaXMucG9pbnRzLnB1c2gocG9pbnQpO1xuXG4gICAgICAgIGlmICh0aGlzLmlzRG90KCkgJiYgdGhpcy5kb3RJblByZXZpb3VzUG9seWdvbigpKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdQb2x5Z29uKHRoaXMubGFzdHBvaW50cyk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kcmF3aW5nICYmIHRoaXMuaXNEb3QoKSAmJiB0aGlzLmRvdEluUHJldmlvdXNQb2x5Z29uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVQb2x5Z29uKCk7XG4gICAgICAgICAgICAgICAgICAgIFNoYXJlLmV4ZWN1dGUoXCJyZW1vdmVDb250b3VyXCIsIFt0aGlzLnBvaW50c10pOyAvL3JlbW92ZSB0aGUgZG90XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzID0gdGhpcy5sYXN0cG9pbnRzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3Rwb2ludHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXRBbmRNYWduZXRpemUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnJlbW92ZVBvbHlnb24oKTtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgZHJhd2luZyBpcyBqdXN0IGEgcG9pbnRcbiAgICAgKi9cbiAgICBpc0RvdCgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLm1heWJlSnVzdEFQb2ludClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucG9pbnRzLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGZvciAoY29uc3QgcG9pbnQgb2YgdGhpcy5wb2ludHMpXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMocG9pbnQueCAtIHRoaXMucG9pbnRzWzBdLngpID4gMiAmJiBNYXRoLmFicyhwb2ludC55IC0gdGhpcy5wb2ludHNbMF0ueSkgPiAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXliZUp1c3RBUG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHBvaW50XG4gICAgICogQHBhcmFtIHsqfSBwb2x5Z29uXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZmYgdGhlIHBvaW50IGlzIGluc2lkZSB0aGUgcG9seWdvblxuICAgICAqL1xuICAgIHN0YXRpYyBpblBvbHlnb24ocG9pbnQsIHBvbHlnb24pOiBib29sZWFuIHtcbiAgICAgICAgLy8gcmF5LWNhc3RpbmcgYWxnb3JpdGhtIGJhc2VkIG9uXG4gICAgICAgIC8vIGh0dHBzOi8vd3JmLmVjc2UucnBpLmVkdS9SZXNlYXJjaC9TaG9ydF9Ob3Rlcy9wbnBvbHkuaHRtbC9wbnBvbHkuaHRtbFxuXG4gICAgICAgIGNvbnN0IHggPSBwb2ludC54LCB5ID0gcG9pbnQueTtcblxuICAgICAgICBsZXQgaW5zaWRlID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gcG9seWdvbi5sZW5ndGggLSAxOyBpIDwgcG9seWdvbi5sZW5ndGg7IGogPSBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHhpID0gcG9seWdvbltpXS54LCB5aSA9IHBvbHlnb25baV0ueTtcbiAgICAgICAgICAgIGNvbnN0IHhqID0gcG9seWdvbltqXS54LCB5aiA9IHBvbHlnb25bal0ueTtcblxuICAgICAgICAgICAgY29uc3QgaW50ZXJzZWN0ID0gKCh5aSA+IHkpICE9ICh5aiA+IHkpKVxuICAgICAgICAgICAgICAgICYmICh4IDwgKHhqIC0geGkpICogKHkgLSB5aSkgLyAoeWogLSB5aSkgKyB4aSk7XG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0KSBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc2lkZTtcbiAgICB9XG5cbiAgICBkb3RJblByZXZpb3VzUG9seWdvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIERlbGluZWF0aW9uLmluUG9seWdvbih0aGlzLnBvaW50c1swXSwgdGhpcy5sYXN0cG9pbnRzKTtcbiAgICB9XG5cbiAgICBlcmFzZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3VpdGFibGUoKSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBTaGFyZS5leGVjdXRlKFwicmVtb3ZlQ29udG91clwiLCBbdGhpcy5wb2ludHNdKTtcbiAgICAgICAgU2hhcmUuZXhlY3V0ZShcImNsZWFyUG9seWdvblwiLCBbdGhpcy5wb2ludHNdKTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICBCb2FyZE1hbmFnZXIuc2F2ZSh1bmRlZmluZWQpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIG1hZ25ldGl6ZSB0aGUgXCJzZWxlY3RlZFwiIHBhcnQgb2YgdGhlIGJsYWNrYm9hcmQuIFRoZSBzZWxlY3RlZCBwYXJ0IGlzIGFsc28gcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBjdXRBbmRNYWduZXRpemUoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5pc1N1aXRhYmxlKCkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgU2hhcmUuZXhlY3V0ZShcInJlbW92ZUNvbnRvdXJcIiwgW3RoaXMucG9pbnRzXSk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZU1hZ25ldEZyb21JbWcoKTtcbiAgICAgICAgU2hhcmUuZXhlY3V0ZShcImNsZWFyUG9seWdvblwiLCBbdGhpcy5wb2ludHNdKTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICBCb2FyZE1hbmFnZXIuc2F2ZSh1bmRlZmluZWQpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgKiBAZGVzY3JpcHRpb24gbWFnbmV0aXplIHRoZSBcInNlbGVjdGVkXCIgcGFydCBvZiB0aGUgYmxhY2tib2FyZC5cbiAgICAqL1xuICAgIGNvcHlBbmRNYWduZXRpemUoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5pc1N1aXRhYmxlKCkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgU2hhcmUuZXhlY3V0ZShcInJlbW92ZUNvbnRvdXJcIiwgW3RoaXMucG9pbnRzXSk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZU1hZ25ldEZyb21JbWcoKTtcbiAgICAgICAgQm9hcmRNYW5hZ2VyLnNhdmUodW5kZWZpbmVkKTtcbiAgICB9XG5cblxuXG5cbiAgICBpc1N1aXRhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICBmb3IgKGNvbnN0IHBvaW50IG9mIHRoaXMucG9pbnRzKSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMocG9pbnQueCAtIHRoaXMucG9pbnRzWzBdLngpID4gMTYgJiZcbiAgICAgICAgICAgICAgICBNYXRoLmFicyhwb2ludC54IC0gdGhpcy5wb2ludHNbMF0ueCkgPiAxNilcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG5cbiAgICBfZ2V0UmVjdGFuZ2xlKCkge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBnZXRDYW52YXMoKTtcbiAgICAgICAgY29uc3QgciA9IHsgeDE6IGNhbnZhcy53aWR0aCwgeTE6IGNhbnZhcy5oZWlnaHQsIHgyOiAwLCB5MjogMCB9O1xuXG4gICAgICAgIGZvciAoY29uc3QgcG9pbnQgb2YgdGhpcy5wb2ludHMpIHtcbiAgICAgICAgICAgIHIueDEgPSBNYXRoLm1pbihyLngxLCBwb2ludC54KTtcbiAgICAgICAgICAgIHIueTEgPSBNYXRoLm1pbihyLnkxLCBwb2ludC55KTtcbiAgICAgICAgICAgIHIueDIgPSBNYXRoLm1heChyLngyLCBwb2ludC54KTtcbiAgICAgICAgICAgIHIueTIgPSBNYXRoLm1heChyLnkyLCBwb2ludC55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuXG5cblxuICAgIF9jcmVhdGVNYWduZXRGcm9tSW1nID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgY29uc3QgcmVjdGFuZ2xlID0gdGhpcy5fZ2V0UmVjdGFuZ2xlKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlY3RhbmdsZSlcbiAgICAgICAgLy9Cb2FyZE1hbmFnZXIuX3RvQmxvYk9mUmVjdGFuZ2xlKHJlY3RhbmdsZSwgKGJsb2IpID0+IGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcbiAgICAgICAgaW1nLnNyYyA9IEJvYXJkTWFuYWdlci5nZXREYXRhVVJMT2ZSZWN0YW5nbGUocmVjdGFuZ2xlKTtcbiAgICAgICAgaW1nLnN0eWxlLmNsaXBQYXRoID0gXCJwb2x5Z29uKFwiICsgdGhpcy5wb2ludHMubWFwKHBvaW50ID0+IGAke3BvaW50LnggLSByZWN0YW5nbGUueDF9cHggJHtwb2ludC55IC0gcmVjdGFuZ2xlLnkxfXB4YCkuam9pbihcIiwgXCIpICsgXCIpXCI7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KGltZyk7XG4gICAgICAgIGltZy5zdHlsZS5sZWZ0ID0gcmVjdGFuZ2xlLngxICsgXCJweFwiO1xuICAgICAgICBpbWcuc3R5bGUudG9wID0gcmVjdGFuZ2xlLnkxICsgXCJweFwiO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgQm9hcmRNYW5hZ2VyIH0gZnJvbSAnLi9ib2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgZ2V0Q2FudmFzLCBwYWxldHRlIH0gZnJvbSAnLi9tYWluJztcbmltcG9ydCB7IERyYXdpbmcgfSBmcm9tICcuL0RyYXdpbmcnXG5pbXBvcnQgeyBNYWduZXRNYW5hZ2VyIH0gZnJvbSAnLi9tYWduZXRNYW5hZ2VyJztcbmltcG9ydCB7IFVzZXJNYW5hZ2VyIH0gZnJvbSAnLi9Vc2VyTWFuYWdlcic7XG5pbXBvcnQgeyBMYXlvdXQgfSBmcm9tICcuL0xheW91dCc7XG5pbXBvcnQgeyBFcmFzZXJDdXJzb3IgfSBmcm9tIFwiLi9FcmFzZXJDdXJzb3JcIjtcbmltcG9ydCB7IERlbGluZWF0aW9uIH0gZnJvbSAnLi9EZWxpbmVhdGlvbic7XG5pbXBvcnQgeyBDaGFsa0N1cnNvciB9IGZyb20gJy4vQ2hhbGtDdXJzb3InO1xuXG5jb25zdCBFUkFTRU1PREVERUZBVUxUU0laRSA9IDEwO1xuXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHVzZXIgKG1heWJlIHlvdT8pXG4gKi9cbmV4cG9ydCBjbGFzcyBVc2VyIHtcbiAgICB4SW5pdCA9IDA7XG4gICAgeUluaXQgPSAwO1xuXG4gICAgeCA9IDA7XG4gICAgeSA9IDA7XG4gICAgaXNEcmF3aW5nID0gZmFsc2U7XG4gICAgYWxyZWFkeURyYXduU3RoID0gZmFsc2U7IC8vIHRydWUgaWYgc29tZXRoaW5nIHZpc2libGUgaGFzIGJlZW4gZHJhd24gKElmIHN0aWxsIGZhbHNlLCBkcmF3IGEgZG90KVxuICAgIGVyYXNlTW9kZSA9IGZhbHNlO1xuICAgIGVyYXNlTW9kZUJpZyA9IGZhbHNlO1xuICAgIGxhc3REZWxpbmVhdGlvbiA9IG5ldyBEZWxpbmVhdGlvbigpO1xuICAgIGNhbldyaXRlID0gdHJ1ZTtcbiAgICBlcmFzZUxpbmVXaWR0aCA9IEVSQVNFTU9ERURFRkFVTFRTSVpFO1xuXG4gICAgY29sb3IgPSBcIndoaXRlXCI7XG5cbiAgICBjdXJzb3IgPSB1bmRlZmluZWQ7XG4gICAgdG9vbEN1cnNvciA9IHVuZGVmaW5lZDtcblxuICAgIHVzZXJJRCA9IFwiMFwiO1xuXG4gICAgc2V0VXNlcklEKHVzZXJJRCkge1xuICAgICAgICB0aGlzLnVzZXJJRCA9IHVzZXJJRDtcbiAgICB9XG5cbiAgICBzZXRDYW5Xcml0ZShib29sKSB7XG4gICAgICAgIHRoaXMuY2FuV3JpdGUgPSBib29sO1xuICAgIH1cblxuXG4gICAgc2V0VG9vbEN1cnNvckltYWdlKHNyY0ltYWdlKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpLnN0eWxlLmN1cnNvciA9IGB1cmwoJHtzcmNJbWFnZS5kYXRhfSkgJHtzcmNJbWFnZS54fSAke3NyY0ltYWdlLnl9LCBhdXRvYDtcbiAgICAgICAgLy8gdGhpcy50b29sQ3Vyc29yLnNyYyA9IHNyY0ltYWdlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBpc0N1cnJlbnRVc2VyIHRoYXQgdGVsbHMgd2hldGhlciB0aGUgdXNlciBpcyB0aGUgY3VycmVudCBvbmVcbiAgICAgKiBAZGVzY3JpcHRpb24gY3JlYXRlIHRoZSB1c2VyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGlzQ3VycmVudFVzZXIpIHtcbiAgICAgICAgdGhpcy5jdXJzb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmN1cnNvci5jbGFzc0xpc3QuYWRkKFwiY3Vyc29yXCIpO1xuXG4gICAgICAgIHRoaXMudG9vbEN1cnNvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgIHRoaXMudG9vbEN1cnNvci5jbGFzc0xpc3QuYWRkKFwidG9vbGN1cnNvclwiKTtcblxuXG5cbiAgICAgICAgaWYgKGlzQ3VycmVudFVzZXIpXG4gICAgICAgICAgICB0aGlzLmN1cnNvci5oaWRkZW4gPSB0cnVlO1xuXG4gICAgICAgIGlmICghaXNDdXJyZW50VXNlcilcbiAgICAgICAgICAgIHRoaXMudG9vbEN1cnNvci5oaWRkZW4gPSB0cnVlO1xuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3Vyc29yc1wiKS5hcHBlbmRDaGlsZCh0aGlzLmN1cnNvcik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3Vyc29yc1wiKS5hcHBlbmRDaGlsZCh0aGlzLnRvb2xDdXJzb3IpO1xuICAgICAgICBpZiAoaXNDdXJyZW50VXNlcilcbiAgICAgICAgICAgIHRoaXMuc2V0VG9vbEN1cnNvckltYWdlKENoYWxrQ3Vyc29yLmdldFN0eWxlQ3Vyc29yKHRoaXMuY29sb3IpKTtcbiAgICB9XG5cblxuXG4gICAgdXBkYXRlQ3Vyc29yKCkge1xuICAgICAgICBpZiAodGhpcy5pc0N1cnJlbnRVc2VyKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VG9vbEN1cnNvckltYWdlKENoYWxrQ3Vyc29yLmdldFN0eWxlQ3Vyc29yKHRoaXMuY29sb3IpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHRlbGxzIHRoYXQgdGhlIHVzZXIgaGFzIGRpc2Nvbm5lY3RlZFxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3Vyc29yc1wiKS5yZW1vdmVDaGlsZCh0aGlzLmN1cnNvcik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3Vyc29yc1wiKS5yZW1vdmVDaGlsZCh0aGlzLnRvb2xDdXJzb3IpO1xuICAgIH1cblxuICAgIHNldEN1cnJlbnRDb2xvcihjb2xvcikge1xuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMudXBkYXRlQ3Vyc29yKCk7XG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudENvbG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xvcjtcbiAgICB9XG5cblxuXG4gICAgc3dpdGNoQ2hhbGsoKSB7XG4gICAgICAgIHRoaXMuZXJhc2VNb2RlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNDdXJyZW50VXNlcigpKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnNvcigpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25FcmFzZXJcIikuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkNoYWxrXCIpLmhpZGRlbiA9IHRydWU7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWZmIHRoZSB1c2VyIGlzIHRoZSBjdXJyZW50IHVzZXIgKHRoZSBvbmUgdGhhdCBjb250cm9scyB0aGUgbW91c2UpXG4gICAgICovXG4gICAgaXNDdXJyZW50VXNlcigpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzID09IFVzZXJNYW5hZ2VyLm1lKTtcbiAgICB9XG5cbiAgICBzd2l0Y2hFcmFzZSgpIHtcbiAgICAgICAgdGhpcy5lcmFzZU1vZGUgPSB0cnVlO1xuXG4gICAgICAgIGlmICh0aGlzLmlzQ3VycmVudFVzZXIoKSkge1xuICAgICAgICAgICAgcGFsZXR0ZS5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLnNldFRvb2xDdXJzb3JJbWFnZShFcmFzZXJDdXJzb3IuZ2V0U3R5bGVDdXJzb3IodGhpcy5lcmFzZUxpbmVXaWR0aCkpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25FcmFzZXJcIikuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uQ2hhbGtcIikuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIG1vdXNlZG93bihldnQpIHtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5zZXRJbnRlcmFjdGFibGUoZmFsc2UpO1xuXG4gICAgICAgIC8vdW5zZWxlY3QgdGhlIHNlbGVjdGVkIGVsZW1lbnQgKGUuZy4gYSB0ZXh0IGluIGVkaXQgbW9kZSlcbiAgICAgICAgKDxhbnk+ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkuYmx1cigpO1xuXG5cbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIm1vdXNlZG93blwiKVxuICAgICAgICB0aGlzLnggPSBldnQub2Zmc2V0WDtcbiAgICAgICAgdGhpcy55ID0gZXZ0Lm9mZnNldFk7XG4gICAgICAgIHRoaXMueEluaXQgPSB0aGlzLng7XG4gICAgICAgIHRoaXMueUluaXQgPSB0aGlzLnk7XG4gICAgICAgIHRoaXMuaXNEcmF3aW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lcmFzZU1vZGVCaWcgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5jYW5Xcml0ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZXJhc2VNb2RlKSB7XG4gICAgICAgICAgICAgICAgRHJhd2luZy5jbGVhckxpbmUodGhpcy54LCB0aGlzLnksIHRoaXMueCwgdGhpcy55LCBFUkFTRU1PREVERUZBVUxUU0laRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWxpbmVhdGlvbi5yZXNldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdERlbGluZWF0aW9uLmFkZFBvaW50KHsgeDogdGhpcy54LCB5OiB0aGlzLnkgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzQ3VycmVudFVzZXIoKSlcbiAgICAgICAgICAgIHBhbGV0dGUuaGlkZSgpO1xuICAgIH1cblxuXG5cbiAgICBtb3VzZW1vdmUoZXZ0KSB7XG5cbiAgICAgICAgY29uc3QgZXZ0WCA9IGV2dC5vZmZzZXRYO1xuICAgICAgICBjb25zdCBldnRZID0gZXZ0Lm9mZnNldFk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzQ3VycmVudFVzZXIoKSkge1xuICAgICAgICAgICAgdGhpcy5jdXJzb3Iuc3R5bGUubGVmdCA9IGV2dFggLSA4O1xuICAgICAgICAgICAgdGhpcy5jdXJzb3Iuc3R5bGUudG9wID0gZXZ0WSAtIDg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jYW5Xcml0ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNEcmF3aW5nKSB7Ly99ICYmIHRoaXMubGFzdERlbGluZWF0aW9uLmlzRHJhd2luZygpKSB7XG4gICAgICAgICAgICAgICAgcGFsZXR0ZS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZXJhc2VNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5lcmFzZUxpbmVXaWR0aCA9IDEwO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJhc2VMaW5lV2lkdGggPSAxMCArIDMwICogZXZ0LnByZXNzdXJlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnggLSB0aGlzLnhJbml0KSA+IExheW91dC5nZXRXaW5kb3dXaWR0aCgpIC8gNCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnModGhpcy55IC0gdGhpcy55SW5pdCkgPiBMYXlvdXQuZ2V0V2luZG93SGVpZ2h0KCkgLyA0KVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcmFzZU1vZGVCaWcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVyYXNlTW9kZUJpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcmFzZUxpbmVXaWR0aCA9IDEyODtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQ3VycmVudFVzZXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUb29sQ3Vyc29ySW1hZ2UoRXJhc2VyQ3Vyc29yLmdldFN0eWxlQ3Vyc29yKHRoaXMuZXJhc2VMaW5lV2lkdGgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIERyYXdpbmcuY2xlYXJMaW5lKHRoaXMueCwgdGhpcy55LCBldnRYLCBldnRZLCB0aGlzLmVyYXNlTGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGFzdERlbGluZWF0aW9uLmlzRHJhd2luZygpKSB7Ly90aGlzIGd1YXJkIGlzIGJlY2F1c2UsIHdoZW4gYSBtYWduZXQgaXMgY3JlYXRlZCB0aGUgdXNlciBkb2VzIG5vdCBrbm93IHRoZSBkcmF3aW5nIHN0b3BwZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBEcmF3aW5nLmRyYXdMaW5lKGdldENhbnZhcygpLmdldENvbnRleHQoXCIyZFwiKSwgdGhpcy54LCB0aGlzLnksIGV2dFgsIGV2dFksIGV2dC5wcmVzc3VyZSwgdGhpcy5jb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWxpbmVhdGlvbi5hZGRQb2ludCh7IHg6IGV2dFgsIHk6IGV2dFkgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG5cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnggLSB0aGlzLnhJbml0KSA+IDEgfHwgTWF0aC5hYnModGhpcy55IC0gdGhpcy55SW5pdCkgPiAxKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFscmVhZHlEcmF3blN0aCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lcmFzZU1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbEN1cnNvci5zdHlsZS5sZWZ0ID0gZXZ0WCAtIHRoaXMuZXJhc2VMaW5lV2lkdGggLyAyO1xuICAgICAgICAgICAgdGhpcy50b29sQ3Vyc29yLnN0eWxlLnRvcCA9IGV2dFkgLSB0aGlzLmVyYXNlTGluZVdpZHRoIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudG9vbEN1cnNvci5zdHlsZS5sZWZ0ID0gZXZ0WDtcbiAgICAgICAgICAgIHRoaXMudG9vbEN1cnNvci5zdHlsZS50b3AgPSBldnRZXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnggPSBldnRYO1xuICAgICAgICB0aGlzLnkgPSBldnRZO1xuICAgIH1cblxuXG4gICAgbW91c2V1cChldnQpIHtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5zZXRJbnRlcmFjdGFibGUodHJ1ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FuV3JpdGUpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdERlbGluZWF0aW9uLmZpbmlzaCgpO1xuXG5cbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJtb3VzZXVwXCIpXG4gICAgICAgICAgICBpZiAodGhpcy5pc0RyYXdpbmcgJiYgIXRoaXMuZXJhc2VNb2RlICYmICF0aGlzLmFscmVhZHlEcmF3blN0aCkge1xuICAgICAgICAgICAgICAgIERyYXdpbmcuZHJhd0RvdCh0aGlzLngsIHRoaXMueSwgdGhpcy5jb2xvcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ3VycmVudFVzZXIoKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVyYXNlTW9kZSkgey8vcmVzdG9yZSB0aGUgZXJhc2VyIHRvIHRoZSBvcmlnaW5hbCBzaXplIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcmFzZUxpbmVXaWR0aCA9IEVSQVNFTU9ERURFRkFVTFRTSVpFO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRvb2xDdXJzb3JJbWFnZShFcmFzZXJDdXJzb3IuZ2V0U3R5bGVDdXJzb3IodGhpcy5lcmFzZUxpbmVXaWR0aCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBCb2FyZE1hbmFnZXIuc2F2ZSh0aGlzLmxhc3REZWxpbmVhdGlvbi5fZ2V0UmVjdGFuZ2xlKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWxyZWFkeURyYXduU3RoID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNEcmF3aW5nID0gZmFsc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVXNlciB9IGZyb20gXCIuL1VzZXJcIjtcblxuZXhwb3J0IGNsYXNzIFVzZXJNYW5hZ2VyIHtcblxuICAgIHN0YXRpYyBtZTogVXNlciA9IHVuZGVmaW5lZDsgLy8gdGhlIGN1cnJlbnQgdXNlclxuICAgIHN0YXRpYyB1c2VycyA9IHt9O1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IHVzZXJzSW1hZ2VGaWxlTmFtZXMgPSBbJzFGOUQxLTIwMEQtMUYzODQuc3ZnJywgJzFGOUQ5LnN2ZycsICcxRjlEQS0yMDBELTI2NDAtRkUwRi5zdmcnLCAnMUY5REQuc3ZnJ107XG5cblxuICAgIC8qKlxuICAgICAqIGluaXRpYWxpc2F0aW9uOiBjcmVhdGlvbiBvZiBteXNlbGYgOilcbiAgICAgKi9cbiAgICBzdGF0aWMgaW5pdCgpOiB2b2lkIHtcbiAgICAgICAgVXNlck1hbmFnZXIubWUgPSBuZXcgVXNlcih0cnVlKTtcbiAgICAgICAgVXNlck1hbmFnZXIudXNlcnNbJ3Jvb3QnXSA9IFVzZXJNYW5hZ2VyLm1lO1xuICAgICAgICBVc2VyTWFuYWdlci5tZS5zZXRVc2VySUQoJ3Jvb3QnKTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgdXNlcklEIG9mIHRoZSBjdXJyZW50IHVzZXIgaXMgdGhlIG1pbmltdW0gb2YgYWxsIHBhcnRpY2lwYW50c1xuICAgICAqL1xuICAgIHN0YXRpYyBpc1NtYWxsZXN0VXNlcklEKCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgbWlua2V5ID0gXCJ6enp6enp6enp6enp6enp6XCI7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIFVzZXJNYW5hZ2VyLnVzZXJzKSB7XG4gICAgICAgICAgICBpZiAoa2V5IDwgbWlua2V5KVxuICAgICAgICAgICAgICAgIG1pbmtleSA9IGtleTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFVzZXJNYW5hZ2VyLm1lLnVzZXJJRCA9PSBtaW5rZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB1c2VyaWRcbiAgICAgKiBAZGVzY3JpcHRpb24gdXNlcmlkIGxlYXZlc1xuICAgICAqL1xuICAgIHN0YXRpYyBsZWF2ZSh1c2VyaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBVc2VyTWFuYWdlci51c2Vyc1t1c2VyaWRdLmRlc3Ryb3koKTtcbiAgICAgICAgZGVsZXRlIFVzZXJNYW5hZ2VyLnVzZXJzW3VzZXJpZF07XG4gICAgICAgIFVzZXJNYW5hZ2VyLnVwZGF0ZUdVSVVzZXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHVzZXJpZFxuICAgICAqIEBkZXNjcmlwdGlvbiBhZGQgYSBuZXcgdXNlciBvZiBJRCB1c2VyaWRcbiAgICAgKi9cbiAgICBzdGF0aWMgYWRkKHVzZXJpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIFVzZXJNYW5hZ2VyLnVzZXJzW3VzZXJpZF0gPSBuZXcgVXNlcihmYWxzZSk7XG4gICAgICAgIFVzZXJNYW5hZ2VyLnVwZGF0ZUdVSVVzZXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHVzZXJpZFxuICAgICAqIEBkZXNjcmlwdGlvbiByZW5hVXNlck1hbmFnZXIubWUgdGhlIGN1cnJlbnQgdXNlciAoVXNlck1hbmFnZXIubWUpIGFzIHVzZXJpZFxuICAgICAqL1xuICAgIHN0YXRpYyBzZXRNeVVzZXJJRCh1c2VyaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBVc2VyTWFuYWdlci51c2Vycykge1xuICAgICAgICAgICAgaWYgKFVzZXJNYW5hZ2VyLnVzZXJzW2tleV0gPT0gVXNlck1hbmFnZXIubWUpXG4gICAgICAgICAgICAgICAgZGVsZXRlIFVzZXJNYW5hZ2VyLnVzZXJzW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBVc2VyTWFuYWdlci51c2Vyc1t1c2VyaWRdID0gVXNlck1hbmFnZXIubWU7XG4gICAgICAgIFVzZXJNYW5hZ2VyLm1lLnNldFVzZXJJRCh1c2VyaWQpO1xuICAgICAgICBVc2VyTWFuYWdlci51cGRhdGVHVUlVc2VycygpO1xuICAgIH1cblxuXG5cbiAgICBzdGF0aWMgZ2V0VXNlckltYWdlKHVzZXJpZDogc3RyaW5nKTogSFRNTEltYWdlRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBjb25zdCBpID0gcGFyc2VJbnQodXNlcmlkLnN1YnN0cigxKSk7XG4gICAgICAgIGltZy5zcmMgPSBcImltZy91c2Vycy9cIiArIFVzZXJNYW5hZ2VyLnVzZXJzSW1hZ2VGaWxlTmFtZXNbaSAlIFVzZXJNYW5hZ2VyLnVzZXJzSW1hZ2VGaWxlTmFtZXMubGVuZ3RoXTtcbiAgICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoXCJ1c2VySW1hZ2VcIik7XG4gICAgICAgIHJldHVybiBpbWc7XG4gICAgfVxuXG5cblxuXG4gICAgc3RhdGljIHVzZXJJZFRvRG9tKHVzZXJJRDogc3RyaW5nKTogSFRNTEltYWdlRWxlbWVudCB7XG5cbiAgICAgICAgY29uc3QgdXNlckRPTSA9IFVzZXJNYW5hZ2VyLmdldFVzZXJJbWFnZSh1c2VySUQpO1xuICAgICAgICB1c2VyRE9NLmNsYXNzTGlzdC5hZGQoXCJ1c2VyXCIpO1xuICAgICAgICB1c2VyRE9NLnRpdGxlID0gXCJ1c2VyIFwiICsgdXNlcklEO1xuICAgICAgICByZXR1cm4gdXNlckRPTTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgdGhlIG51bWJlciBvZiBjb25uZWN0ZWQgdXNlcnMgdG8gdGhlIGN1cnJlbnQgYmFvcmRcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0TnVtYmVyT2ZVc2VycygpOiBudW1iZXIge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIFVzZXJNYW5hZ2VyLnVzZXJzKSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIHVwZGF0ZSB0aGUgR1VJXG4gICAgICovXG4gICAgc3RhdGljIHVwZGF0ZUdVSVVzZXJzKCk6IHZvaWQge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJzXCIpLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgLyoqbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gVXNlck1hbmFnZXIudXNlcnMpIHtcbiAgICAgICAgICAgIGxldCBlbCA9IFVzZXJNYW5hZ2VyLnVzZXJJZFRvRG9tKGtleSk7XG4gICAgICAgICAgICBpZiAoa2V5ID09IFVzZXJNYW5hZ2VyLm1lLnVzZXJJRClcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKFwibWVcIik7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJzXCIpLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfSovXG5cblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJzXCIpLmlubmVySFRNTCA9IFVzZXJNYW5hZ2VyLmdldFVzZXJJbWFnZShcInUwXCIpLm91dGVySFRNTCArIFwiIMOXIFwiICsgVXNlck1hbmFnZXIuZ2V0TnVtYmVyT2ZVc2VycygpO1xuXG4gICAgfVxuXG59XG4iLCIvKipcbiAqIGRhdGEgc3RydWN0dXJlIHN0YWNrIGZvciBjYW5jZWwvcmVkb1xuICovXG5leHBvcnQgY2xhc3MgQ2FuY2VsU3RhY2sge1xuICAgIHN0YWNrID0gW107XG4gICAgY3VycmVudEluZGV4ID0gLTE7XG4gICAgbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBlbXB0eSB0aGUgc3RhY2tcbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5zdGFjayA9IFtdO1xuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IC0xO1xuICAgICAgICB0aGlzLm4gPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBkYXRhXG4gICAgICovXG4gICAgcHVzaChkYXRhOiBDYW52YXNNb2RpZmljYXRpb25SZWN0YW5nbGUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXgrKztcbiAgICAgICAgdGhpcy5zdGFja1t0aGlzLmN1cnJlbnRJbmRleF0gPSBkYXRhO1xuICAgICAgICB0aGlzLm4gPSB0aGlzLmN1cnJlbnRJbmRleCArIDE7XG4gICAgfVxuXG5cbiAgICBiYWNrKCk6IENhbnZhc01vZGlmaWNhdGlvblJlY3RhbmdsZSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA8PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5jdXJyZW50SW5kZXhdO1xuXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4LS07XG4gICAgICAgIHJldHVybiB0aGlzLnN0YWNrW3RoaXMuY3VycmVudEluZGV4XTtcbiAgICB9XG5cbiAgICBmb3J3YXJkKCk6IENhbnZhc01vZGlmaWNhdGlvblJlY3RhbmdsZSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA+PSB0aGlzLm4gLSAxKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5jdXJyZW50SW5kZXhdO1xuXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4Kys7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YWNrW3RoaXMuY3VycmVudEluZGV4XTtcbiAgICB9XG5cblxuXG4gICAgdG9wKCk6IENhbnZhc01vZGlmaWNhdGlvblJlY3RhbmdsZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YWNrW3RoaXMuY3VycmVudEluZGV4XTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRDYW52YXMsIGdldENvbnRhaW5lciB9IGZyb20gXCIuL21haW5cIjtcbmltcG9ydCB7IFNoYXJlIH0gZnJvbSBcIi4vc2hhcmVcIjtcbmltcG9ydCB7IExheW91dCB9IGZyb20gJy4vTGF5b3V0JztcbmltcG9ydCB7IENhbmNlbFN0YWNrIH0gZnJvbSAnLi9jYW5jZWxTdGFjayc7XG5cbi8qKlxuICogTWFuYWdlIHRoZSBib2FyZFxuICovXG5leHBvcnQgY2xhc3MgQm9hcmRNYW5hZ2VyIHtcblxuICAgIC8qKiBuYW1lIG9mIHRoZSBib2FyZC4gRGVmYXVsdCBpcyAwICh0aGlzIG5hbWUgaXMgdXNlZCBmb3Igc3RvcmluZyBpbiBsb2NhbFN0b3JhZ2UpICovXG4gICAgc3RhdGljIGJvYXJkTmFtZSA9IFwiMFwiO1xuXG4gICAgLyoqIHN0YWNrIHRvIHN0b3JlIHRoZSBjYW5jZWwvcmVkbyBhY3Rpb25zICovXG4gICAgc3RhdGljIGNhbmNlbFN0YWNrID0gbmV3IENhbmNlbFN0YWNrKCk7XG5cbiAgICBzdGF0aWMgX3JpZ2h0RXh0ZW5kQ2FudmFzRW5hYmxlID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgKiBpbml0aWFsaXphdGlvbiAoYnV0dG9uKVxuICAgKi9cbiAgICBzdGF0aWMgaW5pdCgpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJibGFja2JvYXJkQ2xlYXJcIikub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIFNoYXJlLmV4ZWN1dGUoXCJib2FyZENsZWFyXCIsIFtdKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG5cbiAgICBzdGF0aWMgZ2V0QmFja2dyb3VuZENvbG9yKCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNCYWNrZ3JvdW5kXCIpLnN0eWxlLmJhY2tncm91bmRDb2xvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgICAgKiBlcmFzZSB0aGUgYm9hcmRcbiAgICAgICAgKi9cbiAgICBzdGF0aWMgX2NsZWFyKCkge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBnZXRDYW52YXMoKTtcbiAgICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzLndpZHRoOyAvL2NsZWFyXG4gICAgICAgIEJvYXJkTWFuYWdlci5jYW5jZWxTdGFjay5jbGVhcigpO1xuICAgIH1cblxuXG5cblxuXG4gICAgc3RhdGljIGdldERlZmF1bHRDaGFsa0NvbG9yKCkge1xuICAgICAgICByZXR1cm4gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzQmFja2dyb3VuZFwiKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPT0gXCJibGFja1wiKSA/IFwid2hpdGVcIiA6IFwiYmxhY2tcIjtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBfY3JlYXRlQ2FudmFzRm9yUmVjdGFuZ2xlKHIpIHtcbiAgICAgICAgY29uc3QgQyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgIEMud2lkdGggPSByLngyIC0gci54MTtcbiAgICAgICAgQy5oZWlnaHQgPSByLnkyIC0gci55MTtcbiAgICAgICAgY29uc3QgY3R4ID0gQy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoZ2V0Q2FudmFzKCksXG4gICAgICAgICAgICByLngxLCByLnkxLCByLngyIC0gci54MSwgci55MiAtIHIueTEsIC8vY29vcmRpbmF0ZXMgaW4gdGhlIGNhbnZhc1xuICAgICAgICAgICAgMCwgMCwgci54MiAtIHIueDEsIHIueTIgLSByLnkxKTsgLy9jb29yZGluYXRlcyBpbiB0aGUgbWFnbmV0XG4gICAgICAgIHJldHVybiBDO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHIgYSByZWN0YW5nbGUge3gxLCB5MSwgeDIsIHkyfVxuICAgICAqIEBkZXNjcmlwdGlvbiBjYWxsIHRoZSBjYWxsYmFjayB3aGVuIHRoZSBibG9iIG9mIHRoZSByZWN0YW5nbGUgaXMgY3JlYXRlZFxuICAgICAqL1xuICAgIHN0YXRpYyBfdG9CbG9iT2ZSZWN0YW5nbGUociwgY2FsbGJhY2spIHtcbiAgICAgICAgQm9hcmRNYW5hZ2VyLl9jcmVhdGVDYW52YXNGb3JSZWN0YW5nbGUocikudG9CbG9iKGNhbGxiYWNrKTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICpcbiAgKiBAcGFyYW0geyp9IHIgYSByZWN0YW5nbGUge3gxLCB5MSwgeDIsIHkyfVxuICAqIEByZXR1cm5zIHRoZSBjb250ZW50IGFzIGEgc3RyaW5nIG9mIHRoZSBpbWFnZVxuICAqL1xuICAgIHN0YXRpYyBnZXREYXRhVVJMT2ZSZWN0YW5nbGUocikge1xuICAgICAgICByZXR1cm4gQm9hcmRNYW5hZ2VyLl9jcmVhdGVDYW52YXNGb3JSZWN0YW5nbGUocikudG9EYXRhVVJMKCk7XG4gICAgfVxuXG5cblxuICAgIHN0YXRpYyBpc0NhbmNlbFJlZG9BY3RpdmF0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0cnVlOy8vIVNoYXJlLmlzU2hhcmVkKCk7Ly8oIVNoYXJlLmlzU2hhcmVkKCkgJiYgIUxheW91dC5pc1RhY3RpbGVEZXZpY2UoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc2F2ZSB0aGUgY3VycmVudCBib2FyZCBpbnRvIHRoZSBjYW5jZWwvcmVkbyBzdGFjayBidXQgYWxzbyBpbiB0aGUgbG9jYWxTdG9yYWdlIG9mIHRoZSBicm93c2VyXG4gICAgICovXG4gICAgc3RhdGljIHNhdmUocmVjdGFuZ2xlOiB7IHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIgfSB8IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXQgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG4gICAgICAgIGlmIChyZWN0YW5nbGUgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmVjdGFuZ2xlID0geyB4MTogMCwgeTE6IDAsIHgyOiBjYW52YXMud2lkdGgsIHkyOiBjYW52YXMuaGVpZ2h0IH07XG5cbiAgICAgICAgY2FudmFzLnRvQmxvYigoYmxvYikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzYXZlIHRoYXQgYmxvYjogXCIgKyBibG9iKVxuICAgICAgICAgICAgLy8gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNoYXJlLmdldFRhYmxlYXVOb2lySUQoKSwgY2FudmFzLnRvRGF0YVVSTCgpKTtcbiAgICAgICAgICAgIHJlY3RhbmdsZSA9IHsgeDE6IDAsIHkxOiAwLCB4MjogY2FudmFzLndpZHRoLCB5MjogY2FudmFzLmhlaWdodCB9O1xuICAgICAgICAgICAgQm9hcmRNYW5hZ2VyLmNhbmNlbFN0YWNrLnB1c2goeyB4MTogcmVjdGFuZ2xlLngxLCB5MTogcmVjdGFuZ2xlLnkxLCB4MjogcmVjdGFuZ2xlLngyLCB5MjogcmVjdGFuZ2xlLnkyLCBibG9iOiBibG9iIH0pO1xuICAgICAgICAgICAgLy9TaGFyZS5zZW5kRnVsbENhbnZhcyhibG9iKTtcbiAgICAgICAgfSk7XG5cbiAgICB9XG5cblxuXG5cbiAgICBzdGF0aWMgZ2V0Q3VycmVudFNjcmVlblJlY3RhbmdsZSgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIik7XG4gICAgICAgIGNvbnN0IHgxID0gY29udGFpbmVyLnNjcm9sbExlZnQ7XG4gICAgICAgIGNvbnN0IHkxID0gY29udGFpbmVyLnNjcm9sbFRvcDtcbiAgICAgICAgY29uc3QgeDIgPSB4MSArIExheW91dC5nZXRXaW5kb3dXaWR0aCgpO1xuICAgICAgICBjb25zdCB5MiA9IHkxICsgTGF5b3V0LmdldFdpbmRvd0hlaWdodCgpO1xuICAgICAgICByZXR1cm4geyB4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTIgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2F2ZUN1cnJlbnRTY3JlZW4oKSB7XG4gICAgICAgIEJvYXJkTWFuYWdlci5zYXZlKHsgeDE6IExheW91dC5nZXRXaW5kb3dMZWZ0KCksIHkxOiAwLCB4MjogTGF5b3V0LmdldFdpbmRvd1JpZ2h0KCksIHkyOiBMYXlvdXQuZ2V0V2luZG93SGVpZ2h0KCkgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbG9hZCB0aGUgYm9hcmQgZnJvbSB0aGUgbG9jYWwgc3RvcmFnZVxuICAgICAqL1xuICAgIHN0YXRpYyBsb2FkKGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTaGFyZS5nZXRUYWJsZWF1Tm9pcklEKCkpKSB7XG4gICAgICAgIC8vIGxldCBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oQm9hcmRNYW5hZ2VyLmJvYXJkTmFtZSk7XG5cbiAgICAgICAgaWYgKGRhdGEgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCb2FyZE1hbmFnZXIuX2NsZWFyKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gZGF0YTtcbiAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBCb2FyZE1hbmFnZXIuc2F2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRlZCFcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIEJvYXJkTWFuYWdlci5fY2xlYXIoKTtcbiAgICAgICAgICAgIEJvYXJkTWFuYWdlci5zYXZlKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG5cblxuICAgIC8qKlxuICAgICAqIGxvYWQgdGhlIGJvYXJkIGZyb20gdGhlIGxvY2FsIHN0b3JhZ2VcbiAgICAgKi9cbiAgICBzdGF0aWMgbG9hZFdpdGhvdXRTYXZlKGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShCb2FyZE1hbmFnZXIuYm9hcmROYW1lKSkge1xuICAgICAgICAvLyBsZXQgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKEJvYXJkTWFuYWdlci5ib2FyZE5hbWUpO1xuXG4gICAgICAgIGlmIChkYXRhICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQm9hcmRNYW5hZ2VyLl9jbGVhcigpO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltYWdlLnNyYyA9IGRhdGE7XG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDtcbiAgICAgICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkZWQhXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBCb2FyZE1hbmFnZXIuX2NsZWFyKCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRoZSBudW1iZXIgb2YgcGl4ZWxzIHdoZW4gc2Nyb2xsaW5nXG4gICAgICovXG4gICAgc3RhdGljIHNjcm9sbFF1YW50aXR5KCkge1xuICAgICAgICBjb25zdCBUSEVTSE9MRCA9IDE1MDA7XG4gICAgICAgIGNvbnN0IG1pZGRsZSA9IExheW91dC5nZXRXaW5kb3dXaWR0aCgpIC8gMjtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKG1pZGRsZSwgVEhFU0hPTEQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdvIGxlZnRcbiAgICAgKi9cbiAgICBzdGF0aWMgbGVmdCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKCk7XG4gICAgICAgIGNvbnN0IHggPSBjb250YWluZXIuc2Nyb2xsTGVmdCAtIEJvYXJkTWFuYWdlci5zY3JvbGxRdWFudGl0eSgpO1xuXG4gICAgICAgIGlmICh4IDwgMCkge1xuICAgICAgICAgICAgQm9hcmRNYW5hZ2VyLnNob3dQYWdlTnVtYmVyKDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvKHsgdG9wOiAwLCBsZWZ0OiB4LCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgICAgIEJvYXJkTWFuYWdlci5zaG93UGFnZU51bWJlcih4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnbyByaWdodCAoYW5kIGV4dGVuZCB0aGUgYm9hcmQgaWYgbmVjZXNzYXJ5KVxuICAgICAqL1xuICAgIHN0YXRpYyByaWdodCgpIHtcbiAgICAgICAgY29uc3QgTUFYQ0FOVkFTV0lEVEggPSAyMDAwMDtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKCk7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuICAgICAgICBpZiAoY29udGFpbmVyLnNjcm9sbExlZnQgPj0gTUFYQ0FOVkFTV0lEVEggLSBMYXlvdXQuZ2V0V2luZG93V2lkdGgoKSkge1xuICAgICAgICAgICAgY29udGFpbmVyLnNjcm9sbExlZnQgPSBNQVhDQU5WQVNXSURUSCAtIExheW91dC5nZXRXaW5kb3dXaWR0aCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChjb250YWluZXIuc2Nyb2xsTGVmdCA+PSBjYW52YXMud2lkdGggLSBMYXlvdXQuZ2V0V2luZG93V2lkdGgoKSAtIEJvYXJkTWFuYWdlci5zY3JvbGxRdWFudGl0eSgpKSAmJiBCb2FyZE1hbmFnZXIuX3JpZ2h0RXh0ZW5kQ2FudmFzRW5hYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJleHRlbnNpb246IGNhbnZhcyB3aWR0aCBcIiArIGNhbnZhcy53aWR0aCArIFwiIHRvIFwiICsgKGNvbnRhaW5lci5zY3JvbGxMZWZ0ICsgTGF5b3V0LmdldFdpbmRvd1dpZHRoKCkpKVxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gKChjYW52YXMud2lkdGggLyBCb2FyZE1hbmFnZXIuc2Nyb2xsUXVhbnRpdHkoKSkgKyAxKSAqIEJvYXJkTWFuYWdlci5zY3JvbGxRdWFudGl0eSgpO1xuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLW92ZXJcIjtcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxLjA7XG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQm9hcmRNYW5hZ2VyLl9yaWdodEV4dGVuZENhbnZhc0VuYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IEJvYXJkTWFuYWdlci5fcmlnaHRFeHRlbmRDYW52YXNFbmFibGUgPSB0cnVlIH0sIDEwMDApOy8vcHJldmVudCB0byBleHRlbmQgdGhlIGNhbnZhcyB0b28gbWFueSB0aW1lc1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHggPSBjb250YWluZXIuc2Nyb2xsTGVmdCArIEJvYXJkTWFuYWdlci5zY3JvbGxRdWFudGl0eSgpO1xuICAgICAgICBjb250YWluZXIuc2Nyb2xsVG8oeyB0b3A6IDAsIGxlZnQ6IHgsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICAgICAgQm9hcmRNYW5hZ2VyLnNob3dQYWdlTnVtYmVyKHgpO1xuICAgIH1cblxuXG4gICAgc3RhdGljIHNob3dQYWdlTnVtYmVyKHgpIHtcbiAgICAgICAgY29uc3QgcGFnZU51bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFnZU51bWJlclwiKTtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGdldENvbnRhaW5lcigpO1xuXG4gICAgICAgIHBhZ2VOdW1iZXIuY2xhc3NMaXN0LnJlbW92ZShcInBhZ2VOdW1iZXJIaWRkZW5cIik7XG4gICAgICAgIHBhZ2VOdW1iZXIuY2xhc3NMaXN0LnJlbW92ZShcInBhZ2VOdW1iZXJcIik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IE1hdGgucm91bmQoeCAvIEJvYXJkTWFuYWdlci5zY3JvbGxRdWFudGl0eSgpKTtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gTWF0aC5yb3VuZChjYW52YXMud2lkdGggLyBCb2FyZE1hbmFnZXIuc2Nyb2xsUXVhbnRpdHkoKSk7XG4gICAgICAgICAgICBjb250YWluZXIuc2Nyb2xsTGVmdCA9IChuKSAqIEJvYXJkTWFuYWdlci5zY3JvbGxRdWFudGl0eSgpO1xuICAgICAgICAgICAgcGFnZU51bWJlci5pbm5lckhUTUwgPSAobiArIDEpICsgXCIvXCIgKyAodG90YWwpOyBwYWdlTnVtYmVyLmNsYXNzTGlzdC5hZGQoXCJwYWdlTnVtYmVyXCIpO1xuICAgICAgICB9LCAzMDApXG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gbGV2ZWxcbiAgICAgKi9cbiAgICBzdGF0aWMgX2xvYWRDdXJyZW50Q2FuY2VsbGF0aW9uU3RhY2tEYXRhKGRhdGE6IENhbnZhc01vZGlmaWNhdGlvblJlY3RhbmdsZSwgcmVjdGFuZ2xlOiBDYW52YXNNb2RpZmljYXRpb25SZWN0YW5nbGUpIHtcbiAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gMS4wO1xuXG4gICAgICAgIC8vICBpZiAoZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgaW1hZ2Uuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChkYXRhLmJsb2IpO1xuICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICAvL2NvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCByZWN0YW5nbGUueDEsIHJlY3RhbmdsZS55MSwgcmVjdGFuZ2xlLngyIC0gcmVjdGFuZ2xlLngxLCByZWN0YW5nbGUueTIgLSByZWN0YW5nbGUueTEsXG4gICAgICAgICAgICAgICAgcmVjdGFuZ2xlLngxLCByZWN0YW5nbGUueTEsIHJlY3RhbmdsZS54MiAtIHJlY3RhbmdsZS54MSwgcmVjdGFuZ2xlLnkyIC0gcmVjdGFuZ2xlLnkxKTtcbiAgICAgICAgfVxuICAgICAgICAvKiAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIl9sb2FkQ3VycmVudENhbmNlbGxhdGlvblN0YWNrRGF0YSB3aXRoIHJlY3RhbmdsZSBhdCBcIiArIGRhdGEueDEpXG4gICAgICAgICAgICAgIGltYWdlLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZGF0YS5ibG9iKTtcbiAgICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoZGF0YS54MSwgZGF0YS55MSwgZGF0YS54MiAtIGRhdGEueDEsIGRhdGEueTIgLSBkYXRhLnkxKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCBkYXRhLngxLCBkYXRhLnkxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0qLyAvL3N0aWxsIGJ1Z3lcblxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBzdGF0aWMgY2FuY2VsKCkge1xuICAgICAgICBpZiAoQm9hcmRNYW5hZ2VyLmlzQ2FuY2VsUmVkb0FjdGl2YXRlZCgpKSB7XG4gICAgICAgICAgICBsZXQgdG9wID0gQm9hcmRNYW5hZ2VyLmNhbmNlbFN0YWNrLnRvcCgpO1xuICAgICAgICAgICAgbGV0IHByZXZpb3VzID0gQm9hcmRNYW5hZ2VyLmNhbmNlbFN0YWNrLmJhY2soKTtcbiAgICAgICAgICAgIEJvYXJkTWFuYWdlci5fbG9hZEN1cnJlbnRDYW5jZWxsYXRpb25TdGFja0RhdGEocHJldmlvdXMsIHRvcCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIHN0YXRpYyByZWRvKCkge1xuICAgICAgICBpZiAoQm9hcmRNYW5hZ2VyLmlzQ2FuY2VsUmVkb0FjdGl2YXRlZCgpKSB7XG4gICAgICAgICAgICBsZXQgYyA9IEJvYXJkTWFuYWdlci5jYW5jZWxTdGFjay5mb3J3YXJkKCk7XG4gICAgICAgICAgICBCb2FyZE1hbmFnZXIuX2xvYWRDdXJyZW50Q2FuY2VsbGF0aW9uU3RhY2tEYXRhKGMsIGMpO1xuICAgICAgICB9XG5cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRDYW52YXMgfSBmcm9tIFwiLi9tYWluXCI7XG5pbXBvcnQgeyBTaGFyZSB9IGZyb20gXCIuL3NoYXJlXCI7XG5pbXBvcnQgeyBCb2FyZE1hbmFnZXIgfSBmcm9tICcuL2JvYXJkTWFuYWdlcic7XG5pbXBvcnQgeyBMYXlvdXQgfSBmcm9tICcuL0xheW91dCc7XG5pbXBvcnQgeyBNZW51IH0gZnJvbSAnLi9NZW51JztcbmltcG9ydCB7IFRvdWNoU2NyZWVuIH0gZnJvbSAnLi9Ub3VjaFNjcmVlbic7XG5pbXBvcnQgeyBEcmF3aW5nIH0gZnJvbSAnLi9EcmF3aW5nJztcblxuZXhwb3J0IGNsYXNzIE1hZ25ldE1hbmFnZXIge1xuXG5cdHN0YXRpYyBtYWduZXRYID0gMDtcblx0c3RhdGljIG1hZ25ldFkgPSA2NDtcblx0c3RhdGljIGN1cnJlbnRNYWduZXQgPSB1bmRlZmluZWQ7IC8vIGxhc3QgbWFnbmV0IHVzZWRcblx0c3RhdGljIG1hZ25ldFVuZGVyQ3Vyc29yID0gdW5kZWZpbmVkO1xuXG5cblxuXHQvKipcblx0ICogaW5pdGlhbGl6YXRpb25cblx0ICovXG5cdHN0YXRpYyBpbml0KCkge1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xlYXJNYWduZXRcIikub25jbGljayA9IE1hZ25ldE1hbmFnZXIuY2xlYXJNYWduZXQ7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWduZXRzQXJyYW5nZVwiKS5vbmNsaWNrID0gTWFnbmV0TWFuYWdlci5hcnJhbmdlO1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFnbmV0c0NyZWF0ZUdyYXBoXCIpLm9uY2xpY2sgPSBNYWduZXRNYW5hZ2VyLmRyYXdHcmFwaDtcblx0fVxuXG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHRoZSBtYWduZXQgdW5kZXIgdGhlIGN1cnNvclxuXHQgKi9cblx0c3RhdGljIGdldE1hZ25ldFVuZGVyQ3Vyc29yKCkge1xuXHRcdHJldHVybiBNYWduZXRNYW5hZ2VyLm1hZ25ldFVuZGVyQ3Vyc29yO1xuXHR9XG5cblxuXHQvKipcblx0ICogQHJldHVybnMgdHJ1ZSBpZmYgdGhlcmUgaXMgYSBjdXJyZW50IG1hZ25ldFxuXHQgKi9cblx0c3RhdGljIGhhc0N1cnJlbnRNYWduZXQoKSB7XG5cdFx0cmV0dXJuIE1hZ25ldE1hbmFnZXIuY3VycmVudE1hZ25ldCA9PSB1bmRlZmluZWQ7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gc2V0IHRoYXQgdGhlcmUgaXMgbm8gY3VycmVudCBtYWduZXRcblx0ICovXG5cdHN0YXRpYyBub0N1cnJlbnRNYWduZXQoKSB7XG5cdFx0TWFnbmV0TWFuYWdlci5jdXJyZW50TWFnbmV0ID0gdW5kZWZpbmVkO1xuXHR9XG5cblxuXHQvKipcblx0ICogQHJldHVybnMgdGhlIElEIG9mIHRoZSBjdXJyZW50IG1hZ25ldFxuXHQgKi9cblx0c3RhdGljIGdldEN1cnJlbnRNYWduZXRJRCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBNYWduZXRNYW5hZ2VyLmN1cnJlbnRNYWduZXQuaWQ7XG5cdH1cblxuXG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gYlxuXHQgKiBAZGVzY3JpcHRpb24gaWYgYiA9PSB0cnVlLCBtYWtlcyBhbGwgdGhlIG1hZ25ldHMgaW50ZXJhY3RhYmxlIHdpdGggdGhlIG1vdXNlL3BvaW50ZXJcblx0ICogIGlmIGIgPT0gZmFsc2UsIHRoZSBtYWduZXRzIGNhbm5vdCBiZSBtb3ZlZFxuXHQgKi9cblx0c3RhdGljIHNldEludGVyYWN0YWJsZShiKSB7XG5cdFx0Y29uc3QgdiA9IGIgPyBcImF1dG9cIiA6IFwibm9uZVwiO1xuXG5cdFx0Y29uc3QgbWFnbmV0cyA9IE1hZ25ldE1hbmFnZXIuZ2V0TWFnbmV0cygpO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBtYWduZXRzLmxlbmd0aDsgaSsrKVxuXHRcdFx0KDxhbnk+bWFnbmV0c1tpXSkuc3R5bGUucG9pbnRlckV2ZW50cyA9IHY7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIGFsbCB0aGUgbWFnbmV0c1xuXHQgKi9cblx0c3RhdGljIGdldE1hZ25ldHMoKTogSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD4ge1xuXHRcdHJldHVybiA8SFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD4+ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1hZ25ldFwiKTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHRoZSB0b3AgWSB3aGVuIGEgc2V0IG9mIG1hZ25ldHMgaXMgYXV0b21hdGljYWxseSBhcnJhbmdlZFxuXHQgKi9cblx0c3RhdGljIGdldFlUb3BXaGVuTmV3TWFnbmV0cygpIHtcblx0XHRyZXR1cm4gNjQ7XG5cdH1cblxuXHQvKipcblx0ICogZGVsZXRlIGFsbCB0aGUgbWFnbmV0c1xuXHQgKi9cblx0c3RhdGljIGNsZWFyTWFnbmV0KCkge1xuXHRcdE1hZ25ldE1hbmFnZXIuY3VycmVudE1hZ25ldCA9IHVuZGVmaW5lZDtcblx0XHRNYWduZXRNYW5hZ2VyLm1hZ25ldFggPSBCb2FyZE1hbmFnZXIuZ2V0Q3VycmVudFNjcmVlblJlY3RhbmdsZSgpLngxO1xuXHRcdE1hZ25ldE1hbmFnZXIubWFnbmV0WSA9IE1hZ25ldE1hbmFnZXIuZ2V0WVRvcFdoZW5OZXdNYWduZXRzKCk7XG5cdFx0Y29uc3QgbWFnbmV0cyA9IE1hZ25ldE1hbmFnZXIuZ2V0TWFnbmV0cygpO1xuXG5cdFx0d2hpbGUgKG1hZ25ldHMubGVuZ3RoID4gMClcblx0XHRcdG1hZ25ldHNbMF0ucmVtb3ZlKCk7XG5cblx0XHRTaGFyZS5zZW5kTWFnbmV0cygpO1xuXG5cdFx0TWVudS5oaWRlKCk7XG5cdH1cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHsqfSBlbGVtZW50XG5cdCAqIEBkZXNjcmlwdGlvbiBhZGQgdGhlIERPTSBlbGVtZW50IGVsZW1lbnQgdG8gdGhlIGxpc3Qgb2YgbWFnbmV0c1xuXHQgKi9cblx0c3RhdGljIGFkZE1hZ25ldChlbGVtZW50LCBjYWxsYmFjayA9IChlbCkgPT4geyB9KSB7XG5cdFx0aWYgKE1hZ25ldE1hbmFnZXIubWFnbmV0WCA+IEJvYXJkTWFuYWdlci5nZXRDdXJyZW50U2NyZWVuUmVjdGFuZ2xlKCkueDIgLSAxMCkge1xuXHRcdFx0TWFnbmV0TWFuYWdlci5tYWduZXRYID0gQm9hcmRNYW5hZ2VyLmdldEN1cnJlbnRTY3JlZW5SZWN0YW5nbGUoKS54MTtcblx0XHRcdE1hZ25ldE1hbmFnZXIubWFnbmV0WSArPSA2NDtcblx0XHR9XG5cblx0XHRlbGVtZW50LmlkID0gXCJtXCIgKyBNYXRoLnJhbmRvbSgpOyAvL2dlbmVyYXRlIHJhbmRvbWx5IGFuIGlkXG5cdFx0ZWxlbWVudC5zdHlsZS5sZWZ0ID0gTWFnbmV0TWFuYWdlci5tYWduZXRYICsgXCJweFwiO1xuXHRcdGVsZW1lbnQuc3R5bGUudG9wID0gTWFnbmV0TWFuYWdlci5tYWduZXRZICsgXCJweFwiO1xuXG5cdFx0TWFnbmV0TWFuYWdlci5tYWduZXRYICs9IDY0O1xuXHRcdE1hZ25ldE1hbmFnZXIuY3VycmVudE1hZ25ldCA9IGVsZW1lbnQ7XG5cdFx0ZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWFnbmV0XCIpO1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFnbmV0c1wiKS5hcHBlbmRDaGlsZChlbGVtZW50KTtcblxuXHRcdGNvbnN0IGYgPSAoKSA9PiB7XG5cdFx0XHRpZiAoU2hhcmUuaXNTaGFyZWQoKSlcblx0XHRcdFx0U2hhcmUuc2VuZE5ld01hZ25ldChlbGVtZW50KTtcblx0XHRcdGNhbGxiYWNrKGVsZW1lbnQpO1xuXHRcdH1cblxuXG5cdFx0aWYgKGVsZW1lbnQudGFnTmFtZSA9PSBcIklNR1wiKSB7XG5cdFx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGYpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGYoKTtcblx0XHR9XG5cblx0XHRNYWduZXRNYW5hZ2VyLl9pbnN0YWxsTWFnbmV0KGVsZW1lbnQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBwdXQgdGhlIGV4aXN0aW5nIG1hZ25ldHMgb24gdGhlIGN1cnJlbnQgc2NyZWVuXG5cdCAqL1xuXHRzdGF0aWMgYXJyYW5nZSgpIHtcblx0XHRjb25zdCBtYWduZXRzID0gTWFnbmV0TWFuYWdlci5nZXRNYWduZXRzKCk7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG1hZ25ldHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG1hZ25ldCA9IG1hZ25ldHNbaV07XG5cdFx0XHRsZXQgeCA9IHVuZGVmaW5lZDtcblx0XHRcdGxldCB5ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRjb25zdCBtYWduZXRDb250YWlucyA9IChtLCB4LCB5KSA9PiB7XG5cdFx0XHRcdHJldHVybiAocGFyc2VJbnQobS5zdHlsZS5sZWZ0KSA8PSB4ICYmIHBhcnNlSW50KG0uc3R5bGUudG9wKSA8PSB5ICYmXG5cdFx0XHRcdFx0eCA8PSBwYXJzZUludChtLnN0eWxlLmxlZnQpICsgcGFyc2VJbnQobS5jbGllbnRXaWR0aCkgJiZcblx0XHRcdFx0XHR5IDw9IHBhcnNlSW50KG0uc3R5bGUudG9wKSArIHBhcnNlSW50KG0uY2xpZW50SGVpZ2h0KSk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRpc3QgPSAoKSA9PiB7XG5cdFx0XHRcdGxldCBtaW5EaXN0ID0gMTAwMDAwO1xuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG1hZ25ldHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRtaW5EaXN0ID0gTWF0aC5taW4obWluRGlzdCxcblx0XHRcdFx0XHRcdE1hdGguYWJzKHggLSBwYXJzZUludCgoPGFueT5tYWduZXRzW2pdKS5zdHlsZS5sZWZ0KSkgKyBNYXRoLmFicyh5IC0gcGFyc2VJbnQoKDxhbnk+bWFnbmV0c1tqXSkuc3R5bGUudG9wKSkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtaW5EaXN0O1xuXG5cdFx0XHR9XG5cdFx0XHRjb25zdCBjb250YWlucyA9ICgpID0+IHtcblx0XHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBtYWduZXRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0aWYgKG1hZ25ldENvbnRhaW5zKG1hZ25ldHNbal0sIHgsIHkpIHx8XG5cdFx0XHRcdFx0XHRtYWduZXRDb250YWlucyhtYWduZXRzW2pdLCB4ICsgbWFnbmV0LmNsaWVudFdpZHRoLCB5ICsgbWFnbmV0LmNsaWVudEhlaWdodCkpXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHJlY3QgPSBCb2FyZE1hbmFnZXIuZ2V0Q3VycmVudFNjcmVlblJlY3RhbmdsZSgpO1xuXG5cdFx0XHRjb25zdCBnZW5lcmF0ZVBvc2l0aW9uID0gKCkgPT4ge1xuXHRcdFx0XHRsZXQgY291bnQgPSAwO1xuXHRcdFx0XHRjb25zdCBtYXJnaW4gPSAzMjtcblx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdHggPSByZWN0LngxICsgKE1hdGgucmFuZG9tKCkgKiBMYXlvdXQuZ2V0V2luZG93V2lkdGgoKSk7XG5cdFx0XHRcdFx0eSA9IHJlY3QueTEgKyAoTWF0aC5yYW5kb20oKSAqIDMgKiBMYXlvdXQuZ2V0V2luZG93SGVpZ2h0KCkgLyA0KTtcblxuXHRcdFx0XHRcdHggPSBNYXRoLm1heCh4LCByZWN0LngxICsgbWFyZ2luKTtcblx0XHRcdFx0XHR5ID0gTWF0aC5tYXgoeSwgcmVjdC55MSArIG1hcmdpbik7XG5cdFx0XHRcdFx0eCA9IE1hdGgubWluKHgsIHJlY3QueDIgLSBtYWduZXQuY2xpZW50V2lkdGggLSBtYXJnaW4pO1xuXHRcdFx0XHRcdHkgPSBNYXRoLm1pbih5LCByZWN0LnkyIC0gbWFnbmV0LmNsaWVudEhlaWdodCAtIG1hcmdpbik7XG5cdFx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0fVxuXHRcdFx0XHR3aGlsZSAoY29udGFpbnMoKSAmJiBjb3VudCA8IDUwKVxuXHRcdFx0fVxuXG5cblx0XHRcdGxldCBjb3VudCA9IDA7XG5cdFx0XHRsZXQgYmVzdERpc3QgPSAwO1xuXHRcdFx0bGV0IGJlc3RYID0gdW5kZWZpbmVkO1xuXHRcdFx0bGV0IGJlc3RZID0gdW5kZWZpbmVkO1xuXG5cdFx0XHR3aGlsZSAoY291bnQgPCAzMCkge1xuXG5cdFx0XHRcdGdlbmVyYXRlUG9zaXRpb24oKTtcblxuXHRcdFx0XHRpZiAoYmVzdERpc3QgPCBkaXN0KCkpIHtcblx0XHRcdFx0XHRiZXN0WCA9IHg7XG5cdFx0XHRcdFx0YmVzdFkgPSB5O1xuXHRcdFx0XHRcdGJlc3REaXN0ID0gZGlzdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvdW50Kys7XG5cdFx0XHR9XG5cblx0XHRcdG1hZ25ldC5zdHlsZS5sZWZ0ID0gYmVzdFg7XG5cdFx0XHRtYWduZXQuc3R5bGUudG9wID0gYmVzdFk7XG5cdFx0fVxuXG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMgdGhlIGFycmF5IG9mIGNlbnRlciBwb2ludHMgb2YgZXhpc3RpbmcgbWFnbmV0c1xuXHQgKi9cblx0c3RhdGljIGdldE5vZGVzKCkge1xuXHRcdGNvbnN0IG1hZ25ldHMgPSBNYWduZXRNYW5hZ2VyLmdldE1hZ25ldHMoKTtcblx0XHRjb25zdCBub2RlcyA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbWFnbmV0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgbSA9IG1hZ25ldHNbaV07XG5cdFx0XHRub2Rlcy5wdXNoKHsgeDogcGFyc2VJbnQobS5zdHlsZS5sZWZ0KSArIG0uY2xpZW50V2lkdGggLyAyLCB5OiBwYXJzZUludChtLnN0eWxlLnRvcCkgKyBtLmNsaWVudEhlaWdodCAvIDIgfSk7XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKG5vZGVzKVxuXHRcdHJldHVybiBub2Rlcztcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gbWFrZSBhIGdyYXBoIHdoZXJlIHRoZSBub2RlcyBhcmUgdGhlIG1hZ25ldHNcblx0ICovXG5cdHN0YXRpYyBkcmF3R3JhcGgoKSB7XG5cdFx0TWFnbmV0TWFuYWdlci5hcnJhbmdlKCk7XG5cblx0XHRjb25zdCBub2RlcyA9IE1hZ25ldE1hbmFnZXIuZ2V0Tm9kZXMoKTtcblx0XHRjb25zdCBjYW52YXMgPSBnZXRDYW52YXMoKTtcblx0XHRjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRjb25zdCBlZGdlcyA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGVkZ2VzW2ldID0gW107XG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG5vZGVzLmxlbmd0aDsgaisrKSB7IGVkZ2VzW2ldW2pdID0gMDsgfVxuXHRcdH1cblxuXHRcdC8vIHJldHVybnMgdHJ1ZSBpZmYgdGhlIGxpbmUgZnJvbSAoYSxiKS0+KGMsZCkgaW50ZXJzZWN0cyB3aXRoIChwLHEpLT4ocixzKVxuXHRcdGZ1bmN0aW9uIGludGVyc2VjdHMoYSwgYiwgYywgZCwgcCwgcSwgciwgcykge1xuXHRcdFx0bGV0IGRldCwgZ2FtbWEsIGxhbWJkYTtcblx0XHRcdGRldCA9IChjIC0gYSkgKiAocyAtIHEpIC0gKHIgLSBwKSAqIChkIC0gYik7XG5cdFx0XHRpZiAoZGV0ID09PSAwKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxhbWJkYSA9ICgocyAtIHEpICogKHIgLSBhKSArIChwIC0gcikgKiAocyAtIGIpKSAvIGRldDtcblx0XHRcdFx0Z2FtbWEgPSAoKGIgLSBkKSAqIChyIC0gYSkgKyAoYyAtIGEpICogKHMgLSBiKSkgLyBkZXQ7XG5cdFx0XHRcdHJldHVybiAoMCA8IGxhbWJkYSAmJiBsYW1iZGEgPCAxKSAmJiAoMCA8IGdhbW1hICYmIGdhbW1hIDwgMSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgaXNDcm9zc2luZyA9IChpLCBqKSA9PiB7XG5cdFx0XHRmb3IgKGxldCBrID0gMDsgayA8IG5vZGVzLmxlbmd0aDsgaysrKVxuXHRcdFx0XHRmb3IgKGxldCBsID0gMDsgbCA8IG5vZGVzLmxlbmd0aDsgbCsrKVxuXHRcdFx0XHRcdGlmIChlZGdlc1trXVtsXSkge1xuXHRcdFx0XHRcdFx0aWYgKGludGVyc2VjdHMobm9kZXNbaV0ueCwgbm9kZXNbaV0ueSwgbm9kZXNbal0ueCwgbm9kZXNbal0ueSwgbm9kZXNba10ueCwgbm9kZXNba10ueSwgbm9kZXNbbF0ueCwgbm9kZXNbbF0ueSkpXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKVxuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBub2Rlcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRpZiAoTWF0aC5hYnMobm9kZXNbaV0ueCAtIG5vZGVzW2pdLngpICsgTWF0aC5hYnMobm9kZXNbaV0ueSAtIG5vZGVzW2pdLnkpIDwgNDAwICYmICFpc0Nyb3NzaW5nKGksIGopKSB7XG5cdFx0XHRcdFx0ZWRnZXNbaV1bal0gPSAxO1xuXHRcdFx0XHRcdERyYXdpbmcuZHJhd0xpbmUoY29udGV4dCwgbm9kZXNbaV0ueCwgbm9kZXNbaV0ueSwgbm9kZXNbal0ueCwgbm9kZXNbal0ueSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdEJvYXJkTWFuYWdlci5zYXZlKHVuZGVmaW5lZCk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gYWRkcyB0aGUgZXZlbnQgbW91c2Vkb3duIGV0Yy4gdG8gdGhlIG1hZ25ldHMuIENhbGwgTGFURVhcblx0ICovXG5cdHN0YXRpYyBpbnN0YWxsTWFnbmV0cygpIHtcblx0XHRjb25zdCBtYWduZXRzID0gTWFnbmV0TWFuYWdlci5nZXRNYWduZXRzKCk7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG1hZ25ldHMubGVuZ3RoOyBpKyspXG5cdFx0XHRNYWduZXRNYW5hZ2VyLl9pbnN0YWxsTWFnbmV0KG1hZ25ldHNbaV0pO1xuXG5cdFx0ZXZhbChcIk1hdGhKYXgudHlwZXNldCgpO1wiKTtcblxuXHR9XG5cblxuXG5cblx0LyoqXG5cdCAqIEBwYXJhbSBlbGVtZW50IFxuXHQgKiBAZGVzY3JpcHRpb24gc2V0IHRoZSB6LWluZGV4IG9mIHRoZSBlbGVtZW50IGRlcGVuZGluZyBvbiB0aGUgc2l6ZSBvZiB0aGUgZWxlbWVudFxuXHQgKi9cblx0c3RhdGljIHNldFpJbmRleChlbGVtZW50KSB7XG5cdFx0bGV0IGYgPSAoKSA9PiB7IGNvbnN0IExBUkdFTlVNQkVSID0gMTAwMDA7IGVsZW1lbnQuc3R5bGUuekluZGV4ID0gTEFSR0VOVU1CRVIgLSBlbGVtZW50LmNsaWVudFdpZHRoOyB9O1xuXG5cdFx0aWYgKGVsZW1lbnQudGFnTmFtZSA9PSBcIklNR1wiKSB7XG5cdFx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGYpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGYoKTtcblx0XHR9XG5cdH1cblxuXG5cblx0LyoqXG5cdCAqIFxuXHQgKiBAcGFyYW0gZWxlbWVudCBcblx0ICogQHJldHVybnMgYSBjb3B5IG9mIHRoZSBlbGVtZW50LCByZWFkeSB0byBiZSBnaXZlbiB0byBhZGRNYWduZXRcblx0ICovXG5cdHByaXZhdGUgc3RhdGljIGNyZWF0ZUNvcHlNYWduZXQoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XG5cdFx0cmV0dXJuIDxIVE1MRWxlbWVudD5lbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIFxuXHQgKiBAcGFyYW0gZWxlbWVudCBcblx0ICogQGRlc2NyaXB0aW9uIG1ha2VzIHRoYXQgdGhlIG1hZ25ldCBpcyBkcmFnZ2FibGVcblx0ICovXG5cdHByaXZhdGUgc3RhdGljIG1ha2VEcmFnZ2FibGVFbGVtZW50KGVsZW1lbnQpIHtcblx0XHRsZXQgZHggPSAwLCBkeSA9IDAsIHggPSAwLCB5ID0gMDtcblxuXHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIGRyYWdNb3VzZURvd24pO1xuXG5cdFx0VG91Y2hTY3JlZW4uYWRkVG91Y2hFdmVudHMoZWxlbWVudCk7XG5cblx0XHRsZXQgb3RoZXJFbGVtZW50c1RvTW92ZSA9IFtdO1xuXHRcdGxldCBjYW52YXNDdXJzb3JTdG9yZSA9IHVuZGVmaW5lZDtcblx0XHRsZXQgZHJhZyA9IHRydWU7XG5cblxuXHRcdGZ1bmN0aW9uIGRyYWdNb3VzZURvd24oZXZ0KSB7XG5cdFx0XHRkcmFnID0gdHJ1ZTtcblx0XHRcdE1hZ25ldE1hbmFnZXIuY3VycmVudE1hZ25ldCA9IGV2dC50YXJnZXQ7XG5cblx0XHRcdGlmIChldnQuY3RybEtleSkge1xuXHRcdFx0XHQvKiptYWtlcyBhIGNvcHkuIFRoZSBjb3B5IGRvZXMgbm90IG1vdmUuICovXG5cdFx0XHRcdGNvbnN0IGNvcHkgPSBNYWduZXRNYW5hZ2VyLmNyZWF0ZUNvcHlNYWduZXQoZWxlbWVudCk7XG5cdFx0XHRcdE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KGNvcHkpO1xuXHRcdFx0XHRTaGFyZS5leGVjdXRlKFwibWFnbmV0TW92ZVwiLCBbY29weS5pZCwgZWxlbWVudC5zdHlsZS5sZWZ0LCBlbGVtZW50LnN0eWxlLnRvcF0pO1xuXHRcdFx0fVxuXHRcdFx0LyoqXG5cdFx0XHQgKiBcblx0XHRcdCAqIEBwYXJhbSB7Kn0gZWxlbWVudCBcblx0XHRcdCAqIEBwYXJhbSB7Kn0gYmlnRWxlbWVudCBcblx0XHRcdCAqIEByZXR1cm5zIHRydWUgaWYgZWxlbWVudCBpcyBpbnNpZGUgYmlnRWxlbWVudFxuXHRcdFx0ICovXG5cdFx0XHRmdW5jdGlvbiBpbnNpZGUoZWxlbWVudCwgYmlnRWxlbWVudCkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbWVudC5vZmZzZXRMZWZ0ID4gYmlnRWxlbWVudC5vZmZzZXRMZWZ0ICYmIGVsZW1lbnQub2Zmc2V0VG9wID4gYmlnRWxlbWVudC5vZmZzZXRUb3AgJiZcblx0XHRcdFx0XHRlbGVtZW50Lm9mZnNldExlZnQgKyBlbGVtZW50LmNsaWVudFdpZHRoIDwgYmlnRWxlbWVudC5vZmZzZXRMZWZ0ICsgYmlnRWxlbWVudC5jbGllbnRXaWR0aCAmJlxuXHRcdFx0XHRcdGVsZW1lbnQub2Zmc2V0VG9wICsgZWxlbWVudC5jbGllbnRIZWlnaHQgPCBiaWdFbGVtZW50Lm9mZnNldFRvcCArIGJpZ0VsZW1lbnQuY2xpZW50SGVpZ2h0O1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBjYW52YXMgPSBnZXRDYW52YXMoKTtcblx0XHRcdGNhbnZhc0N1cnNvclN0b3JlID0gY2FudmFzLnN0eWxlLmN1cnNvcjtcblx0XHRcdGV2dCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7XG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTsgLy90byBhdm9pZCB0aGUgZHJhZy9kcm9wIGJ5IHRoZSBicm93c2VyXG5cdFx0XHQvLyBnZXQgdGhlIG1vdXNlIGN1cnNvciBwb3NpdGlvbiBhdCBzdGFydHVwOlxuXG5cdFx0XHR4ID0gZXZ0LmNsaWVudFggKiBMYXlvdXQuZ2V0Wm9vbSgpO1xuXHRcdFx0eSA9IGV2dC5jbGllbnRZICogTGF5b3V0LmdldFpvb20oKTtcblxuXHRcdFx0ZG9jdW1lbnQub25wb2ludGVydXAgPSBjbG9zZURyYWdFbGVtZW50O1xuXHRcdFx0ZG9jdW1lbnQub25tb3VzZXVwID0gY2xvc2VEcmFnRWxlbWVudDtcblx0XHRcdGRvY3VtZW50Lm9ucG9pbnRlcm1vdmUgPSBlbGVtZW50RHJhZztcblxuXHRcdFx0bGV0IG1hZ25ldHMgPSBNYWduZXRNYW5hZ2VyLmdldE1hZ25ldHMoKTtcblx0XHRcdG90aGVyRWxlbWVudHNUb01vdmUgPSBbXTtcblxuXHRcdFx0Ly9pZihlbG10LnN0eWxlLmNsaXBQYXRoID09IHVuZGVmaW5lZCkgLy9pZiBub3QgYW4gaW1hZ2UgKG90aGVyd2lzZSBidWcpXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG1hZ25ldHMubGVuZ3RoOyBpKyspXG5cdFx0XHRcdGlmIChtYWduZXRzW2ldICE9IGVsZW1lbnQgJiYgaW5zaWRlKG1hZ25ldHNbaV0sIGVsZW1lbnQpKSB7XG5cdFx0XHRcdFx0b3RoZXJFbGVtZW50c1RvTW92ZS5wdXNoKG1hZ25ldHNbaV0pO1xuXHRcdFx0XHR9XG5cblxuXHRcdH1cblxuXG5cblx0XHRmdW5jdGlvbiBlbGVtZW50RHJhZyhlKSB7XG5cdFx0XHRpZiAoIWRyYWcpIHJldHVybjtcblxuXHRcdFx0TWFnbmV0TWFuYWdlci5jdXJyZW50TWFnbmV0ID0gZS50YXJnZXQ7XG5cdFx0XHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwibWFnbmV0RHJhZ1wiKTtcblx0XHRcdGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuXG5cdFx0XHRjYW52YXMuc3R5bGUuY3Vyc29yID0gXCJub25lXCI7XG5cdFx0XHRlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQvLyBjYWxjdWxhdGUgdGhlIG5ldyBjdXJzb3IgcG9zaXRpb246XG5cdFx0XHRkeCA9IHggLSBlLmNsaWVudFggKiBMYXlvdXQuZ2V0Wm9vbSgpO1xuXHRcdFx0ZHkgPSB5IC0gZS5jbGllbnRZICogTGF5b3V0LmdldFpvb20oKTtcblx0XHRcdHggPSBlLmNsaWVudFggKiBMYXlvdXQuZ2V0Wm9vbSgpO1xuXHRcdFx0eSA9IGUuY2xpZW50WSAqIExheW91dC5nZXRab29tKCk7XG5cblxuXG5cdFx0XHQvLyBzZXQgdGhlIGVsZW1lbnQncyBuZXcgcG9zaXRpb246XG5cdFx0XHRTaGFyZS5leGVjdXRlKFwibWFnbmV0TW92ZVwiLCBbZWxlbWVudC5pZCwgZWxlbWVudC5vZmZzZXRMZWZ0IC0gZHgsIGVsZW1lbnQub2Zmc2V0VG9wIC0gZHldKTtcblxuXHRcdFx0Zm9yIChsZXQgZWwgb2Ygb3RoZXJFbGVtZW50c1RvTW92ZSkge1xuXHRcdFx0XHRTaGFyZS5leGVjdXRlKFwibWFnbmV0TW92ZVwiLCBbZWwuaWQsIGVsLm9mZnNldExlZnQgLSBkeCwgZWwub2Zmc2V0VG9wIC0gZHldKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjbG9zZURyYWdFbGVtZW50KGUpIHtcblx0XHRcdGlmICghZHJhZylcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHRkcmFnID0gZmFsc2U7XG5cdFx0XHRjb25zb2xlLmxvZyhcImNsb3NlIGRyYWdcIilcblxuXHRcdFx0bGV0IG1hZ25ldHMgPSBNYWduZXRNYW5hZ2VyLmdldE1hZ25ldHMoKTtcblxuXHRcdFx0Zm9yKGxldCBpID0gMDsgaSA8IG1hZ25ldHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0bWFnbmV0c1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwibWFnbmV0RHJhZ1wiKTtcblx0XHRcdH1cblxuXHRcdFx0Z2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yID0gY2FudmFzQ3Vyc29yU3RvcmU7XG5cblx0XHRcdC8vIHN0b3AgbW92aW5nIHdoZW4gbW91c2UgYnV0dG9uIGlzIHJlbGVhc2VkOlxuXHRcdFx0ZG9jdW1lbnQub25tb3VzZXVwID0gbnVsbDtcblx0XHRcdGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXG5cblx0LyoqXG5cdCAqIFxuXHQgKiBAcGFyYW0gZWxlbWVudCBcblx0ICogQGRlc2NyaXB0aW9uIGFkZHMgdGhlIGV2ZW50IG1vdXNlZG93biBldGMuIHRvIHRoZSBtYWduZXQuIENhbGwgTGFURVhcblx0ICovXG5cdHN0YXRpYyBfaW5zdGFsbE1hZ25ldChlbGVtZW50KSB7XG5cdFx0aWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFnbmV0VGV4dFwiKSlcblx0XHRcdE1hZ25ldE1hbmFnZXIuaW5zdGFsbE1hZ25ldFRleHQoZWxlbWVudCk7XG5cblx0XHRNYWduZXRNYW5hZ2VyLm1ha2VEcmFnZ2FibGVFbGVtZW50KGVsZW1lbnQpO1xuXHRcdE1hZ25ldE1hbmFnZXIuc2V0WkluZGV4KGVsZW1lbnQpO1xuXG5cdFx0ZWxlbWVudC5vbm1vdXNlZW50ZXIgPSAoKSA9PiB7IE1hZ25ldE1hbmFnZXIubWFnbmV0VW5kZXJDdXJzb3IgPSBlbGVtZW50IH07XG5cdFx0ZWxlbWVudC5vbm1vdXNlbGVhdmUgPSAoKSA9PiB7IE1hZ25ldE1hbmFnZXIubWFnbmV0VW5kZXJDdXJzb3IgPSB1bmRlZmluZWQgfTtcblxuXHR9XG5cblxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0gZmlsZW5hbWVcblx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdCAqIEBkZXNjcmlwdGlvbiBhZGRzIGEgaW1hZ2UgbWFnbmV0IHdoZXJlIHRoZSBmaWxlIGlzIGFscmVhZHkgb24gdGhlIHNlcnZlclxuXHQgKi9cblx0c3RhdGljIGFkZE1hZ25ldEltYWdlKGZpbGVuYW1lLCBjYWxsYmFjayA9IChlbCkgPT4geyB9KSB7XG5cdFx0Y29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG5cdFx0aW1nLnNyYyA9IFwiaW1nL21hZ25ldHMvXCIgKyBmaWxlbmFtZTtcblx0XHRpbWcuY2xhc3NMaXN0LmFkZChcImJhY2tncm91bmRUcmFuc3BhcmVudFwiKTtcblx0XHRNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChpbWcsIGNhbGxiYWNrKTtcblx0XHRyZXR1cm4gaW1nO1xuXHR9XG5cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIGVsZW1lbnRcblx0ICogQGRlc2NyaXB0aW9uIHNldCB1cCB0aGUgdGV4dCBtYWduZXQ6IGFkZCB0aGUgbW91c2UgZXZlbnQsIGtleSBldmVudCBmb3IgZWRpdGluZyB0aGUgdGV4dCBtYWduZXRcblx0ICovXG5cdHN0YXRpYyBpbnN0YWxsTWFnbmV0VGV4dChlbGVtZW50KSB7XG5cblx0XHRjb25zdCBkaXZUZXh0ID0gZWxlbWVudC5jaGlsZHJlblswXTtcblxuXHRcdGRpdlRleHQub25wb2ludGVyZG93biA9IChlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH1cblx0XHRkaXZUZXh0Lm9ucG9pbnRlcm1vdmUgPSAoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyB9XG5cdFx0ZGl2VGV4dC5vbnBvaW50ZXJ1cCA9IChlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH1cblx0XHRkaXZUZXh0Lm9ua2V5ZG93biA9IChlKSA9PiB7XG5cdFx0XHRjb25zdCBzZXRGb250U2l6ZSA9IChzaXplKSA9PiB7XG5cdFx0XHRcdGRpdlRleHQuc3R5bGUuZm9udFNpemUgPSBzaXplICsgXCJweFwiO1xuXHRcdFx0XHRmb3IgKGNvbnN0IG8gb2YgZGl2VGV4dC5jaGlsZHJlbikge1xuXHRcdFx0XHRcdG8uc3R5bGUuZm9udFNpemUgPSBzaXplICsgXCJweFwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblxuXHRcdFx0aWYgKGUua2V5ID09IFwiRXNjYXBlXCIpIHtcblx0XHRcdFx0ZGl2VGV4dC5ibHVyKCk7XG5cdFx0XHRcdGV2YWwoXCJNYXRoSmF4LnR5cGVzZXQoKTtcIilcblx0XHRcdFx0d2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuXHRcdFx0XHQvKmlmKGRpdlRleHQuaW5uZXJIVE1MID09IFwiXCIpXG5cdFx0XHRcdFx0TWFnbmV0TWFuYWdlci5yZW1vdmUoZGl2KTsqL1xuXHRcdFx0fVxuXHRcdFx0aWYgKChlLmN0cmxLZXkgJiYgZS5rZXkgPT0gXCI9XCIpIHx8IChlLmN0cmxLZXkgJiYgZS5rZXkgPT0gXCIrXCIpKSB7IC8vIEN0cmwgKyArXG5cblx0XHRcdFx0bGV0IHNpemUgPSBwYXJzZUludChkaXZUZXh0LnN0eWxlLmZvbnRTaXplKTtcblx0XHRcdFx0c2l6ZSsrO1xuXHRcdFx0XHRzZXRGb250U2l6ZShzaXplKTtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZS5jdHJsS2V5ICYmIGUua2V5ID09IFwiLVwiKSB7IC8vIEN0cmwgKyAtXG5cdFx0XHRcdGxldCBzaXplID0gcGFyc2VJbnQoZGl2VGV4dC5zdHlsZS5mb250U2l6ZSk7XG5cdFx0XHRcdGlmIChzaXplID4gNikgc2l6ZS0tO1xuXHRcdFx0XHRzZXRGb250U2l6ZShzaXplKTtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXG5cblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXG5cdFx0ZGl2VGV4dC5vbmtleXVwID0gZXZ0ID0+IHtcblx0XHRcdGlmIChTaGFyZS5pc1NoYXJlZCgpKVxuXHRcdFx0XHRTaGFyZS5zZW5kTWFnbmV0Q2hhbmdlZChlbGVtZW50KTtcblx0XHRcdGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9O1xuXHR9XG5cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHsqfSB4XG5cdCAqIEBwYXJhbSB7Kn0geVxuXHQgKiBAZGVzY3JpcHRpb24gYWRkcyBhIG5ldyBtYWduZXQgdGV4dCBhdCBwb3NpdGlvbiB4IGFuZCB5XG5cdCAqL1xuXHRzdGF0aWMgYWRkTWFnbmV0VGV4dCh4LCB5KSB7XG5cdFx0Y29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRjb25zdCBkaXZUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuXHRcdGRpdi5hcHBlbmRDaGlsZChkaXZUZXh0KTtcblx0XHRkaXZUZXh0LmlubmVySFRNTCA9IFwidHlwZSB0ZXh0XCI7XG5cdFx0ZGl2VGV4dC5jb250ZW50RWRpdGFibGUgPSBcInRydWVcIjtcblx0XHRkaXZUZXh0LnN0eWxlLmZvbnRTaXplID0gXCIyNHB4XCI7XG5cdFx0ZGl2LmNsYXNzTGlzdC5hZGQoXCJtYWduZXRUZXh0XCIpO1xuXG5cblx0XHRNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChkaXYpO1xuXHRcdGRpdi5zdHlsZS5sZWZ0ID0geCArIFwicHhcIjtcblx0XHRkaXYuc3R5bGUudG9wID0geSArIFwicHhcIjtcblx0XHRkaXZUZXh0LmZvY3VzKCk7XG5cblx0XHRpZiAoU2hhcmUuaXNTaGFyZWQoKSlcblx0XHRcdFNoYXJlLnNlbmRNYWduZXRDaGFuZ2VkKGRpdik7XG5cblxuXHRcdGRvY3VtZW50LmV4ZWNDb21tYW5kKCdzZWxlY3RBbGwnLCBmYWxzZSwgbnVsbCk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gcmVtb3ZlIHRoZSBjdXJyZW50IG1hZ25ldFxuXHQgKi9cblx0c3RhdGljIHJlbW92ZUN1cnJlbnRNYWduZXQoKSB7XG5cdFx0aWYgKE1hZ25ldE1hbmFnZXIuY3VycmVudE1hZ25ldCA9PSB1bmRlZmluZWQpXG5cdFx0XHRyZXR1cm47XG5cdFx0U2hhcmUuZXhlY3V0ZShcIm1hZ25ldFJlbW92ZVwiLCBbTWFnbmV0TWFuYWdlci5jdXJyZW50TWFnbmV0LmlkXSk7XG5cdH1cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHsqfSBpZFxuXHQgKiBAZGVzY3JpcHRpb24gcmVtb3ZlIHRoZSBtYWduZXQgb2YgaWRcblx0ICovXG5cdHN0YXRpYyBtYWduZXRSZW1vdmUoaWQpIHtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkucmVtb3ZlKCk7XG5cdFx0TWFnbmV0TWFuYWdlci5jdXJyZW50TWFnbmV0ID09IHVuZGVmaW5lZDtcblx0XHRNYWduZXRNYW5hZ2VyLm1hZ25ldFVuZGVyQ3Vyc29yID0gdW5kZWZpbmVkO1xuXHR9XG5cblxuXHQvKipcblx0ICogQHBhcmFtIGltZ1xuXHQgKiBAZGVzY3JpcHRpb24gZHJhdyB0aGUgY3VycmVudCBtYWduZXQgdG8gdGhlIGNhbnZhc1xuXHQgKi9cblx0c3RhdGljIHByaW50TWFnbmV0KGltZykge1xuXG5cdFx0aWYgKCEoaW1nIGluc3RhbmNlb2YgSW1hZ2UpKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcInRoZSBjdXJyZW50IGltYWdlIGlzIG5vdCBhbiBpbWFnZSEgQ291bGQgbm90IGJlIHByaW50ZWQhXCIpXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgY29udGV4dCA9IGdldENhbnZhcygpLmdldENvbnRleHQoXCIyZFwiKTtcblxuXHRcdGNvbnN0IHggPSBwYXJzZUludChpbWcuc3R5bGUubGVmdCk7XG5cdFx0Y29uc3QgeSA9IHBhcnNlSW50KGltZy5zdHlsZS50b3ApO1xuXHRcdGxldCBzID0gaW1nLnN0eWxlLmNsaXBQYXRoO1xuXG5cdFx0cyA9IHMuc3Vic3RyKFwicG9seWdvbihcIi5sZW5ndGgsIHMubGVuZ3RoIC0gXCJwb2x5Z29uKFwiLmxlbmd0aCAtIFwiKVwiLmxlbmd0aCk7XG5cblx0XHRjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLW92ZXJcIjtcblx0XHRjb250ZXh0LnNhdmUoKTtcblx0XHRjb250ZXh0LmJlZ2luUGF0aCgpO1xuXHRcdGxldCBiZWdpbiA9IHRydWU7XG5cdFx0Zm9yIChsZXQgcG9pbnRTdHIgb2Ygcy5zcGxpdChcIixcIikpIHtcblx0XHRcdHBvaW50U3RyID0gcG9pbnRTdHIudHJpbSgpO1xuXHRcdFx0Y29uc3QgYSA9IHBvaW50U3RyLnNwbGl0KFwiIFwiKTtcblx0XHRcdGlmIChiZWdpbilcblx0XHRcdFx0Y29udGV4dC5tb3ZlVG8oeCArIHBhcnNlSW50KGFbMF0pLCB5ICsgcGFyc2VJbnQoYVsxXSkpO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRjb250ZXh0LmxpbmVUbyh4ICsgcGFyc2VJbnQoYVswXSksIHkgKyBwYXJzZUludChhWzFdKSk7XG5cdFx0XHRiZWdpbiA9IGZhbHNlO1xuXHRcdH1cblx0XHRjb250ZXh0LmNsb3NlUGF0aCgpO1xuXHRcdGNvbnRleHQuY2xpcCgpO1xuXG5cdFx0Y29udGV4dC5kcmF3SW1hZ2UoaW1nLCB4LCB5KTtcblxuXHRcdGNvbnRleHQucmVzdG9yZSgpO1xuXG5cdFx0Qm9hcmRNYW5hZ2VyLnNhdmUoe3gxOiB4LCB5MTogeSwgeDI6IHggKyBpbWcud2lkdGgsIHkyOiB5ICsgaW1nLmhlaWdodH0pO1xuXHR9XG5cblxuXG5cbn1cbiIsImltcG9ydCB7IENoYWxrQ3Vyc29yIH0gZnJvbSAnLi9DaGFsa0N1cnNvcic7XG5cbi8qKlxuICogdGhlIGNpcmN1bGFyIHBhbGV0dGVcbiAqL1xuZXhwb3J0IGNsYXNzIFBhbGV0dGUge1xuICAgIC8qKiBjb2xvcnMgdGhhdCBjYW4gaGF2ZSBhIGNoYWxrLiBUaGUgZmlyc3QgY29sb3IgKm11c3QqIGJlIHdoaXRlICovXG4gICAgY29sb3JzID0gW1wid2hpdGVcIiwgXCJ5ZWxsb3dcIiwgXCJvcmFuZ2VcIiwgXCJyZ2IoMTAwLCAxNzIsIDI1NSlcIiwgXCJDcmltc29uXCIsIFwiUGx1bVwiLCBcIkxpbWVHcmVlblwiXTtcblxuXG4gICAgYnV0dG9ucyA9IFtdO1xuICAgIGN1cnJlbnRDb2xvcklEID0gMDtcbiAgICBvbmNoYW5nZSA9ICgpID0+IHsgfTtcblxuXG4gICAgc3RhdGljIHJhZGl1cyA9IDk2O1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXRpb24gY3JlYXRlICh0aGUgRE9NIGVsZW1lbnRzIG9mKSB0aGUgcGFsZXR0ZVxuICAgICAqL1xuICAgIF9jcmVhdGVQYWxldHRlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhbGV0dGVcIik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2xvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uc1tpXSA9IHRoaXMuX2NyZWF0ZUNvbG9yQnV0dG9uKGkpO1xuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHRoaXMuYnV0dG9uc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gc3dpdGNoIHRoZSBmaXJzdCBjb2xvciAod2hpdGUgPD0+IGJsYWNrKVxuICAgICAqL1xuICAgIHN3aXRjaEJsYWNrQW5kV2hpdGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29sb3JzWzBdID0gKHRoaXMuY29sb3JzWzBdID09IFwid2hpdGVcIikgPyBcImJsYWNrXCIgOiBcIndoaXRlXCI7XG4gICAgICAgIHRoaXMub25jaGFuZ2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gaSAgYW4gaW5kZXggYmV0d2VlbiAwIGFuZCB0aGlzLmNvbG9ycy5sZW5ndGggLSAxXG4gICAgICogQGRlc2NyaXB0aW9uIGNyZWF0ZSB0aGUgYnV0dG9uIGZvciB0aGUgY29sb3Igb2YgaW5kZXggaVxuICAgICAqL1xuICAgIF9jcmVhdGVDb2xvckJ1dHRvbihpOiBudW1iZXIpOiBIVE1MSW1hZ2VFbGVtZW50IHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5zcmMgPSBDaGFsa0N1cnNvci5nZXRDdXJzb3JVUkwodGhpcy5jb2xvcnNbaV0pO1xuICAgICAgICBpbWcuY2xhc3NMaXN0LmFkZChcInBhbGV0dGVDb2xvckJ1dHRvblwiKTtcblxuICAgICAgICBjb25zdCBhbmdsZSA9IC1NYXRoLlBJIC8gMiArIDIgKiBNYXRoLlBJICogaSAvIHRoaXMuY29sb3JzLmxlbmd0aDtcblxuICAgICAgICBpbWcuc3R5bGUudG9wID0gKFBhbGV0dGUucmFkaXVzICogTWF0aC5zaW4oYW5nbGUpIC0gMjIpICsgXCJweFwiO1xuICAgICAgICBpbWcuc3R5bGUubGVmdCA9IChQYWxldHRlLnJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSAtIDE2KSArIFwicHhcIjtcbiAgICAgICAgaW1nLnN0eWxlLmJvcmRlckNvbG9yID0gdGhpcy5jb2xvcnNbaV07XG5cbiAgICAgICAgaW1nLm9ubW91c2Vkb3duID0gKGV2dCkgPT4geyBldnQucHJldmVudERlZmF1bHQoKTsgfSAvL3RvIHByZXZlbnQgdGhlIGRyYWcgYW5kIGRyb3Agb2YgdGhlIGltYWdlIG9mIHRoZSBjaGFsa1xuXG4gICAgICAgIGltZy5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5idXR0b25zW3RoaXMuY3VycmVudENvbG9ySURdLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbG9ySUQgPSBpO1xuICAgICAgICAgICAgdGhpcy5idXR0b25zW3RoaXMuY3VycmVudENvbG9ySURdLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgdGhpcy5vbmNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIHNlbGVjdCB0aGUgbmV4dCBjb2xvclxuICAgICAqL1xuICAgIG5leHQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYnV0dG9uc1t0aGlzLmN1cnJlbnRDb2xvcklEXS5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7XG4gICAgICAgIHRoaXMuY3VycmVudENvbG9ySUQrKztcbiAgICAgICAgdGhpcy5jdXJyZW50Q29sb3JJRCA9IHRoaXMuY3VycmVudENvbG9ySUQgJSB0aGlzLmNvbG9ycy5sZW5ndGg7XG4gICAgICAgIHRoaXMuYnV0dG9uc1t0aGlzLmN1cnJlbnRDb2xvcklEXS5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XG4gICAgICAgIHRoaXMub25jaGFuZ2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gc2VsZWN0IHRoZSBwcmV2aW91cyBjb2xvclxuICAgICAqL1xuICAgIHByZXZpb3VzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJ1dHRvbnNbdGhpcy5jdXJyZW50Q29sb3JJRF0uY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO1xuICAgICAgICB0aGlzLmN1cnJlbnRDb2xvcklELS07XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDb2xvcklEIDwgMClcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbG9ySUQgPSB0aGlzLmNvbG9ycy5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLmJ1dHRvbnNbdGhpcy5jdXJyZW50Q29sb3JJRF0uY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO1xuICAgICAgICB0aGlzLm9uY2hhbmdlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIGEgcG9pbnQge3g6IC4uLiwgeTogLi4ufVxuICAgICAqIEBkZXNjcmlwdGlvbiBzaG93IHRoZSBwYWxldHRlIGF0IHBvc2l0aW9uIHBvc2l0aW9uXG4gICAgICovXG4gICAgc2hvdyhwb3NpdGlvbjogeyB4LCB5IH0pOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYWxldHRlXCIpO1xuICAgICAgICBkaXYuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgdGhpcy5fY3JlYXRlUGFsZXR0ZSgpO1xuXG4gICAgICAgIHBvc2l0aW9uLnkgPSBNYXRoLm1heChwb3NpdGlvbi55LCBQYWxldHRlLnJhZGl1cyArIDE2ICsgNDgpO1xuICAgICAgICBwb3NpdGlvbi54ID0gTWF0aC5tYXgocG9zaXRpb24ueCwgUGFsZXR0ZS5yYWRpdXMgKyAxNiArIDQ4KTtcblxuICAgICAgICBkaXYuc3R5bGUubGVmdCA9IHBvc2l0aW9uLnggKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS50b3AgPSBwb3NpdGlvbi55ICsgXCJweFwiO1xuICAgICAgICBkaXYuY2xhc3NMaXN0LnJlbW92ZShcIlBhbGV0dGVIaWRlXCIpO1xuICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZChcIlBhbGV0dGVTaG93XCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBoaWRlIHRoZSBwYWxldHRlXG4gICAgICovXG4gICAgaGlkZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYWxldHRlXCIpO1xuICAgICAgICBkaXYuY2xhc3NMaXN0LnJlbW92ZShcIlBhbGV0dGVTaG93XCIpO1xuICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZChcIlBhbGV0dGVIaWRlXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWZmIHRoZSBwYWxldHRlIGlzIHNob3duXG4gICAgICovXG4gICAgaXNTaG93bigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFsZXR0ZVwiKS5jbGFzc0xpc3QuY29udGFpbnMoXCJQYWxldHRlU2hvd1wiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0aGUgc2VsZWN0ZWQgY29sb3JcbiAgICAgKi9cbiAgICBnZXRDdXJyZW50Q29sb3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3JzW3RoaXMuY3VycmVudENvbG9ySURdO1xuICAgIH1cbn1cbiIsIi8qKiBHYWxlLVNoYXBsZXkgKi9cblxuaW1wb3J0IHsgU2hhcmUgfSBmcm9tICcuL3NoYXJlJztcbmltcG9ydCB7IE1hZ25ldE1hbmFnZXIgfSBmcm9tICcuL21hZ25ldE1hbmFnZXInO1xuXG5cblxuZXhwb3J0IGNsYXNzIE15TWFnbmV0cyB7XG5cbiAgICBzdGF0aWMgY3JlYXRlTWFnbmV0KGNvbnRlbnQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG8uaW5uZXJIVE1MID0gY29udGVudDtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgbWFnbmV0c0NsZWFyKCk6IHZvaWQge1xuICAgICAgICBTaGFyZS5leGVjdXRlKFwibWFnbmV0c0NsZWFyXCIsIFtdKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlTWFnbmV0R1NfQihjb250ZW50OiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBvLmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgICAgIG8uY2xhc3NMaXN0LmFkZChcIkdTX0JcIilcbiAgICAgICAgcmV0dXJuIG87XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgbWFnbmV0R1MoKTogdm9pZCB7XG4gICAgICAgIE15TWFnbmV0cy5tYWduZXRzQ2xlYXIoKTtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXQoTXlNYWduZXRzLmNyZWF0ZU1hZ25ldChcIjFcIikpXG4gICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KE15TWFnbmV0cy5jcmVhdGVNYWduZXQoXCIyXCIpKVxuICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChNeU1hZ25ldHMuY3JlYXRlTWFnbmV0KFwiM1wiKSlcbiAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXQoTXlNYWduZXRzLmNyZWF0ZU1hZ25ldEdTX0IoXCIxXCIpKVxuICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChNeU1hZ25ldHMuY3JlYXRlTWFnbmV0R1NfQihcIjJcIikpXG4gICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KE15TWFnbmV0cy5jcmVhdGVNYWduZXRHU19CKFwiM1wiKSlcblxuICAgIH1cblxuICAgIC8qKiBTb3J0aW5nICovXG5cbiAgICBzdGF0aWMgY3JlYXRlTWFnbmV0UmFpbmJvdyhjb250ZW50OiBudW1iZXIpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IG8gPSBNeU1hZ25ldHMuY3JlYXRlTWFnbmV0KFwiXCIgKyBjb250ZW50KTtcbiAgICAgICAgY29uc3QgY29sb3JzID0gWydyZ2IoMTM5LCA5NywgMTk1KScsICdyZ2IoMTE1LCA5NywgMTk1KScsICdyZ2IoOTMsIDEwNSwgMjE0KScsICdyZ2IoNDAsIDE2NywgMjI2KScsICdyZ2IoNDAsIDIwNCwgMjI2KScsICdyZ2IoNDAsIDIyNiwgMjAxKScsICdyZ2IoNDAsIDIyNiwgMTQ4KScsXG4gICAgICAgICAgICAncmdiKDQwLCAyMjYsIDEwMiknLCAncmdiKDEzMCwgMjI2LCA0MCknLCAncmdiKDE3MCwgMjI2LCA0MCknLCAncmdiKDIyMywgMjI2LCA0MCknLCAncmdiKDIyNiwgMTgzLCA0MCknLFxuICAgICAgICAgICAgJ3JnYigyMjYsIDE1MiwgNDApJywgJ3JnYigyMjYsIDEyNCwgNDApJywgJ3JnYigyMjYsIDc3LCA0MCknLCAncmdiKDI1NSwgMCwgMCknLCAncmdiKDE0NCwgMjQsIDI0KSddO1xuICAgICAgICBvLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yc1tjb250ZW50IC0gMV07XG4gICAgICAgIHJldHVybiBvO1xuICAgIH1cblxuXG4gICAgc3RhdGljIG1hZ25ldFNvcnRpbmcoKTogdm9pZCB7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuY2xlYXJNYWduZXQoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTc7IGkrKylcbiAgICAgICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KE15TWFnbmV0cy5jcmVhdGVNYWduZXRSYWluYm93KGkpKVxuICAgIH1cblxuICAgIC8qKiBCLXRyZWVzICovXG5cbiAgICBzdGF0aWMgbWFnbmV0QlRyZWVzKCk6IHZvaWQge1xuICAgICAgICBNYWduZXRNYW5hZ2VyLmNsZWFyTWFnbmV0KCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDE3OyBpKyspXG4gICAgICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChNeU1hZ25ldHMuY3JlYXRlTWFnbmV0UmFpbmJvdyhpKSlcblxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA3OyBpKyspXG4gICAgICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldEltYWdlKFwiQnRyZWVub2RlLnBuZ1wiKTtcblxuXG4gICAgfVxuXG4gICAgLyoqIEdyYXBocyAqL1xuXG4gICAgc3RhdGljIG1hZ25ldEdyYXBoTm9kZXMoKTogdm9pZCB7XG4gICAgICAgIC8vTWFnbmV0TWFuYWdlci5jbGVhck1hZ25ldCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgWydBJywgJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTyddKVxuICAgICAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXQoTXlNYWduZXRzLmNyZWF0ZU1hZ25ldChpKSlcbiAgICB9XG5cblxuICAgIHN0YXRpYyBtYWduZXRGbG95ZHNBbGdvcml0aG0oKTogdm9pZCB7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0SW1hZ2UoXCJ0dXJ0bGVyYWJiaXQvdHVydGxlLnBuZ1wiKTtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXRJbWFnZShcInR1cnRsZXJhYmJpdC9yYWJiaXQucG5nXCIpO1xuXG4gICAgfVxuXG4gICAgc3RhdGljIG1hZ25ldEdyYXBoU2ltQ2l0eSgpOiB2b2lkIHtcbiAgICAgICAgLy9NYWduZXRNYW5hZ2VyLmNsZWFyTWFnbmV0KCk7XG5cbiAgICAgICAgY29uc3Qgc2ltQ2l0eVBpY3R1cmVzID0gW1wiYW50ZW5uZS5wbmdcIiwgXCJjb21tZXJjZS5wbmdcIiwgXCJwYXJraW5nLnBuZ1wiLCBcInRvdXIucG5nXCIsXG4gICAgICAgICAgICBcImJhdGltZW50cGxhdC5wbmdcIiwgXCJmb3Vyc29sYWlyZS5wbmdcIiwgXCJyZXNpZGVuY2UyLnBuZ1wiLCBcInVzaW5lLnBuZ1wiLFxuICAgICAgICAgICAgXCJidWlsZGluZy5wbmdcIiwgXCJnYXJlLnBuZ1wiLCBcInJlc2lkZW5jZWJsZXUucG5nXCIsXG4gICAgICAgICAgICBcImNoYXRlYXVkZWF1LnBuZ1wiLCBcIm51Y2xlYXJwbGFudC5wbmdcIiwgXCJyZXNpZGVuY2UucG5nXCIsXG4gICAgICAgICAgICBcImNpdGVybmUucG5nXCIsIFwicGFyYy5wbmdcIiwgXCJzdGFkZS5wbmdcIlxuICAgICAgICBdO1xuXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBzaW1DaXR5UGljdHVyZXMpIHtcbiAgICAgICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0SW1hZ2UoXCJzaW1DaXR5R3JhcGgvXCIgKyBuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLyoqIFRpbGluZ3MgKi9cblxuICAgIHN0YXRpYyBjcmVhdGVUaWxpbmcobGVmdENvbG9yLCB1cENvbG9yLCByaWdodENvbG9yLCBib3R0b21Db2xvcik6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgeG1sbnMgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnN0IHNpemUgPSAxMDA7XG4gICAgICAgIGNvbnN0IHN2Z0VsZW0gPSA8U1ZHRWxlbWVudD5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoeG1sbnMsIFwic3ZnXCIpO1xuICAgICAgICBzdmdFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBcIjAgMCBcIiArIHNpemUgKyBcIiBcIiArIHNpemUpO1xuICAgICAgICBzdmdFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwid2lkdGhcIiwgXCJcIiArIHNpemUpO1xuICAgICAgICBzdmdFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiaGVpZ2h0XCIsIFwiXCIgKyBzaXplKTtcbiAgICAgICAgc3ZnRWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUGF0aChwYXRoRGVzYywgY29sb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoeG1sbnMsIFwicGF0aFwiKTtcbiAgICAgICAgICAgIHBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0cm9rZScsIFwiIzMzMzMzM1wiKTtcbiAgICAgICAgICAgIHBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0cm9rZS13aWR0aCcsIFwiXCIgKyAxMCk7XG4gICAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdzdHJva2UtbGluZWpvaW4nLCBcInJvdW5kXCIpO1xuICAgICAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZCcsIHBhdGhEZXNjKTtcbiAgICAgICAgICAgIHBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCBjb2xvcik7XG4gICAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdvcGFjaXR5JywgXCJcIiArIDEuMCk7XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN2Z0VsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlUGF0aChcIk0gNTAgNTAgTCAwIDAgTCAwIDEwMCBaXCIsIGxlZnRDb2xvcikpO1xuICAgICAgICBzdmdFbGVtLmFwcGVuZENoaWxkKGNyZWF0ZVBhdGgoXCJNIDUwIDUwIEwgMCAwIEwgMTAwIDAgWlwiLCB1cENvbG9yKSk7XG4gICAgICAgIHN2Z0VsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlUGF0aChcIk0gNTAgNTAgTCAxMDAgMCBMIDEwMCAxMDAgWlwiLCByaWdodENvbG9yKSk7XG4gICAgICAgIHN2Z0VsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlUGF0aChcIk0gNTAsIDUwIEwgMTAwIDEwMCBMIDAgMTAwIFpcIiwgYm90dG9tQ29sb3IpKTtcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHN2Z0VsZW0pO1xuICAgICAgICBkaXYuc3R5bGUucGFkZGluZyA9IFwiMHB4XCI7XG4gICAgICAgIHJldHVybiBkaXY7XG5cbiAgICB9XG5cblxuICAgIHN0YXRpYyBtYWduZXRUaWxpbmdzKCk6IHZvaWQge1xuICAgICAgICBNYWduZXRNYW5hZ2VyLmNsZWFyTWFnbmV0KCk7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KE15TWFnbmV0cy5jcmVhdGVUaWxpbmcoXCJ5ZWxsb3dcIiwgXCJyZWRcIiwgXCJncmVlblwiLCBcInJlZFwiKSk7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KE15TWFnbmV0cy5jcmVhdGVUaWxpbmcoXCJncmVlblwiLCBcInJlZFwiLCBcImdyZWVuXCIsIFwieWVsbG93XCIpKTtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXQoTXlNYWduZXRzLmNyZWF0ZVRpbGluZyhcImdyZWVuXCIsIFwicmVkXCIsIFwiZ3JlZW5cIiwgXCJ5ZWxsb3dcIikpO1xuXG4gICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KE15TWFnbmV0cy5jcmVhdGVUaWxpbmcoXCJyZWRcIiwgXCJyZWRcIiwgXCJyZWRcIiwgXCJyZWRcIikpO1xuICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChNeU1hZ25ldHMuY3JlYXRlVGlsaW5nKFwicmVkXCIsIFwieWVsbG93XCIsIFwicmVkXCIsIFwiZ3JlZW5cIikpO1xuICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChNeU1hZ25ldHMuY3JlYXRlVGlsaW5nKFwicmVkXCIsIFwieWVsbG93XCIsIFwieWVsbG93XCIsIFwieWVsbG93XCIpKTtcblxuICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChNeU1hZ25ldHMuY3JlYXRlVGlsaW5nKFwiZ3JlZW5cIiwgXCJyZWRcIiwgXCJncmVlblwiLCBcInllbGxvd1wiKSk7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KE15TWFnbmV0cy5jcmVhdGVUaWxpbmcoXCJncmVlblwiLCBcImdyZWVuXCIsIFwicmVkXCIsIFwiZ3JlZW5cIikpO1xuICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChNeU1hZ25ldHMuY3JlYXRlVGlsaW5nKFwicmVkXCIsIFwieWVsbG93XCIsIFwicmVkXCIsIFwiZ3JlZW5cIikpO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIHN0YXRpYyBtYWduZXRVbmlvbkZpbmQoKTogdm9pZCB7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuY2xlYXJNYWduZXQoKTtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXRJbWFnZShcInVuaW9uZmluZDAucG5nXCIpO1xuICAgIH1cblxuXG5cblxuXG5cblxuICAgIHN0YXRpYyBtYWduZXRHbygpOiB2b2lkIHtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5jbGVhck1hZ25ldCgpO1xuXG4gICAgICAgIGNvbnN0IGYgPSAoY29sb3IsIHgpID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICAgICAgICAgICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0SW1hZ2UoXCJnby9cIiArIGNvbG9yICsgXCIucG5nXCIsXG4gICAgICAgICAgICAgICAgICAgIChpbWcpID0+IFNoYXJlLmV4ZWN1dGUoXCJtYWduZXRNb3ZlXCIsIFtpbWcuaWQsIHgsIDEwICsgaSAqIDVdKSk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGYoXCJibGFja1wiLCAyMCk7XG4gICAgICAgIGYoXCJ3aGl0ZVwiLCA1MCk7XG5cbiAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXRJbWFnZShcImdvL2dvYmFuLnBuZ1wiLCAoaW1nKSA9PiBTaGFyZS5leGVjdXRlKFwibWFnbmV0TW92ZVwiLCBbaW1nLmlkLCAxMTAsIDIwXSkpO1xuXG4gICAgfVxuXG5cbiAgICAvKipcbiAqXG4gKiBAcGFyYW0gbWFnbmV0U2V0TmFtZVxuICogQGRlc2NyaXB0aW9uIHJlZ2lzdGVyIGEgc2V0IG9mIG1hZ25ldHMuIEFkZCBpdCB0byB0aGUgbWFnbmV0IG1lbnUuXG4gKi9cbiAgICBzdGF0aWMgcmVnaXN0ZXIobWFnbmV0U2V0TmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1hZ25ldFNldE5hbWUpLm9uY2xpY2sgPSBNeU1hZ25ldHNbbWFnbmV0U2V0TmFtZV07XG4gICAgfVxuXG5cblxuXG4gICAgc3RhdGljIGxvYWRNYWduZXRzKCk6IHZvaWQge1xuICAgICAgICBNeU1hZ25ldHMucmVnaXN0ZXIoXCJtYWduZXRHU1wiKTtcbiAgICAgICAgTXlNYWduZXRzLnJlZ2lzdGVyKFwibWFnbmV0U29ydGluZ1wiKTtcbiAgICAgICAgTXlNYWduZXRzLnJlZ2lzdGVyKFwibWFnbmV0QlRyZWVzXCIpO1xuICAgICAgICBNeU1hZ25ldHMucmVnaXN0ZXIoXCJtYWduZXRHcmFwaE5vZGVzXCIpO1xuICAgICAgICBNeU1hZ25ldHMucmVnaXN0ZXIoXCJtYWduZXRUaWxpbmdzXCIpO1xuICAgICAgICBNeU1hZ25ldHMucmVnaXN0ZXIoXCJtYWduZXRVbmlvbkZpbmRcIik7XG4gICAgICAgIE15TWFnbmV0cy5yZWdpc3RlcihcIm1hZ25ldEdyYXBoU2ltQ2l0eVwiKTtcbiAgICAgICAgTXlNYWduZXRzLnJlZ2lzdGVyKFwibWFnbmV0RmxveWRzQWxnb3JpdGhtXCIpO1xuICAgICAgICBNeU1hZ25ldHMucmVnaXN0ZXIoXCJtYWduZXRHb1wiKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRDYW52YXMgfSBmcm9tICcuL21haW4nO1xuaW1wb3J0IHsgTWFnbmV0TWFuYWdlciB9IGZyb20gJy4vbWFnbmV0TWFuYWdlcic7XG5pbXBvcnQgeyBCb2FyZE1hbmFnZXIgfSBmcm9tICcuL2JvYXJkTWFuYWdlcic7XG5pbXBvcnQgeyBNZW51IH0gZnJvbSAnLi9NZW51J1xuXG4vKipcbiAqIHRoaXMgY2xhc3MgY29udGFpbnMgdGhlIGNvZGUgZm9yIGxvYWRpbmcvc2F2aW5nIGEgdGFibGVhdW5vaXIuIEFsc28gZm9yIGltcG9ydGluZyBpbWFnZXMgYXMgbWFnbmV0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIExvYWRTYXZlIHtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBpbml0aWFsaXplIHRoZSBidXR0b24gU2F2ZSBhbmQgdGhlIGRyYWcgYW5kIGRyb3Agb2YgZmlsZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgaW5pdCgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGxvYWQgYSBmaWxlIGZyb20gdGhlIDxpbnB1dCB0eXBlPVwiZmlsZVwiLi4uPlxuICAgICAgICAgKi9cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWxlXCIpLm9uY2hhbmdlID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgTG9hZFNhdmUubG9hZEZpbGUoKDxhbnk+dGhpcykuZmlsZXNbMF0pO1xuICAgICAgICB9O1xuXG5cblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNhdmVcIikub25jbGljayA9IExvYWRTYXZlLnNhdmU7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXhwb3J0UG5nXCIpLm9uY2xpY2sgPSBMb2FkU2F2ZS5leHBvcnRQbmc7XG5cblxuXG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5vbmRyYWdvdmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IGRlZmF1bHQgYmVoYXZpb3IgKFByZXZlbnQgZmlsZSBmcm9tIGJlaW5nIG9wZW5lZClcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYm9keS5vbmRyb3AgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgZGVmYXVsdCBiZWhhdmlvciAoUHJldmVudCBmaWxlIGZyb20gYmVpbmcgb3BlbmVkKVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlci5pdGVtcykge1xuICAgICAgICAgICAgICAgIC8vIFVzZSBEYXRhVHJhbnNmZXJJdGVtTGlzdCBpbnRlcmZhY2UgdG8gYWNjZXNzIHRoZSBmaWxlKHMpXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudC5kYXRhVHJhbnNmZXIuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgZHJvcHBlZCBpdGVtcyBhcmVuJ3QgZmlsZXMsIHJlamVjdCB0aGVtXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIuaXRlbXNbaV0ua2luZCA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IGV2ZW50LmRhdGFUcmFuc2Zlci5pdGVtc1tpXS5nZXRBc0ZpbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIExvYWRTYXZlLmxvYWRGaWxlKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBVc2UgRGF0YVRyYW5zZmVyIGludGVyZmFjZSB0byBhY2Nlc3MgdGhlIGZpbGUocylcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBMb2FkU2F2ZS5sb2FkRmlsZShmaWxlW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmlsZX0gZmlsZVxuICAgICAqIEBkZXNjcmlwdGlvbiBsb2FkIHRoZSBmaWxlIGZpbGVcbiAgICAgKi9cbiAgICBzdGF0aWMgbG9hZEZpbGUoZmlsZSkge1xuICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKGV2dCkgeyB9XG5cbiAgICAgICAgICAgIC8qKiBsb2FkIGEgLnRhYmxlYXVub2lyIGZpbGUsIHRoYXQgaXMsIGEgZmlsZSBjb250YWluaW5nIHRoZSBibGFja2JvYXJkICsgc29tZSBtYWduZXRzICovXG4gICAgICAgICAgICBpZiAoZmlsZS5uYW1lLmVuZHNXaXRoKFwiLnRhYmxlYXVub2lyXCIpKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSwgXCJVVEYtOFwiKTtcbiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2dCkgeyBMb2FkU2F2ZS5sb2FkSlNPTihKU09OLnBhcnNlKDxhbnk+ZXZ0LnRhcmdldC5yZXN1bHQpKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLyoqIGxvYWQgYW4gaW1hZ2UgYW5kIGFkZCBpdCBhcyBhIG1hZ25ldCAqL1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gPHN0cmluZz5ldnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXQoaW1nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE1lbnUuaGlkZSgpOyAvL2hpZGUgdGhlIG1lbnUgYWZ0ZXIgbG9hZGluZ1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGZpbGVcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICAgKiBAZGVzY3JwdGlvbiBsb2FkIHRoZSBpbWFnZSBpbiB0aGUgZmlsZSwgb25jZSB0aGUgZmlsZSBpcyBsb2FkZWQuIENhbGwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHN0YXRpYyBmZXRjaEltYWdlRnJvbUZpbGUoZmlsZSwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZ0KSB7IH1cbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltZy5zcmMgPSA8c3RyaW5nPmV2dC50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IGNhbGxiYWNrKGltZyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBvYmpcbiAgICAgKiBAZGVzY3JpcHRpb24gbG9hZCB0aGUgSlNPTiBvYmplY3Q6XG4gICAgICogb2JqLmNhbnZhc0RhdGFVUkwgaXMgdGhlIGNvbnRlbnQgb2YgdGhlIGNhbnZhc1xuICAgICAqIG9iai5tYWduZXRzIGlzIHRoZSBIVE1MIGNvZGUgb2YgdGhlIG1hZ25ldHNcbiAgICAgKi9cbiAgICBzdGF0aWMgbG9hZEpTT04ob2JqKSB7XG4gICAgICAgIEJvYXJkTWFuYWdlci5sb2FkKG9iai5jYW52YXNEYXRhVVJMKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWduZXRzXCIpLmlubmVySFRNTCA9IG9iai5tYWduZXRzO1xuICAgICAgICBNYWduZXRNYW5hZ2VyLmluc3RhbGxNYWduZXRzKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gZXhwb3J0IHRoZSBib2FyZCBhcyBhIC5wbmcgaW1hZ2UgZmlsZVxuICAgICAqL1xuICAgIHN0YXRpYyBleHBvcnRQbmcoKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG4gICAgICAgIGFsZXJ0KFwidG8gYmUgaW1wbGVtZW50ZWQuIERvIHNjcmVlbnNob3RzLlwiKTtcbiAgICAgICAgLypcbiAgICAgICAgICogYG5wbSBpbnN0YWxsIC0tc2F2ZS1kZXBzIGh0bWwyY2FudmFzYFxuICAgICAgICAgKiBpbXBvcnQgaHRtbDJjYW52YXMgZnJvbSAnaHRtbDJjYW52YXMnO1xuICAgICAgICAgKiBodG1sMmNhbnZhcyhub2RlKS50aGVuKGNhbnZhcyA9PiB7XG4gICAgICAgICAgICBMb2FkU2F2ZS5kb3dubG9hZERhdGFVUkwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJleHBvcnRQbmdOYW1lXCIpLnZhbHVlICsgXCIucG5nXCIsIGNhbnZhcy50b0RhdGFVUkwoKSk7XG4gICAgICAgIH0pOyovXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gc2F2ZSB0aGUgYmxhY2tib2FyZCBhbmQgdGhlIG1hZ25ldHNcbiAgICAgKi9cbiAgICBzdGF0aWMgc2F2ZSgpIHtcbiAgICAgICAgY29uc3QgbWFnbmV0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFnbmV0c1wiKS5pbm5lckhUTUw7XG4gICAgICAgIGNvbnN0IGNhbnZhc0RhdGFVUkwgPSBnZXRDYW52YXMoKS50b0RhdGFVUkwoKTtcbiAgICAgICAgY29uc3Qgb2JqID0geyBtYWduZXRzOiBtYWduZXRzLCBjYW52YXNEYXRhVVJMOiBjYW52YXNEYXRhVVJMIH07XG4gICAgICAgIExvYWRTYXZlLmRvd25sb2FkKCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIikpLnZhbHVlICsgXCIudGFibGVhdW5vaXJcIiwgSlNPTi5zdHJpbmdpZnkob2JqKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGZpbGVuYW1lXG4gICAgICogQHBhcmFtIHsqfSB0ZXh0XG4gICAgICogQGRlc2NyaXB0aW9uIHByb3Bvc2UgdG8gZG93bmxvYWQgYSBmaWxlIGNhbGxlZCBmaWxlbmFtZSB0aGF0IGNvbnRhaW5zIHRoZSB0ZXh0IHRleHRcbiAgICAgKi9cbiAgICBzdGF0aWMgZG93bmxvYWQoZmlsZW5hbWUsIHRleHQpIHtcbiAgICAgICAgTG9hZFNhdmUuZG93bmxvYWREYXRhVVJMKGZpbGVuYW1lLCAnZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJyArIGVuY29kZVVSSUNvbXBvbmVudCh0ZXh0KSlcblxuICAgIH1cblxuXG5cbiAgICAvKipcbiAqXG4gKiBAcGFyYW0geyp9IGZpbGVuYW1lXG4gKiBAcGFyYW0geyp9IGRhdGFVUkxcbiAqIEBkZXNjcmlwdGlvbiBwcm9wb3NlIHRvIGRvd25sb2FkIGEgZmlsZSB3aXRoIHRoZSBjb250ZW50XG4gKi9cbiAgICBzdGF0aWMgZG93bmxvYWREYXRhVVJMKGZpbGVuYW1lLCBkYXRhVVJMKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdocmVmJywgZGF0YVVSTCk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIGZpbGVuYW1lKTtcblxuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG5cbiAgICAgICAgZWxlbWVudC5jbGljaygpO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgeyBMYXlvdXQgfSBmcm9tICcuL0xheW91dCc7XG5pbXBvcnQgeyBFcnJvck1lc3NhZ2UgfSBmcm9tICcuL0Vycm9yTWVzc2FnZSc7XG5cbmV4cG9ydCBjbGFzcyBUb29sYmFyIHtcblxuXG4gICAgLyoqXG4gICAgICogaW5pdGlhbGl6YXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgaW5pdCgpIHtcbiAgICAgICAgaWYgKExheW91dC5pc1RhY3RpbGVEZXZpY2UoKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkNsb3NlQ29udHJvbHNcIikuaGlkZGVuID0gdHJ1ZTsgLy9vbiBwaG9uZSBvciB0YWJsZXQsIHdlIGNhbiBub3QgcmVtb3ZlIHRoZSB0b29sYmFyLCB0aGVyZWZvcmUgdGhlIGJ1dHRvbiBpcyBoaWRkZW5cblxuICAgICAgICAgICAgICAgIGNvbnN0IHNwYW5zID0gPE5vZGVMaXN0T2Y8SFRNTFNwYW5FbGVtZW50Pj5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2NvbnRyb2xzID4gc3BhblwiKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW5zW2ldLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBFcnJvck1lc3NhZ2Uuc2hvdyhcIkVycm9yIGluIGxvYWRpbmcgdGhlIHRvb2xiYXIuIFlvdSBjYW4gaG93ZXZlciB1c2UgVGFibGVhdW5vaXIuXCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIFRvb2xiYXIuaGVscEJ1dHRvbkRpdmlkZSgpO1xuICAgICAgICBUb29sYmFyLmhlbHBGb3JCdXR0b25DbG9zZUNvbnRyb2xzKCk7XG5cbiAgICB9XG5cblxuXG5cblxuICAgIC8qKlxuICAgICAqIGhlbHAgYW5pbWF0aW9uIGZvciBoaWRpbmcgdGhlIHRvb2xiYXJcbiAgICAgKi9cbiAgICBzdGF0aWMgaGVscEZvckJ1dHRvbkNsb3NlQ29udHJvbHMoKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uQ2xvc2VDb250cm9sc1wiKS5vbm1vdXNlZW50ZXIgPSAoKSA9PiB7IFRvb2xiYXIuZ2V0VG9vbGJhcigpLnN0eWxlLm9wYWNpdHkgPSBcIjAuNVwiIH07XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uQ2xvc2VDb250cm9sc1wiKS5vbm1vdXNlbGVhdmUgPSAoKSA9PiB7IFRvb2xiYXIuZ2V0VG9vbGJhcigpLnN0eWxlLm9wYWNpdHkgPSBcIjFcIiB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGhlbHAgYW5pbWF0aW9uIGZvciBkaXZpZGUgdGhlIHNjcmVlblxuICAgICAqL1xuICAgIHN0YXRpYyBoZWxwQnV0dG9uRGl2aWRlKCkge1xuICAgICAgICBjb25zdCBkaXZpZGVMaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGl2aWRlTGluZS5jbGFzc05hbWUgPSBcImRpdmlkZUxpbmVIZWxwXCI7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25EaXZpZGVcIikub25tb3VzZWVudGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgZGl2aWRlTGluZS5zdHlsZS5sZWZ0ID0gXCJcIiArIExheW91dC5nZXRYTWlkZGxlKCk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvYXJkXCIpLnByZXBlbmQoZGl2aWRlTGluZSk7XG4gICAgICAgIH07XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uRGl2aWRlXCIpLm9ubW91c2VsZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGRpdmlkZUxpbmUucmVtb3ZlKCk7XG4gICAgICAgIH07XG4gICAgfVxuXG5cblxuICAgIHN0YXRpYyBnZXRUb29sYmFyKCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250cm9sc1wiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gdG9vZ2xlIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSB0b29sYmFyXG4gICAgICovXG4gICAgc3RhdGljIHRvZ2dsZSgpIHtcbiAgICAgICAgY29uc3QgY29udHJvbHMgPSBUb29sYmFyLmdldFRvb2xiYXIoKTtcbiAgICAgICAgY29udHJvbHMuaGlkZGVuID0gIWNvbnRyb2xzLmhpZGRlbjtcbiAgICAgICAgTGF5b3V0Ll9yZXNpemUoKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIGJ5IEZyYW7Dp29pcyBTY2h3YXJ6ZW50cnViZXJcbiAqIGluc3BpcmVkIGZyb20gYSBjb2RlIGNhbGxlZCBqY3NzcnVsZS5qcyBmcm9tIEplYW4tTWFyYyBWSUdMSU5PLlxuICogXG4gKiBUaGUgY2xhc3MgQ1NTU3R5bGVNb2RpZmllciBlbmFibGVzIHRvIGFkZCBuZXcgQ1NTIHJ1bGVzIG9uIHRoZSBmbHkuXG4gKiBJbiBUYWJsZWF1bm9pciwgaXQgaXMgdXNlZCBmb3IgbW9kaWZ5aW5nIHRoZSBjb2xvcnMgb2YgbWFueSBvYmplY3RzIHdoZW4gc3dpdGNoaW5nIGZyb20gYmxhY2svd2hpdGVib2FyZC4gXG4gKi9cblxuXG5leHBvcnQgY2xhc3MgQ1NTU3R5bGVNb2RpZmllciB7XG5cbiAgICBzdGF0aWMgc3R5bGVzaGVldDtcbiAgICBzdGF0aWMgcnVsZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBhZGQgYSBuZXcgc3R5bGUgcGFydCBpbiB0aGUgaHRtbFxuICAgICAqL1xuICAgIHN0YXRpYyBpbml0KCk6IHZvaWQge1xuICAgICAgICBDU1NTdHlsZU1vZGlmaWVyLnN0eWxlc2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBDU1NTdHlsZU1vZGlmaWVyLnN0eWxlc2hlZXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvY3NzJyk7XG4gICAgICAgIGlmIChkb2N1bWVudC5ib2R5KSBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKENTU1N0eWxlTW9kaWZpZXIuc3R5bGVzaGVldCk7XG4gICAgICAgIGVsc2UgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChDU1NTdHlsZU1vZGlmaWVyLnN0eWxlc2hlZXQpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlIHRoZSBodG1sIHdpdGggdGhlIG5ldyBydWxlc1xuICAgICAqL1xuICAgIHN0YXRpYyB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIGxldCBjc3MgPSAnXFxuJztcbiAgICAgICAgQ1NTU3R5bGVNb2RpZmllci5ydWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICBjc3MgKz0gci5zZWxlY3RvciArICcgeycgKyByLnByb3BlcnR5ICsgJzonICsgci52YWx1ZSArICc7IH1cXG4nO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coY3NzKTtcbiAgICAgICAgQ1NTU3R5bGVNb2RpZmllci5zdHlsZXNoZWV0LmlubmVySFRNTCA9IGNzcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc2VsZWN0b3JcbiAgICAgKiBAcGFyYW0gcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKiBAZGVzcmlwdGlvbiBhZGQgYSBuZXcgcnVsZSBmb3IgZWxlbWVudHMgbWF0Y2hpbmcgdGhlIHNlbGVjdG9yLiBUaGUgcHJvcGVydHkgaXMgYXNzaWduZWQgdG8gdGhlIHZhbHVlLlxuICAgICAqIEBleGFtcGxlIFxuICAgICAqIHNldFJ1bGUoXCJib2R5XCIsIFwiYmFja2dyb3VuZFwiLFwicmVkXCIpOyAgLy8gQ2hhbmdlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIGJvZHlcbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0UnVsZShzZWxlY3Rvcjogc3RyaW5nLCBwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3QgcnVsZSBvZiBDU1NTdHlsZU1vZGlmaWVyLnJ1bGVzKVxuICAgICAgICAgICAgaWYgKHJ1bGUuc2VsZWN0b3IgPT0gc2VsZWN0b3IgJiYgcnVsZS5wcm9wZXJ0eSA9PSBwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgIHJ1bGUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBDU1NTdHlsZU1vZGlmaWVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICBDU1NTdHlsZU1vZGlmaWVyLnJ1bGVzLnB1c2goeyAnc2VsZWN0b3InOiBzZWxlY3RvciwgJ3Byb3BlcnR5JzogcHJvcGVydHksICd2YWx1ZSc6IHZhbHVlIH0pO1xuICAgICAgICBDU1NTdHlsZU1vZGlmaWVyLnVwZGF0ZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldENhbnZhcywgcGFsZXR0ZSB9IGZyb20gJy4vbWFpbic7XG5pbXBvcnQgeyBDU1NTdHlsZU1vZGlmaWVyIH0gZnJvbSAnLi9DU1NTdHlsZU1vZGlmaWVyJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGltcGxlbWVudHMgdGhlIHN3aXRjaCBiZXR3ZWVuIHdoaXRlYm9hcmQgYW5kIGJsYWNrYm9hcmRcbiAqL1xuZXhwb3J0IGNsYXNzIEJsYWNrVlNXaGl0ZUJvYXJkIHtcblxuICAgIHN0YXRpYyBpbml0KCk6IHZvaWQge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc0JhY2tncm91bmRcIikuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJibGFja1wiO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndoaXRlQm9hcmRTd2l0Y2hcIikub25jbGljayA9IEJsYWNrVlNXaGl0ZUJvYXJkLnN3aXRjaDtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJibGFja0JvYXJkU3dpdGNoXCIpLm9uY2xpY2sgPSBCbGFja1ZTV2hpdGVCb2FyZC5zd2l0Y2g7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBzd2l0Y2ggYmV0d2VlbiB3aGl0ZWJvYXJkIGFuZCBibGFja2JvYXJkXG4gICAgICovXG4gICAgc3RhdGljIHN3aXRjaCgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNCYWNrZ3JvdW5kQ29sb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc0JhY2tncm91bmRcIikuc3R5bGUuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSBwcmV2aW91c0JhY2tncm91bmRDb2xvciA9PSBcIndoaXRlXCIgPyBcImJsYWNrXCIgOiBcIndoaXRlXCI7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmFja2dyb3VuZENvbG9yICsgXCJCb2FyZFN3aXRjaFwiKS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmV2aW91c0JhY2tncm91bmRDb2xvciArIFwiQm9hcmRTd2l0Y2hcIikuaGlkZGVuID0gZmFsc2U7XG5cblxuICAgICAgICBjb25zb2xlLmxvZyhcInByZXZpb3VzIGJhY2tncm91bmQgY29sb3Igd2FzIFwiICsgcHJldmlvdXNCYWNrZ3JvdW5kQ29sb3IpO1xuICAgICAgICBjb25zb2xlLmxvZyhcInN3aXRjaCB0byBcIiArIGJhY2tncm91bmRDb2xvciArIFwiYm9hcmRcIilcbiAgICAgICAgcGFsZXR0ZS5zd2l0Y2hCbGFja0FuZFdoaXRlKCk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzQmFja2dyb3VuZFwiKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XG5cbiAgICAgICAgaWYgKGJhY2tncm91bmRDb2xvciA9PSBcImJsYWNrXCIpIHtcbiAgICAgICAgICAgIENTU1N0eWxlTW9kaWZpZXIuc2V0UnVsZShcIi5tYWduZXRUZXh0IGRpdlwiLCBcImJhY2tncm91bmQtY29sb3JcIiwgXCJyZ2JhKDI3LCAyNywgMjcsIDAuOSlcIik7XG4gICAgICAgICAgICBDU1NTdHlsZU1vZGlmaWVyLnNldFJ1bGUoXCJkaXYubWFnbmV0VGV4dFwiLCBcImJhY2tncm91bmQtY29sb3JcIiwgXCJyZ2JhKDY0LCA2NCwgNjQsIDAuOSlcIik7XG4gICAgICAgICAgICBDU1NTdHlsZU1vZGlmaWVyLnNldFJ1bGUoXCIubWFnbmV0VGV4dCBkaXZcIiwgXCJjb2xvclwiLCBcIndoaXRlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgQ1NTU3R5bGVNb2RpZmllci5zZXRSdWxlKFwiLm1hZ25ldFRleHQgZGl2XCIsIFwiYmFja2dyb3VuZC1jb2xvclwiLCBcInJnYmEoMjQ3LCAyNDcsIDI0NywgMC45KVwiKTtcbiAgICAgICAgICAgIENTU1N0eWxlTW9kaWZpZXIuc2V0UnVsZShcImRpdi5tYWduZXRUZXh0XCIsIFwiYmFja2dyb3VuZC1jb2xvclwiLCBcInJnYmEoMjI3LCAyMjcsIDIyNywgMC45KVwiKTtcbiAgICAgICAgICAgIENTU1N0eWxlTW9kaWZpZXIuc2V0UnVsZShcIi5tYWduZXRUZXh0IGRpdlwiLCBcImNvbG9yXCIsIFwiYmxhY2tcIik7XG4gICAgICAgIH1cblxuICAgICAgICBCbGFja1ZTV2hpdGVCb2FyZC5faW52ZXJ0Q2FudmFzKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAZHNlY3JpcHRpb24gaW52ZXJ0IHRoZSBjb2xvcnMgb2YgdGhlIGNhbnZhcyAoYmxhY2sgYmVjb21lcyB3aGl0ZSwgd2hpdGUgYmVjb21lcyBibGFjaywgcmVkIGJlY29tZXMuLi4pXG4gICAgICovXG4gICAgc3RhdGljIF9pbnZlcnRDYW52YXMoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICAgICAgLy8gcmVkXG4gICAgICAgICAgICBkYXRhW2ldID0gMjU1IC0gZGF0YVtpXTtcbiAgICAgICAgICAgIC8vIGdyZWVuXG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IDI1NSAtIGRhdGFbaSArIDFdO1xuICAgICAgICAgICAgLy8gYmx1ZVxuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSAyNTUgLSBkYXRhW2kgKyAyXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG92ZXJ3cml0ZSBvcmlnaW5hbCBpbWFnZVxuICAgICAgICBjb250ZXh0LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xuICAgIH1cblxufVxuXG5cbiIsImltcG9ydCB7IEJvYXJkTWFuYWdlciB9IGZyb20gJy4vYm9hcmRNYW5hZ2VyJztcbmltcG9ydCB7IGdldENhbnZhc0JhY2tncm91bmQgfSBmcm9tICcuL21haW4nO1xuaW1wb3J0IHsgTGF5b3V0IH0gZnJvbSAnLi9MYXlvdXQnO1xuaW1wb3J0IHsgTG9hZFNhdmUgfSBmcm9tICcuL0xvYWRTYXZlJztcbmltcG9ydCB7IE1lbnUgfSBmcm9tICcuL01lbnUnO1xuaW1wb3J0IHsgRHJhd2luZyB9IGZyb20gJy4vRHJhd2luZydcblxuZXhwb3J0IGNsYXNzIEJhY2tncm91bmQge1xuICAgIHN0YXRpYyBpbml0KCk6IHZvaWQge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbk5vQmFja2dyb3VuZFwiKS5vbmNsaWNrID0gKCkgPT4geyBCYWNrZ3JvdW5kLmNsZWFyKCk7IE1lbnUuaGlkZSgpOyB9O1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbk11c2ljU2NvcmVcIikub25jbGljayA9ICgpID0+IHsgQmFja2dyb3VuZC5tdXNpY1Njb3JlKCk7IE1lbnUuaGlkZSgpOyB9O1xuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXRCYWNrZ3JvdW5kXCIpLm9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgTG9hZFNhdmUuZmV0Y2hJbWFnZUZyb21GaWxlKCg8YW55PnRoaXMpLmZpbGVzWzBdLFxuICAgICAgICAgICAgICAgIChpbWcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgQmFja2dyb3VuZC5jbGVhcigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW52YXNCYWNrZ3JvdW5kID0gZ2V0Q2FudmFzQmFja2dyb3VuZCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBMYXlvdXQuZ2V0V2luZG93SGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlV2lkdGggPSBpbWcud2lkdGggKiBoZWlnaHQgLyBpbWcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB4ID0gKExheW91dC5nZXRXaW5kb3dXaWR0aCgpIC0gc2NhbGVXaWR0aCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpbWcpXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhc0JhY2tncm91bmQuZ2V0Q29udGV4dChcIjJkXCIpLmRyYXdJbWFnZShpbWcsIHgsIDAsIHNjYWxlV2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfTtcblxuICAgIH1cbiAgICBzdGF0aWMgY2xlYXIoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNhbnZhc0JhY2tncm91bmQgPSBnZXRDYW52YXNCYWNrZ3JvdW5kKCk7XG4gICAgICAgIGNhbnZhc0JhY2tncm91bmQuZ2V0Q29udGV4dChcIjJkXCIpLmNsZWFyUmVjdCgwLCAwLCBjYW52YXNCYWNrZ3JvdW5kLndpZHRoLCBjYW52YXNCYWNrZ3JvdW5kLmhlaWdodCk7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgbXVzaWNTY29yZSgpOiB2b2lkIHtcbiAgICAgICAgQmFja2dyb3VuZC5jbGVhcigpO1xuICAgICAgICBjb25zdCBDT0xPUlNUQUZGID0gXCJyZ2IoMTI4LCAxMjgsIDI1NSlcIjtcbiAgICAgICAgY29uc3QgZnVsbEhlaWdodCA9IExheW91dC5nZXRXaW5kb3dIZWlnaHQoKSAtIDMyO1xuICAgICAgICBjb25zdCBjYW52YXNCYWNrZ3JvdW5kID0gZ2V0Q2FudmFzQmFja2dyb3VuZCgpO1xuXG4gICAgICAgIGNvbnN0IHggPSAwO1xuICAgICAgICBjb25zdCB4MiA9IDIgKiBMYXlvdXQuZ2V0V2luZG93V2lkdGgoKTtcbiAgICAgICAgY29uc3QgeW1pZGRsZVNjcmVlbiA9IGZ1bGxIZWlnaHQgLyAyO1xuICAgICAgICBjb25zdCB5c2hpZnQgPSBmdWxsSGVpZ2h0IC8gNztcbiAgICAgICAgY29uc3QgZHJhd1N0YWZmID0gKHltaWRkbGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNwYWNlID0gZnVsbEhlaWdodCAvIDMwO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gLTI7IGkgPD0gMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHltaWRkbGUgKyBpICogc3BhY2U7XG4gICAgICAgICAgICAgICAgRHJhd2luZy5kcmF3TGluZShjYW52YXNCYWNrZ3JvdW5kLmdldENvbnRleHQoXCIyZFwiKSwgeCwgeSwgeDIsIHksIDEuMCwgQ09MT1JTVEFGRik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIGRyYXdTdGFmZih5bWlkZGxlU2NyZWVuIC0geXNoaWZ0KTtcbiAgICAgICAgZHJhd1N0YWZmKHltaWRkbGVTY3JlZW4gKyB5c2hpZnQpO1xuXG4gICAgICAgIEJvYXJkTWFuYWdlci5zYXZlQ3VycmVudFNjcmVlbigpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgRXJyb3JNZXNzYWdlIH0gZnJvbSAnLi9FcnJvck1lc3NhZ2UnO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgZW5hYmxlcyB0byB0cmFuc2xhdGUgVGFibGVhdW5vaXIgaW4gb3RoZXIgbGFuZ3VhZ2VzIChmcmVuY2ggZm9yIGluc3RhbmNlKVxuICovXG5leHBvcnQgY2xhc3MgVHJhbnNsYXRpb24ge1xuXG4gICAgLyoqXG4gICAgICogaW5pdGlhbGl6YXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgaW5pdCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFRyYW5zbGF0aW9uLnRyYW5zbGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBFcnJvck1lc3NhZ2Uuc2hvdyhlKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgdGhlIGxhbmd1YWdlIHdyaXR0ZW4gaW4gdGhlIFVSTCAoZm9yIGluc3RhbmNlIFwiZnJcIiksIG9yIG51bGwgaWYgbm9uZSBpcyBwcm92aWRlZFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRMYW5ndWFnZSgpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gKG5ldyBVUkwoPGFueT5kb2N1bWVudC5sb2NhdGlvbikpLnNlYXJjaFBhcmFtcztcbiAgICAgICAgcmV0dXJuIHBhcmFtcy5nZXQoJ2xhbmcnKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSBvbiB0aGUgZGljdGlvbm5hcnkgb2YgdGhlIHNlbGVjdGVkIGxhbmd1YWdlXG4gICAgICovXG4gICAgc3RhdGljIGZldGNoRGljdGlvbmFyeSgpOiBQcm9taXNlPHt9PiB7XG4gICAgICAgIGNvbnN0IGxhbmd1YWdlID0gVHJhbnNsYXRpb24uZ2V0TGFuZ3VhZ2UoKTtcblxuICAgICAgICBpZiAobGFuZ3VhZ2UgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB7IH0pO1xuXG4gICAgICAgIHJldHVybiBmZXRjaChcInNyYy9cIiArIGxhbmd1YWdlICsgXCIuanNvblwiKVxuICAgICAgICAgICAgLnRoZW4odHh0ID0+IHR4dC5qc29uKCkpXG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbGVtZW50IEhUTUwgZWxlbWVudFxuICAgICAqIEBwYXJhbSBkaWN0XG4gICAgICogQGRlc2NyaXB0aW9uIHRyYW5zbGF0ZSB0aGUgSFRNTCBlbGVtZW50XG4gICAgICovXG4gICAgc3RhdGljIHRyYW5zbGF0ZUVsZW1lbnQoZWxlbWVudDogRWxlbWVudCwgZGljdCkge1xuICAgICAgICBpZiAoZWxlbWVudC5jaGlsZHJlbiA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKCg8YW55PmVsZW1lbnQpLnRpdGxlID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGRpY3RbKDxhbnk+ZWxlbWVudCkudGl0bGVdKVxuICAgICAgICAgICAgICAgICg8YW55PmVsZW1lbnQpLnRpdGxlID0gZGljdFsoPGFueT5lbGVtZW50KS50aXRsZV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudC5jaGlsZHJlbi5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgaWYgKGRpY3RbZWxlbWVudC5pbm5lckhUTUxdKVxuICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gZGljdFtlbGVtZW50LmlubmVySFRNTF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGkgaW4gZWxlbWVudC5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICBUcmFuc2xhdGlvbi50cmFuc2xhdGVFbGVtZW50KGVsZW1lbnQuY2hpbGRyZW5baV0sIGRpY3QpO1xuXG4gICAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGljdFxuICAgICAqIEBkZXNjcmlwdGlvbiB0cmFuc2xhdGVzIHRoZSBlbGVtZW50IGJ5IHRoZSBJRHNcbiAgICAgKi9cbiAgICBzdGF0aWMgdHJhbnNsYXRlRnJvbUlEcyhkaWN0KSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRpY3QpIHtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGtleS5zdWJzdHIoMSkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRWxlbWVudCAke2tleX0gbm90IGZvdW5kLiBJIGNhbiB0cmFuc2xhdGUuLmApO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJIHJlZnVzZSB0byB0cmFuc2xhdGUgYmVjYXVzZSB0aGUgZWxlbWVudCBoYXMgc29tZSBjaGlsZHJlbi5cIik7XG5cbiAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGRpY3Rba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBiaWcgdHJhbnNsYXRpb24gcHJvY2VkdXJlXG4gICAgICovXG4gICAgc3RhdGljIHRyYW5zbGF0ZSgpIHtcbiAgICAgICAgY29uc3QgZGljdGlvbm5hcnkgPSBUcmFuc2xhdGlvbi5mZXRjaERpY3Rpb25hcnkoKTtcbiAgICAgICAgZGljdGlvbm5hcnkudGhlbihkaWN0ID0+IHtcbiAgICAgICAgICAgIFRyYW5zbGF0aW9uLnRyYW5zbGF0ZUVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250cm9sc1wiKSwgZGljdCk7XG4gICAgICAgICAgICBUcmFuc2xhdGlvbi50cmFuc2xhdGVFbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudVwiKSwgZGljdCk7XG4gICAgICAgICAgICBUcmFuc2xhdGlvbi50cmFuc2xhdGVGcm9tSURzKGRpY3QpO1xuXG5cbiAgICAgICAgfVxuICAgICAgICApXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUGFsZXR0ZSB9IGZyb20gXCIuL1BhbGV0dGVcIjtcbmltcG9ydCB7IFNoYXJlIH0gZnJvbSBcIi4vc2hhcmVcIjtcbmltcG9ydCB7IE15TWFnbmV0cyB9IGZyb20gXCIuL215TWFnbmV0c1wiO1xuaW1wb3J0IHsgTWFnbmV0TWFuYWdlciB9IGZyb20gJy4vbWFnbmV0TWFuYWdlcic7XG5pbXBvcnQgeyBCb2FyZE1hbmFnZXIgfSBmcm9tICcuL2JvYXJkTWFuYWdlcic7XG5pbXBvcnQgeyBVc2VyTWFuYWdlciB9IGZyb20gJy4vVXNlck1hbmFnZXInO1xuaW1wb3J0IHsgTG9hZFNhdmUgfSBmcm9tICcuL0xvYWRTYXZlJztcbmltcG9ydCB7IExheW91dCB9IGZyb20gJy4vTGF5b3V0JztcbmltcG9ydCB7IFRvb2xiYXIgfSBmcm9tICcuL1Rvb2xiYXInO1xuaW1wb3J0IHsgRGlzY3Vzc2lvbiB9IGZyb20gJy4vRGlzY3Vzc2lvbic7XG5pbXBvcnQgeyBEZWxpbmVhdGlvbiB9IGZyb20gJy4vRGVsaW5lYXRpb24nO1xuaW1wb3J0IHsgQ2hhbGtDdXJzb3IgfSBmcm9tICcuL0NoYWxrQ3Vyc29yJztcbmltcG9ydCB7IEJsYWNrVlNXaGl0ZUJvYXJkIH0gZnJvbSAnLi9CbGFja1ZTV2hpdGVCb2FyZCc7XG5pbXBvcnQgeyBCYWNrZ3JvdW5kIH0gZnJvbSAnLi9CYWNrZ3JvdW5kJztcbmltcG9ydCB7IEVycm9yTWVzc2FnZSB9IGZyb20gJy4vRXJyb3JNZXNzYWdlJztcbmltcG9ydCB7IFRyYW5zbGF0aW9uIH0gZnJvbSAnLi9UcmFuc2xhdGlvbic7XG5pbXBvcnQgeyBNZW51IH0gZnJvbSAnLi9NZW51JztcbmltcG9ydCB7IFRvdWNoU2NyZWVuIH0gZnJvbSAnLi9Ub3VjaFNjcmVlbic7XG5pbXBvcnQgeyBTaGFyZUV2ZW50IH0gZnJvbSAnLi9TaGFyZUV2ZW50JztcbmltcG9ydCB7IERyYXdpbmcgfSBmcm9tICcuL0RyYXdpbmcnXG5cbndpbmRvdy5vbmxvYWQgPSBsb2FkO1xud2luZG93WydNZW51J10gPSBNZW51O1xud2luZG93WydTaGFyZUV2ZW50J10gPSBTaGFyZUV2ZW50O1xuXG5leHBvcnQgY29uc3QgcGFsZXR0ZSA9IG5ldyBQYWxldHRlKCk7XG5cbmxldCBsb2FkZWQgPSBmYWxzZTtcblxuLyoqXG4gKiB0aGlzIGZ1bmN0aW9uIHNldHMgdGhlIGRvY3VtZW50LmJvZHkgc2Nyb2xscyB0byAwXG4gKiBJdCBzb2x2ZXMgc29tZSBpc3N1ZXM6XG4gKiAtIG9uIHNtYXJ0cGhvbmVzOiB0aGF0IHdlIGNhbiBzY3JvbGwgdGhlIHBhZ2UgaXRzZWxmXG4gKiAtIHdoZW4gdHlwaW5nIHRleHRzIGluIG1hZ25ldCwgaXQgbWFrZXMgdGhlIHNjcmVlbiBub3QgdG8gc2Nyb2xsXG4gKi9cbmZ1bmN0aW9uIGluc3RhbGxCb2R5Tm9TY3JvbGwoKSB7XG5cdHNldEludGVydmFsKCgpID0+IHtcblx0XHRkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgPSAwO1xuXHRcdGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gMDtcblx0fSwgMTAwMCk7XG59XG5cblxuZnVuY3Rpb24gbG9hZCgpIHtcblx0dHJ5IHtcblxuXHRcdGluc3RhbGxCb2R5Tm9TY3JvbGwoKTtcblxuXHRcdGlmIChsb2FkZWQpXG5cdFx0XHRyZXR1cm47XG5cblx0XHRVc2VyTWFuYWdlci5pbml0KCk7XG5cblxuXHRcdEJhY2tncm91bmQuaW5pdCgpO1xuXHRcdExheW91dC5pbml0KCk7XG5cblx0XHRUcmFuc2xhdGlvbi5pbml0KCk7XG5cdFx0Q2hhbGtDdXJzb3IuaW5pdCgpO1xuXHRcdExvYWRTYXZlLmluaXQoKTtcblx0XHRCb2FyZE1hbmFnZXIuaW5pdCgpO1xuXHRcdE1lbnUuaW5pdCgpO1xuXHRcdFNoYXJlLmluaXQoKTtcblx0XHRUb29sYmFyLmluaXQoKTtcblx0XHREaXNjdXNzaW9uLmluaXQoKTtcblxuXG5cblx0XHRjb25zdCBjaGFuZ2VDb2xvciA9ICgpID0+IHtcblx0XHRcdGlmIChNYWduZXRNYW5hZ2VyLmdldE1hZ25ldFVuZGVyQ3Vyc29yKCkgPT0gdW5kZWZpbmVkKSB7IC8vaWYgbm8gbWFnbmV0IHVuZGVyIHRoZSBjdXJzb3IsIGNoYW5nZSB0aGUgY29sb3Igb2YgdGhlIGNoYWxrXG5cdFx0XHRcdC8vaWYgKCFpc0RyYXdpbmcpXG5cdFx0XHRcdHBhbGV0dGUuc2hvdyh7IHg6IFVzZXJNYW5hZ2VyLm1lLngsIHk6IFVzZXJNYW5hZ2VyLm1lLnkgfSk7XG5cdFx0XHRcdHBhbGV0dGUubmV4dCgpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7IC8vIGlmIHRoZXJlIGlzIGEgbWFnbmV0IGNoYW5nZSB0aGUgYmFja2dyb3VuZCBvZiB0aGUgbWFnbmV0XG5cdFx0XHRcdGNvbnN0IG1hZ25ldCA9IE1hZ25ldE1hbmFnZXIuZ2V0TWFnbmV0VW5kZXJDdXJzb3IoKTtcblx0XHRcdFx0bWFnbmV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IG5leHRCYWNrZ3JvdW5kQ29sb3IobWFnbmV0LnN0eWxlLmJhY2tncm91bmRDb2xvcik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgcHJldmlvdXNDb2xvciA9ICgpID0+IHtcblx0XHRcdGlmIChNYWduZXRNYW5hZ2VyLmdldE1hZ25ldFVuZGVyQ3Vyc29yKCkgPT0gdW5kZWZpbmVkKSB7IC8vaWYgbm8gbWFnbmV0IHVuZGVyIHRoZSBjdXJzb3IsIGNoYW5nZSB0aGUgY29sb3Igb2YgdGhlIGNoYWxrXG5cdFx0XHRcdFVzZXJNYW5hZ2VyLm1lLmVyYXNlTW9kZSA9IGZhbHNlO1xuXG5cdFx0XHRcdGlmICghVXNlck1hbmFnZXIubWUuaXNEcmF3aW5nKVxuXHRcdFx0XHRcdHBhbGV0dGUuc2hvdyh7IHg6IFVzZXJNYW5hZ2VyLm1lLngsIHk6IFVzZXJNYW5hZ2VyLm1lLnkgfSk7XG5cdFx0XHRcdHBhbGV0dGUucHJldmlvdXMoKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgeyAvLyBpZiB0aGVyZSBpcyBhIG1hZ25ldCBjaGFuZ2UgdGhlIGJhY2tncm91bmQgb2YgdGhlIG1hZ25ldFxuXHRcdFx0XHRjb25zdCBtYWduZXQgPSBNYWduZXRNYW5hZ2VyLmdldE1hZ25ldFVuZGVyQ3Vyc29yKCk7XG5cdFx0XHRcdG1hZ25ldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBwcmV2aW91c0JhY2tncm91bmRDb2xvcihtYWduZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBzd2l0Y2hDaGFsa0VyYXNlciA9ICgpID0+IHtcblx0XHRcdGlmIChVc2VyTWFuYWdlci5tZS5lcmFzZU1vZGUpXG5cdFx0XHRcdFNoYXJlLmV4ZWN1dGUoXCJzd2l0Y2hDaGFsa1wiLCBbVXNlck1hbmFnZXIubWUudXNlcklEXSk7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdFNoYXJlLmV4ZWN1dGUoXCJzd2l0Y2hFcmFzZVwiLCBbVXNlck1hbmFnZXIubWUudXNlcklEXSk7XG5cblxuXHRcdH1cblxuXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25NZW51XCIpLm9uY2xpY2sgPSBNZW51LnRvZ2dsZTtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkNvbG9yc1wiKS5vbmNsaWNrID0gY2hhbmdlQ29sb3I7XG5cblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkNoYWxrXCIpLm9uY2xpY2sgPSBzd2l0Y2hDaGFsa0VyYXNlcjtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkVyYXNlclwiKS5vbmNsaWNrID0gc3dpdGNoQ2hhbGtFcmFzZXI7XG5cblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvblRleHRcIikub25jbGljayA9ICgpID0+IE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0VGV4dChVc2VyTWFuYWdlci5tZS54LCBVc2VyTWFuYWdlci5tZS55KTtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkRpdmlkZVwiKS5vbmNsaWNrID0gRHJhd2luZy5kaXZpZGVTY3JlZW47XG5cblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkxlZnRcIikub25jbGljayA9IEJvYXJkTWFuYWdlci5sZWZ0O1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uUmlnaHRcIikub25jbGljayA9IEJvYXJkTWFuYWdlci5yaWdodDtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkNhbmNlbFwiKS5vbmNsaWNrID0gKCkgPT4gU2hhcmUuZXhlY3V0ZShcImNhbmNlbFwiLCBbXSk7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25SZWRvXCIpLm9uY2xpY2sgPSAoKSA9PiBTaGFyZS5leGVjdXRlKFwicmVkb1wiLCBbXSk7XG5cblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkFza1F1ZXN0aW9uXCIpLm9uY2xpY2sgPSBEaXNjdXNzaW9uLmFza1F1ZXN0aW9uO1xuXG5cblxuXHRcdGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRyb2xzXCIpLmNoaWxkcmVuO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBidXR0b25zLmxlbmd0aDsgaSsrKVxuXHRcdFx0aWYgKGJ1dHRvbnNbaV0gaW5zdGFuY2VvZiBIVE1MQnV0dG9uRWxlbWVudClcblx0XHRcdFx0KDxIVE1MQnV0dG9uRWxlbWVudD5idXR0b25zW2ldKS5vbmZvY3VzID0gKDxhbnk+ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkuYmx1cjsgLy90byBiZSBpbXByb3ZlZFxuXG5cdFx0QmxhY2tWU1doaXRlQm9hcmQuaW5pdCgpO1xuXG5cdFx0cGFsZXR0ZS5vbmNoYW5nZSA9ICgpID0+IHtcblx0XHRcdFNoYXJlLmV4ZWN1dGUoXCJzd2l0Y2hDaGFsa1wiLCBbVXNlck1hbmFnZXIubWUudXNlcklEXSk7XG5cdFx0XHRTaGFyZS5leGVjdXRlKFwic2V0Q3VycmVudENvbG9yXCIsIFtVc2VyTWFuYWdlci5tZS51c2VySUQsIHBhbGV0dGUuZ2V0Q3VycmVudENvbG9yKCldKTtcblx0XHR9XG5cblxuXHRcdGRvY3VtZW50Lm9ua2V5ZG93biA9IChldnQpID0+IHtcblx0XHRcdC8vY29uc29sZS5sb2coXCJjdHJsOiBcIiArIGV2dC5jdHJsS2V5ICsgXCIgc2hpZnQ6XCIgKyBldnQuc2hpZnRLZXkgKyBcImtleTogXCIgKyBldnQua2V5KVxuXHRcdFx0aWYgKGV2dC5rZXkgPT0gXCJCYWNrc3BhY2VcIiAmJiAhKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSlcblx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGlmIChldnQua2V5ID09IFwiRXNjYXBlXCIgfHwgZXZ0LmtleSA9PSBcIkYxXCIpIHsvL2VzY2FwZSA9PiBzaG93IG1lbnVcblx0XHRcdFx0aWYgKHBhbGV0dGUuaXNTaG93bigpKVxuXHRcdFx0XHRcdHBhbGV0dGUuaGlkZSgpO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0TWVudS50b2dnbGUoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKE1lbnUuaXNTaG93bigpKVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdGlmICghZXZ0LmN0cmxLZXkgJiYgIWV2dC5zaGlmdEtleSAmJiBldnQua2V5ID09IFwiY1wiKSAvLyBjID0+IGNoYW5nZSBjb2xvclxuXHRcdFx0XHRjaGFuZ2VDb2xvcigpO1xuXHRcdFx0ZWxzZSBpZiAoIWV2dC5jdHJsS2V5ICYmIGV2dC5zaGlmdEtleSAmJiBldnQua2V5ID09IFwiQ1wiKVxuXHRcdFx0XHRwcmV2aW91c0NvbG9yKCk7XG5cdFx0XHRlbHNlIGlmIChldnQua2V5ID09IFwiRW50ZXJcIiAmJiBwYWxldHRlLmlzU2hvd24oKSlcblx0XHRcdFx0cGFsZXR0ZS5oaWRlKCk7XG5cdFx0XHRlbHNlIGlmIChldnQua2V5ID09IFwiQXJyb3dMZWZ0XCIgJiYgcGFsZXR0ZS5pc1Nob3duKCkpXG5cdFx0XHRcdHBhbGV0dGUucHJldmlvdXMoKTtcblx0XHRcdGVsc2UgaWYgKGV2dC5rZXkgPT0gXCJBcnJvd1JpZ2h0XCIgJiYgcGFsZXR0ZS5pc1Nob3duKCkpXG5cdFx0XHRcdHBhbGV0dGUubmV4dCgpO1xuXHRcdFx0ZWxzZSBpZiAoZXZ0LmtleSA9PSBcIkVudGVyXCIpIHtcblx0XHRcdFx0TWFnbmV0TWFuYWdlci5hZGRNYWduZXRUZXh0KFVzZXJNYW5hZ2VyLm1lLngsIFVzZXJNYW5hZ2VyLm1lLnkpO1xuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTsgLy9zbyB0aGF0IGl0IHdpbGwgbm90IGFkZCBcIm5ldyBsaW5lXCIgaW4gdGhlIHRleHQgZWxlbWVudFxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZXZ0LmtleSA9PSBcIkFycm93TGVmdFwiKSB7XG5cdFx0XHRcdEJvYXJkTWFuYWdlci5sZWZ0KCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChldnQua2V5ID09IFwiQXJyb3dSaWdodFwiKSB7XG5cdFx0XHRcdEJvYXJkTWFuYWdlci5yaWdodCgpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZXZ0LmtleSA9PSBcImRcIikgIC8vZCA9IGRpdmlkZSBzY3JlZW5cblx0XHRcdFx0RHJhd2luZy5kaXZpZGVTY3JlZW4oKTtcblx0XHRcdGVsc2UgaWYgKChldnQuY3RybEtleSAmJiBldnQuc2hpZnRLZXkgJiYgZXZ0LmtleSA9PSBcIlpcIikgfHwgKGV2dC5jdHJsS2V5ICYmIGV2dC5rZXkgPT0gXCJ5XCIpKSB7IC8vY3RybCArIHNoaWZ0ICsgeiBPUiBDdHJsICsgWSA9IHJlZG9cblx0XHRcdFx0U2hhcmUuZXhlY3V0ZShcInJlZG9cIiwgW10pO1xuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKGV2dC5jdHJsS2V5ICYmIGV2dC5rZXkgPT0gXCJ6XCIpIHsvLyBjdHJsICsgeiA9IHVuZG9cblx0XHRcdFx0U2hhcmUuZXhlY3V0ZShcImNhbmNlbFwiLCBbXSk7XG5cdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRlbHNlIGlmIChldnQua2V5ID09IFwiZVwiKSAgLy9lID0gc3dpdGNoIGVyYXNlciBhbmQgY2hhbGtcblx0XHRcdFx0c3dpdGNoQ2hhbGtFcmFzZXIoKTtcblx0XHRcdGVsc2UgaWYgKGV2dC5rZXkgPT0gXCJoXCIpXG5cdFx0XHRcdFRvb2xiYXIudG9nZ2xlKCk7XG5cdFx0XHRlbHNlIGlmIChldnQuY3RybEtleSAmJiBldnQua2V5ID09ICd4Jykgey8vQ3RybCArIHhcblx0XHRcdFx0cGFsZXR0ZS5oaWRlKCk7XG5cdFx0XHRcdGlmIChVc2VyTWFuYWdlci5tZS5sYXN0RGVsaW5lYXRpb24uY29udGFpbnNQb2x5Z29uVG9NYWduZXRpemUoKSlcblx0XHRcdFx0XHRVc2VyTWFuYWdlci5tZS5sYXN0RGVsaW5lYXRpb24uY3V0QW5kTWFnbmV0aXplKCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChldnQuY3RybEtleSAmJiBldnQua2V5ID09ICdjJykgey8vQ3RybCArIGNcblx0XHRcdFx0cGFsZXR0ZS5oaWRlKCk7XG5cdFx0XHRcdGlmIChVc2VyTWFuYWdlci5tZS5sYXN0RGVsaW5lYXRpb24uY29udGFpbnNQb2x5Z29uVG9NYWduZXRpemUoKSlcblx0XHRcdFx0XHRVc2VyTWFuYWdlci5tZS5sYXN0RGVsaW5lYXRpb24uY29weUFuZE1hZ25ldGl6ZSgpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZXZ0LmN0cmxLZXkgJiYgZXZ0LmtleSA9PSBcInZcIikgeyAvL0N0cmwgKyB2ID0gcHJpbnQgdGhlIGN1cnJlbnQgbWFnbmV0XG5cdFx0XHRcdHBhbGV0dGUuaGlkZSgpO1xuXHRcdFx0XHRTaGFyZS5leGVjdXRlKFwicHJpbnRNYWduZXRcIiwgW01hZ25ldE1hbmFnZXIuZ2V0Q3VycmVudE1hZ25ldElEKCldKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKGV2dC5rZXkgPT0gXCJtXCIpIHsgLy9tID0gbWFrZSBuZXcgbWFnbmV0c1xuXHRcdFx0XHRwYWxldHRlLmhpZGUoKTtcblx0XHRcdFx0aWYgKFVzZXJNYW5hZ2VyLm1lLmxhc3REZWxpbmVhdGlvbi5jb250YWluc1BvbHlnb25Ub01hZ25ldGl6ZSgpKVxuXHRcdFx0XHRcdFVzZXJNYW5hZ2VyLm1lLmxhc3REZWxpbmVhdGlvbi5jdXRBbmRNYWduZXRpemUoKTtcblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0U2hhcmUuZXhlY3V0ZShcInByaW50TWFnbmV0XCIsIFtNYWduZXRNYW5hZ2VyLmdldEN1cnJlbnRNYWduZXRJRCgpXSk7XG5cdFx0XHRcdFx0TWFnbmV0TWFuYWdlci5yZW1vdmVDdXJyZW50TWFnbmV0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKGV2dC5rZXkgPT0gXCJwXCIpIHsgLy9wID0gcHJpbnQgdGhlIGN1cnJlbnQgbWFnbmV0XG5cdFx0XHRcdHBhbGV0dGUuaGlkZSgpO1xuXHRcdFx0XHRTaGFyZS5leGVjdXRlKFwicHJpbnRNYWduZXRcIiwgW01hZ25ldE1hbmFnZXIuZ2V0Q3VycmVudE1hZ25ldElEKCldKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKGV2dC5rZXkgPT0gXCJEZWxldGVcIiB8fCBldnQua2V5ID09IFwieFwiIHx8IGV2dC5rZXkgPT0gXCJCYWNrc3BhY2VcIikgeyAvL3N1cHIgPSBkZWxldGUgdGhlIGN1cnJlbnQgbWFnbmV0XG5cdFx0XHRcdHBhbGV0dGUuaGlkZSgpO1xuXHRcdFx0XHQvKmlmIChsYXN0RGVsaW5lYXRpb24uY29udGFpbnNQb2x5Z29uVG9NYWduZXRpemUoKSlcblx0XHRcdFx0XHRsYXN0RGVsaW5lYXRpb24uZXJhc2UoKTtcblx0XHRcdFx0ZWxzZSovXG5cdFx0XHRcdE1hZ25ldE1hbmFnZXIucmVtb3ZlQ3VycmVudE1hZ25ldCgpO1xuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblxuXHRcdH07XG5cblxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpLm9ucG9pbnRlcmRvd24gPSAoZXZ0KSA9PiB7XG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFNoYXJlLmV4ZWN1dGUoXCJtb3VzZWRvd25cIiwgW1VzZXJNYW5hZ2VyLm1lLnVzZXJJRCwgZXZ0XSlcblx0XHR9O1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzQmFja2dyb3VuZFwiKS5vbnBvaW50ZXJtb3ZlID0gKGV2dCkgPT4geyBjb25zb2xlLmxvZyhcIm1vdXNlbW92ZSBvbiB0aGUgYmFja2dyb3VuZCBzaG91bGQgbm90IG9jY3VyXCIpIH07XG5cblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKS5vbnBvaW50ZXJtb3ZlID0gKGV2dCkgPT4ge1xuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRTaGFyZS5leGVjdXRlKFwibW91c2Vtb3ZlXCIsIFtVc2VyTWFuYWdlci5tZS51c2VySUQsIGV2dF0pXG5cdFx0fTtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKS5vbnBvaW50ZXJ1cCA9IChldnQpID0+IHtcblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0U2hhcmUuZXhlY3V0ZShcIm1vdXNldXBcIiwgW1VzZXJNYW5hZ2VyLm1lLnVzZXJJRCwgZXZ0XSlcblx0XHR9O1xuXG5cdFx0Ly9vbnBvaW50ZXJsZWF2ZTogc3RvcCB0aGUgZHJhd2luZyB0byBwcmV2ZW50IGJ1Z3MgKGxpa2UgaXQgZHJhd3MgYSBzbWFsbCBsaW5lKVxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpLm9ucG9pbnRlcmxlYXZlID0gKGV2dCkgPT4ge1xuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRTaGFyZS5leGVjdXRlKFwibW91c2V1cFwiLCBbVXNlck1hbmFnZXIubWUudXNlcklELCBldnRdKVxuXHRcdH07XG5cdFx0Ly9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKS5vbm1vdXNlZG93biA9IG1vdXNlZG93bjtcblxuXHRcdFRvdWNoU2NyZWVuLmFkZFRvdWNoRXZlbnRzKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpKTtcblxuXG5cblxuXHRcdC8vXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKS5vbm1vdXNlbGVhdmUgPSBmdW5jdGlvbiAoZXZ0KSB7IGlzRHJhd2luZyA9IGZhbHNlOyB9XG5cblx0XHRNYWduZXRNYW5hZ2VyLmluaXQoKTtcblx0XHRNeU1hZ25ldHMubG9hZE1hZ25ldHMoKTtcblxuXHRcdEJvYXJkTWFuYWdlci5sb2FkKCk7XG5cdFx0bG9hZGVkID0gdHJ1ZTtcblx0fVxuXHRjYXRjaCAoZSkge1xuXHRcdEVycm9yTWVzc2FnZS5zaG93KGUpO1xuXHRcdGxvYWRlZCA9IGZhbHNlO1xuXHR9XG59XG5cblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FudmFzKCk6IEhUTUxDYW52YXNFbGVtZW50IHtcblx0cmV0dXJuIDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FudmFzQmFja2dyb3VuZCgpOiBIVE1MQ2FudmFzRWxlbWVudCB7XG5cdHJldHVybiA8SFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNCYWNrZ3JvdW5kXCIpO1xufVxuXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRhaW5lcigpIHtcblx0cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpO1xufVxuXG5cblxuY29uc3QgbWFnbmV0Q29sb3JzID0gWycnLCAncmdiKDI1NSwgMTI4LCAwKScsICdyZ2IoMCwgMTI4LCAwKScsICdyZ2IoMTkyLCAwLCAwKScsICdyZ2IoMCwgMCwgMjU1KSddO1xuXG5mdW5jdGlvbiBuZXh0QmFja2dyb3VuZENvbG9yKGNvbG9yKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbWFnbmV0Q29sb3JzLmxlbmd0aDsgaSsrKSB7XG5cdFx0aWYgKG1hZ25ldENvbG9yc1tpXSA9PSBjb2xvcikge1xuXHRcdFx0cmV0dXJuIG1hZ25ldENvbG9yc1soaSArIDEpICUgbWFnbmV0Q29sb3JzLmxlbmd0aF07XG5cdFx0fVxuXHR9XG5cdHJldHVybiBtYWduZXRDb2xvcnNbMF07XG59XG5cblxuZnVuY3Rpb24gcHJldmlvdXNCYWNrZ3JvdW5kQ29sb3IoY29sb3IpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBtYWduZXRDb2xvcnMubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAobWFnbmV0Q29sb3JzW2ldID09IGNvbG9yKSB7XG5cdFx0XHRyZXR1cm4gbWFnbmV0Q29sb3JzWyhpIC0gMSkgJSBtYWduZXRDb2xvcnMubGVuZ3RoXTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1hZ25ldENvbG9yc1swXTtcbn1cbiIsImltcG9ydCB7IGdldENhbnZhcyB9IGZyb20gJy4vbWFpbic7XG5pbXBvcnQgeyBNYWduZXRNYW5hZ2VyIH0gZnJvbSAnLi9tYWduZXRNYW5hZ2VyJztcbmltcG9ydCB7IEJvYXJkTWFuYWdlciB9IGZyb20gJy4vYm9hcmRNYW5hZ2VyJztcbmltcG9ydCB7IFVzZXJNYW5hZ2VyIH0gZnJvbSAnLi9Vc2VyTWFuYWdlcic7XG5pbXBvcnQgeyBFcnJvck1lc3NhZ2UgfSBmcm9tICcuL0Vycm9yTWVzc2FnZSc7XG5pbXBvcnQgeyBTaGFyZUV2ZW50IH0gZnJvbSAnLi9TaGFyZUV2ZW50JztcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcuanNvbidcblxuLyoqXG4gKiB0aGUgY2xhc3MgdGhhdCBlbmFibGVzIHRvIHNoYXJlIHRoZSBib2FyZFxuICovXG5leHBvcnQgY2xhc3MgU2hhcmUge1xuXHRzdGF0aWMgd3M6IFdlYlNvY2tldCA9IHVuZGVmaW5lZDtcblx0c3RhdGljIGlkOiBzdHJpbmcgPSB1bmRlZmluZWQ7XG5cdHN0YXRpYyBjYW5Xcml0ZVZhbHVlQnlEZWZhdWx0ID0gdHJ1ZTtcblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHsqfSBhIGZ1bmN0aW9uIGZcblx0ICogQGRlc2NyaXB0aW9uIHRyaWVzIHRvIGNvbm5lY3QgdG8gdGhlIHNlcnZlciwgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBtYWRlLCBpdCBleGVjdXRlcyBmXG5cdCAqL1xuXHRzdGF0aWMgdHJ5Q29ubmVjdChmOiAoKSA9PiB2b2lkKTogdm9pZCB7XG5cdFx0aWYgKFNoYXJlLndzICE9IHVuZGVmaW5lZClcblx0XHRcdHJldHVybjtcblxuXHRcdFNoYXJlLndzID0gbmV3IFdlYlNvY2tldChjb25maWcuc2VydmVyLndlYnNvY2tldCk7XG5cdFx0U2hhcmUud3MuYmluYXJ5VHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcblxuXHRcdFNoYXJlLndzLm9uZXJyb3IgPSAoKSA9PiB7IEVycm9yTWVzc2FnZS5zaG93KFwiSW1wb3NzaWJsZSB0byBjb25uZWN0IHRvIHRoZSBzZXJ2ZXIuXCIpIH07XG5cblx0XHRTaGFyZS53cy5vbm9wZW4gPSBmO1xuXHRcdFNoYXJlLndzLm9ubWVzc2FnZSA9IChtc2cpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKFwiSSByZWNlaXZlZCB0aGUgbWVzc2FnZTogXCIpO1xuXHRcdFx0U2hhcmUuX3RyZWF0UmVjZWl2ZWRNZXNzYWdlKEpTT04ucGFyc2UobXNnLmRhdGEpKTtcblx0XHR9O1xuXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25Bc2tRdWVzdGlvblwiKS5oaWRkZW4gPSBmYWxzZTtcblxuXHR9XG5cblxuXHQvKipcblx0ICogQHJldHVybnMgdHJ1ZSBpZmYgd2UgYXJlIG9uIGdpdGh1Yi5pb1xuXHQgKi9cblx0c3RhdGljIGlzT25HaXRIdWIoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4uaW5kZXhPZihcImdpdGh1YlwiKSA+PSAwO1xuXHR9XG5cdC8qKlxuXHQgKiBpbml0aWFsaXphdGlvblxuXHQgKi9cblx0c3RhdGljIGluaXQoKTogdm9pZCB7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGFyZUJ1dHRvblwiKS5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0aWYgKCFTaGFyZS5pc1NoYXJlZCgpKVxuXHRcdFx0XHRTaGFyZS5zaGFyZSgpO1xuXHRcdH07XG5cblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvblNoYXJlXCIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoIVNoYXJlLmlzU2hhcmVkKCkpIHtcblx0XHRcdFx0U2hhcmUuc2hhcmUoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFNoYXJlLmNvcHlTaGFyZVVybCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiam9pbkJ1dHRvblwiKS5vbmNsaWNrID0gKCkgPT4ge1xuXHRcdFx0d2luZG93Lm9wZW4oPGFueT53aW5kb3cubG9jYXRpb24sIFwiX3NlbGZcIilcblx0XHR9XG5cblx0XHRjb25zdCBjaGVja2JveFNoYXJlUGVybWlzc2lvbldyaXRlID0gPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGFyZVBlcm1pc3Npb25Xcml0ZVwiKTtcblx0XHRjaGVja2JveFNoYXJlUGVybWlzc2lvbldyaXRlLm9uY2xpY2sgPVxuXHRcdFx0KCkgPT4gU2hhcmUuc2V0Q2FuV3JpdGVGb3JBbGxFeGNlcHRNZUFuZEJ5RGVmYXVsdChjaGVja2JveFNoYXJlUGVybWlzc2lvbldyaXRlLmNoZWNrZWQpO1xuXG5cdFx0aWYgKCFTaGFyZS5pc09uR2l0SHViKCkpXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2hhcmVHaXRodWInKS5oaWRkZW4gPSB0cnVlO1xuXG5cdFx0aWYgKFNoYXJlLmlzU2hhcmVkVVJMKCkpIHtcblx0XHRcdGNvbnN0IHRyeUpvaW4gPSAoKSA9PiB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0U2hhcmUuaWQgPSBTaGFyZS5nZXRJREluU2hhcmVkVVJMKCk7XG5cdFx0XHRcdFx0aWYgKFNoYXJlLmlkICE9IG51bGwpIHtcblx0XHRcdFx0XHRcdFNoYXJlLmpvaW4oU2hhcmUuaWQpO1xuXHRcdFx0XHRcdFx0KDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmVVcmxcIikpLnZhbHVlID0gPGFueT5kb2N1bWVudC5sb2NhdGlvbjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRTaGFyZS53cyA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRTaGFyZS5zaG93Q29ubmVjdGlvbkVycm9yKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRTaGFyZS50cnlDb25uZWN0KHRyeUpvaW4pO1xuXHRcdH1cblxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uQXNrUHJpdmlsZWdlXCIpLm9uY2xpY2sgPSBTaGFyZS5hc2tQcml2aWxlZ2U7XG5cblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkNvcHlTaGFyZVVybFwiKS5vbmNsaWNrID0gU2hhcmUuY29weVNoYXJlVXJsO1xuXHR9XG5cblxuXG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBhc2sgZm9yIHByaXZpbGVnZSAocm9vdClcblx0ICovXG5cdHN0YXRpYyBhc2tQcml2aWxlZ2UoKTogdm9pZCB7XG5cdFx0Y29uc3QgcGFzc3dvcmRDYW5kaWRhdGUgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXNzd29yZENhbmRpZGF0ZVwiKSkudmFsdWU7XG5cdFx0U2hhcmUuc2VuZCh7IHR5cGU6IFwiYXNrcHJpdmlsZWdlXCIsIHBhc3N3b3JkOiBwYXNzd29yZENhbmRpZGF0ZSB9KVxuXHR9XG5cblxuXHRzdGF0aWMgY29weVNoYXJlVXJsKCk6IHZvaWQge1xuXHRcdGNvbnN0IHNoYXJlbGluayA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlVXJsXCIpKS52YWx1ZTtcblx0XHRuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChzaGFyZWxpbmspLlxuXHRcdFx0dGhlbihmdW5jdGlvbiAoKSB7IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmVVcmxDb3BpZWRcIikuaGlkZGVuID0gZmFsc2U7IH0sXG4gICAgICAgIC8qIGVsc2UgKi8gZnVuY3Rpb24gKCkgeyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlVXJsQ29waWVkXCIpLmhpZGRlbiA9IGZhbHNlOyB9KTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHRydWUgaWZmIHRoZSBib2FyZCBpcyBzaGFyZWQgd2l0aCBvdGhlcnNcblx0ICovXG5cdHN0YXRpYyBpc1NoYXJlZCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gU2hhcmUuaWQgIT0gdW5kZWZpbmVkO1xuXHR9XG5cblxuXHRzdGF0aWMgc2hvd0Nvbm5lY3Rpb25FcnJvcigpOiB2b2lkIHtcblx0XHRpZiAoU2hhcmUuaXNPbkdpdEh1YigpKVxuXHRcdFx0RXJyb3JNZXNzYWdlLnNob3coXCJGb3Igc2hhcmluZywgZmlyc3QgZ28gdG8gYSBkZXBsb3llZCBzZXJ2ZXIuIEdvIHRvIG1lbnUvc2hhcmUgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCIpO1xuXHRcdGVsc2Vcblx0XHRcdEVycm9yTWVzc2FnZS5zaG93KFwiSW1wb3NzaWJsZSB0byBjb25uZWN0IHRvIHRoZSBzZXJ2ZXJcIik7XG5cdH1cblx0LyoqXG5cdCAqIEByZXR1cm5zIHRydWUgaWZmIHRoZSBjdXJyZW50IHVzZXIgaXMgcm9vdFxuXHQgKi9cblx0c3RhdGljIGlzUm9vdCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhc2tQcml2aWxlZ2VcIikuaGlkZGVuO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiB0cmllcyB0byBjb25uZWN0IHRoZSBzZXJ2ZXIgdG8gbWFrZSBhIHNoYXJlZCBib2FyZFxuXHQgKi9cblx0c3RhdGljIHNoYXJlKCk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBwYXNzd29yZCA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhc3N3b3JkXCIpKS52YWx1ZTtcblxuXHRcdFx0U2hhcmUudHJ5Q29ubmVjdCgoKSA9PiBTaGFyZS5zZW5kKHsgdHlwZTogXCJzaGFyZVwiLCBwYXNzd29yZDogcGFzc3dvcmQgfSkpO1xuXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlSW5mb1wiKS5oaWRkZW4gPSBmYWxzZTtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uU2hhcmVcIikuaW5uZXJIVE1MID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NoYXJlY29weXRleHQnKS5pbm5lckhUTUw7XG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImpvaW5cIikuaGlkZGVuID0gdHJ1ZTtcblxuXHRcdFx0aWYgKHBhc3N3b3JkID09IFwiXCIpIHtcblx0XHRcdFx0U2hhcmUuc2V0Q2FuV3JpdGVGb3JBbGxFeGNlcHRNZUFuZEJ5RGVmYXVsdCh0cnVlKTtcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdFx0U2hhcmUuc2V0Q2FuV3JpdGVGb3JBbGxFeGNlcHRNZUFuZEJ5RGVmYXVsdChmYWxzZSk7XG5cblx0XHRcdFNoYXJlLnNldFJvb3QoKTtcblxuXHRcdH1cblx0XHRjYXRjaCAoZSkge1xuXHRcdFx0U2hhcmUud3MgPSB1bmRlZmluZWQ7XG5cdFx0XHRTaGFyZS5zaG93Q29ubmVjdGlvbkVycm9yKCk7XG5cdFx0fVxuXG5cdH1cblxuXG5cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHsqfSBtc2cgYXMgYW4gb2JqZWN0XG5cdCAqIEBkZXNjcmlwdGlvbiB0cmVhdHMgdGhlIG1zZyByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXJcblx0ICovXG5cdHN0YXRpYyBfdHJlYXRSZWNlaXZlZE1lc3NhZ2UobXNnOiBhbnkpOiB2b2lkIHtcblx0XHRpZiAobXNnLnR5cGUgIT0gXCJmdWxsQ2FudmFzXCIgJiYgbXNnLnR5cGUgIT0gXCJtYWduZXRzXCIgJiYgbXNnLnR5cGUgIT0gXCJleGVjdXRlXCIpXG5cdFx0XHRjb25zb2xlLmxvZyhcIlNlcnZlciAtPiBtZTogXCIgKyBKU09OLnN0cmluZ2lmeShtc2cpKTtcblx0XHRlbHNlXG5cdFx0XHRjb25zb2xlLmxvZyhcIlNlcnZlciAtPiBtZTogXCIgKyBtc2cudHlwZSk7XG5cdFx0c3dpdGNoIChtc2cudHlwZSkge1xuXHRcdFx0Y2FzZSBcImlkXCI6IFNoYXJlLl9zZXRUYWJsZWF1SUQobXNnLmlkKTsgYnJlYWs7XG5cdFx0XHRjYXNlIFwieW91cnVzZXJpZFwiOiAvLyBcInlvdXIgbmFtZSBpcyAuLi5cIlxuXHRcdFx0XHRVc2VyTWFuYWdlci5zZXRNeVVzZXJJRChtc2cudXNlcmlkKTtcblxuXHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlQW5kSm9pblwiKS5oaWRkZW4gPSB0cnVlO1xuXHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlSW5mb1wiKS5oaWRkZW4gPSBmYWxzZTtcblxuXHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvblNoYXJlXCIpLmlubmVySFRNTCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaGFyZWNvcHl0ZXh0JykuaW5uZXJIVE1MO1xuXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInVzZXJcIjogLy90aGVyZSBpcyBhbiBleGlzdGluZyB1c2VyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiZXhpc3RpbmcgdXNlcjogXCIsIG1zZy51c2VyaWQpXG5cdFx0XHRcdGlmIChtc2cudXNlcmlkID09IFVzZXJNYW5hZ2VyLm1lLnVzZXJJRClcblx0XHRcdFx0XHR0aHJvdyBcIm9vcHMuLi4gYW4gYWxyZWFkeSBleGlzdGluZyB1c2VyIGhhcyB0aGUgc2FtZSBuYW1lIHRoYW4gbWVcIjtcblxuXHRcdFx0XHRVc2VyTWFuYWdlci5hZGQobXNnLnVzZXJpZCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInJvb3RcIjogLy95b3Ugb2J0YWluZWQgcm9vdCBwZXJtaXNzaW9uIGFuZCB0aGUgc2VydmVyIHRlbGxzIHlvdSB0aGF0XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiSSBhbSByb290LlwiKVxuXHRcdFx0XHRTaGFyZS5zZXRSb290KCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImFjY2Vzc2RlbmllZFwiOlxuXHRcdFx0XHRFcnJvck1lc3NhZ2Uuc2hvdyhcIkFjY2VzcyBkZW5pZWRcIik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImpvaW5cIjogLy9hIG5ldyB1c2VyIGpvaW5zIHRoZSBncm91cFxuXHRcdFx0XHRjb25zb2xlLmxvZyhcImEgbmV3IHVzZXIgaXMgam9pbmluZzogXCIsIG1zZy51c2VyaWQpXG5cdFx0XHRcdC8vIHRoZSBsZWFkZXIgaXMgdGhlIHVzZXIgd2l0aCB0aGUgc21hbGxlc3QgSURcblxuXHRcdFx0XHRVc2VyTWFuYWdlci5hZGQobXNnLnVzZXJpZCk7XG5cblx0XHRcdFx0aWYgKFVzZXJNYW5hZ2VyLmlzU21hbGxlc3RVc2VySUQoKSkge1xuXHRcdFx0XHRcdC8vZ2V0Q2FudmFzKCkudG9CbG9iKChibG9iKSA9PiBTaGFyZS5zZW5kRnVsbENhbnZhcyhibG9iLCBtc2cudXNlcmlkKSk7XG5cdFx0XHRcdFx0U2hhcmUuc2VuZEZ1bGxDYW52YXMobXNnLnVzZXJpZCk7XG5cdFx0XHRcdFx0U2hhcmUuc2VuZE1hZ25ldHMobXNnLnVzZXJpZCk7XG5cdFx0XHRcdFx0U2hhcmUuZXhlY3V0ZShcInNldFVzZXJDYW5Xcml0ZVwiLCBbbXNnLnVzZXJpZCwgU2hhcmUuY2FuV3JpdGVWYWx1ZUJ5RGVmYXVsdF0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwibGVhdmVcIjpcblx0XHRcdFx0VXNlck1hbmFnZXIubGVhdmUobXNnLnVzZXJpZCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImZ1bGxDYW52YXNcIjpcblx0XHRcdFx0Qm9hcmRNYW5hZ2VyLmxvYWRXaXRob3V0U2F2ZShtc2cuZGF0YSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcIm1hZ25ldHNcIjpcblx0XHRcdFx0Y29uc29sZS5sb2cobXNnLm1hZ25ldHMpXG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFnbmV0c1wiKS5pbm5lckhUTUwgPSBtc2cubWFnbmV0cztcblx0XHRcdFx0TWFnbmV0TWFuYWdlci5pbnN0YWxsTWFnbmV0cygpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJtYWduZXRDaGFuZ2VkXCI6XG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1zZy5tYWduZXRpZCkub3V0ZXJIVE1MID0gbXNnLmRhdGE7XG5cdFx0XHRcdE1hZ25ldE1hbmFnZXIuaW5zdGFsbE1hZ25ldHMoKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwibmV3bWFnbmV0XCI6XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwibmV3IG1hZ25ldDpcIilcblx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWduZXRzXCIpLmlubmVySFRNTCA9XG5cdFx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWduZXRzXCIpLmlubmVySFRNTCArIChtc2cuZGF0YSk7IC8vYSBiaXQgY3Jhenlcblx0XHRcdFx0TWFnbmV0TWFuYWdlci5pbnN0YWxsTWFnbmV0cygpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJleGVjdXRlXCI6XG5cdFx0XHRcdFNoYXJlRXZlbnRbbXNnLmV2ZW50XSguLi5tc2cucGFyYW1zKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblxuXHQvKipcblx0ICogbW9kaWZ5IHRoZSBpbnRlcmZhY2UgdG8gc2F5IHRoYXQgdGhlIGN1cnJlbnQgdXNlciBpcyByb290IChhbGwgcHJpdmlsZWdlcylcblx0ICovXG5cdHN0YXRpYyBzZXRSb290KCk6IHZvaWQge1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXNrUHJpdmlsZWdlXCIpLmhpZGRlbiA9IHRydWU7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGFyZU1vZGVcIikuaGlkZGVuID0gZmFsc2U7XG5cdH1cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHsqfSBtc2cgYXMgYW4gb2JqZWN0XG5cdCAqIEBkZXNjcmlwdGlvbiBzZW5kIHRoZSBtZXNzYWdlIHRvIHNlcnZlclxuXHQgKlxuXHQgKi9cblx0c3RhdGljIHNlbmQobXNnOiBhbnkpOiB2b2lkIHtcblx0XHRtc2cuaWQgPSBTaGFyZS5pZDtcblx0XHR0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobXNnKSk7XG5cdH1cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHsqfSBibG9iXG5cdCAqIEBwYXJhbSB7Kn0gdG9cblx0ICogQGRlc2NyaXB0aW9uIHNlbmQgdGhlIGJsb2Igb2YgdGhlIGNhbnZhcyB0byB0aGUgdXNlciB0b1xuXHQgKi9cblx0c3RhdGljIHNlbmRGdWxsQ2FudmFzKHRvPzogc3RyaW5nKTogdm9pZCB7XG5cdFx0U2hhcmUuc2VuZCh7IHR5cGU6IFwiZnVsbENhbnZhc1wiLCBkYXRhOiBnZXRDYW52YXMoKS50b0RhdGFVUkwoKSwgdG86IHRvIH0pOyAvLyBhdCBzb21lIHBvaW50IHNlbmQgdGhlIGJsb2IgZGlyZWN0bHlcblx0fVxuXG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSB0b1xuXHQgKiBAZGVzY3JpcHRpb24gc2VuZCBhbGwgdGhlIG1hZ25ldHMgdG8gdG8uIElmIHRvIGlzIHVuZGVmaW5lZCwgc2VuZCB0byBhbGwuXG5cdCAqL1xuXHRzdGF0aWMgc2VuZE1hZ25ldHModG8/OiBzdHJpbmcpOiB2b2lkIHtcblx0XHRpZiAoU2hhcmUuaXNTaGFyZWQoKSkge1xuXHRcdFx0aWYgKHRvKVxuXHRcdFx0XHRTaGFyZS5zZW5kKHsgdHlwZTogXCJtYWduZXRzXCIsIG1hZ25ldHM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFnbmV0c1wiKS5pbm5lckhUTUwsIHRvOiB0byB9KTsgLy8gc2VuZCB0aGUgaHRtbCBjb2RlIGZvciBhbGwgdGhlIG1hZ25ldHNcblx0XHRcdGVsc2Vcblx0XHRcdFx0U2hhcmUuc2VuZCh7IHR5cGU6IFwibWFnbmV0c1wiLCBtYWduZXRzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hZ25ldHNcIikuaW5uZXJIVE1MIH0pOyAvLyBzZW5kIHRoZSBodG1sIGNvZGUgZm9yIGFsbCB0aGUgbWFnbmV0c1xuXHRcdH1cblxuXHR9XG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSBlbGVtZW50XG5cdCAqIEBkZXNjcmlwdGlvbiBzZW5kIHRoZSBmYWN0IHRoYXQgdGhlcmUgaXMgYSBuZXcgbWFnbmV0XG5cdCAqL1xuXHRzdGF0aWMgc2VuZE5ld01hZ25ldChlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdGNvbnNvbGUubG9nKFwibmV3IG1hZ25ldCBzZW50IVwiKVxuXHRcdFNoYXJlLnNlbmQoeyB0eXBlOiBcIm5ld21hZ25ldFwiLCBkYXRhOiBlbGVtZW50Lm91dGVySFRNTCB9KTtcblx0fVxuXG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSBlbGVtZW50XG5cdCAqIEBkZXNjcmlwdGlvbiBzZW5kIHRoZSBuZXcgaW5mb3JtYXRpb24gYWJvdXQgYW4gZXhpc3RpbmcgbWFnbmV0XG5cdCAqL1xuXHRzdGF0aWMgc2VuZE1hZ25ldENoYW5nZWQoZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRTaGFyZS5zZW5kKHsgdHlwZTogXCJtYWduZXRDaGFuZ2VkXCIsIG1hZ25ldGlkOiBlbGVtZW50LmlkLCBkYXRhOiBlbGVtZW50Lm91dGVySFRNTCB9KTtcblx0fVxuXG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSB7Kn0gZXZlbnQsIGFuIGV2ZW50IG5hbWUgKHN0cmluZyksIHRoYXQgaXMgYSBtZXRob2Qgb2YgdGhlIGNsYXNzIFNoYXJlRXZlbnRcblx0ICogQHBhcmFtIHsqfSBwYXJhbXMgYW4gYXJyYXkgb2YgcGFyYW1ldGVyc1xuXHQgKiBAZGVzY3JpcHRpb24gZXhlY3V0ZXMgdGhlIGV2ZW50IHdpdGggdGhlIHBhcmFtcywgdGhhdCBpcyBleGVjdXRlIHRoZSBtZXRob2QgZXZlbnQgb2YgdGhlIGNsYXNzIFNoYXJlRXZlbnRcblx0ICogd2l0aCB0aGUgcGFyYW1zLiBUaGVuIHNlbmQgYSBtZXNzYWdlIHRvIHNlcnZlciB0aGF0IHRoaXMgZXZlbnQgc2hvdWxkIGJlIGV4ZWN1dGVkIGZvciB0aGUgb3RoZXIgdXNlcnMgYXMgd2VsbFxuXHQgKi9cblx0c3RhdGljIGV4ZWN1dGUoZXZlbnQ6IHN0cmluZywgcGFyYW1zOiBhbnlbXSk6IHZvaWQge1xuXHRcdGZ1bmN0aW9uIGFkYXB0KG9iaikge1xuXHRcdFx0aWYgKG9iaiBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHtcblx0XHRcdFx0cmV0dXJuIHsgcHJlc3N1cmU6ICg8YW55Pm9iaikucHJlc3N1cmUsIG9mZnNldFg6IG9iai5vZmZzZXRYLCBvZmZzZXRZOiBvYmoub2Zmc2V0WSB9O1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gb2JqO1xuXHRcdFx0LypcdGxldCBwcm9wcyA9IFsvLyd0YXJnZXQnLCAnY2xpZW50WCcsICdjbGllbnRZJywgJ2xheWVyWCcsICdsYXllclknLFxuXHRcdFx0XHRcdCdwcmVzc3VyZScsICdvZmZzZXRYJywgJ29mZnNldFknXTtcblx0XHRcdFx0cHJvcHMuZm9yRWFjaChwcm9wID0+IHtcblx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogb2JqW3Byb3BdLFxuXHRcdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9iajsqL1xuXG5cdFx0fVxuXHRcdGV2YWwoXCJTaGFyZUV2ZW50LlwiICsgZXZlbnQpKC4uLnBhcmFtcyk7XG5cdFx0aWYgKFNoYXJlLmlzU2hhcmVkKCkpXG5cdFx0XHRTaGFyZS5zZW5kKHsgdHlwZTogXCJleGVjdXRlXCIsIGV2ZW50OiBldmVudCwgcGFyYW1zOiBwYXJhbXMubWFwKChwYXJhbSkgPT4gYWRhcHQocGFyYW0pKSB9KTtcblx0fVxuXG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSBpZFxuXHQgKiBAZGVzY3JpcHRpb24gc2V0IHRoZSBJRCBvZiB0aGUgY3VycmVudCBib2FyZFxuXHQgKi9cblx0c3RhdGljIF9zZXRUYWJsZWF1SUQoaWQ6IHN0cmluZyk6IHZvaWQge1xuXHRcdFNoYXJlLmlkID0gaWQ7XG5cblx0XHRjb25zdCB1cmwgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuXHRcdC8qXHRpZiAodXJsLnN0YXJ0c1dpdGgoXCJmaWxlOi8vXCIpKVxuXHRcdFx0XHR1cmwgPSBERUZBVUxUQUREUkVTUzsqL1xuXG5cdFx0Y29uc3QgbmV3VXJsID0gdXJsICsgXCI/aWQ9XCIgKyBpZDtcblx0XHRoaXN0b3J5LnB1c2hTdGF0ZSh7fSwgbnVsbCwgbmV3VXJsKTtcblxuXHRcdCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlVXJsXCIpKS52YWx1ZSA9IHVybC5zdGFydHNXaXRoKFwiZmlsZTovL1wiKSA/IGNvbmZpZy5zZXJ2ZXIuZnJvbnRlbmQgKyBcIj9pZD1cIiArIGlkIDogbmV3VXJsO1xuXG5cdFx0Ly9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKS50b0Jsb2IoKGJsb2IpID0+IFNoYXJlLnNlbmRGdWxsQ2FudmFzKGJsb2IpKTtcblxuXHR9XG5cblxuXG5cblxuXG5cblxuXG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHllcyBpZiB0aGUgY3VycmVudCBVUkwgaXMgYW4gVVJMIG9mIGEgc2hhcmVkIGJvYXJkXG5cdCAqL1xuXHRzdGF0aWMgaXNTaGFyZWRVUkwoKTogYm9vbGVhbiB7XG5cdFx0Y29uc3QgcGFyYW1zID0gKG5ldyBVUkwoPGFueT5kb2N1bWVudC5sb2NhdGlvbikpLnNlYXJjaFBhcmFtcztcblx0XHRyZXR1cm4gcGFyYW1zLmdldCgnaWQnKSAhPSBudWxsO1xuXHR9XG5cblxuXHQvKipcblx0ICogQHJldHVybnMgdGhlIGN1cnJlbnQgdGFibGVhdW5vaXIgSURcblx0ICovXG5cdHN0YXRpYyBnZXRUYWJsZWF1Tm9pcklEKCk6IHN0cmluZyB7XG5cdFx0aWYgKFNoYXJlLmlzU2hhcmVkVVJMKCkpIHtcblx0XHRcdHJldHVybiBTaGFyZS5nZXRJREluU2hhcmVkVVJMKCk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBcImxvY2FsXCI7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMgdGhlIGN1cnJlbnQgdGFibGVhdW5vaXIgSURcblx0ICovXG5cdHN0YXRpYyBnZXRJREluU2hhcmVkVVJMKCk6IHN0cmluZyB7XG5cdFx0Y29uc3QgcGFyYW1zID0gKG5ldyBVUkwoPGFueT5kb2N1bWVudC5sb2NhdGlvbikpLnNlYXJjaFBhcmFtcztcblx0XHRyZXR1cm4gcGFyYW1zLmdldCgnaWQnKTtcblx0fVxuXG5cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIGlkXG5cdCAqIEBkZXNjcmlwdGlvbiBzYXkgdGhhdCB0aGUgY3VycmVudCB1c2VyIHdhbnRzIHRvIGpvaW4gdGhlIHRhYmxlYXVub2lyIGlkXG5cdCAqL1xuXHRzdGF0aWMgam9pbihpZDogc3RyaW5nKTogdm9pZCB7XG5cdFx0U2hhcmUuc2VuZCh7IHR5cGU6IFwiam9pblwiLCBpZDogaWQgfSk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0gY2FuV3JpdGVcblx0ICogQGRlc2NyaXB0aW9uIGlmIGNhbldyaXRlID09IHRydWUsIG1ha2VzIHRoYXQgZXZlcnlib2R5IGNhbiBkcmF3LCBvdGhlcndpc2Ugb25seSB5b3UgY2FuXG5cdCAqL1xuXHRzdGF0aWMgc2V0Q2FuV3JpdGVGb3JBbGxFeGNlcHRNZUFuZEJ5RGVmYXVsdChjYW5Xcml0ZTogYm9vbGVhbik6IHZvaWQge1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1nV3JpdGVQZXJtaXNzaW9uXCIgKyBjYW5Xcml0ZSkuaGlkZGVuID0gZmFsc2U7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbWdXcml0ZVBlcm1pc3Npb25cIiArICFjYW5Xcml0ZSkuaGlkZGVuID0gdHJ1ZTtcblxuXHRcdCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlUGVybWlzc2lvbldyaXRlXCIpKS5jaGVja2VkID0gY2FuV3JpdGU7XG5cblx0XHRmb3IgKGNvbnN0IHVzZXJpZCBpbiBVc2VyTWFuYWdlci51c2Vycykge1xuXHRcdFx0aWYgKFVzZXJNYW5hZ2VyLnVzZXJzW3VzZXJpZF0gIT0gVXNlck1hbmFnZXIubWUpXG5cdFx0XHRcdFNoYXJlLmV4ZWN1dGUoXCJzZXRVc2VyQ2FuV3JpdGVcIiwgW3VzZXJpZCwgY2FuV3JpdGVdKTtcblx0XHR9XG5cdFx0U2hhcmUuY2FuV3JpdGVWYWx1ZUJ5RGVmYXVsdCA9IGNhbldyaXRlO1xuXHRcdFNoYXJlLmV4ZWN1dGUoXCJzZXRVc2VyQ2FuV3JpdGVcIiwgW1VzZXJNYW5hZ2VyLm1lLnVzZXJJRCwgdHJ1ZV0pO1xuXHR9XG5cblxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG4iXSwic291cmNlUm9vdCI6IiJ9