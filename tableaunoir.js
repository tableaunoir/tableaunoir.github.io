/*! For license information please see tableaunoir.js.LICENSE.txt */
(()=>{var __webpack_modules__={130:(t,e,n)=>{"use strict";n.d(e,{P:()=>s});var r=n(2079),A=n(2521),i=n(6060),o=n(3981),s=function(){function t(){}return t.init=function(){t.setScroll(0)},Object.defineProperty(t,"scrollQuantity",{get:function(){return 100},enumerable:!1,configurable:!0}),t._left=function(e){e<=0&&(t.showPageNumber(0),e=0),t.setScroll(e)},t._right=function(e){var n=(0,o.My)(),A=(0,o.dX)();document.getElementById("buttonLeft").classList.remove("disabled"),n.scrollLeft>=32e3-i.P.getWindowWidth()?n.scrollLeft=32e3-i.P.getWindowWidth():(e>=A.width-i.P.getWindowWidth()&&(t._rightExtendCanvasEnable&&(r.S.execute("setWidthAtLeast",[(A.width/i.P.scrollQuantityPage()+1)*i.P.scrollQuantityPage()]),t._rightExtendCanvasEnable=!1,setTimeout(function(){t._rightExtendCanvasEnable=!0},1e3)),e=Math.min(e,A.width-i.P.getWindowWidth())),t.setScroll(e))},t.left=function(){t._left((0,o.My)().scrollLeft-t.scrollQuantity)},t.right=function(){t._right((0,o.My)().scrollLeft+t.scrollQuantity)},t.setScroll=function(e){e<=0&&document.getElementById("buttonLeft").classList.add("disabled"),e!=(0,o.My)().scrollLeft&&(t.timeoutScrolling&&clearTimeout(t.timeoutScrolling),(0,o.My)().scrollTo({top:0,left:e,behavior:"smooth"}),t.timeoutScrolling=setTimeout(function(){(0,o.My)().scrollLeft!=e&&(0,o.My)().scrollTo({top:0,left:e}),t.timeoutScrolling=void 0},500)),setTimeout(A.$.setSymbolCursorPosition,1e3)},t.leftPreviousPage=function(){var e=(0,o.My)(),n=i.P.isCalibratedHalfPage()?Math.max(0,e.scrollLeft-i.P.scrollQuantityPage()):i.P.correctOnLeft(e.scrollLeft);t._left(n),t.showPageNumber(n)},t.rightNextPage=function(){var e=i.P.isCalibratedHalfPage()?(0,o.My)().scrollLeft+i.P.scrollQuantityPage():i.P.correctOnRight((0,o.My)().scrollLeft);t._right(e),t.showPageNumber(e)},t.showPageNumber=function(t){var e=document.getElementById("pageNumber"),n=(0,o.dX)();e.classList.remove("pageNumberHidden"),e.classList.remove("pageNumber"),setTimeout(function(){var r=Math.round(t/i.P.scrollQuantityPage()),A=Math.round(n.width/i.P.scrollQuantityPage());e.innerHTML=r+1+"/"+A,e.classList.add("pageNumber")},300)},t._rightExtendCanvasEnable=!0,t.timeoutScrolling=void 0,t}()},261:t=>{"use strict";t.exports=require("electron")},328:(t,e,n)=>{"use strict";n.d(e,{x:()=>r});var r=function(){function t(){}return t.getInputElement=function(t){var e=document.getElementById("input"+t),n=document.getElementById("input"+t[0].toUpperCase()+t.substr(1));return e||n},t.getInputElementsByName=function(t){var e=document.getElementsByName("input"+t),n=document.getElementsByName("input"+t[0].toUpperCase()+t.substr(1));return e.length>0?e:n},t.boolean=function(e){var n=e.name,r=e.defaultValue,A=e.onChange,i=t.getInputElement(n),o=null==localStorage[n]?r:function(t){if("true"==t)return!0;if("false"==t)return!1;throw"string ".concat(t," does not represent a boolean value")}(localStorage[n]);i.checked=o,A(i.checked),i.onchange=function(){localStorage[n]=i.checked,A(i.checked)}},t.toggle=function(e){t.getInputElement(e).click()},t.string=function(e){var n=e.name,r=e.defaultValue,A=e.onChange,i=null==localStorage[n]?r:localStorage[n],o=t.getInputElement(n);if(A(i),null!=o)o.value=i,o.oninput=function(){localStorage[n]=o.value,A(o.value)};else for(var s=t.getInputElementsByName(n),a=function(t){var e=s[t];e.value==i&&(e.checked=!0),e.onclick=function(){localStorage[n]=e.value,A(e.value)}},c=0;c<s.length;c++)a(c)},t.number=function(e){var n=e.name,r=e.defaultValue,A=e.onChange,i=t.getInputElement(n),o=null==localStorage[n]?r:localStorage[n];i.value=""+o,A(i.value),i.oninput=function(){localStorage[n]=i.value,A(i.value)}},t}()},354:function(t){t.exports=function(){"use strict";var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var A in e=arguments[n])Object.prototype.hasOwnProperty.call(e,A)&&(t[A]=e[A]);return t},n.apply(this,arguments)};function r(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})}function A(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function i(t,e,n){if(n||2===arguments.length)for(var r,A=0,i=e.length;A<i;A++)!r&&A in e||(r||(r=Array.prototype.slice.call(e,0,A)),r[A]=e[A]);return t.concat(r||e)}for(var o=function(){function t(t,e,n,r){this.left=t,this.top=e,this.width=n,this.height=r}return t.prototype.add=function(e,n,r,A){return new t(this.left+e,this.top+n,this.width+r,this.height+A)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(t){return 0!==t.width});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),s=function(t,e){return o.fromClientRect(t,e.getBoundingClientRect())},a=function(t){for(var e=[],n=0,r=t.length;n<r;){var A=t.charCodeAt(n++);if(A>=55296&&A<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&A)<<10)+(1023&i)+65536):(e.push(A),n--)}else e.push(A)}return e},c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],A=-1,i="";++A<n;){var o=t[A];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(A+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"==typeof Uint8Array?[]:new Uint8Array(256),h=0;h<64;h++)u[l.charCodeAt(h)]=h;for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"==typeof Uint8Array?[]:new Uint8Array(256),p=0;p<64;p++)f[d.charCodeAt(p)]=p;for(var g=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},m=function(){function t(t,e,n,r,A,i){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=r,this.index=A,this.data=i}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y="undefined"==typeof Uint8Array?[]:new Uint8Array(256),b=0;b<64;b++)y[w.charCodeAt(b)]=b;var v=10,B=13,C=15,_=17,x=18,F=19,S=20,E=21,U=22,I=24,Q=25,L=26,k=27,M=28,P=30,T=32,N=33,D=34,O=35,H=37,R=38,j=39,K=40,q=42,G=[9001,65288],W="ร",V="รท",z=function(t){var e,n,r,A=function(t){var e,n,r,A,i,o=.75*t.length,s=t.length,a=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<s;e+=4)n=f[t.charCodeAt(e)],r=f[t.charCodeAt(e+1)],A=f[t.charCodeAt(e+2)],i=f[t.charCodeAt(e+3)],l[a++]=n<<2|r>>4,l[a++]=(15&r)<<4|A>>2,l[a++]=(3&A)<<6|63&i;return c}(t),i=Array.isArray(A)?function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n}(A):new Uint32Array(A),o=Array.isArray(A)?function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n}(A):new Uint16Array(A),s=g(o,12,i[4]/2),a=2===i[5]?g(o,(24+i[4])/2):(e=i,n=Math.ceil((24+i[4])/4),e.slice?e.slice(n,r):new Uint32Array(Array.prototype.slice.call(e,n,r)));return new m(i[0],i[1],i[2],i[3],s,a)}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),X=[P,36],J=[1,2,3,5],Y=[v,8],Z=[k,L],$=J.concat(Y),tt=[R,j,K,D,O],et=[C,B],nt=function(t,e,n,r){var A=r[n];if(Array.isArray(t)?-1!==t.indexOf(A):t===A)for(var i=n;i<=r.length;){if((a=r[++i])===e)return!0;if(a!==v)break}if(A===v)for(i=n;i>0;){var o=r[--i];if(Array.isArray(t)?-1!==t.indexOf(o):t===o)for(var s=n;s<=r.length;){var a;if((a=r[++s])===e)return!0;if(a!==v)break}if(o!==v)break}return!1},rt=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r!==v)return r;n--}return 0},At=function(t,e,n,r,A){if(0===n[r])return W;var i=r-1;if(Array.isArray(A)&&!0===A[i])return W;var o=i-1,s=i+1,a=e[i],c=o>=0?e[o]:0,l=e[s];if(2===a&&3===l)return W;if(-1!==J.indexOf(a))return"!";if(-1!==J.indexOf(l))return W;if(-1!==Y.indexOf(l))return W;if(8===rt(i,e))return V;if(11===z.get(t[i]))return W;if((a===T||a===N)&&11===z.get(t[s]))return W;if(7===a||7===l)return W;if(9===a)return W;if(-1===[v,B,C].indexOf(a)&&9===l)return W;if(-1!==[_,x,F,I,M].indexOf(l))return W;if(rt(i,e)===U)return W;if(nt(23,U,i,e))return W;if(nt([_,x],E,i,e))return W;if(nt(12,12,i,e))return W;if(a===v)return V;if(23===a||23===l)return W;if(16===l||16===a)return V;if(-1!==[B,C,E].indexOf(l)||14===a)return W;if(36===c&&-1!==et.indexOf(a))return W;if(a===M&&36===l)return W;if(l===S)return W;if(-1!==X.indexOf(l)&&a===Q||-1!==X.indexOf(a)&&l===Q)return W;if(a===k&&-1!==[H,T,N].indexOf(l)||-1!==[H,T,N].indexOf(a)&&l===L)return W;if(-1!==X.indexOf(a)&&-1!==Z.indexOf(l)||-1!==Z.indexOf(a)&&-1!==X.indexOf(l))return W;if(-1!==[k,L].indexOf(a)&&(l===Q||-1!==[U,C].indexOf(l)&&e[s+1]===Q)||-1!==[U,C].indexOf(a)&&l===Q||a===Q&&-1!==[Q,M,I].indexOf(l))return W;if(-1!==[Q,M,I,_,x].indexOf(l))for(var u=i;u>=0;){if((h=e[u])===Q)return W;if(-1===[M,I].indexOf(h))break;u--}if(-1!==[k,L].indexOf(l))for(u=-1!==[_,x].indexOf(a)?o:i;u>=0;){var h;if((h=e[u])===Q)return W;if(-1===[M,I].indexOf(h))break;u--}if(R===a&&-1!==[R,j,D,O].indexOf(l)||-1!==[j,D].indexOf(a)&&-1!==[j,K].indexOf(l)||-1!==[K,O].indexOf(a)&&l===K)return W;if(-1!==tt.indexOf(a)&&-1!==[S,L].indexOf(l)||-1!==tt.indexOf(l)&&a===k)return W;if(-1!==X.indexOf(a)&&-1!==X.indexOf(l))return W;if(a===I&&-1!==X.indexOf(l))return W;if(-1!==X.concat(Q).indexOf(a)&&l===U&&-1===G.indexOf(t[s])||-1!==X.concat(Q).indexOf(l)&&a===x)return W;if(41===a&&41===l){for(var d=n[i],f=1;d>0&&41===e[--d];)f++;if(f%2!=0)return W}return a===T&&l===N?W:V},it=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=function(t,e){void 0===e&&(e="strict");var n=[],r=[],A=[];return t.forEach(function(t,i){var o=z.get(t);if(o>50?(A.push(!0),o-=50):A.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return r.push(i),n.push(16);if(4===o||11===o){if(0===i)return r.push(i),n.push(P);var s=n[i-1];return-1===$.indexOf(s)?(r.push(r[i-1]),n.push(s)):(r.push(i),n.push(P))}return r.push(i),31===o?n.push("strict"===e?E:H):o===q||29===o?n.push(P):43===o?t>=131072&&t<=196605||t>=196608&&t<=262141?n.push(H):n.push(P):void n.push(o)}),[r,n,A]}(t,e.lineBreak),r=n[0],A=n[1],i=n[2];"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(A=A.map(function(t){return-1!==[Q,P,q].indexOf(t)?H:t}));var o="keep-all"===e.wordBreak?i.map(function(e,n){return e&&t[n]>=19968&&t[n]<=40959}):void 0;return[r,A,o]},ot=function(){function t(t,e,n,r){this.codePoints=t,this.required="!"===e,this.start=n,this.end=r}return t.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),st=45,at=43,ct=-1,lt=function(t){return t>=48&&t<=57},ut=function(t){return lt(t)||t>=65&&t<=70||t>=97&&t<=102},ht=function(t){return 10===t||9===t||32===t},dt=function(t){return function(t){return function(t){return t>=97&&t<=122}(t)||function(t){return t>=65&&t<=90}(t)}(t)||function(t){return t>=128}(t)||95===t},ft=function(t){return dt(t)||lt(t)||t===st},pt=function(t){return t>=0&&t<=8||11===t||t>=14&&t<=31||127===t},gt=function(t,e){return 92===t&&10!==e},mt=function(t,e,n){return t===st?dt(e)||gt(e,n):!!dt(t)||!(92!==t||!gt(t,e))},wt=function(t,e,n){return t===at||t===st?!!lt(e)||46===e&&lt(n):lt(46===t?e:t)},yt=function(t){var e=0,n=1;t[e]!==at&&t[e]!==st||(t[e]===st&&(n=-1),e++);for(var r=[];lt(t[e]);)r.push(t[e++]);var A=r.length?parseInt(c.apply(void 0,r),10):0;46===t[e]&&e++;for(var i=[];lt(t[e]);)i.push(t[e++]);var o=i.length,s=o?parseInt(c.apply(void 0,i),10):0;69!==t[e]&&101!==t[e]||e++;var a=1;t[e]!==at&&t[e]!==st||(t[e]===st&&(a=-1),e++);for(var l=[];lt(t[e]);)l.push(t[e++]);var u=l.length?parseInt(c.apply(void 0,l),10):0;return n*(A+s*Math.pow(10,-o))*Math.pow(10,a*u)},bt={type:2},vt={type:3},Bt={type:4},Ct={type:13},_t={type:8},xt={type:21},Ft={type:9},St={type:10},Et={type:11},Ut={type:12},It={type:14},Qt={type:23},Lt={type:1},kt={type:25},Mt={type:24},Pt={type:26},Tt={type:27},Nt={type:28},Dt={type:29},Ot={type:31},Ht={type:32},Rt=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(a(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==Ht;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(ft(e)||gt(n,r)){var A=mt(e,n,r)?2:1;return{type:5,value:this.consumeName(),flags:A}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ct;break;case 39:return this.consumeStringToken(39);case 40:return bt;case 41:return vt;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),It;break;case at:if(wt(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 44:return Bt;case st:var i=t,o=this.peekCodePoint(0),s=this.peekCodePoint(1);if(wt(i,o,s))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(mt(i,o,s))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(o===st&&62===s)return this.consumeCodePoint(),this.consumeCodePoint(),Mt;break;case 46:if(wt(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var a=this.consumeCodePoint();if(42===a&&47===(a=this.consumeCodePoint()))return this.consumeToken();if(a===ct)return this.consumeToken()}break;case 58:return Pt;case 59:return Tt;case 60:if(33===this.peekCodePoint(0)&&this.peekCodePoint(1)===st&&this.peekCodePoint(2)===st)return this.consumeCodePoint(),this.consumeCodePoint(),kt;break;case 64:var l=this.peekCodePoint(0),u=this.peekCodePoint(1),h=this.peekCodePoint(2);if(mt(l,u,h))return{type:7,value:this.consumeName()};break;case 91:return Nt;case 92:if(gt(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case 93:return Dt;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),_t;break;case 123:return Et;case 125:return Ut;case 117:case 85:var d=this.peekCodePoint(0),f=this.peekCodePoint(1);return d!==at||!ut(f)&&63!==f||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ft;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),xt;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),St;break;case ct:return Ht}return ht(t)?(this.consumeWhiteSpace(),Ot):lt(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):dt(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:c(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();ut(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var n=!1;63===e&&t.length<6;)t.push(e),e=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,t.map(function(t){return 63===t?48:t})),16),end:parseInt(c.apply(void 0,t.map(function(t){return 63===t?70:t})),16)};var r=parseInt(c.apply(void 0,t),16);if(this.peekCodePoint(0)===st&&ut(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var A=[];ut(e)&&A.length<6;)A.push(e),e=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,A),16)}}return{type:30,start:r,end:r}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ct)return{type:22,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ct||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Qt)}for(;;){var r=this.consumeCodePoint();if(r===ct||41===r)return{type:22,value:c.apply(void 0,t)};if(ht(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ct||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Qt);if(34===r||39===r||40===r||pt(r))return this.consumeBadUrlRemnants(),Qt;if(92===r){if(!gt(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Qt;t.push(this.consumeEscapedCodePoint())}else t.push(r)}},t.prototype.consumeWhiteSpace=function(){for(;ht(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(41===t||t===ct)return;gt(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e="";t>0;){var n=Math.min(5e4,t);e+=c.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),e},t.prototype.consumeStringToken=function(t){for(var e="",n=0;;){var r=this._value[n];if(r===ct||void 0===r||r===t)return{type:0,value:e+=this.consumeStringSlice(n)};if(10===r)return this._value.splice(0,n),Lt;if(92===r){var A=this._value[n+1];A!==ct&&void 0!==A&&(10===A?(e+=this.consumeStringSlice(n),n=-1,this._value.shift()):gt(r,A)&&(e+=this.consumeStringSlice(n),e+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},t.prototype.consumeNumber=function(){var t=[],e=4,n=this.peekCodePoint(0);for(n!==at&&n!==st||t.push(this.consumeCodePoint());lt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(46===n&&lt(r))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;lt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var A=this.peekCodePoint(2);if((69===n||101===n)&&((r===at||r===st)&&lt(A)||lt(r)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;lt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[yt(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],n=t[1],r=this.peekCodePoint(0),A=this.peekCodePoint(1),i=this.peekCodePoint(2);return mt(r,A,i)?{type:15,number:e,flags:n,unit:this.consumeName()}:37===r?(this.consumeCodePoint(),{type:16,number:e,flags:n}):{type:17,number:e,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(ut(t)){for(var e=c(t);ut(this.peekCodePoint(0))&&e.length<6;)e+=c(this.consumeCodePoint());ht(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(e,16);return 0===n||function(t){return t>=55296&&t<=57343}(n)||n>1114111?65533:n}return t===ct?65533:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(ft(e))t+=c(e);else{if(!gt(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=c(this.consumeEscapedCodePoint())}}},t}(),jt=function(){function t(t){this._tokens=t}return t.create=function(e){var n=new Rt;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();31===t.type;)t=this.consumeToken();if(32===t.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(31===t.type);if(32===t.type)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(32===e.type)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},n=this.consumeToken();;){if(32===n.type||Yt(n,t))return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?Ht:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),Kt=function(t){return 15===t.type},qt=function(t){return 17===t.type},Gt=function(t){return 20===t.type},Wt=function(t){return 0===t.type},Vt=function(t,e){return Gt(t)&&t.value===e},zt=function(t){return 31!==t.type},Xt=function(t){return 31!==t.type&&4!==t.type},Jt=function(t){var e=[],n=[];return t.forEach(function(t){if(4===t.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(n),void(n=[])}31!==t.type&&n.push(t)}),n.length&&e.push(n),e},Yt=function(t,e){return 11===e&&12===t.type||28===e&&29===t.type||2===e&&3===t.type},Zt=function(t){return 17===t.type||15===t.type},$t=function(t){return 16===t.type||Zt(t)},te=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ee={type:17,number:0,flags:4},ne={type:16,number:50,flags:4},re={type:16,number:100,flags:4},Ae=function(t,e,n){var r=t[0],A=t[1];return[ie(r,e),ie(void 0!==A?A:r,n)]},ie=function(t,e){if(16===t.type)return t.number/100*e;if(Kt(t))switch(t.unit){case"rem":case"em":return 16*t.number;default:return t.number}return t.number},oe="grad",se="turn",ae=function(t,e){if(15===e.type)switch(e.unit){case"deg":return Math.PI*e.number/180;case oe:return Math.PI/200*e.number;case"rad":return e.number;case se:return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},ce=function(t){return 15===t.type&&("deg"===t.unit||t.unit===oe||"rad"===t.unit||t.unit===se)},le=function(t){switch(t.filter(Gt).map(function(t){return t.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ee,ee];case"to top":case"bottom":return ue(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ee,re];case"to right":case"left":return ue(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[re,re];case"to bottom":case"top":return ue(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[re,ee];case"to left":case"right":return ue(270)}return 0},ue=function(t){return Math.PI*t/180},he=function(t,e){if(18===e.type){var n=be[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(5===e.type){if(3===e.value.length){var r=e.value.substring(0,1),A=e.value.substring(1,2),i=e.value.substring(2,3);return pe(parseInt(r+r,16),parseInt(A+A,16),parseInt(i+i,16),1)}if(4===e.value.length){r=e.value.substring(0,1),A=e.value.substring(1,2),i=e.value.substring(2,3);var o=e.value.substring(3,4);return pe(parseInt(r+r,16),parseInt(A+A,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(6===e.value.length)return r=e.value.substring(0,2),A=e.value.substring(2,4),i=e.value.substring(4,6),pe(parseInt(r,16),parseInt(A,16),parseInt(i,16),1);if(8===e.value.length)return r=e.value.substring(0,2),A=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8),pe(parseInt(r,16),parseInt(A,16),parseInt(i,16),parseInt(o,16)/255)}if(20===e.type){var s=Be[e.value.toUpperCase()];if(void 0!==s)return s}return Be.TRANSPARENT},de=function(t){return!(255&t)},fe=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,A=255&t>>24;return e<255?"rgba("+A+","+r+","+n+","+e/255+")":"rgb("+A+","+r+","+n+")"},pe=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(255*r))>>>0},ge=function(t,e){if(17===t.type)return t.number;if(16===t.type){var n=3===e?1:255;return 3===e?t.number/100*n:Math.round(t.number/100*n)}return 0},me=function(t,e){var n=e.filter(Xt);if(3===n.length){var r=n.map(ge),A=r[0],i=r[1],o=r[2];return pe(A,i,o,1)}if(4===n.length){var s=n.map(ge),a=(A=s[0],i=s[1],o=s[2],s[3]);return pe(A,i,o,a)}return 0};function we(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<.5?e:n<2/3?6*(e-t)*(2/3-n)+t:t}var ye=function(t,e){var n=e.filter(Xt),r=n[0],A=n[1],i=n[2],o=n[3],s=(17===r.type?ue(r.number):ae(t,r))/(2*Math.PI),a=$t(A)?A.number/100:0,c=$t(i)?i.number/100:0,l=void 0!==o&&$t(o)?ie(o,1):1;if(0===a)return pe(255*c,255*c,255*c,1);var u=c<=.5?c*(a+1):c+a-c*a,h=2*c-u,d=we(h,u,s+1/3),f=we(h,u,s),p=we(h,u,s-1/3);return pe(255*d,255*f,255*p,l)},be={hsl:ye,hsla:ye,rgb:me,rgba:me},ve=function(t,e){return he(t,jt.create(e).parseComponentValue())},Be={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ce={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(t){if(Gt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},_e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},xe=function(t,e){var n=he(t,e[0]),r=e[1];return r&&$t(r)?{color:n,stop:r}:{color:n,stop:null}},Fe=function(t,e){var n=t[0],r=t[t.length-1];null===n.stop&&(n.stop=ee),null===r.stop&&(r.stop=re);for(var A=[],i=0,o=0;o<t.length;o++){var s=t[o].stop;if(null!==s){var a=ie(s,e);a>i?A.push(a):A.push(i),i=a}else A.push(null)}var c=null;for(o=0;o<A.length;o++){var l=A[o];if(null===l)null===c&&(c=o);else if(null!==c){for(var u=o-c,h=(l-A[c-1])/(u+1),d=1;d<=u;d++)A[c+d-1]=h*d;c=null}}return t.map(function(t,n){return{color:t.color,stop:Math.max(Math.min(1,A[n]/e),0)}})},Se=function(t,e,n){var r="number"==typeof t?t:function(t,e,n){var r=e/2,A=n/2,i=ie(t[0],e)-r,o=A-ie(t[1],n);return(Math.atan2(o,i)+2*Math.PI)%(2*Math.PI)}(t,e,n),A=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),i=e/2,o=n/2,s=A/2,a=Math.sin(r-Math.PI/2)*s,c=Math.cos(r-Math.PI/2)*s;return[A,i-c,i+c,o-a,o+a]},Ee=function(t,e){return Math.sqrt(t*t+e*e)},Ue=function(t,e,n,r,A){return[[0,0],[0,e],[t,0],[t,e]].reduce(function(t,e){var i=e[0],o=e[1],s=Ee(n-i,r-o);return(A?s<t.optimumDistance:s>t.optimumDistance)?{optimumCorner:e,optimumDistance:s}:t},{optimumDistance:A?1/0:-1/0,optimumCorner:null}).optimumCorner},Ie=function(t,e){var n=ue(180),r=[];return Jt(e).forEach(function(e,A){if(0===A){var i=e[0];if(20===i.type&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(n=le(e));if(ce(i))return void(n=(ae(t,i)+ue(270))%ue(360))}var o=xe(t,e);r.push(o)}),{angle:n,stops:r,type:1}},Qe="closest-side",Le="farthest-side",ke="closest-corner",Me="farthest-corner",Pe="circle",Te="ellipse",Ne="cover",De="contain",Oe=function(t,e){var n=0,r=3,A=[],i=[];return Jt(e).forEach(function(e,o){var s=!0;if(0===o?s=e.reduce(function(t,e){if(Gt(e))switch(e.value){case"center":return i.push(ne),!1;case"top":case"left":return i.push(ee),!1;case"right":case"bottom":return i.push(re),!1}else if($t(e)||Zt(e))return i.push(e),!1;return t},s):1===o&&(s=e.reduce(function(t,e){if(Gt(e))switch(e.value){case Pe:return n=0,!1;case Te:return n=1,!1;case De:case Qe:return r=0,!1;case Le:return r=1,!1;case ke:return r=2,!1;case Ne:case Me:return r=3,!1}else if(Zt(e)||$t(e))return Array.isArray(r)||(r=[]),r.push(e),!1;return t},s)),s){var a=xe(t,e);A.push(a)}}),{size:r,shape:n,stops:A,position:i,type:2}},He=function(t,e){if(22===e.type){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(18===e.type){var r=je[e.name];if(void 0===r)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)};var Re,je={"linear-gradient":function(t,e){var n=ue(180),r=[];return Jt(e).forEach(function(e,A){if(0===A){var i=e[0];if(20===i.type&&"to"===i.value)return void(n=le(e));if(ce(i))return void(n=ae(t,i))}var o=xe(t,e);r.push(o)}),{angle:n,stops:r,type:1}},"-moz-linear-gradient":Ie,"-ms-linear-gradient":Ie,"-o-linear-gradient":Ie,"-webkit-linear-gradient":Ie,"radial-gradient":function(t,e){var n=0,r=3,A=[],i=[];return Jt(e).forEach(function(e,o){var s=!0;if(0===o){var a=!1;s=e.reduce(function(t,e){if(a)if(Gt(e))switch(e.value){case"center":return i.push(ne),t;case"top":case"left":return i.push(ee),t;case"right":case"bottom":return i.push(re),t}else($t(e)||Zt(e))&&i.push(e);else if(Gt(e))switch(e.value){case Pe:return n=0,!1;case Te:return n=1,!1;case"at":return a=!0,!1;case Qe:return r=0,!1;case Ne:case Le:return r=1,!1;case De:case ke:return r=2,!1;case Me:return r=3,!1}else if(Zt(e)||$t(e))return Array.isArray(r)||(r=[]),r.push(e),!1;return t},s)}if(s){var c=xe(t,e);A.push(c)}}),{size:r,shape:n,stops:A,position:i,type:2}},"-moz-radial-gradient":Oe,"-ms-radial-gradient":Oe,"-o-radial-gradient":Oe,"-webkit-radial-gradient":Oe,"-webkit-gradient":function(t,e){var n=ue(180),r=[],A=1;return Jt(e).forEach(function(e,n){var i=e[0];if(0===n){if(Gt(i)&&"linear"===i.value)return void(A=1);if(Gt(i)&&"radial"===i.value)return void(A=2)}if(18===i.type)if("from"===i.name){var o=he(t,i.values[0]);r.push({stop:ee,color:o})}else if("to"===i.name)o=he(t,i.values[0]),r.push({stop:re,color:o});else if("color-stop"===i.name){var s=i.values.filter(Xt);if(2===s.length){o=he(t,s[1]);var a=s[0];qt(a)&&r.push({stop:{type:16,number:100*a.number,flags:a.flags},color:o})}}}),1===A?{angle:(n+ue(180))%ue(360),stops:r,type:A}:{size:3,shape:0,stops:r,position:[],type:A}}},Ke={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var n=e[0];return 20===n.type&&"none"===n.value?[]:e.filter(function(t){return Xt(t)&&function(t){return!(20===t.type&&"none"===t.value||18===t.type&&!je[t.name])}(t)}).map(function(e){return He(t,e)})}},qe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(t){if(Gt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ge={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Jt(e).map(function(t){return t.filter($t)}).map(te)}},We={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Jt(e).map(function(t){return t.filter(Gt).map(function(t){return t.value}).join(" ")}).map(Ve)}},Ve=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"}(Re||(Re={}));var ze,Xe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Jt(e).map(function(t){return t.filter(Je)})}},Je=function(t){return Gt(t)||$t(t)},Ye=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ze=Ye("top"),$e=Ye("right"),tn=Ye("bottom"),en=Ye("left"),nn=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return te(e.filter($t))}}},rn=nn("top-left"),An=nn("top-right"),on=nn("bottom-right"),sn=nn("bottom-left"),an=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},cn=an("top"),ln=an("right"),un=an("bottom"),hn=an("left"),dn=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Kt(e)?e.number:0}}},fn=dn("top"),pn=dn("right"),gn=dn("bottom"),mn=dn("left"),wn={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yn={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){return"rtl"===e?1:0}},bn={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Gt).reduce(function(t,e){return t|vn(e.value)},0)}},vn=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Bn={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Cn={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return 20===e.type&&"normal"===e.value?0:17===e.type||15===e.type?e.number:0}};!function(t){t.NORMAL="normal",t.STRICT="strict"}(ze||(ze={}));var _n,xn={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"strict"===e?ze.STRICT:ze.NORMAL}},Fn={name:"line-height",initialValue:"normal",prefix:!1,type:4},Sn=function(t,e){return Gt(t)&&"normal"===t.value?1.2*e:17===t.type?e*t.number:$t(t)?ie(t,e):e},En={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return 20===e.type&&"none"===e.value?null:He(t,e)}},Un={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){return"inside"===e?0:1}},In={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Qn=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Ln=Qn("top"),kn=Qn("right"),Mn=Qn("bottom"),Pn=Qn("left"),Tn={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Gt).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Nn={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"break-word"===e?"break-word":"normal"}},Dn=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},On=Dn("top"),Hn=Dn("right"),Rn=Dn("bottom"),jn=Dn("left"),Kn={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},qn={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Gn={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&Vt(e[0],"none")?[]:Jt(e).map(function(e){for(var n={color:Be.TRANSPARENT,offsetX:ee,offsetY:ee,blur:ee},r=0,A=0;A<e.length;A++){var i=e[A];Zt(i)?(0===r?n.offsetX=i:1===r?n.offsetY=i:n.blur=i,r++):n.color=he(t,i)}return n})}},Wn={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Vn={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(20===e.type&&"none"===e.value)return null;if(18===e.type){var n=zn[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},zn={matrix:function(t){var e=t.filter(function(t){return 17===t.type}).map(function(t){return t.number});return 6===e.length?e:null},matrix3d:function(t){var e=t.filter(function(t){return 17===t.type}).map(function(t){return t.number}),n=e[0],r=e[1];e[2],e[3];var A=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],s=e[13];return e[14],e[15],16===e.length?[n,r,A,i,o,s]:null}},Xn={type:16,number:50,flags:4},Jn=[Xn,Xn],Yn={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter($t);return 2!==n.length?Jn:[n[0],n[1]]}},Zn={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"}(_n||(_n={}));for(var $n={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return _n.BREAK_ALL;case"keep-all":return _n.KEEP_ALL;default:return _n.NORMAL}}},tr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(20===e.type)return{auto:!0,order:0};if(qt(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},er={name:"time",parse:function(t,e){if(15===e.type)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},nr={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return qt(e)?e.number:1}},rr={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ar={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Gt).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return 0!==t})}},ir={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(t){switch(t.type){case 20:case 0:n.push(t.value);break;case 17:n.push(t.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}}),n.length&&r.push(n.join(" ")),r.map(function(t){return-1===t.indexOf(" ")?t:"'"+t+"'"})}},or={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},sr={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){return qt(e)?e.number:Gt(e)&&"bold"===e.value?700:400}},ar={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Gt).map(function(t){return t.value})}},cr={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},lr=function(t,e){return 0!==(t&e)},ur={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var n=e[0];return 20===n.type&&"none"===n.value?[]:e}},hr={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var n=e[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],A=e.filter(zt),i=0;i<A.length;i++){var o=A[i],s=A[i+1];if(20===o.type){var a=s&&qt(s)?s.number:1;r.push({counter:o.value,increment:a})}}return r}},dr={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return[];for(var n=[],r=e.filter(zt),A=0;A<r.length;A++){var i=r[A],o=r[A+1];if(Gt(i)&&"none"!==i.value){var s=o&&qt(o)?o.number:0;n.push({counter:i.value,reset:s})}}return n}},fr={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Kt).map(function(e){return er.parse(t,e)})}},pr={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var n=e[0];if(20===n.type&&"none"===n.value)return null;var r=[],A=e.filter(Wt);if(A.length%2!=0)return null;for(var i=0;i<A.length;i+=2){var o=A[i].value,s=A[i+1].value;r.push({open:o,close:s})}return r}},gr=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},mr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&Vt(e[0],"none")?[]:Jt(e).map(function(e){for(var n={color:255,offsetX:ee,offsetY:ee,blur:ee,spread:ee,inset:!1},r=0,A=0;A<e.length;A++){var i=e[A];Vt(i,"inset")?n.inset=!0:Zt(i)?(0===r?n.offsetX=i:1===r?n.offsetY=i:2===r?n.blur=i:n.spread=i,r++):n.color=he(t,i)}return n})}},wr={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[];return e.filter(Gt).forEach(function(t){switch(t.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}}),[0,1,2].forEach(function(t){-1===n.indexOf(t)&&n.push(t)}),n}},yr={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},br={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Kt(e)?e.number:0}},vr=function(){function t(t,e){var n,r;this.animationDuration=_r(t,fr,e.animationDuration),this.backgroundClip=_r(t,Ce,e.backgroundClip),this.backgroundColor=_r(t,_e,e.backgroundColor),this.backgroundImage=_r(t,Ke,e.backgroundImage),this.backgroundOrigin=_r(t,qe,e.backgroundOrigin),this.backgroundPosition=_r(t,Ge,e.backgroundPosition),this.backgroundRepeat=_r(t,We,e.backgroundRepeat),this.backgroundSize=_r(t,Xe,e.backgroundSize),this.borderTopColor=_r(t,Ze,e.borderTopColor),this.borderRightColor=_r(t,$e,e.borderRightColor),this.borderBottomColor=_r(t,tn,e.borderBottomColor),this.borderLeftColor=_r(t,en,e.borderLeftColor),this.borderTopLeftRadius=_r(t,rn,e.borderTopLeftRadius),this.borderTopRightRadius=_r(t,An,e.borderTopRightRadius),this.borderBottomRightRadius=_r(t,on,e.borderBottomRightRadius),this.borderBottomLeftRadius=_r(t,sn,e.borderBottomLeftRadius),this.borderTopStyle=_r(t,cn,e.borderTopStyle),this.borderRightStyle=_r(t,ln,e.borderRightStyle),this.borderBottomStyle=_r(t,un,e.borderBottomStyle),this.borderLeftStyle=_r(t,hn,e.borderLeftStyle),this.borderTopWidth=_r(t,fn,e.borderTopWidth),this.borderRightWidth=_r(t,pn,e.borderRightWidth),this.borderBottomWidth=_r(t,gn,e.borderBottomWidth),this.borderLeftWidth=_r(t,mn,e.borderLeftWidth),this.boxShadow=_r(t,mr,e.boxShadow),this.color=_r(t,wn,e.color),this.direction=_r(t,yn,e.direction),this.display=_r(t,bn,e.display),this.float=_r(t,Bn,e.cssFloat),this.fontFamily=_r(t,ir,e.fontFamily),this.fontSize=_r(t,or,e.fontSize),this.fontStyle=_r(t,cr,e.fontStyle),this.fontVariant=_r(t,ar,e.fontVariant),this.fontWeight=_r(t,sr,e.fontWeight),this.letterSpacing=_r(t,Cn,e.letterSpacing),this.lineBreak=_r(t,xn,e.lineBreak),this.lineHeight=_r(t,Fn,e.lineHeight),this.listStyleImage=_r(t,En,e.listStyleImage),this.listStylePosition=_r(t,Un,e.listStylePosition),this.listStyleType=_r(t,In,e.listStyleType),this.marginTop=_r(t,Ln,e.marginTop),this.marginRight=_r(t,kn,e.marginRight),this.marginBottom=_r(t,Mn,e.marginBottom),this.marginLeft=_r(t,Pn,e.marginLeft),this.opacity=_r(t,nr,e.opacity);var A=_r(t,Tn,e.overflow);this.overflowX=A[0],this.overflowY=A[A.length>1?1:0],this.overflowWrap=_r(t,Nn,e.overflowWrap),this.paddingTop=_r(t,On,e.paddingTop),this.paddingRight=_r(t,Hn,e.paddingRight),this.paddingBottom=_r(t,Rn,e.paddingBottom),this.paddingLeft=_r(t,jn,e.paddingLeft),this.paintOrder=_r(t,wr,e.paintOrder),this.position=_r(t,qn,e.position),this.textAlign=_r(t,Kn,e.textAlign),this.textDecorationColor=_r(t,rr,null!==(n=e.textDecorationColor)&&void 0!==n?n:e.color),this.textDecorationLine=_r(t,Ar,null!==(r=e.textDecorationLine)&&void 0!==r?r:e.textDecoration),this.textShadow=_r(t,Gn,e.textShadow),this.textTransform=_r(t,Wn,e.textTransform),this.transform=_r(t,Vn,e.transform),this.transformOrigin=_r(t,Yn,e.transformOrigin),this.visibility=_r(t,Zn,e.visibility),this.webkitTextStrokeColor=_r(t,yr,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=_r(t,br,e.webkitTextStrokeWidth),this.wordBreak=_r(t,$n,e.wordBreak),this.zIndex=_r(t,tr,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},t.prototype.isTransparent=function(){return de(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return 0!==this.position},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return 0!==this.float},t.prototype.isInlineLevel=function(){return lr(this.display,4)||lr(this.display,33554432)||lr(this.display,268435456)||lr(this.display,536870912)||lr(this.display,67108864)||lr(this.display,134217728)},t}(),Br=function(t,e){this.content=_r(t,ur,e.content),this.quotes=_r(t,pr,e.quotes)},Cr=function(t,e){this.counterIncrement=_r(t,hr,e.counterIncrement),this.counterReset=_r(t,dr,e.counterReset)},_r=function(t,e,n){var r=new Rt,A=null!=n?n.toString():e.initialValue;r.write(A);var i=new jt(r.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,Gt(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return ae(t,i.parseComponentValue());case"color":return he(t,i.parseComponentValue());case"image":return He(t,i.parseComponentValue());case"length":var s=i.parseComponentValue();return Zt(s)?s:ee;case"length-percentage":var a=i.parseComponentValue();return $t(a)?a:ee;case"time":return er.parse(t,i.parseComponentValue())}}},xr=function(t,e){var n=function(t){switch(t.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(t);return 1===n||e===n},Fr=function(t,e){this.context=t,this.textNodes=[],this.elements=[],this.flags=0,xr(e,3),this.styles=new vr(t,window.getComputedStyle(e,null)),IA(e)&&(this.styles.animationDuration.some(function(t){return t>0})&&(e.style.animationDuration="0s"),null!==this.styles.transform&&(e.style.transform="none")),this.bounds=s(this.context,e),xr(e,4)&&(this.flags|=16)},Sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Er="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Ur=0;Ur<64;Ur++)Er[Sr.charCodeAt(Ur)]=Ur;for(var Ir=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Qr=function(){function t(t,e,n,r,A,i){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=r,this.index=A,this.data=i}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Lr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kr="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Mr=0;Mr<64;Mr++)kr[Lr.charCodeAt(Mr)]=Mr;var Pr,Tr=8,Nr=9,Dr=11,Or=12,Hr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],A=-1,i="";++A<n;){var o=t[A];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(A+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},Rr=function(t){var e,n,r,A=function(t){var e,n,r,A,i,o=.75*t.length,s=t.length,a=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<s;e+=4)n=Er[t.charCodeAt(e)],r=Er[t.charCodeAt(e+1)],A=Er[t.charCodeAt(e+2)],i=Er[t.charCodeAt(e+3)],l[a++]=n<<2|r>>4,l[a++]=(15&r)<<4|A>>2,l[a++]=(3&A)<<6|63&i;return c}(t),i=Array.isArray(A)?function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n}(A):new Uint32Array(A),o=Array.isArray(A)?function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n}(A):new Uint16Array(A),s=Ir(o,12,i[4]/2),a=2===i[5]?Ir(o,(24+i[4])/2):(e=i,n=Math.ceil((24+i[4])/4),e.slice?e.slice(n,r):new Uint32Array(Array.prototype.slice.call(e,n,r)));return new Qr(i[0],i[1],i[2],i[3],s,a)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),jr="ร",Kr=function(t){return Rr.get(t)},qr=function(t,e,n){var r=n-2,A=e[r],i=e[n-1],o=e[n];if(2===i&&3===o)return jr;if(2===i||3===i||4===i)return"รท";if(2===o||3===o||4===o)return"รท";if(i===Tr&&-1!==[Tr,Nr,Dr,Or].indexOf(o))return jr;if(!(i!==Dr&&i!==Nr||o!==Nr&&10!==o))return jr;if((i===Or||10===i)&&10===o)return jr;if(13===o||5===o)return jr;if(7===o)return jr;if(1===i)return jr;if(13===i&&14===o){for(;5===A;)A=e[--r];if(14===A)return jr}if(15===i&&15===o){for(var s=0;15===A;)s++,A=e[--r];if(s%2==0)return jr}return"รท"},Gr=function(t){var e=function(t){for(var e=[],n=0,r=t.length;n<r;){var A=t.charCodeAt(n++);if(A>=55296&&A<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&A)<<10)+(1023&i)+65536):(e.push(A),n--)}else e.push(A)}return e}(t),n=e.length,r=0,A=0,i=e.map(Kr);return{next:function(){if(r>=n)return{done:!0,value:null};for(var t=jr;r<n&&(t=qr(0,i,++r))===jr;);if(t!==jr||r===n){var o=Hr.apply(null,e.slice(A,r));return A=r,{value:o,done:!1}}return{done:!0,value:null}}}},Wr=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},Vr=function(t,e,n,r,A){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(A),o},zr=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))})},Xr={get SUPPORT_RANGE_BOUNDS(){var t=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n);var r=e.getBoundingClientRect(),A=Math.round(r.height);if(t.body.removeChild(n),123===A)return!0}}return!1}(document);return Object.defineProperty(Xr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Xr.SUPPORT_RANGE_BOUNDS&&function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var r=e.firstChild,A=a(r.data).map(function(t){return c(t)}),i=0,o={},s=A.every(function(t,e){n.setStart(r,i),n.setEnd(r,i+t.length);var A=n.getBoundingClientRect();i+=t.length;var s=A.x>o.x||A.y>o.y;return o=A,0===e||s});return t.body.removeChild(e),s}(document);return Object.defineProperty(Xr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch(t){return!1}return!0}(document);return Object.defineProperty(Xr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var A=new Image,i=e.toDataURL();A.src=i;var o=Vr(n,n,0,0,A);return r.fillStyle="red",r.fillRect(0,0,n,n),zr(o).then(function(e){r.drawImage(e,0,0);var A=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var o=t.createElement("div");return o.style.backgroundImage="url("+i+")",o.style.height=n+"px",Wr(A)?zr(Vr(n,n,0,0,o)):Promise.reject(!1)}).then(function(t){return r.drawImage(t,0,0),Wr(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Xr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=void 0!==(new Image).crossOrigin;return Object.defineProperty(Xr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Xr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Xr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Xr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Jr=function(t,e){this.text=t,this.bounds=e},Yr=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var A=e.parentNode;if(A){A.replaceChild(r,e);var i=s(t,r);return r.firstChild&&A.replaceChild(r.firstChild,r),i}}return o.EMPTY},Zr=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var A=r.createRange();return A.setStart(t,e),A.setEnd(t,e+n),A},$r=function(t){if(Xr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(t){return t.segment})}return function(t){for(var e,n=Gr(t),r=[];!(e=n.next()).done;)e.value&&r.push(e.value.slice());return r}(t)},tA=function(t,e){return 0!==e.letterSpacing?$r(t):function(t,e){if(Xr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(t){return t.segment})}return nA(t,e)}(t,e)},eA=[32,160,4961,65792,65793,4153,4241],nA=function(t,e){for(var n,r=function(t,e){var n=a(t),r=it(n,e),A=r[0],i=r[1],o=r[2],s=n.length,c=0,l=0;return{next:function(){if(l>=s)return{done:!0,value:null};for(var t=W;l<s&&(t=At(n,i,A,++l,o))===W;);if(t!==W||l===s){var e=new ot(n,t,c,l);return c=l,{value:e,done:!1}}return{done:!0,value:null}}}}(t,{lineBreak:e.lineBreak,wordBreak:"break-word"===e.overflowWrap?"break-word":e.wordBreak}),A=[],i=function(){if(n.value){var t=n.value.slice(),e=a(t),r="";e.forEach(function(t){-1===eA.indexOf(t)?r+=c(t):(r.length&&A.push(r),A.push(c(t)),r="")}),r.length&&A.push(r)}};!(n=r.next()).done;)i();return A},rA=function(t,e,n){this.text=AA(e.data,n.textTransform),this.textBounds=function(t,e,n,r){var A=tA(e,n),i=[],s=0;return A.forEach(function(e){if(n.textDecorationLine.length||e.trim().length>0)if(Xr.SUPPORT_RANGE_BOUNDS){var A=Zr(r,s,e.length).getClientRects();if(A.length>1){var a=$r(e),c=0;a.forEach(function(e){i.push(new Jr(e,o.fromDOMRectList(t,Zr(r,c+s,e.length).getClientRects()))),c+=e.length})}else i.push(new Jr(e,o.fromDOMRectList(t,A)))}else{var l=r.splitText(e.length);i.push(new Jr(e,Yr(t,r))),r=l}else Xr.SUPPORT_RANGE_BOUNDS||(r=r.splitText(e.length));s+=e.length}),i}(t,this.text,n,e)},AA=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(iA,oA);case 2:return t.toUpperCase();default:return t}},iA=/(^|\s|:|-|\(|\))([a-z])/g,oA=function(t,e,n){return t.length>0?e+n.toUpperCase():t},sA=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return e(n,t),n}(Fr),aA=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return e(n,t),n}(Fr),cA=function(t){function n(e,n){var r=t.call(this,e,n)||this,A=new XMLSerializer,i=s(e,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(A.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e(n,t),n}(Fr),lA=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.value=n.value,r}return e(n,t),n}(Fr),uA=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.start=n.start,r.reversed="boolean"==typeof n.reversed&&!0===n.reversed,r}return e(n,t),n}(Fr),hA=[{type:15,flags:0,unit:"px",number:3}],dA=[{type:16,flags:0,number:50}],fA="checkbox",pA="radio",gA="password",mA=707406591,wA=function(t){function n(e,n){var r,A,i,s=t.call(this,e,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=0===(i=(A=n).type===gA?new Array(A.value.length+1).join("โข"):A.value).length?A.placeholder||"":i,s.type!==fA&&s.type!==pA||(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=(r=s.bounds).width>r.height?new o(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new o(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r),s.type){case fA:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=hA;break;case pA:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=dA}return s}return e(n,t),n}(Fr),yA=function(t){function n(e,n){var r=t.call(this,e,n)||this,A=n.options[n.selectedIndex||0];return r.value=A&&A.text||"",r}return e(n,t),n}(Fr),bA=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.value=n.value,r}return e(n,t),n}(Fr),vA=function(t){function n(e,n){var r=t.call(this,e,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=xA(e,n.contentWindow.document.documentElement);var A=n.contentWindow.document.documentElement?ve(e,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Be.TRANSPARENT,i=n.contentWindow.document.body?ve(e,getComputedStyle(n.contentWindow.document.body).backgroundColor):Be.TRANSPARENT;r.backgroundColor=de(A)?de(i)?r.styles.backgroundColor:i:A}}catch(t){}return r}return e(n,t),n}(Fr),BA=["OL","UL","MENU"],CA=function(t,e,n,r){for(var A=e.firstChild,i=void 0;A;A=i)if(i=A.nextSibling,EA(A)&&A.data.trim().length>0)n.textNodes.push(new rA(t,A,n.styles));else if(UA(A))if(qA(A)&&A.assignedNodes)A.assignedNodes().forEach(function(e){return CA(t,e,n,r)});else{var o=_A(t,A);o.styles.isVisible()&&(FA(A,o,r)?o.flags|=4:SA(o.styles)&&(o.flags|=2),-1!==BA.indexOf(A.tagName)&&(o.flags|=8),n.elements.push(o),A.slot,A.shadowRoot?CA(t,A.shadowRoot,o,r):jA(A)||PA(A)||KA(A)||CA(t,A,o,r))}},_A=function(t,e){return OA(e)?new sA(t,e):NA(e)?new aA(t,e):PA(e)?new cA(t,e):LA(e)?new lA(t,e):kA(e)?new uA(t,e):MA(e)?new wA(t,e):KA(e)?new yA(t,e):jA(e)?new bA(t,e):HA(e)?new vA(t,e):new Fr(t,e)},xA=function(t,e){var n=_A(t,e);return n.flags|=4,CA(t,e,n,n),n},FA=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||TA(t)&&n.styles.isTransparent()},SA=function(t){return t.isPositioned()||t.isFloating()},EA=function(t){return t.nodeType===Node.TEXT_NODE},UA=function(t){return t.nodeType===Node.ELEMENT_NODE},IA=function(t){return UA(t)&&void 0!==t.style&&!QA(t)},QA=function(t){return"object"==typeof t.className},LA=function(t){return"LI"===t.tagName},kA=function(t){return"OL"===t.tagName},MA=function(t){return"INPUT"===t.tagName},PA=function(t){return"svg"===t.tagName},TA=function(t){return"BODY"===t.tagName},NA=function(t){return"CANVAS"===t.tagName},DA=function(t){return"VIDEO"===t.tagName},OA=function(t){return"IMG"===t.tagName},HA=function(t){return"IFRAME"===t.tagName},RA=function(t){return"STYLE"===t.tagName},jA=function(t){return"TEXTAREA"===t.tagName},KA=function(t){return"SELECT"===t.tagName},qA=function(t){return"SLOT"===t.tagName},GA=function(t){return t.tagName.indexOf("-")>0},WA=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){return this.counters[t]||[]},t.prototype.pop=function(t){var e=this;t.forEach(function(t){return e.counters[t].pop()})},t.prototype.parse=function(t){var e=this,n=t.counterIncrement,r=t.counterReset,A=!0;null!==n&&n.forEach(function(t){var n=e.counters[t.counter];n&&0!==t.increment&&(A=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=t.increment)});var i=[];return A&&r.forEach(function(t){var n=e.counters[t.counter];i.push(t.counter),n||(n=e.counters[t.counter]=[]),n.push(t.reset)}),i},t}(),VA={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},zA={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ิฟ","ิพ","ิฝ","ิผ","ิป","ิบ","ิน","ิธ","ิท","ิถ","ิต","ิด","ิณ","ิฒ","ิฑ"]},XA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืช","ืฉ","ืจ","ืง","ืฆ","ืค","ืข","ืก","ื","ื","ื","ื","ืื","ืื","ืื","ืื","ืื","ื","ื","ื","ื","ื","ื","ื","ื","ื","ื"]},JA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["แต","แฐ","แฏ","แด","แฎ","แญ","แฌ","แซ","แช","แฉ","แจ","แง","แฆ","แฅ","แค","แณ","แข","แก","แ","แ","แ","แ","แฒ","แ","แ","แ","แ","แ","แ","แฑ","แ","แ","แ","แ","แ","แ","แ"]},YA=function(t,e,n,r,A,i){return t<e||t>n?oi(t,A,i.length>0):r.integers.reduce(function(e,n,A){for(;t>=n;)t-=n,e+=r.values[A];return e},"")+i},ZA=function(t,e,n,r){var A="";do{n||t--,A=r(t)+A,t/=e}while(t*e>=e);return A},$A=function(t,e,n,r,A){var i=n-e+1;return(t<0?"-":"")+(ZA(Math.abs(t),i,r,function(t){return c(Math.floor(t%i)+e)})+A)},ti=function(t,e,n){void 0===n&&(n=". ");var r=e.length;return ZA(Math.abs(t),r,!1,function(t){return e[Math.floor(t%r)]})+n},ei=function(t,e,n,r,A,i){if(t<-9999||t>9999)return oi(t,4,A.length>0);var o=Math.abs(t),s=A;if(0===o)return e[0]+s;for(var a=0;o>0&&a<=4;a++){var c=o%10;0===c&&lr(i,1)&&""!==s?s=e[c]+s:c>1||1===c&&0===a||1===c&&1===a&&lr(i,2)||1===c&&1===a&&lr(i,4)&&t>100||1===c&&a>1&&lr(i,8)?s=e[c]+(a>0?n[a-1]:"")+s:1===c&&a>0&&(s=n[a-1]+s),o=Math.floor(o/10)}return(t<0?r:"")+s},ni="ๅ็พๅ่ฌ",ri="ๆพไฝฐไป่ฌ",Ai="ใใคใใน",ii="๋ง์ด๋์ค",oi=function(t,e,n){var r=n?". ":"",A=n?"ใ":"",i=n?", ":"",o=n?" ":"";switch(e){case 0:return"โข"+o;case 1:return"โฆ"+o;case 2:return"โพ"+o;case 5:var s=$A(t,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return ti(t,"ใไธไบไธๅไบๅญไธๅซไน",A);case 6:return YA(t,1,3999,VA,3,r).toLowerCase();case 7:return YA(t,1,3999,VA,3,r);case 8:return $A(t,945,969,!1,r);case 9:return $A(t,97,122,!1,r);case 10:return $A(t,65,90,!1,r);case 11:return $A(t,1632,1641,!0,r);case 12:case 49:return YA(t,1,9999,zA,3,r);case 35:return YA(t,1,9999,zA,3,r).toLowerCase();case 13:return $A(t,2534,2543,!0,r);case 14:case 30:return $A(t,6112,6121,!0,r);case 15:return ti(t,"ๅญไธๅฏๅฏ่พฐๅทณๅๆช็ณ้ๆไบฅ",A);case 16:return ti(t,"็ฒไนไธไธๆๅทฑๅบ่พๅฃฌ็ธ",A);case 17:case 48:return ei(t,"้ถไธไบไธๅไบๅญไธๅซไน",ni,"่ฒ",A,14);case 47:return ei(t,"้ถๅฃน่ฒณๅ่ไผ้ธๆๆ็",ri,"่ฒ",A,15);case 42:return ei(t,"้ถไธไบไธๅไบๅญไธๅซไน",ni,"่ด",A,14);case 41:return ei(t,"้ถๅฃน่ดฐๅ่ไผ้ๆๆ็",ri,"่ด",A,15);case 26:return ei(t,"ใไธไบไธๅไบๅญไธๅซไน","ๅ็พๅไธ",Ai,A,0);case 25:return ei(t,"้ถๅฃฑๅผๅๅไผๅญไธๅซไน","ๆพ็พๅไธ",Ai,A,7);case 31:return ei(t,"์์ผ์ด์ผ์ฌ์ค์ก์นํ๊ตฌ","์ญ๋ฐฑ์ฒ๋ง",ii,i,7);case 33:return ei(t,"้ถไธไบไธๅไบๅญไธๅซไน","ๅ็พๅ่ฌ",ii,i,0);case 32:return ei(t,"้ถๅฃน่ฒณๅๅไบๅญไธๅซไน","ๆพ็พๅ",ii,i,7);case 18:return $A(t,2406,2415,!0,r);case 20:return YA(t,1,19999,JA,3,r);case 21:return $A(t,2790,2799,!0,r);case 22:return $A(t,2662,2671,!0,r);case 22:return YA(t,1,10999,XA,3,r);case 23:return ti(t,"ใใใใใใใใใใใใใใใใใกใคใฆใจใชใซใฌใญใฎใฏใฒใตใธใปใพใฟใใใใใใใใใใใใใใใใ");case 24:return ti(t,"ใใใฏใซใปใธใจใกใใฌใใใใใใใใใคใญใชใใใใใฎใใใใพใใตใใใฆใใใใใใฟใใใฒใใใ");case 27:return $A(t,3302,3311,!0,r);case 28:return ti(t,"ใขใคใฆใจใชใซใญใฏใฑใณใตใทในใปใฝใฟใใใใใใใใใใใใใใใใใใกใขใคใฆใจใฉใชใซใฌใญใฏใฐใฑใฒใณ",A);case 29:return ti(t,"ใคใญใใใใใใใชใใซใฒใฏใซใจใฟใฌใฝใใใใฉใใฆใฐใใชใฏใคใใฑใใณใจใใขใตใญใฆใกใใทใฑใใขใปใน",A);case 34:return $A(t,3792,3801,!0,r);case 37:return $A(t,6160,6169,!0,r);case 38:return $A(t,4160,4169,!0,r);case 39:return $A(t,2918,2927,!0,r);case 40:return $A(t,1776,1785,!0,r);case 43:return $A(t,3046,3055,!0,r);case 44:return $A(t,3174,3183,!0,r);case 45:return $A(t,3664,3673,!0,r);case 46:return $A(t,3872,3881,!0,r);default:return $A(t,48,57,!0,r)}},si="data-html2canvas-ignore",ai=function(){function t(t,e,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=e,this.counters=new WA,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(t,e){var n=this,i=li(t,e);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var o=t.defaultView.pageXOffset,s=t.defaultView.pageYOffset,a=i.contentWindow,c=a.document,l=di(i).then(function(){return r(n,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return this.scrolledElements.forEach(wi),a&&(a.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||a.scrollY===e.top&&a.scrollX===e.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-e.left,a.scrollY-e.top,0,0))),t=this.options.onclone,void 0===(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,hi(c)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"==typeof t?[2,Promise.resolve().then(function(){return t(c,n)}).then(function(){return i})]:[2,i]}})})});return c.open(),c.write(gi(document.doctype)+"<html></html>"),mi(this.referenceElement.ownerDocument,o,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),l},t.prototype.createElementClone=function(t){if(xr(t,2),NA(t))return this.createCanvasClone(t);if(DA(t))return this.createVideoClone(t);if(RA(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return OA(e)&&(OA(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),"lazy"===e.loading&&(e.loading="eager")),GA(e)?this.createCustomElementClone(e):e},t.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return pi(t.style,e),e},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var n=[].slice.call(e.cssRules,0).reduce(function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t},""),r=t.cloneNode(!1);return r.textContent=n,r}}catch(t){if(this.context.logger.error("Unable to access cssRules property",t),"SecurityError"!==t.name)throw t}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch(e){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var r=t.cloneNode(!1);try{r.width=t.width,r.height=t.height;var A=t.getContext("2d"),i=r.getContext("2d");if(i)if(!this.options.allowTaint&&A)i.putImageData(A.getImageData(0,0,t.width,t.height),0,0);else{var o=null!==(e=t.getContext("webgl2"))&&void 0!==e?e:t.getContext("webgl");if(o){var s=o.getContextAttributes();!1===(null==s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}i.drawImage(t,0,0)}return r}catch(e){this.context.logger.info("Unable to clone canvas as it is tainted",t)}return r},t.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var n=e.getContext("2d");try{return n&&(n.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||n.getImageData(0,0,e.width,e.height)),e}catch(e){this.context.logger.info("Unable to clone video as it is tainted",t)}var r=t.ownerDocument.createElement("canvas");return r.width=t.offsetWidth,r.height=t.offsetHeight,r},t.prototype.appendChildNode=function(t,e,n){UA(e)&&("SCRIPT"===e.tagName||e.hasAttribute(si)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(e))||this.options.copyStyles&&UA(e)&&RA(e)||t.appendChild(this.cloneNode(e,n))},t.prototype.cloneChildNodes=function(t,e,n){for(var r=this,A=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;A;A=A.nextSibling)if(UA(A)&&qA(A)&&"function"==typeof A.assignedNodes){var i=A.assignedNodes();i.length&&i.forEach(function(t){return r.appendChildNode(e,t,n)})}else this.appendChildNode(e,A,n)},t.prototype.cloneNode=function(t,e){if(EA(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&UA(t)&&(IA(t)||QA(t))){var r=this.createElementClone(t);r.style.transitionProperty="none";var A=n.getComputedStyle(t),i=n.getComputedStyle(t,":before"),o=n.getComputedStyle(t,":after");this.referenceElement===t&&IA(r)&&(this.clonedReferenceElement=r),TA(r)&&Bi(r);var s=this.counters.parse(new Cr(this.context,A)),a=this.resolvePseudoContent(t,r,i,Pr.BEFORE);GA(t)&&(e=!0),DA(t)||this.cloneChildNodes(t,r,e),a&&r.insertBefore(a,r.firstChild);var c=this.resolvePseudoContent(t,r,o,Pr.AFTER);return c&&r.appendChild(c),this.counters.pop(s),(A&&(this.options.copyStyles||QA(t))&&!HA(t)||e)&&pi(A,r),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([r,t.scrollLeft,t.scrollTop]),(jA(t)||KA(t))&&(jA(r)||KA(r))&&(r.value=t.value),r}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,n,r){var A=this;if(n){var i=n.content,o=e.ownerDocument;if(o&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==n.display){this.counters.parse(new Cr(this.context,n));var s=new Br(this.context,n),a=o.createElement("html2canvaspseudoelement");pi(n,a),s.content.forEach(function(e){if(0===e.type)a.appendChild(o.createTextNode(e.value));else if(22===e.type){var n=o.createElement("img");n.src=e.value,n.style.opacity="1",a.appendChild(n)}else if(18===e.type){if("attr"===e.name){var r=e.values.filter(Gt);r.length&&a.appendChild(o.createTextNode(t.getAttribute(r[0].value)||""))}else if("counter"===e.name){var i=e.values.filter(Xt),c=i[0],l=i[1];if(c&&Gt(c)){var u=A.counters.getCounterValue(c.value),h=l&&Gt(l)?In.parse(A.context,l.value):3;a.appendChild(o.createTextNode(oi(u,h,!1)))}}else if("counters"===e.name){var d=e.values.filter(Xt),f=(c=d[0],d[1]);if(l=d[2],c&&Gt(c)){var p=A.counters.getCounterValues(c.value),g=l&&Gt(l)?In.parse(A.context,l.value):3,m=f&&0===f.type?f.value:"",w=p.map(function(t){return oi(t,g,!1)}).join(m);a.appendChild(o.createTextNode(w))}}}else if(20===e.type)switch(e.value){case"open-quote":a.appendChild(o.createTextNode(gr(s.quotes,A.quoteDepth++,!0)));break;case"close-quote":a.appendChild(o.createTextNode(gr(s.quotes,--A.quoteDepth,!1)));break;default:a.appendChild(o.createTextNode(e.value))}}),a.className=yi+" "+bi;var c=r===Pr.BEFORE?" "+yi:" "+bi;return QA(e)?e.className.baseValue+=c:e.className+=c,a}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();!function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"}(Pr||(Pr={}));var ci,li=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(si,"true"),t.body.appendChild(n),n},ui=function(t){return new Promise(function(e){t.complete?e():t.src?(t.onload=e,t.onerror=e):e()})},hi=function(t){return Promise.all([].slice.call(t.images,0).map(ui))},di=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var A=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var n=setInterval(function(){A.body.childNodes.length>0&&"complete"===A.readyState&&(clearInterval(n),e(t))},50)}})},fi=["all","d","content"],pi=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);-1===fi.indexOf(r)&&e.style.setProperty(r,t.getPropertyValue(r))}return e},gi=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},mi=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},wi=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},yi="___html2canvas___pseudoelement_before",bi="___html2canvas___pseudoelement_after",vi='{\n    content: "" !important;\n    display: none !important;\n}',Bi=function(t){Ci(t,"."+yi+":before"+vi+"\n         ."+bi+":after"+vi)},Ci=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},_i=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),xi=function(){function t(t,e){this.context=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:Li(t)||Ui(t)?((this._cache[t]=this.loadImage(t)).catch(function(){}),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return r(this,void 0,void 0,function(){var e,n,r,i,o=this;return A(this,function(A){switch(A.label){case 0:return e=_i.isSameOrigin(t),n=!Ii(t)&&!0===this._options.useCORS&&Xr.SUPPORT_CORS_IMAGES&&!e,r=!Ii(t)&&!e&&!Li(t)&&"string"==typeof this._options.proxy&&Xr.SUPPORT_CORS_XHR&&!n,e||!1!==this._options.allowTaint||Ii(t)||Li(t)||r||n?(i=t,r?[4,this.proxy(i)]:[3,2]):[2];case 1:i=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(t,e){var r=new Image;r.onload=function(){return t(r)},r.onerror=e,(Qi(i)||n)&&(r.crossOrigin="anonymous"),r.src=i,!0===r.complete&&setTimeout(function(){return t(r)},500),o._options.imageTimeout>0&&setTimeout(function(){return e("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=t.substring(0,256);return new Promise(function(A,i){var o=Xr.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===o)A(s.response);else{var t=new FileReader;t.addEventListener("load",function(){return A(t.result)},!1),t.addEventListener("error",function(t){return i(t)},!1),t.readAsDataURL(s.response)}else i("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=i;var a=n.indexOf("?")>-1?"&":"?";if(s.open("GET",""+n+a+"url="+encodeURIComponent(t)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),e._options.imageTimeout){var c=e._options.imageTimeout;s.timeout=c,s.ontimeout=function(){return i("Timed out ("+c+"ms) proxying "+r)}}s.send()})},t}(),Fi=/^data:image\/svg\+xml/i,Si=/^data:image\/.*;base64,/i,Ei=/^data:image\/.*/i,Ui=function(t){return Xr.SUPPORT_SVG_DRAWING||!ki(t)},Ii=function(t){return Ei.test(t)},Qi=function(t){return Si.test(t)},Li=function(t){return"blob"===t.substr(0,4)},ki=function(t){return"svg"===t.substr(-3).toLowerCase()||Fi.test(t)},Mi=function(){function t(t,e){this.type=0,this.x=t,this.y=e}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Pi=function(t,e,n){return new Mi(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Ti=function(){function t(t,e,n,r){this.type=1,this.start=t,this.startControl=e,this.endControl=n,this.end=r}return t.prototype.subdivide=function(e,n){var r=Pi(this.start,this.startControl,e),A=Pi(this.startControl,this.endControl,e),i=Pi(this.endControl,this.end,e),o=Pi(r,A,e),s=Pi(A,i,e),a=Pi(o,s,e);return n?new t(this.start,r,o,a):new t(a,s,i,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ni=function(t){return 1===t.type},Di=function(t){var e=t.styles,n=t.bounds,r=Ae(e.borderTopLeftRadius,n.width,n.height),A=r[0],i=r[1],o=Ae(e.borderTopRightRadius,n.width,n.height),s=o[0],a=o[1],c=Ae(e.borderBottomRightRadius,n.width,n.height),l=c[0],u=c[1],h=Ae(e.borderBottomLeftRadius,n.width,n.height),d=h[0],f=h[1],p=[];p.push((A+s)/n.width),p.push((d+l)/n.width),p.push((i+f)/n.height),p.push((a+u)/n.height);var g=Math.max.apply(Math,p);g>1&&(A/=g,i/=g,s/=g,a/=g,l/=g,u/=g,d/=g,f/=g);var m=n.width-s,w=n.height-u,y=n.width-l,b=n.height-f,v=e.borderTopWidth,B=e.borderRightWidth,C=e.borderBottomWidth,_=e.borderLeftWidth,x=ie(e.paddingTop,t.bounds.width),F=ie(e.paddingRight,t.bounds.width),S=ie(e.paddingBottom,t.bounds.width),E=ie(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=A>0||i>0?Oi(n.left+_/3,n.top+v/3,A-_/3,i-v/3,ci.TOP_LEFT):new Mi(n.left+_/3,n.top+v/3),this.topRightBorderDoubleOuterBox=A>0||i>0?Oi(n.left+m,n.top+v/3,s-B/3,a-v/3,ci.TOP_RIGHT):new Mi(n.left+n.width-B/3,n.top+v/3),this.bottomRightBorderDoubleOuterBox=l>0||u>0?Oi(n.left+y,n.top+w,l-B/3,u-C/3,ci.BOTTOM_RIGHT):new Mi(n.left+n.width-B/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=d>0||f>0?Oi(n.left+_/3,n.top+b,d-_/3,f-C/3,ci.BOTTOM_LEFT):new Mi(n.left+_/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=A>0||i>0?Oi(n.left+2*_/3,n.top+2*v/3,A-2*_/3,i-2*v/3,ci.TOP_LEFT):new Mi(n.left+2*_/3,n.top+2*v/3),this.topRightBorderDoubleInnerBox=A>0||i>0?Oi(n.left+m,n.top+2*v/3,s-2*B/3,a-2*v/3,ci.TOP_RIGHT):new Mi(n.left+n.width-2*B/3,n.top+2*v/3),this.bottomRightBorderDoubleInnerBox=l>0||u>0?Oi(n.left+y,n.top+w,l-2*B/3,u-2*C/3,ci.BOTTOM_RIGHT):new Mi(n.left+n.width-2*B/3,n.top+n.height-2*C/3),this.bottomLeftBorderDoubleInnerBox=d>0||f>0?Oi(n.left+2*_/3,n.top+b,d-2*_/3,f-2*C/3,ci.BOTTOM_LEFT):new Mi(n.left+2*_/3,n.top+n.height-2*C/3),this.topLeftBorderStroke=A>0||i>0?Oi(n.left+_/2,n.top+v/2,A-_/2,i-v/2,ci.TOP_LEFT):new Mi(n.left+_/2,n.top+v/2),this.topRightBorderStroke=A>0||i>0?Oi(n.left+m,n.top+v/2,s-B/2,a-v/2,ci.TOP_RIGHT):new Mi(n.left+n.width-B/2,n.top+v/2),this.bottomRightBorderStroke=l>0||u>0?Oi(n.left+y,n.top+w,l-B/2,u-C/2,ci.BOTTOM_RIGHT):new Mi(n.left+n.width-B/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=d>0||f>0?Oi(n.left+_/2,n.top+b,d-_/2,f-C/2,ci.BOTTOM_LEFT):new Mi(n.left+_/2,n.top+n.height-C/2),this.topLeftBorderBox=A>0||i>0?Oi(n.left,n.top,A,i,ci.TOP_LEFT):new Mi(n.left,n.top),this.topRightBorderBox=s>0||a>0?Oi(n.left+m,n.top,s,a,ci.TOP_RIGHT):new Mi(n.left+n.width,n.top),this.bottomRightBorderBox=l>0||u>0?Oi(n.left+y,n.top+w,l,u,ci.BOTTOM_RIGHT):new Mi(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=d>0||f>0?Oi(n.left,n.top+b,d,f,ci.BOTTOM_LEFT):new Mi(n.left,n.top+n.height),this.topLeftPaddingBox=A>0||i>0?Oi(n.left+_,n.top+v,Math.max(0,A-_),Math.max(0,i-v),ci.TOP_LEFT):new Mi(n.left+_,n.top+v),this.topRightPaddingBox=s>0||a>0?Oi(n.left+Math.min(m,n.width-B),n.top+v,m>n.width+B?0:Math.max(0,s-B),Math.max(0,a-v),ci.TOP_RIGHT):new Mi(n.left+n.width-B,n.top+v),this.bottomRightPaddingBox=l>0||u>0?Oi(n.left+Math.min(y,n.width-_),n.top+Math.min(w,n.height-C),Math.max(0,l-B),Math.max(0,u-C),ci.BOTTOM_RIGHT):new Mi(n.left+n.width-B,n.top+n.height-C),this.bottomLeftPaddingBox=d>0||f>0?Oi(n.left+_,n.top+Math.min(b,n.height-C),Math.max(0,d-_),Math.max(0,f-C),ci.BOTTOM_LEFT):new Mi(n.left+_,n.top+n.height-C),this.topLeftContentBox=A>0||i>0?Oi(n.left+_+E,n.top+v+x,Math.max(0,A-(_+E)),Math.max(0,i-(v+x)),ci.TOP_LEFT):new Mi(n.left+_+E,n.top+v+x),this.topRightContentBox=s>0||a>0?Oi(n.left+Math.min(m,n.width+_+E),n.top+v+x,m>n.width+_+E?0:s-_+E,a-(v+x),ci.TOP_RIGHT):new Mi(n.left+n.width-(B+F),n.top+v+x),this.bottomRightContentBox=l>0||u>0?Oi(n.left+Math.min(y,n.width-(_+E)),n.top+Math.min(w,n.height+v+x),Math.max(0,l-(B+F)),u-(C+S),ci.BOTTOM_RIGHT):new Mi(n.left+n.width-(B+F),n.top+n.height-(C+S)),this.bottomLeftContentBox=d>0||f>0?Oi(n.left+_+E,n.top+b,Math.max(0,d-(_+E)),f-(C+S),ci.BOTTOM_LEFT):new Mi(n.left+_+E,n.top+n.height-(C+S))};!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(ci||(ci={}));var Oi=function(t,e,n,r,A){var i=(Math.sqrt(2)-1)/3*4,o=n*i,s=r*i,a=t+n,c=e+r;switch(A){case ci.TOP_LEFT:return new Ti(new Mi(t,c),new Mi(t,c-s),new Mi(a-o,e),new Mi(a,e));case ci.TOP_RIGHT:return new Ti(new Mi(t,e),new Mi(t+o,e),new Mi(a,c-s),new Mi(a,c));case ci.BOTTOM_RIGHT:return new Ti(new Mi(a,e),new Mi(a,e+s),new Mi(t+o,c),new Mi(t,c));case ci.BOTTOM_LEFT:default:return new Ti(new Mi(a,c),new Mi(a-o,c),new Mi(t,e+s),new Mi(t,e))}},Hi=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Ri=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},ji=function(t,e,n){this.offsetX=t,this.offsetY=e,this.matrix=n,this.type=0,this.target=6},Ki=function(t,e){this.path=t,this.target=e,this.type=1},qi=function(t){this.opacity=t,this.type=2,this.target=6},Gi=function(t){return 1===t.type},Wi=function(t,e){return t.length===e.length&&t.some(function(t,n){return t===e[n]})},Vi=function(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},zi=function(){function t(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new Di(this.container),this.container.styles.opacity<1&&this.effects.push(new qi(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,A=this.container.styles.transform;this.effects.push(new ji(n,r,A))}if(0!==this.container.styles.overflowX){var i=Hi(this.curves),o=Ri(this.curves);Wi(i,o)?this.effects.push(new Ki(i,6)):(this.effects.push(new Ki(i,2)),this.effects.push(new Ki(o,4)))}}return t.prototype.getEffects=function(t){for(var e=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var A=n.effects.filter(function(t){return!Gi(t)});if(e||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,A),e=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var i=Hi(n.curves),o=Ri(n.curves);Wi(i,o)||r.unshift(new Ki(o,6))}}else r.unshift.apply(r,A);n=n.parent}return r.filter(function(e){return lr(e.target,t)})},t}(),Xi=function(t,e,n,r){t.container.elements.forEach(function(A){var i=lr(A.flags,4),o=lr(A.flags,2),s=new zi(A,t);lr(A.styles.display,2048)&&r.push(s);var a=lr(A.flags,8)?[]:r;if(i||o){var c=i||A.styles.isPositioned()?n:e,l=new Vi(s);if(A.styles.isPositioned()||A.styles.opacity<1||A.styles.isTransformed()){var u=A.styles.zIndex.order;if(u<0){var h=0;c.negativeZIndex.some(function(t,e){return u>t.element.container.styles.zIndex.order?(h=e,!1):h>0}),c.negativeZIndex.splice(h,0,l)}else if(u>0){var d=0;c.positiveZIndex.some(function(t,e){return u>=t.element.container.styles.zIndex.order?(d=e+1,!1):d>0}),c.positiveZIndex.splice(d,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else A.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);Xi(s,l,i?l:n,a)}else A.styles.isInlineLevel()?e.inlineLevel.push(s):e.nonInlineLevel.push(s),Xi(s,e,n,a);lr(A.flags,8)&&Ji(A,a)})},Ji=function(t,e){for(var n=t instanceof uA?t.start:1,r=t instanceof uA&&t.reversed,A=0;A<e.length;A++){var i=e[A];i.container instanceof lA&&"number"==typeof i.container.value&&0!==i.container.value&&(n=i.container.value),i.listValue=oi(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},Yi=function(t,e){switch(e){case 0:return $i(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return $i(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return $i(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);default:return $i(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Zi=function(t,e){var n=[];return Ni(t)?n.push(t.subdivide(.5,!1)):n.push(t),Ni(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},$i=function(t,e,n,r){var A=[];return Ni(t)?A.push(t.subdivide(.5,!1)):A.push(t),Ni(n)?A.push(n.subdivide(.5,!0)):A.push(n),Ni(r)?A.push(r.subdivide(.5,!0).reverse()):A.push(r),Ni(e)?A.push(e.subdivide(.5,!1).reverse()):A.push(e),A},to=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},eo=function(t){var e=t.styles,n=t.bounds,r=ie(e.paddingLeft,n.width),A=ie(e.paddingRight,n.width),i=ie(e.paddingTop,n.width),o=ie(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+A),-(e.borderTopWidth+e.borderBottomWidth+i+o))},no=function(t,e,n){var r=function(t,e){return 0===t?e.bounds:2===t?eo(e):to(e)}(oo(t.styles.backgroundOrigin,e),t),A=function(t,e){return 0===t?e.bounds:2===t?eo(e):to(e)}(oo(t.styles.backgroundClip,e),t),i=io(oo(t.styles.backgroundSize,e),n,r),o=i[0],s=i[1],a=Ae(oo(t.styles.backgroundPosition,e),r.width-o,r.height-s);return[so(oo(t.styles.backgroundRepeat,e),a,i,r,A),Math.round(r.left+a[0]),Math.round(r.top+a[1]),o,s]},ro=function(t){return Gt(t)&&t.value===Re.AUTO},Ao=function(t){return"number"==typeof t},io=function(t,e,n){var r=e[0],A=e[1],i=e[2],o=t[0],s=t[1];if(!o)return[0,0];if($t(o)&&s&&$t(s))return[ie(o,n.width),ie(s,n.height)];var a=Ao(i);if(Gt(o)&&(o.value===Re.CONTAIN||o.value===Re.COVER))return Ao(i)?n.width/n.height<i!=(o.value===Re.COVER)?[n.width,n.width/i]:[n.height*i,n.height]:[n.width,n.height];var c=Ao(r),l=Ao(A),u=c||l;if(ro(o)&&(!s||ro(s)))return c&&l?[r,A]:a||u?u&&a?[c?r:A*i,l?A:r/i]:[c?r:n.width,l?A:n.height]:[n.width,n.height];if(a){var h=0,d=0;return $t(o)?h=ie(o,n.width):$t(s)&&(d=ie(s,n.height)),ro(o)?h=d*i:s&&!ro(s)||(d=h/i),[h,d]}var f=null,p=null;if($t(o)?f=ie(o,n.width):s&&$t(s)&&(p=ie(s,n.height)),null===f||s&&!ro(s)||(p=c&&l?f/r*A:n.height),null!==p&&ro(o)&&(f=c&&l?p/A*r:n.width),null!==f&&null!==p)return[f,p];throw new Error("Unable to calculate background-size for element")},oo=function(t,e){var n=t[e];return void 0===n?t[0]:n},so=function(t,e,n,r,A){var i=e[0],o=e[1],s=n[0],a=n[1];switch(t){case 2:return[new Mi(Math.round(r.left),Math.round(r.top+o)),new Mi(Math.round(r.left+r.width),Math.round(r.top+o)),new Mi(Math.round(r.left+r.width),Math.round(a+r.top+o)),new Mi(Math.round(r.left),Math.round(a+r.top+o))];case 3:return[new Mi(Math.round(r.left+i),Math.round(r.top)),new Mi(Math.round(r.left+i+s),Math.round(r.top)),new Mi(Math.round(r.left+i+s),Math.round(r.height+r.top)),new Mi(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new Mi(Math.round(r.left+i),Math.round(r.top+o)),new Mi(Math.round(r.left+i+s),Math.round(r.top+o)),new Mi(Math.round(r.left+i+s),Math.round(r.top+o+a)),new Mi(Math.round(r.left+i),Math.round(r.top+o+a))];default:return[new Mi(Math.round(A.left),Math.round(A.top)),new Mi(Math.round(A.left+A.width),Math.round(A.top)),new Mi(Math.round(A.left+A.width),Math.round(A.height+A.top)),new Mi(Math.round(A.left),Math.round(A.height+A.top))]}},ao="Hidden Text",co=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var n=this._document.createElement("div"),r=this._document.createElement("img"),A=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",A.style.fontFamily=t,A.style.fontSize=e,A.style.margin="0",A.style.padding="0",A.appendChild(this._document.createTextNode(ao)),n.appendChild(A),n.appendChild(r);var o=r.offsetTop-A.offsetTop+2;n.removeChild(A),n.appendChild(this._document.createTextNode(ao)),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:o,middle:s}},t.prototype.getMetrics=function(t,e){var n=t+" "+e;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(t,e)),this._data[n]},t}(),lo=function(t,e){this.context=t,this.options=e},uo=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new co(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return e(n,t),n.prototype.applyEffects=function(t){for(var e=this;this._activeEffects.length;)this.popEffect();t.forEach(function(t){return e.applyEffect(t)})},n.prototype.applyEffect=function(t){this.ctx.save(),function(t){return 2===t.type}(t)&&(this.ctx.globalAlpha=t.opacity),function(t){return 0===t.type}(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),Gi(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(t){return r(this,void 0,void 0,function(){return A(this,function(e){switch(e.label){case 0:return t.element.container.styles.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(t){return r(this,void 0,void 0,function(){return A(this,function(e){switch(e.label){case 0:return lr(t.container.flags,16),t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(t,e,n){var r=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+n):$r(t.text).reduce(function(e,A){return r.ctx.fillText(A,e,t.bounds.top+n),e+r.ctx.measureText(A).width},t.bounds.left)},n.prototype.createFontStyle=function(t){var e=t.fontVariant.filter(function(t){return"normal"===t||"small-caps"===t}).join(""),n=mo(t.fontFamily).join(", "),r=Kt(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(t,e){return r(this,void 0,void 0,function(){var n,r,i,o,s,a,c,l,u=this;return A(this,function(A){return n=this.createFontStyle(e),r=n[0],i=n[1],o=n[2],this.ctx.font=r,this.ctx.direction=1===e.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(i,o),a=s.baseline,c=s.middle,l=e.paintOrder,t.textBounds.forEach(function(t){l.forEach(function(n){switch(n){case 0:u.ctx.fillStyle=fe(e.color),u.renderTextWithLetterSpacing(t,e.letterSpacing,a);var r=e.textShadow;r.length&&t.text.trim().length&&(r.slice(0).reverse().forEach(function(n){u.ctx.shadowColor=fe(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(t,e.letterSpacing,a)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),e.textDecorationLine.length&&(u.ctx.fillStyle=fe(e.textDecorationColor||e.color),e.textDecorationLine.forEach(function(e){switch(e){case 1:u.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+a),t.bounds.width,1);break;case 2:u.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:u.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+c),t.bounds.width,1)}}));break;case 1:e.webkitTextStrokeWidth&&t.text.trim().length&&(u.ctx.strokeStyle=fe(e.webkitTextStrokeColor),u.ctx.lineWidth=e.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(t.text,t.bounds.left,t.bounds.top+a)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}})}),[2]})})},n.prototype.renderReplacedElement=function(t,e,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var r=eo(t),A=Ri(e);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(t){return r(this,void 0,void 0,function(){var e,r,i,s,a,c,l,u,h,d,f,p,g,m,w,y,b,v;return A(this,function(A){switch(A.label){case 0:this.applyEffects(t.getEffects(4)),e=t.container,r=t.curves,i=e.styles,s=0,a=e.textNodes,A.label=1;case 1:return s<a.length?(c=a[s],[4,this.renderTextNode(c,i)]):[3,4];case 2:A.sent(),A.label=3;case 3:return s++,[3,1];case 4:if(!(e instanceof sA))return[3,8];A.label=5;case 5:return A.trys.push([5,7,,8]),[4,this.context.cache.match(e.src)];case 6:return w=A.sent(),this.renderReplacedElement(e,r,w),[3,8];case 7:return A.sent(),this.context.logger.error("Error loading image "+e.src),[3,8];case 8:if(e instanceof aA&&this.renderReplacedElement(e,r,e.canvas),!(e instanceof cA))return[3,12];A.label=9;case 9:return A.trys.push([9,11,,12]),[4,this.context.cache.match(e.svg)];case 10:return w=A.sent(),this.renderReplacedElement(e,r,w),[3,12];case 11:return A.sent(),this.context.logger.error("Error loading svg "+e.svg.substring(0,255)),[3,12];case 12:return e instanceof vA&&e.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:e.backgroundColor,x:0,y:0,width:e.width,height:e.height}).render(e.tree)]:[3,14];case 13:l=A.sent(),e.width&&e.height&&this.ctx.drawImage(l,0,0,e.width,e.height,e.bounds.left,e.bounds.top,e.bounds.width,e.bounds.height),A.label=14;case 14:if(e instanceof wA&&(u=Math.min(e.bounds.width,e.bounds.height),e.type===fA?e.checked&&(this.ctx.save(),this.path([new Mi(e.bounds.left+.39363*u,e.bounds.top+.79*u),new Mi(e.bounds.left+.16*u,e.bounds.top+.5549*u),new Mi(e.bounds.left+.27347*u,e.bounds.top+.44071*u),new Mi(e.bounds.left+.39694*u,e.bounds.top+.5649*u),new Mi(e.bounds.left+.72983*u,e.bounds.top+.23*u),new Mi(e.bounds.left+.84*u,e.bounds.top+.34085*u),new Mi(e.bounds.left+.39363*u,e.bounds.top+.79*u)]),this.ctx.fillStyle=fe(mA),this.ctx.fill(),this.ctx.restore()):e.type===pA&&e.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.bounds.left+u/2,e.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=fe(mA),this.ctx.fill(),this.ctx.restore())),ho(e)&&e.value.length){switch(h=this.createFontStyle(i),b=h[0],d=h[1],f=this.fontMetrics.getMetrics(b,d).baseline,this.ctx.font=b,this.ctx.fillStyle=fe(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=po(e.styles.textAlign),v=eo(e),p=0,e.styles.textAlign){case 1:p+=v.width/2;break;case 2:p+=v.width}g=v.add(p,0,0,-v.height/2+1),this.ctx.save(),this.path([new Mi(v.left,v.top),new Mi(v.left+v.width,v.top),new Mi(v.left+v.width,v.top+v.height),new Mi(v.left,v.top+v.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Jr(e.value,g),i.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!lr(e.styles.display,2048))return[3,20];if(null===e.styles.listStyleImage)return[3,19];if(0!==(m=e.styles.listStyleImage).type)return[3,18];w=void 0,y=m.url,A.label=15;case 15:return A.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return w=A.sent(),this.ctx.drawImage(w,e.bounds.left-(w.width+10),e.bounds.top),[3,18];case 17:return A.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:t.listValue&&-1!==e.styles.listStyleType&&(b=this.createFontStyle(i)[0],this.ctx.font=b,this.ctx.fillStyle=fe(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",v=new o(e.bounds.left,e.bounds.top+ie(e.styles.paddingTop,e.bounds.width),e.bounds.width,Sn(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Jr(t.listValue,v),i.letterSpacing,Sn(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),A.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(t){return r(this,void 0,void 0,function(){var e,n,r,i,o,s,a,c,l,u,h,d,f,p,g;return A(this,function(A){switch(A.label){case 0:return lr(t.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:A.sent(),e=0,n=t.negativeZIndex,A.label=2;case 2:return e<n.length?(g=n[e],[4,this.renderStack(g)]):[3,5];case 3:A.sent(),A.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:A.sent(),r=0,i=t.nonInlineLevel,A.label=7;case 7:return r<i.length?(g=i[r],[4,this.renderNode(g)]):[3,10];case 8:A.sent(),A.label=9;case 9:return r++,[3,7];case 10:o=0,s=t.nonPositionedFloats,A.label=11;case 11:return o<s.length?(g=s[o],[4,this.renderStack(g)]):[3,14];case 12:A.sent(),A.label=13;case 13:return o++,[3,11];case 14:a=0,c=t.nonPositionedInlineLevel,A.label=15;case 15:return a<c.length?(g=c[a],[4,this.renderStack(g)]):[3,18];case 16:A.sent(),A.label=17;case 17:return a++,[3,15];case 18:l=0,u=t.inlineLevel,A.label=19;case 19:return l<u.length?(g=u[l],[4,this.renderNode(g)]):[3,22];case 20:A.sent(),A.label=21;case 21:return l++,[3,19];case 22:h=0,d=t.zeroOrAutoZIndexOrTransformedOrOpacity,A.label=23;case 23:return h<d.length?(g=d[h],[4,this.renderStack(g)]):[3,26];case 24:A.sent(),A.label=25;case 25:return h++,[3,23];case 26:f=0,p=t.positiveZIndex,A.label=27;case 27:return f<p.length?(g=p[f],[4,this.renderStack(g)]):[3,30];case 28:A.sent(),A.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},n.prototype.formatPath=function(t){var e=this;t.forEach(function(t,n){var r=Ni(t)?t.start:t;0===n?e.ctx.moveTo(r.x,r.y):e.ctx.lineTo(r.x,r.y),Ni(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)})},n.prototype.renderRepeat=function(t,e,n,r){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(t,e,n){var r;if(t.width===e&&t.height===n)return t;var A=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return A.width=Math.max(1,e),A.height=Math.max(1,n),A.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,n),A},n.prototype.renderBackgroundImage=function(t){return r(this,void 0,void 0,function(){var e,n,r,i,o,s;return A(this,function(a){switch(a.label){case 0:e=t.styles.backgroundImage.length-1,n=function(n){var i,o,s,a,c,l,u,h,d,f,p,g,m,w,y,b,v,B,C,_,x,F,S,E,U,I,Q,L,k,M,P;return A(this,function(A){switch(A.label){case 0:if(0!==n.type)return[3,5];i=void 0,o=n.url,A.label=1;case 1:return A.trys.push([1,3,,4]),[4,r.context.cache.match(o)];case 2:return i=A.sent(),[3,4];case 3:return A.sent(),r.context.logger.error("Error loading background-image "+o),[3,4];case 4:return i&&(s=no(t,e,[i.width,i.height,i.width/i.height]),b=s[0],F=s[1],S=s[2],C=s[3],_=s[4],w=r.ctx.createPattern(r.resizeImage(i,C,_),"repeat"),r.renderRepeat(b,w,F,S)),[3,6];case 5:1===n.type?(a=no(t,e,[null,null,null]),b=a[0],F=a[1],S=a[2],C=a[3],_=a[4],c=Se(n.angle,C,_),l=c[0],u=c[1],h=c[2],d=c[3],f=c[4],(p=document.createElement("canvas")).width=C,p.height=_,g=p.getContext("2d"),m=g.createLinearGradient(u,d,h,f),Fe(n.stops,l).forEach(function(t){return m.addColorStop(t.stop,fe(t.color))}),g.fillStyle=m,g.fillRect(0,0,C,_),C>0&&_>0&&(w=r.ctx.createPattern(p,"repeat"),r.renderRepeat(b,w,F,S))):function(t){return 2===t.type}(n)&&(y=no(t,e,[null,null,null]),b=y[0],v=y[1],B=y[2],C=y[3],_=y[4],x=0===n.position.length?[ne]:n.position,F=ie(x[0],C),S=ie(x[x.length-1],_),E=function(t,e,n,r,A){var i=0,o=0;switch(t.size){case 0:0===t.shape?i=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-A)):1===t.shape&&(i=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(n),Math.abs(n-A)));break;case 2:if(0===t.shape)i=o=Math.min(Ee(e,n),Ee(e,n-A),Ee(e-r,n),Ee(e-r,n-A));else if(1===t.shape){var s=Math.min(Math.abs(n),Math.abs(n-A))/Math.min(Math.abs(e),Math.abs(e-r)),a=Ue(r,A,e,n,!0),c=a[0],l=a[1];o=s*(i=Ee(c-e,(l-n)/s))}break;case 1:0===t.shape?i=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-A)):1===t.shape&&(i=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(n),Math.abs(n-A)));break;case 3:if(0===t.shape)i=o=Math.max(Ee(e,n),Ee(e,n-A),Ee(e-r,n),Ee(e-r,n-A));else if(1===t.shape){s=Math.max(Math.abs(n),Math.abs(n-A))/Math.max(Math.abs(e),Math.abs(e-r));var u=Ue(r,A,e,n,!1);c=u[0],l=u[1],o=s*(i=Ee(c-e,(l-n)/s))}}return Array.isArray(t.size)&&(i=ie(t.size[0],r),o=2===t.size.length?ie(t.size[1],A):i),[i,o]}(n,F,S,C,_),U=E[0],I=E[1],U>0&&I>0&&(Q=r.ctx.createRadialGradient(v+F,B+S,0,v+F,B+S,U),Fe(n.stops,2*U).forEach(function(t){return Q.addColorStop(t.stop,fe(t.color))}),r.path(b),r.ctx.fillStyle=Q,U!==I?(L=t.bounds.left+.5*t.bounds.width,k=t.bounds.top+.5*t.bounds.height,P=1/(M=I/U),r.ctx.save(),r.ctx.translate(L,k),r.ctx.transform(1,0,0,M,0,0),r.ctx.translate(-L,-k),r.ctx.fillRect(v,P*(B-k)+k,C,_*P),r.ctx.restore()):r.ctx.fill())),A.label=6;case 6:return e--,[2]}})},r=this,i=0,o=t.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return i<o.length?(s=o[i],[5,n(s)]):[3,4];case 2:a.sent(),a.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(t,e,n){return r(this,void 0,void 0,function(){return A(this,function(r){return this.path(Yi(n,e)),this.ctx.fillStyle=fe(t),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(t,e,n,i){return r(this,void 0,void 0,function(){var r,o;return A(this,function(A){switch(A.label){case 0:return e<3?[4,this.renderSolidBorder(t,n,i)]:[3,2];case 1:return A.sent(),[2];case 2:return r=function(t,e){switch(e){case 0:return $i(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return $i(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return $i(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);default:return $i(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}}(i,n),this.path(r),this.ctx.fillStyle=fe(t),this.ctx.fill(),o=function(t,e){switch(e){case 0:return $i(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return $i(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return $i(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);default:return $i(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}}(i,n),this.path(o),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(t){return r(this,void 0,void 0,function(){var e,n,r,i,o,s,a,c,l=this;return A(this,function(A){switch(A.label){case 0:return this.applyEffects(t.getEffects(2)),e=t.container.styles,n=!de(e.backgroundColor)||e.backgroundImage.length,r=[{style:e.borderTopStyle,color:e.borderTopColor,width:e.borderTopWidth},{style:e.borderRightStyle,color:e.borderRightColor,width:e.borderRightWidth},{style:e.borderBottomStyle,color:e.borderBottomColor,width:e.borderBottomWidth},{style:e.borderLeftStyle,color:e.borderLeftColor,width:e.borderLeftWidth}],i=fo(oo(e.backgroundClip,0),t.curves),n||e.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),de(e.backgroundColor)||(this.ctx.fillStyle=fe(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:A.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach(function(e){l.ctx.save();var n,r,A,i,o,s=Hi(t.curves),a=e.inset?0:1e4,c=(n=s,r=-a+(e.inset?1:-1)*e.spread.number,A=(e.inset?1:-1)*e.spread.number,i=e.spread.number*(e.inset?-2:2),o=e.spread.number*(e.inset?-2:2),n.map(function(t,e){switch(e){case 0:return t.add(r,A);case 1:return t.add(r+i,A);case 2:return t.add(r+i,A+o);case 3:return t.add(r,A+o)}return t}));e.inset?(l.path(s),l.ctx.clip(),l.mask(c)):(l.mask(s),l.ctx.clip(),l.path(c)),l.ctx.shadowOffsetX=e.offsetX.number+a,l.ctx.shadowOffsetY=e.offsetY.number,l.ctx.shadowColor=fe(e.color),l.ctx.shadowBlur=e.blur.number,l.ctx.fillStyle=e.inset?fe(e.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()}),A.label=2;case 2:o=0,s=0,a=r,A.label=3;case 3:return s<a.length?0!==(c=a[s]).style&&!de(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,2)]:[3,11]:[3,13];case 4:return A.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,3)];case 6:return A.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,t.curves)];case 8:return A.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,t.curves)];case 10:A.sent(),A.label=11;case 11:o++,A.label=12;case 12:return s++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(t,e,n,i,o){return r(this,void 0,void 0,function(){var r,s,a,c,l,u,h,d,f,p,g,m,w,y,b,v;return A(this,function(A){return this.ctx.save(),r=function(t,e){switch(e){case 0:return Zi(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Zi(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Zi(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);default:return Zi(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}}(i,n),s=Yi(i,n),2===o&&(this.path(s),this.ctx.clip()),Ni(s[0])?(a=s[0].start.x,c=s[0].start.y):(a=s[0].x,c=s[0].y),Ni(s[1])?(l=s[1].end.x,u=s[1].end.y):(l=s[1].x,u=s[1].y),h=0===n||2===n?Math.abs(a-l):Math.abs(c-u),this.ctx.beginPath(),3===o?this.formatPath(r):this.formatPath(s.slice(0,2)),d=e<3?3*e:2*e,f=e<3?2*e:e,3===o&&(d=e,f=e),p=!0,h<=2*d?p=!1:h<=2*d+f?(d*=g=h/(2*d+f),f*=g):(m=Math.floor((h+f)/(d+f)),w=(h-m*d)/(m-1),f=(y=(h-(m+1)*d)/m)<=0||Math.abs(f-w)<Math.abs(f-y)?w:y),p&&(3===o?this.ctx.setLineDash([0,d+f]):this.ctx.setLineDash([d,f])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=e):this.ctx.lineWidth=2*e+1.1,this.ctx.strokeStyle=fe(t),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(Ni(s[0])&&(b=s[3],v=s[0],this.ctx.beginPath(),this.formatPath([new Mi(b.end.x,b.end.y),new Mi(v.start.x,v.start.y)]),this.ctx.stroke()),Ni(s[1])&&(b=s[1],v=s[2],this.ctx.beginPath(),this.formatPath([new Mi(b.end.x,b.end.y),new Mi(v.start.x,v.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(t){return r(this,void 0,void 0,function(){var e;return A(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=fe(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=new zi(t,null),A=new Vi(r),Xi(r,A,A,i=[]),Ji(r.container,i),e=A,[4,this.renderStack(e)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}var r,A,i})})},n}(lo),ho=function(t){return t instanceof bA||t instanceof yA||t instanceof wA&&t.type!==pA&&t.type!==fA},fo=function(t,e){switch(t){case 0:return Hi(e);case 2:return function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]}(e);default:return Ri(e)}},po=function(t){switch(t){case 1:return"center";case 2:return"right";default:return"left"}},go=["-apple-system","system-ui"],mo=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(t){return-1===go.indexOf(t)}):t},wo=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return e(n,t),n.prototype.render=function(t){return r(this,void 0,void 0,function(){var e,n;return A(this,function(r){switch(r.label){case 0:return e=Vr(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,yo(e)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=fe(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(lo),yo=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))})},bo=function(){function t(t){var e=t.id,n=t.enabled;this.id=e,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,i([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,i([this.id,this.getTime()+"ms"],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,i([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,i([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.instances={},t}(),vo=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new bo({id:this.instanceName,enabled:e.logging}),this.cache=null!==(r=e.cache)&&void 0!==r?r:new xi(this,e)}return t.instanceCount=1,t}();"undefined"!=typeof window&&_i.setContext(window);var Bo=function(t,e){return r(void 0,void 0,void 0,function(){var r,i,a,c,l,u,h,d,f,p,g,m,w,y,b,v,B,C,_,x,F,S,E,U,I,Q,L,k,M,P,T,N,D,O,H,R,j,K;return A(this,function(A){switch(A.label){case 0:if(!t||"object"!=typeof t)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(i=r.defaultView))throw new Error("Document is not attached to a Window");return a={allowTaint:null!==(S=e.allowTaint)&&void 0!==S&&S,imageTimeout:null!==(E=e.imageTimeout)&&void 0!==E?E:15e3,proxy:e.proxy,useCORS:null!==(U=e.useCORS)&&void 0!==U&&U},c=n({logging:null===(I=e.logging)||void 0===I||I,cache:e.cache},a),l={windowWidth:null!==(Q=e.windowWidth)&&void 0!==Q?Q:i.innerWidth,windowHeight:null!==(L=e.windowHeight)&&void 0!==L?L:i.innerHeight,scrollX:null!==(k=e.scrollX)&&void 0!==k?k:i.pageXOffset,scrollY:null!==(M=e.scrollY)&&void 0!==M?M:i.pageYOffset},u=new o(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),h=new vo(c,u),d=null!==(P=e.foreignObjectRendering)&&void 0!==P&&P,f={allowTaint:null!==(T=e.allowTaint)&&void 0!==T&&T,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},h.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),p=new ai(h,t,f),(g=p.clonedReferenceElement)?[4,p.toIFrame(r,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=A.sent(),w=TA(g)||"HTML"===g.tagName?function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),A=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new o(0,0,r,A)}(g.ownerDocument):s(h,g),y=w.width,b=w.height,v=w.left,B=w.top,C=Co(h,g,e.backgroundColor),_={canvas:e.canvas,backgroundColor:C,scale:null!==(D=null!==(N=e.scale)&&void 0!==N?N:i.devicePixelRatio)&&void 0!==D?D:1,x:(null!==(O=e.x)&&void 0!==O?O:0)+v,y:(null!==(H=e.y)&&void 0!==H?H:0)+B,width:null!==(R=e.width)&&void 0!==R?R:Math.ceil(y),height:null!==(j=e.height)&&void 0!==j?j:Math.ceil(b)},d?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new wo(h,_).render(g)]):[3,3];case 2:return x=A.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+v+","+B+" with size "+y+"x"+b+" using computed rendering"),h.logger.debug("Starting DOM parsing"),F=xA(h,g),C===F.styles.backgroundColor&&(F.styles.backgroundColor=Be.TRANSPARENT),h.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),[4,new uo(h,_).render(F)];case 4:x=A.sent(),A.label=5;case 5:return(null===(K=e.removeContainer)||void 0===K||K)&&(ai.destroy(m)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,x]}})})},Co=function(t,e,n){var r=e.ownerDocument,A=r.documentElement?ve(t,getComputedStyle(r.documentElement).backgroundColor):Be.TRANSPARENT,i=r.body?ve(t,getComputedStyle(r.body).backgroundColor):Be.TRANSPARENT,o="string"==typeof n?ve(t,n):null===n?Be.TRANSPARENT:4294967295;return e===r.documentElement?de(A)?de(i)?o:i:A:o};return function(t,e){return void 0===e&&(e={}),Bo(t,e)}}()},616:(t,e,n)=>{"use strict";n.d(e,{H:()=>s});var r,A=n(3002),i=n(3116),o=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n,r,A,i,o){var s=t.call(this,e)||this;return s.cx=n,s.cy=r,s.rx=A,s.ry=i,s.color=o,s}return o(e,t),Object.defineProperty(e.prototype,"xMax",{get:function(){return this.cx+this.rx},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"ellipse",userid:this.userid,cx:this.cx,cy:this.cy,rx:this.rx,ry:this.ry,color:this.color}},e.prototype.createOverviewImage=function(){return"url(img/icons/26AA.svg)"},e.prototype.redo=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){return A.H.drawEllipse({cx:this.cx,cy:this.cy,rx:this.rx,ry:this.ry},this.color),[2]})},new((n=void 0)||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())});var t,e,n,r},Object.defineProperty(e.prototype,"contour",{get:function(){for(var t=[],e=0;e<200;e++){var n=2*Math.PI*e/200;t.push({x:this.cx+this.rx*Math.cos(n),y:this.cy+this.ry*Math.sin(n)})}return t},enumerable:!1,configurable:!0}),e}(i.r)},734:(t,e,n)=>{const r=n(5659),A=n(8507),i={};Object.keys(r).forEach(t=>{i[t]={},Object.defineProperty(i[t],"channels",{value:r[t].channels}),Object.defineProperty(i[t],"labels",{value:r[t].labels});const e=A(t);Object.keys(e).forEach(n=>{const r=e[n];i[t][n]=function(t){const e=function(...e){const n=e[0];if(null==n)return n;n.length>1&&(e=n);const r=t(e);if("object"==typeof r)for(let t=r.length,e=0;e<t;e++)r[e]=Math.round(r[e]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}(r),i[t][n].raw=function(t){const e=function(...e){const n=e[0];return null==n?n:(n.length>1&&(e=n),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)})}),t.exports=i},748:(module,__unused_webpack_exports,__webpack_require__)=>{var factory;globalThis,factory=()=>(()=>{"use strict";var __webpack_modules__=[,(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=l,e.arraysToBytes=function(t){const e=t.length;if(1===e&&t[0]instanceof Uint8Array)return t[0];let n=0;for(let r=0;r<e;r++)n+=l(t[r]);let r=0;const A=new Uint8Array(n);for(let n=0;n<e;n++){let e=t[n];e instanceof Uint8Array||(e="string"==typeof e?c(e):new Uint8Array(e));const i=e.byteLength;A.set(e,r),r+=i}return A},e.assert=function(t,e){t||o(e)},e.bytesToString=function(t){"object"==typeof t&&null!==t&&void 0!==t.length||o("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let A=0;A<e;A+=n){const i=Math.min(A+n,e),o=t.subarray(A,i);r.push(String.fromCharCode.apply(null,o))}return r.join("")},e.createPromiseCapability=function(){const t=Object.create(null);let e=!1;return Object.defineProperty(t,"settled",{get:()=>e}),t.promise=new Promise(function(n,r){t.resolve=function(t){e=!0,n(t)},t.reject=function(t){e=!0,r(t)}}),t},e.createValidAbsoluteUrl=function(t,e=null,n=null){if(!t)return null;try{if(n&&"string"==typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);e&&e.length>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=f(t)}catch(t){}}const r=e?new URL(t,e):new URL(t);if(function(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(t){}return null},e.escapeString=function(t){return t.replace(/([()\\\n\r])/g,t=>"\n"===t?"\\n":"\r"===t?"\\r":`\\${t}`)},e.getModificationDate=function(t=new Date){return[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),t.getUTCDate().toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")].join("")},e.getVerbosityLevel=function(){return A},e.info=function(t){A>=r.INFOS&&console.log(`Info: ${t}`)},e.isArrayBuffer=function(t){return"object"==typeof t&&null!==t&&void 0!==t.byteLength},e.isArrayEqual=function(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0},e.isAscii=function(t){return/^[\x00-\x7F]*$/.test(t)},e.objectFromMap=function(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e},e.objectSize=function(t){return Object.keys(t).length},e.setVerbosityLevel=function(t){Number.isInteger(t)&&(A=t)},e.shadow=s,e.string32=function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)},e.stringToBytes=c,e.stringToPDFString=function(t){if(t[0]>="รฏ"){let e;if("รพ"===t[0]&&"รฟ"===t[1]?e="utf-16be":"รฟ"===t[0]&&"รพ"===t[1]?e="utf-16le":"รฏ"===t[0]&&"ยป"===t[1]&&"ยฟ"===t[2]&&(e="utf-8"),e)try{const n=new TextDecoder(e,{fatal:!0}),r=c(t);return n.decode(r)}catch(t){i(`stringToPDFString: "${t}".`)}}const e=[];for(let n=0,r=t.length;n<r;n++){const r=d[t.charCodeAt(n)];e.push(r?String.fromCharCode(r):t.charAt(n))}return e.join("")},e.stringToUTF16BEString=function(t){const e=["รพรฟ"];for(let n=0,r=t.length;n<r;n++){const r=t.charCodeAt(n);e.push(String.fromCharCode(r>>8&255),String.fromCharCode(255&r))}return e.join("")},e.stringToUTF8String=f,e.unreachable=o,e.utf8StringToString=function(t){return unescape(encodeURIComponent(t))},e.warn=i,n(2),e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.LINE_FACTOR=1.35,e.LINE_DESCENT_FACTOR=.35,e.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},e.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},e.AnnotationEditorPrefix="pdfjs_internal_editor_",e.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},e.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReplyType={GROUP:"Group",REPLY:"R"},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},e.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},e.PageActionEventType={O:"PageOpen",C:"PageClose"},e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const r={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=r,e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let A=r.WARNINGS;function i(t){A>=r.WARNINGS&&console.log(`Warning: ${t}`)}function o(t){throw new Error(t)}function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}const a=function(){function t(e,n){this.constructor===t&&o("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();function c(t){"string"!=typeof t&&o("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=255&t.charCodeAt(r);return n}function l(t){return void 0!==t.length?t.length:void 0!==t.byteLength?t.byteLength:void o("Invalid argument for arrayByteLength")}e.BaseException=a,e.PasswordException=class extends a{constructor(t,e){super(t,"PasswordException"),this.code=e}},e.UnknownErrorException=class extends a{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}},e.InvalidPDFException=class extends a{constructor(t){super(t,"InvalidPDFException")}},e.MissingPDFException=class extends a{constructor(t){super(t,"MissingPDFException")}},e.UnexpectedResponseException=class extends a{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}},e.FormatError=class extends a{constructor(t){super(t,"FormatError")}},e.AbortException=class extends a{constructor(t){super(t,"AbortException")}},e.FeatureTest=class{static get isLittleEndian(){return s(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return s(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(t){return!1}}())}static get isOffscreenCanvasSupported(){return s(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}};const u=[...Array(256).keys()].map(t=>t.toString(16).padStart(2,"0"));class h{static makeHexColor(t,e,n){return`#${u[t]}${u[e]}${u[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[1],e[1]=n),e[0]*=t[0],e[1]*=t[0],t[3]<0&&(n=e[2],e[2]=e[3],e[3]=n),e[2]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[2],e[2]=n,n=e[1],e[1]=e[3],e[3]=n,t[1]<0&&(n=e[2],e[2]=e[3],e[3]=n),e[2]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[1],e[1]=n),e[0]*=t[2],e[1]*=t[2]),e[0]+=t[4],e[1]+=t[4],e[2]+=t[5],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]}static getAxialAlignedBoundingBox(t,e){const n=h.applyTransform(t,e),r=h.applyTransform(t.slice(2,4),e),A=h.applyTransform([t[0],t[3]],e),i=h.applyTransform([t[2],t[1]],e);return[Math.min(n[0],r[0],A[0],i[0]),Math.min(n[1],r[1],A[1],i[1]),Math.max(n[0],r[0],A[0],i[0]),Math.max(n[1],r[1],A[1],i[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static apply3dTransform(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],A=t[2]*e[0]+t[3]*e[2],i=t[2]*e[1]+t[3]*e[3],o=(n+i)/2,s=Math.sqrt((n+i)**2-4*(n*i-A*r))/2,a=o+s||1,c=o-s||1;return[Math.sqrt(a),Math.sqrt(c)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const A=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),i=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return A>i?null:[n,A,r,i]}static bezierBoundingBox(t,e,n,r,A,i,o,s){const a=[],c=[[],[]];let l,u,h,d,f,p,g,m;for(let c=0;c<2;++c)if(0===c?(u=6*t-12*n+6*A,l=-3*t+9*n-9*A+3*o,h=3*n-3*t):(u=6*e-12*r+6*i,l=-3*e+9*r-9*i+3*s,h=3*r-3*e),Math.abs(l)<1e-12){if(Math.abs(u)<1e-12)continue;d=-h/u,0<d&&d<1&&a.push(d)}else g=u*u-4*h*l,m=Math.sqrt(g),g<0||(f=(-u+m)/(2*l),0<f&&f<1&&a.push(f),p=(-u-m)/(2*l),0<p&&p<1&&a.push(p));let w,y=a.length;const b=y;for(;y--;)d=a[y],w=1-d,c[0][y]=w*w*w*t+3*w*w*d*n+3*w*d*d*A+d*d*d*o,c[1][y]=w*w*w*e+3*w*w*d*r+3*w*d*d*i+d*d*d*s;return c[0][b]=t,c[1][b]=e,c[0][b+1]=o,c[1][b+1]=s,c[0].length=c[1].length=b+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}}e.Util=h;const d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function f(t){return decodeURIComponent(escape(t))}},(t,e,n)=>{n(3)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const n=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);e.isNodeJS=n},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:t,NodeCMapReaderFactory:e,NodeStandardFontDataFactory:n}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=t,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=e,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=n}function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){const e=new PDFDocumentLoadingTask;let n;if("string"==typeof t||t instanceof URL)n={url:t};else if((0,_util.isArrayBuffer)(t))n={data:t};else if(t instanceof PDFDataRangeTransport)n={range:t};else{if("object"!=typeof t)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");n=t}const r=Object.create(null);let A=null,i=null;for(const t in n){const e=n[t];switch(t){case"url":if("undefined"!=typeof window)try{r[t]=new URL(e,window.location).href;continue}catch(t){(0,_util.warn)(`Cannot create valid URL: "${t}".`)}else if("string"==typeof e||e instanceof URL){r[t]=e.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":A=e;continue;case"worker":i=e;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&e instanceof Buffer)r[t]=new Uint8Array(e);else{if(e instanceof Uint8Array)break;if("string"==typeof e)r[t]=(0,_util.stringToBytes)(e);else if("object"!=typeof e||null===e||isNaN(e.length)){if(!(0,_util.isArrayBuffer)(e))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");r[t]=new Uint8Array(e)}else r[t]=new Uint8Array(e)}continue}r[t]=e}if(r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,(!Number.isInteger(r.rangeChunkSize)||r.rangeChunkSize<1)&&(r.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),(!Number.isInteger(r.maxImageSize)||r.maxImageSize<-1)&&(r.maxImageSize=-1),"string"!=typeof r.cMapUrl&&(r.cMapUrl=null),"string"!=typeof r.standardFontDataUrl&&(r.standardFontDataUrl=null),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),"object"==typeof r.ownerDocument&&null!==r.ownerDocument||(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!i){const t={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};i=t.port?PDFWorker.fromPort(t):new PDFWorker(t),e._worker=i}const o=e.docId;return i.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");const t=_fetchDocument(i,r,A,o),n=new Promise(function(t){let e;A?e=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},A):r.data||(e=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),t(e)});return Promise.all([t,n]).then(function([t,n]){if(e.destroyed)throw new Error("Loading aborted");const A=new _message_handler.MessageHandler(o,t,i.port),s=new WorkerTransport(A,e,n,r);e._transport=s,A.send("Ready",null)})}).catch(e._capability.reject),e}async function _fetchDocument(t,e,n,r){if(t.destroyed)throw new Error("Worker was destroyed");n&&(e.length=n.length,e.initialData=n.initialData,e.progressiveDone=n.progressiveDone,e.contentDispositionFilename=n.contentDispositionFilename);const A=await t.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.16.105",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null});if(e.data&&(e.data=null),t.destroyed)throw new Error("Worker was destroyed");return A}class PDFDocumentLoadingTask{static#t=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#t++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0,await(this._transport?.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(t,e){this._pdfInfo=t,this._transport=e,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(t,e,n,r,A=!1){this._pageIndex=t,this._pageInfo=e,this._ownerDocument=r,this._transport=n,this._stats=A?new _display_utils.StatTimer:null,this._pdfBug=A,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:A=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:A})}getAnnotations({intent:t="display"}={}){const e=this._transport.getRenderingIntent(t);let n=this._annotationPromises.get(e.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,e.renderingIntent),this._annotationPromises.set(e.cacheKey,n),n=n.then(t=>{for(const e of t)void 0!==e.titleObj&&Object.defineProperty(e,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),e.titleObj.str)}),void 0!==e.contentsObj&&Object.defineProperty(e,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),e.contentsObj.str)});return t})),n}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:r=_util.AnnotationMode.ENABLE,transform:A=null,imageLayer:i=null,canvasFactory:o=null,background:s=null,optionalContentConfigPromise:a=null,annotationCanvasMap:c=null,pageColors:l=null,printAnnotationStorage:u=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&r===_util.AnnotationMode.ENABLE&&(r=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&r===_util.AnnotationMode.ENABLE&&(r=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const h=this._transport.getRenderingIntent(n,r,u);this.pendingCleanup=!1,a||(a=this._transport.getOptionalContentConfig());let d=this._intentStates.get(h.cacheKey);d||(d=Object.create(null),this._intentStates.set(h.cacheKey,d)),d.streamReaderCancelTimeout&&(clearTimeout(d.streamReaderCancelTimeout),d.streamReaderCancelTimeout=null);const f=o||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),p=!!(h.renderingIntent&_util.RenderingIntentFlag.PRINT);d.displayReadyCapability||(d.displayReadyCapability=(0,_util.createPromiseCapability)(),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(h));const g=t=>{d.renderTasks.delete(m),(this.cleanupAfterRender||p)&&(this.pendingCleanup=!0),this._tryCleanup(),t?(m.capability.reject(t),this._abortOperatorList({intentState:d,reason:t instanceof Error?t:new Error(t)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},m=new InternalRenderTask({callback:g,params:{canvasContext:t,viewport:e,transform:A,imageLayer:i,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:d.operatorList,pageIndex:this._pageIndex,canvasFactory:f,useRequestAnimationFrame:!p,pdfBug:this._pdfBug,pageColors:l});(d.renderTasks||=new Set).add(m);const w=m.task;return Promise.all([d.displayReadyCapability.promise,a]).then(([t,e])=>{this.pendingCleanup?g():(this._stats&&this._stats.time("Rendering"),m.initializeGraphics({transparency:t,optionalContentConfig:e}),m.operatorListChanged())}).catch(g),w}getOperatorList({intent:t="display",annotationMode:e=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}={}){const r=this._transport.getRenderingIntent(t,e,n,!0);let A,i=this._intentStates.get(r.cacheKey);return i||(i=Object.create(null),this._intentStates.set(r.cacheKey,i)),i.opListReadCapability||(A=Object.create(null),A.operatorListChanged=function(){i.operatorList.lastChunk&&(i.opListReadCapability.resolve(i.operatorList),i.renderTasks.delete(A))},i.opListReadCapability=(0,_util.createPromiseCapability)(),(i.renderTasks||=new Set).add(A),i.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(r)),i.opListReadCapability.promise}streamTextContent({disableCombineTextItems:t=!1,includeMarkedContent:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==t,includeMarkedContent:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(t=>_xfa_text.XfaText.textContent(t));const e=this.streamTextContent(t);return new Promise(function(t,n){const r=e.getReader(),A={items:[],styles:Object.create(null)};!function e(){r.read().then(function({value:n,done:r}){r?t(A):(Object.assign(A.styles,n.styles),A.items.push(...n.items),e())},n)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();this.objs.clear();for(const t of this._bitmaps)t.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}cleanup(t=!1){return this.pendingCleanup=!0,this._tryCleanup(t)}_tryCleanup(t=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const t of this._bitmaps)t.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const t of e.renderTasks)t.operatorListChanged();t.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageMap:n}){const r=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:n}).getReader(),A=this._intentStates.get(e);A.streamReader=r;const i=()=>{r.read().then(({value:t,done:e})=>{e?A.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,A),i())},t=>{if(A.streamReader=null,!this._transport.destroyed){if(A.operatorList){A.operatorList.lastChunk=!0;for(const t of A.renderTasks)t.operatorListChanged();this._tryCleanup()}if(A.displayReadyCapability)A.displayReadyCapability.reject(t);else{if(!A.opListReadCapability)throw t;A.opListReadCapability.reject(t)}}})};i()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(!n){if(t.renderTasks.size>0)return;if(e instanceof _display_utils.RenderingCancelledException)return void(t.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:t,reason:e,force:!0}),t.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(t.streamReader.cancel(new _util.AbortException(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(t,e){const n={data:structuredClone(t,e)};this._deferred.then(()=>{for(const t of this._listeners)t.call(this,n)})}addEventListener(t,e){this._listeners.push(e)}removeEventListener(t,e){const n=this._listeners.indexOf(e);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const t=document?.currentScript?.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||"null"===n.origin)return!1}catch(t){return!1}const r=new URL(e,n);return n.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(t){const e=`importScripts("${t}");`;return URL.createObjectURL(new Blob([e]))};class PDFWorker{static#e=new WeakMap;constructor({name:t=null,port:e=null,verbosity:n=(0,_util.getVerbosityLevel)()}={}){if(e&&PDFWorker.#e.has(e))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e)return PDFWorker.#e.set(e,this),void this._initializeFromPort(e);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t),n=new _message_handler.MessageHandler("main","worker",e),r=()=>{e.removeEventListener("error",A),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},A=()=>{this._webWorker||r()};e.addEventListener("error",A),n.on("test",t=>{e.removeEventListener("error",A),this.destroyed?r():t?(this._messageHandler=n,this._port=e,this._webWorker=e,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),e.terminate())}),n.on("ready",t=>{if(e.removeEventListener("error",A),this.destroyed)r();else try{i()}catch(t){this._setupFakeWorker()}});const i=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void i()}catch(t){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(t=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new LoopbackPort;this._port=e;const n="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(n+"_worker",n,e);t.setup(r,e);const A=new _message_handler.MessageHandler(n,n+"_worker",e);this._messageHandler=A,this._readyCapability.resolve(),A.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#e.has(t.port)?this.#e.get(t.port):new PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch(t){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#n=null;#r=new Map;#A=new Map;#i=null;constructor(t,e,n,r){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:e.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,r.useWorkerFetch||(this.CMapReaderFactory=new r.CMapReaderFactory({baseUrl:r.cMapUrl,isCompressed:r.cMapPacked}),this.StandardFontDataFactory=new r.StandardFontDataFactory({baseUrl:r.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#n}getRenderingIntent(t,e=_util.AnnotationMode.ENABLE,n=null,r=!1){let A=_util.RenderingIntentFlag.DISPLAY,i=null;switch(t){case"any":A=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":A=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${t}`)}switch(e){case _util.AnnotationMode.DISABLE:A+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:A+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:A+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,i=(A&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${e}`)}return r&&(A+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:A,cacheKey:`${A}_${_annotation_storage.AnnotationStorage.getHash(i)}`,annotationStorageMap:i}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const e of this.#r.values())t.push(e._destroy());this.#r.clear(),this.#A.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#i=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(t,e)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then(function({value:t,done:n}){n?e.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(t),1,[t]))}).catch(t=>{e.error(t)})},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch(t=>{if(!this.destroyed)throw t})}}),t.on("ReaderHeadersReady",t=>{const n=(0,_util.createPromiseCapability)(),r=this._fullReader;return r.headersReady.then(()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&e.onProgress?.(this._lastProgress),r.onProgress=t=>{e.onProgress?.({loaded:t.loaded,total:t.total})}),n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},n.reject),n.promise}),t.on("GetRangeReader",(t,e)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then(function({value:t,done:n}){n?e.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(t),1,[t]))}).catch(t=>{e.error(t)})},e.onCancel=t=>{n.cancel(t),e.ready.catch(t=>{if(!this.destroyed)throw t})}):e.close()}),t.on("GetDoc",({pdfInfo:t})=>{this._numPages=t.numPages,this._htmlForXfa=t.htmlForXfa,delete t.htmlForXfa,e._capability.resolve(new PDFDocumentProxy(t,this))}),t.on("DocException",function(t){let n;switch(t.name){case"PasswordException":n=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":n=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(t.message,t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}e._capability.reject(n)}),t.on("PasswordRequest",t=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),e.onPassword){const n=t=>{t instanceof Error?this._passwordCapability.reject(t):this._passwordCapability.resolve({password:t})};try{e.onPassword(n,t.code)}catch(t){this._passwordCapability.reject(t)}}else this._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return this._passwordCapability.promise}),t.on("DataLoaded",t=>{e.onProgress?.({loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)}),t.on("StartRenderPage",t=>{this.destroyed||this.#r.get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)}),t.on("commonobj",([e,n,r])=>{if(!this.destroyed&&!this.commonObjs.has(e))switch(n){case"Font":const A=this._params;if("error"in r){const t=r.error;(0,_util.warn)(`Error during font loading: ${t}`),this.commonObjs.resolve(e,t);break}let i=null;A.pdfBug&&globalThis.FontInspector?.enabled&&(i={registerFont(t,e){globalThis.FontInspector.fontAdded(t,e)}});const o=new _font_loader.FontFaceObject(r,{isEvalSupported:A.isEvalSupported,disableFontFace:A.disableFontFace,ignoreErrors:A.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:i});this.fontLoader.bind(o).catch(n=>t.sendWithPromise("FontFallback",{id:e})).finally(()=>{!A.fontExtraProperties&&o.data&&(o.data=null),this.commonObjs.resolve(e,o)});break;case"FontPath":case"Image":this.commonObjs.resolve(e,r);break;default:throw new Error(`Got unknown common object type ${n}`)}}),t.on("obj",([t,e,n,r])=>{if(this.destroyed)return;const A=this.#r.get(e);if(!A.objs.has(t))switch(n){case"Image":A.objs.resolve(t,r);const e=8e6;if(r){let t;if(r.bitmap){const{bitmap:e,width:n,height:i}=r;t=n*i*4,A._bitmaps.add(e)}else t=r.data?.length||0;t>e&&(A.cleanupAfterRender=!0)}break;case"Pattern":A.objs.resolve(t,r);break;default:throw new Error(`Got unknown object type ${n}`)}}),t.on("DocProgress",t=>{this.destroyed||e.onProgress?.({loaded:t.loaded,total:t.total})}),t.on("DocStats",t=>{this.destroyed||(this.#n=Object.freeze({streamTypes:Object.freeze(t.streamTypes),fontTypes:Object.freeze(t.fontTypes)}))}),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",t=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:t}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(t)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#A.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(t=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(e,t,this,this._params.ownerDocument,this._params.pdfBug);return this.#r.set(e,n),n});return this.#A.set(e,r),r}getPageIndex(t){return"object"!=typeof t||null===t||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(t=>new _optional_content_config.OptionalContentConfig(t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#i||=this.messageHandler.sendWithPromise("GetMetadata",null).then(t=>({info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const t of this.#r.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#i=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}class PDFObjects{#o=Object.create(null);#s(t){return this.#o[t]||(this.#o[t]={capability:(0,_util.createPromiseCapability)(),data:null})}get(t,e=null){if(e){const n=this.#s(t);return n.capability.promise.then(()=>e(n.data)),null}const n=this.#o[t];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#o[t];return e?.capability.settled||!1}resolve(t,e=null){const n=this.#s(t);n.data=e,n.capability.resolve()}clear(){this.#o=Object.create(null)}}class RenderTask{#a=null;constructor(t){this.#a=t,this.onContinue=null}get promise(){return this.#a.capability.promise}cancel(){this.#a.cancel()}get separateAnnots(){const{separateAnnots:t}=this.#a.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#a;return t.form||t.canvas&&e?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#c=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:A,operatorList:i,pageIndex:o,canvasFactory:s,useRequestAnimationFrame:a=!1,pdfBug:c=!1,pageColors:l=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=A,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=o,this.canvasFactory=s,this._pdfBug=c,this.pageColors=l,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===a&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#c.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#c.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:A,imageLayer:i,background:o}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,i,e,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:A,viewport:r,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(t=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#c.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#c.delete(this._canvas),this.callback())))}}const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var r=n(1),A=n(6),i=n(10);class o{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this._storage.get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return this._storage.get(t)}remove(t){if(this._storage.delete(t),0===this._storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const t of this._storage.values())if(t instanceof A.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this._storage.get(t);let r=!1;if(void 0!==n)for(const[t,A]of Object.entries(e))n[t]!==A&&(r=!0,n[t]=A);else r=!0,this._storage.set(t,e);r&&this.#l(),e instanceof A.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type)}has(t){return this._storage.has(t)}getAll(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}get size(){return this._storage.size}#l(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new s(this)}get serializable(){if(0===this._storage.size)return null;const t=new Map;for(const[e,n]of this._storage){const r=n instanceof A.AnnotationEditor?n.serialize():n;r&&t.set(e,r)}return t}static getHash(t){if(!t)return"";const e=new i.MurmurHash3_64;for(const[n,r]of t)e.update(`${n}:${JSON.stringify(r)}`);return e.hexdigest()}}e.AnnotationStorage=o;class s extends o{#u=null;constructor(t){super(),this.#u=structuredClone(t.serializable)}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#u}}e.PrintAnnotationStorage=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var r=n(7),A=n(1);class i{#h=this.focusin.bind(this);#d=this.focusout.bind(this);#f=!1;#p=!1;#g=!1;#m=i._zIndex++;static _colorManager=new r.ColorManager;static _zIndex=1;constructor(t){this.constructor===i&&(0,A.unreachable)("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null;const[e,n]=this.parent.viewportBaseDimensions;this.x=t.x/e,this.y=t.y/n,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,A.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#m}focusin(t){this.#f?this.#f=!1:this.parent.setSelected(this)}focusout(t){if(!this.isAttachedToDOM)return;const e=t.relatedTarget;e?.closest(`#${this.id}`)||(t.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(t){const e=this.parent.div.getBoundingClientRect();this.startX=t.clientX-e.x,this.startY=t.clientY-e.y,t.dataTransfer.setData("text/plain",this.id),t.dataTransfer.effectAllowed="move"}setAt(t,e,n,r){const[A,i]=this.parent.viewportBaseDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/A,this.y=(e+r)/i,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(t,e){const[n,r]=this.parent.viewportBaseDimensions;[t,e]=this.screenToPageTranslation(t,e),this.x+=t/n,this.y+=e/r,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(t,e){const{rotation:n}=this.parent.viewport;switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}setDims(t,e){const[n,r]=this.parent.viewportBaseDimensions;this.div.style.width=100*t/n+"%",this.div.style.height=100*e/r+"%"}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#h),this.div.addEventListener("focusout",this.#d);const[t,e]=this.getInitialTranslation();return this.translate(t,e),(0,r.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(t){const e=r.KeyboardManager.platform.isMac;0!==t.button||t.ctrlKey&&e?t.preventDefault():(t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#f=!0)}getRect(t,e){const[n,r]=this.parent.viewportBaseDimensions,[A,i]=this.parent.pageDimensions,o=A*t/n,s=i*e/r,a=this.x*A,c=this.y*i,l=this.width*A,u=this.height*i;switch(this.rotation){case 0:return[a+o,i-c-s-u,a+o+l,i-c-s];case 90:return[a+s,i-c+o,a+s+u,i-c+o+l];case 180:return[a-o-l,i-c+s,a-o,i-c+s+u];case 270:return[a-s-u,i-c-o-l,a-s,i-c-o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,A,i]=t,o=A-n,s=i-r;switch(this.rotation){case 0:return[n,e-i,o,s];case 90:return[n,e-r,s,o];case 180:return[A,e-r,o,s];case 270:return[A,e-i,s,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#g=!0}disableEditMode(){this.#g=!1}isInEditMode(){return this.#g}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#h)}serialize(){(0,A.unreachable)("An editor must be serializable")}static deserialize(t,e){const n=new this.prototype.constructor({parent:e,id:e.getNextId()});n.rotation=t.rotation;const[r,A]=e.pageDimensions,[i,o,s,a]=n.getRectInCurrentCoords(t.rect,A);return n.x=i/r,n.y=o/A,n.width=s/r,n.height=a/A,n}remove(){this.div.removeEventListener("focusin",this.#h),this.div.removeEventListener("focusout",this.#d),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(t,e){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}e.AnnotationEditor=i},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=function(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))},e.opacityToHex=function(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")};var r=n(1),A=n(8);class i{#w=0;getId(){return`${r.AnnotationEditorPrefix}${this.#w++}`}}class o{#y=[];#b=!1;#v;#B=-1;constructor(t=128){this.#v=t}add({cmd:t,undo:e,mustExec:n,type:r=NaN,overwriteIfSameType:A=!1,keepUndo:i=!1}){if(n&&t(),this.#b)return;const o={cmd:t,undo:e,type:r};if(-1===this.#B)return this.#y.length>0&&(this.#y.length=0),this.#B=0,void this.#y.push(o);if(A&&this.#y[this.#B].type===r)return i&&(o.undo=this.#y[this.#B].undo),void(this.#y[this.#B]=o);const s=this.#B+1;s===this.#v?this.#y.splice(0,1):(this.#B=s,s<this.#y.length&&this.#y.splice(s)),this.#y.push(o)}undo(){-1!==this.#B&&(this.#b=!0,this.#y[this.#B].undo(),this.#b=!1,this.#B-=1)}redo(){this.#B<this.#y.length-1&&(this.#B+=1,this.#b=!0,this.#y[this.#B].cmd(),this.#b=!1)}hasSomethingToUndo(){return-1!==this.#B}hasSomethingToRedo(){return this.#B<this.#y.length-1}destroy(){this.#y=null}}e.CommandManager=o;class s{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const e=s.platform.isMac;for(const[n,r]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),r),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,r),this.allKeys.add(t.split("+").at(-1)))}}static get platform(){const t="undefined"!=typeof navigator?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}#C(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#C(e));n&&(n.bind(t)(),e.stopPropagation(),e.preventDefault())}}e.KeyboardManager=s;class a{#_=null;copy(t){t&&(Array.isArray(t)?this.#_=t.map(t=>t.serialize()):this.#_=[t.serialize()],this.#_=this.#_.filter(t=>!!t),0===this.#_.length&&(this.#_=null))}paste(){return this.#_}isEmpty(){return null===this.#_}destroy(){this.#_=null}}class c{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return(0,A.getColorValues)(t),(0,r.shadow)(this,"_colors",t)}convert(t){const e=(0,A.getRGB)(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[t,n]of this._colors)if(n.every((t,n)=>t===e[n]))return c._colorsMapping.get(t);return e}getHexCode(t){const e=this._colors.get(t);return e?r.Util.makeHexColor(...e):t}}e.ColorManager=c;class l{#x=null;#F=new Map;#S=new Map;#E=new a;#U=new o;#I=0;#Q=null;#L=null;#k=new i;#M=!1;#P=r.AnnotationEditorType.NONE;#T=new Set;#N=this.keydown.bind(this);#D=this.onEditingAction.bind(this);#O=this.onPageChanging.bind(this);#H={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#R=null;static _keyboardManager=new s([[["ctrl+a","mac+meta+a"],l.prototype.selectAll],[["ctrl+c","mac+meta+c"],l.prototype.copy],[["ctrl+v","mac+meta+v"],l.prototype.paste],[["ctrl+x","mac+meta+x"],l.prototype.cut],[["ctrl+z","mac+meta+z"],l.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],l.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],l.prototype.delete],[["Escape","mac+Escape"],l.prototype.unselectAll]]);constructor(t,e){this.#R=t,this.#L=e,this.#L._on("editingaction",this.#D),this.#L._on("pagechanging",this.#O)}destroy(){this.#j(),this.#L._off("editingaction",this.#D),this.#L._off("pagechanging",this.#O);for(const t of this.#S.values())t.destroy();this.#S.clear(),this.#F.clear(),this.#x=null,this.#T.clear(),this.#E.destroy(),this.#U.destroy()}onPageChanging({pageNumber:t}){this.#I=t-1}focusMainContainer(){this.#R.focus()}#K(){this.#R.addEventListener("keydown",this.#N)}#j(){this.#R.removeEventListener("keydown",this.#N)}keydown(t){this.getActive()?.shouldGetKeyboardEvents()||l._keyboardManager.exec(this,t)}onEditingAction(t){["undo","redo","cut","copy","paste","delete","selectAll"].includes(t.name)&&this[t.name]()}#q(t){Object.entries(t).some(([t,e])=>this.#H[t]!==e)&&this.#L.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#H,t)})}#G(t){this.#L.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#K(),this.#q({isEditing:this.#P!==r.AnnotationEditorType.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#U.hasSomethingToUndo(),hasSomethingToRedo:this.#U.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#E.isEmpty()})):(this.#j(),this.#q({isEditing:!1}))}registerEditorTypes(t){this.#Q=t;for(const t of this.#Q)this.#G(t.defaultPropertiesToUpdate)}getId(){return this.#k.getId()}addLayer(t){this.#S.set(t.pageIndex,t),this.#M?t.enable():t.disable()}removeLayer(t){this.#S.delete(t.pageIndex)}updateMode(t){if(this.#P=t,t===r.AnnotationEditorType.NONE)this.setEditingState(!1),this.#V();else{this.setEditingState(!0),this.#z();for(const e of this.#S.values())e.updateMode(t)}}updateToolbar(t){t!==this.#P&&this.#L.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){for(const n of this.#T)n.updateParams(t,e);for(const n of this.#Q)n.updateDefaultParams(t,e)}#z(){if(!this.#M){this.#M=!0;for(const t of this.#S.values())t.enable()}}#V(){if(this.unselectAll(),this.#M){this.#M=!1;for(const t of this.#S.values())t.disable()}}getEditors(t){const e=[];for(const n of this.#F.values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return this.#F.get(t)}addEditor(t){this.#F.set(t.id,t)}removeEditor(t){this.#F.delete(t.id),this.unselect(t)}#X(t){const e=this.#S.get(t.pageIndex);e?e.addOrRebuild(t):this.addEditor(t)}setActiveEditor(t){this.#x!==t&&(this.#x=t,t&&this.#G(t.propertiesToUpdate))}toggleSelected(t){if(this.#T.has(t))return this.#T.delete(t),t.unselect(),void this.#q({hasSelectedEditor:this.hasSelection});this.#T.add(t),t.select(),this.#G(t.propertiesToUpdate),this.#q({hasSelectedEditor:!0})}setSelected(t){for(const e of this.#T)e!==t&&e.unselect();this.#T.clear(),this.#T.add(t),t.select(),this.#G(t.propertiesToUpdate),this.#q({hasSelectedEditor:!0})}isSelected(t){return this.#T.has(t)}unselect(t){t.unselect(),this.#T.delete(t),this.#q({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#T.size}undo(){this.#U.undo(),this.#q({hasSomethingToUndo:this.#U.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()})}redo(){this.#U.redo(),this.#q({hasSomethingToUndo:!0,hasSomethingToRedo:this.#U.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(t){this.#U.add(t),this.#q({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}#W(){if(0===this.#F.size)return!0;if(1===this.#F.size)for(const t of this.#F.values())return t.isEmpty();return!1}delete(){if(this.#x&&this.#x.commitOrRemove(),!this.hasSelection)return;const t=[...this.#T];this.addCommands({cmd:()=>{for(const e of t)e.remove()},undo:()=>{for(const e of t)this.#X(e)},mustExec:!0})}copy(){if(this.#x&&this.#x.commitOrRemove(),this.hasSelection){const t=[];for(const e of this.#T)e.isEmpty()||t.push(e);if(0===t.length)return;this.#E.copy(t),this.#q({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#E.isEmpty())return;this.unselectAll();const t=this.#S.get(this.#I),e=this.#E.paste().map(e=>t.deserialize(e));this.addCommands({cmd:()=>{for(const t of e)this.#X(t);this.#J(e)},undo:()=>{for(const t of e)t.remove()},mustExec:!0})}#J(t){this.#T.clear();for(const e of t)e.isEmpty()||(this.#T.add(e),e.select());this.#q({hasSelectedEditor:!0})}selectAll(){for(const t of this.#T)t.commit();this.#J(this.#F.values())}unselectAll(){if(this.#x)this.#x.commitOrRemove();else if(0!==this.#J.size){for(const t of this.#T)t.unselect();this.#T.clear(),this.#q({hasSelectedEditor:!1})}}isActive(t){return this.#x===t}getActive(){return this.#x}getMode(){return this.#P}}e.AnnotationEditorUIManager=l},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=function(t){console.log("Deprecated API usage: "+t)},e.getColorValues=function(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,g(r))}e.remove()},e.getCurrentTransform=function(t){const{a:e,b:n,c:r,d:A,e:i,f:o}=t.getTransform();return[e,n,r,A,i,o]},e.getCurrentTransformInverse=function(t){const{a:e,b:n,c:r,d:A,e:i,f:o}=t.getTransform().invertSelf();return[e,n,r,A,i,o]},e.getFilenameFromUrl=function(t){const e=t.indexOf("#"),n=t.indexOf("?"),r=Math.min(e>0?e:t.length,n>0?n:t.length);return t.substring(t.lastIndexOf("/",r)+1,r)},e.getPdfFilenameFromUrl=function(t,e="document.pdf"){if("string"!=typeof t)return e;if(d(t))return(0,A.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t);let i=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch(t){}return i||e},e.getRGB=g,e.getXfaPageViewport=function(t,{scale:e=1,rotation:n=0}){const{width:r,height:A}=t.attributes.style,i=[0,0,parseInt(r),parseInt(A)];return new u({viewBox:i,scale:e,rotation:n})},e.isDataScheme=d,e.isPdfFile=function(t){return"string"==typeof t&&/\.pdf$/i.test(t)},e.isValidFetchUrl=f,e.loadScript=function(t,e=!1){return new Promise((n,r)=>{const A=document.createElement("script");A.src=t,A.onload=function(t){e&&A.remove(),n(t)},A.onerror=function(){r(new Error(`Cannot load script at: ${A.src}`))},(document.head||document.documentElement).append(A)})};var r=n(9),A=n(1);e.AnnotationPrefix="pdfjs_internal_id_";class i{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}e.PixelsPerInch=i;class o extends r.BaseCanvasFactory{constructor({ownerDocument:t=globalThis.document}={}){super(),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}async function s(t,e=!1){if(f(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);return e?new Uint8Array(await n.arrayBuffer()):(0,A.stringToBytes)(await n.text())}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),e&&(i.responseType="arraybuffer"),i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(200===i.status||0===i.status){let t;if(e&&i.response?t=new Uint8Array(i.response):!e&&i.responseText&&(t=(0,A.stringToBytes)(i.responseText)),t)return void n(t)}r(new Error(i.statusText))}},i.send(null)})}e.DOMCanvasFactory=o;class a extends r.BaseCMapReaderFactory{_fetchData(t,e){return s(t,this.isCompressed).then(t=>({cMapData:t,compressionType:e}))}}e.DOMCMapReaderFactory=a;class c extends r.BaseStandardFontDataFactory{_fetchData(t){return s(t,!0)}}e.DOMStandardFontDataFactory=c;class l extends r.BaseSVGFactory{_createSVG(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}}e.DOMSVGFactory=l;class u{constructor({viewBox:t,scale:e,rotation:n,offsetX:r=0,offsetY:A=0,dontFlip:i=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=r,this.offsetY=A;const o=(t[2]+t[0])/2,s=(t[3]+t[1])/2;let a,c,l,u,h,d,f,p;switch((n%=360)<0&&(n+=360),n){case 180:a=-1,c=0,l=0,u=1;break;case 90:a=0,c=1,l=1,u=0;break;case 270:a=0,c=-1,l=-1,u=0;break;case 0:a=1,c=0,l=0,u=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}i&&(l=-l,u=-u),0===a?(h=Math.abs(s-t[1])*e+r,d=Math.abs(o-t[0])*e+A,f=Math.abs(t[3]-t[1])*e,p=Math.abs(t[2]-t[0])*e):(h=Math.abs(o-t[0])*e+r,d=Math.abs(s-t[1])*e+A,f=Math.abs(t[2]-t[0])*e,p=Math.abs(t[3]-t[1])*e),this.transform=[a*e,c*e,l*e,u*e,h-a*e*o-l*e*s,d-c*e*o-u*e*s],this.width=f,this.height=p}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:A=!1}={}){return new u({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:A})}convertToViewportPoint(t,e){return A.Util.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=A.Util.applyTransform([t[0],t[1]],this.transform),n=A.Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return A.Util.applyInverseTransform([t,e],this.transform)}}e.PageViewport=u;class h extends A.BaseException{constructor(t,e){super(t,"RenderingCancelledException"),this.type=e}}function d(t){const e=t.length;let n=0;for(;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function f(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return"http:"===n||"https:"===n}catch(t){return!1}}let p;function g(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(t=>parseInt(t)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):((0,A.warn)(`Not a valid color format: "${t}"`),[0,0,0])}e.RenderingCancelledException=h,e.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(t){t in this.started&&(0,A.warn)(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||(0,A.warn)(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const t of this.times){const n=t.name;n.length>e&&(e=n.length)}for(const n of this.times){const r=n.end-n.start;t.push(`${n.name.padEnd(e)} ${r}ms\n`)}return t.join("")}},e.PDFDateString=class{static toDateObject(t){if(!t||"string"!=typeof t)return null;p||(p=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=p.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let A=parseInt(e[3],10);A=A>=1&&A<=31?A:1;let i=parseInt(e[4],10);i=i>=0&&i<=23?i:0;let o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;let s=parseInt(e[6],10);s=s>=0&&s<=59?s:0;const a=e[7]||"Z";let c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;let l=parseInt(e[9],10)||0;return l=l>=0&&l<=59?l:0,"-"===a?(i+=c,o+=l):"+"===a&&(i-=c,o-=l),new Date(Date.UTC(n,r,A,i,o,s))}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var r=n(1);class A{constructor(){this.constructor===A&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d")}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=A;class i{constructor({baseUrl:t=null,isCompressed:e=!1}){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":""),n=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(e,n).catch(t=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}_fetchData(t,e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=i;class o{constructor({baseUrl:t=null}){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetchData(e).catch(t=>{throw new Error(`Unable to load font data at: ${e}`)})}_fetchData(t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=o;class s{constructor(){this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if("string"!=typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){(0,r.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var r=n(1);const A=3285377520,i=4294901760,o=65535;e.MurmurHash3_64=class{constructor(t){this.h1=t?4294967295&t:A,this.h2=t?4294967295&t:A}update(t){let e,n;if("string"==typeof t){e=new Uint8Array(2*t.length),n=0;for(let r=0,A=t.length;r<A;r++){const A=t.charCodeAt(r);A<=255?e[n++]=A:(e[n++]=A>>>8,e[n++]=255&A)}}else{if(!(0,r.isArrayBuffer)(t))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");e=t.slice(),n=e.byteLength}const A=n>>2,s=n-4*A,a=new Uint32Array(e.buffer,0,A);let c=0,l=0,u=this.h1,h=this.h2;const d=3432918353,f=461845907,p=11601,g=13715;for(let t=0;t<A;t++)1&t?(c=a[t],c=c*d&i|c*p&o,c=c<<15|c>>>17,c=c*f&i|c*g&o,u^=c,u=u<<13|u>>>19,u=5*u+3864292196):(l=a[t],l=l*d&i|l*p&o,l=l<<15|l>>>17,l=l*f&i|l*g&o,h^=l,h=h<<13|h>>>19,h=5*h+3864292196);switch(c=0,s){case 3:c^=e[4*A+2]<<16;case 2:c^=e[4*A+1]<<8;case 1:c^=e[4*A],c=c*d&i|c*p&o,c=c<<15|c>>>17,c=c*f&i|c*g&o,1&A?u^=c:h^=c}this.h1=u,this.h2=h}hexdigest(){let t=this.h1,e=this.h2;t^=e>>>1,t=3981806797*t&i|36045*t&o,e=4283543511*e&i|(2950163797*(e<<16|t>>>16)&i)>>>16,t^=e>>>1,t=444984403*t&i|60499*t&o,e=3301882366*e&i|(3120437893*(e<<16|t>>>16)&i)>>>16,t^=e>>>1;const n=(t>>>0).toString(16),r=(e>>>0).toString(16);return n.padStart(8,"0")+r.padStart(8,"0")}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var r=n(1);class A{constructor({docId:t,onUnsupportedFeature:e,ownerDocument:n=globalThis.document,styleElement:i=null}){this.constructor===A&&(0,r.unreachable)("Cannot initialize BaseFontLoader."),this.docId=t,this._onUnsupportedFeature=e,this._document=n,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(t){this.nativeFontFaces.push(t),this._document.fonts.add(t)}insertRule(t){let e=this.styleElement;e||(e=this.styleElement=this._document.createElement("style"),e.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(e));const n=e.sheet;n.insertRule(t,n.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(t){if(t.attached||t.missingFile)return;if(t.attached=!0,this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${e.family}': '${n}'.`),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent([e],[t],r)})}}_queueLoadingCallback(t){(0,r.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return(0,r.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){(0,r.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,r.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(t,e,n){(0,r.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let i;e.FontLoader=i,e.FontLoader=i=class extends A{constructor(t){super(t),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let t=!1;if("undefined"==typeof navigator)t=!0;else{const e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);e?.[1]>=14&&(t=!0)}return(0,r.shadow)(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){const e=this.loadingContext,n={id:"pdfjs-font-loading-"+e.nextRequestId++,done:!1,complete:function(){for((0,r.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.requests.length>0&&e.requests[0].done;){const t=e.requests.shift();setTimeout(t.callback,0)}},callback:t};return e.requests.push(n),n}get _loadTestFont(){return(0,r.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e,n){function A(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function i(t,e,n,r){return t.substring(0,e)+r+t.substring(e+n)}let o,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const c=a.getContext("2d");let l=0;const u=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,u.length,u);const d=1482184792;let f=A(h,16);for(o=0,s=u.length-3;o<s;o+=4)f=f-d+A(u,o)|0;o<u.length&&(f=f-d+A(u+"XXX",o)|0),h=i(h,16,4,(0,r.string32)(f));const p=`@font-face {font-family:"${u}";src:url(data:font/opentype;base64,${btoa(h)});}`;this.insertRule(p);const g=[];for(const t of e)g.push(t.loadedName);g.push(u);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const t of g){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=t,m.append(e)}this._document.body.append(m),function t(e,n){if(l++,l>30)return(0,r.warn)("Load test font never loaded."),void n();c.font="30px "+e,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(u,()=>{m.remove(),n.complete()})}},e.FontFaceObject=class{constructor(t,{isEvalSupported:e=!0,disableFontFace:n=!1,ignoreErrors:r=!1,onUnsupportedFeature:A,fontRegistry:i=null}){this.compiledGlyphs=Object.create(null);for(const e in t)this[e]=t[e];this.isEvalSupported=!1!==e,this.disableFontFace=!0===n,this.ignoreErrors=!0===r,this._onUnsupportedFeature=A,this.fontRegistry=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=(0,r.bytesToString)(this.data),e=`url(data:${this.mimetype};base64,${btoa(t)});`;let n;if(this.cssFontInfo){let t=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(t+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${t}src:${e}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,e),n}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(t){if(!this.ignoreErrors)throw t;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${t}".`),this.compiledGlyphs[e]=function(t,e){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const t=[];for(const e of n){const n=void 0!==e.args?e.args.join(","):"";t.push("c.",e.cmd,"(",n,");\n")}return this.compiledGlyphs[e]=new Function("c","size",t.join(""))}return this.compiledGlyphs[e]=function(t,e){for(const r of n)"scale"===r.cmd&&(r.args=[e,-e]),t[r.cmd].apply(t,r.args)}}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var r=n(8),A=n(1),i=n(13),o=n(14),s=n(3);const a=4096,c=s.isNodeJS&&"undefined"==typeof Path2D?-1:1e3,l=16;class u{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return void 0!==this.cache[t]?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function h(t,e,n,A,i,o,s,a,c,l){const[u,h,d,f,p,g]=(0,r.getCurrentTransform)(t);if(0===h&&0===d){const r=s*u+p,m=Math.round(r),w=a*f+g,y=Math.round(w),b=(s+c)*u+p,v=Math.abs(Math.round(b)-m)||1,B=(a+l)*f+g,C=Math.abs(Math.round(B)-y)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(f),m,y),t.drawImage(e,n,A,i,o,0,0,v,C),t.setTransform(u,h,d,f,p,g),[v,C]}if(0===u&&0===f){const r=a*d+p,m=Math.round(r),w=s*h+g,y=Math.round(w),b=(a+l)*d+p,v=Math.abs(Math.round(b)-m)||1,B=(s+c)*h+g,C=Math.abs(Math.round(B)-y)||1;return t.setTransform(0,Math.sign(h),Math.sign(d),0,m,y),t.drawImage(e,n,A,i,o,0,0,C,v),t.setTransform(u,h,d,f,p,g),[C,v]}return t.drawImage(e,n,A,i,o,s,a,c,l),[Math.hypot(u,h)*c,Math.hypot(d,f)*l]}class d{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=A.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=A.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=A.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=A.Util.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=A.Util.applyTransform(e,t),r=A.Util.applyTransform(e.slice(2),t);this.minX=Math.min(this.minX,n[0],r[0]),this.minY=Math.min(this.minY,n[1],r[1]),this.maxX=Math.max(this.maxX,n[0],r[0]),this.maxY=Math.max(this.maxY,n[1],r[1])}updateScalingPathMinMax(t,e){A.Util.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.maxX=Math.max(this.maxX,e[1]),this.minY=Math.min(this.minY,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,r,i,o,s,a,c,l){const u=A.Util.bezierBoundingBox(e,n,r,i,o,s,a,c);if(l)return l[0]=Math.min(l[0],u[0],u[2]),l[1]=Math.max(l[1],u[0],u[2]),l[2]=Math.min(l[2],u[1],u[3]),void(l[3]=Math.max(l[3],u[1],u[3]));this.updateRectMinMax(t,u)}getPathBoundingBox(t=i.PathType.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===i.PathType.STROKE){e||(0,A.unreachable)("Stroke bounding box must include transform.");const t=A.Util.singularValueDecompose2dScale(e),r=t[0]*this.lineWidth/2,i=t[1]*this.lineWidth/2;n[0]-=r,n[1]-=i,n[2]+=r,n[3]+=i}return n}updateClipFromPath(){const t=A.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=i.PathType.FILL,e=null){return A.Util.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function f(t,e,n=null){if("undefined"!=typeof ImageData&&e instanceof ImageData)return void t.putImageData(e,0,0);const r=e.height,i=e.width,o=r%l,s=(r-o)/l,a=0===o?s:s+1,c=t.createImageData(i,l);let u,h=0;const d=e.data,f=c.data;let p,g,m,w,y,b,v,B;if(n)switch(n.length){case 1:y=n[0],b=n[0],v=n[0],B=n[0];break;case 4:y=n[0],b=n[1],v=n[2],B=n[3]}if(e.kind===A.ImageKind.GRAYSCALE_1BPP){const e=d.byteLength,n=new Uint32Array(f.buffer,0,f.byteLength>>2),r=n.length,w=i+7>>3;let y=4294967295,b=A.FeatureTest.isLittleEndian?4278190080:255;for(B&&255===B[0]&&0===B[255]&&([y,b]=[b,y]),p=0;p<a;p++){for(m=p<s?l:o,u=0,g=0;g<m;g++){const t=e-h;let r=0;const A=t>w?i:8*t-7,o=-8&A;let s=0,a=0;for(;r<o;r+=8)a=d[h++],n[u++]=128&a?y:b,n[u++]=64&a?y:b,n[u++]=32&a?y:b,n[u++]=16&a?y:b,n[u++]=8&a?y:b,n[u++]=4&a?y:b,n[u++]=2&a?y:b,n[u++]=1&a?y:b;for(;r<A;r++)0===s&&(a=d[h++],s=128),n[u++]=a&s?y:b,s>>=1}for(;u<r;)n[u++]=0;t.putImageData(c,0,p*l)}}else if(e.kind===A.ImageKind.RGBA_32BPP){const e=!!(y||b||v);for(g=0,w=i*l*4,p=0;p<s;p++){if(f.set(d.subarray(h,h+w)),h+=w,e)for(let t=0;t<w;t+=4)y&&(f[t+0]=y[f[t+0]]),b&&(f[t+1]=b[f[t+1]]),v&&(f[t+2]=v[f[t+2]]);t.putImageData(c,0,g),g+=l}if(p<a){if(w=i*o*4,f.set(d.subarray(h,h+w)),e)for(let t=0;t<w;t+=4)y&&(f[t+0]=y[f[t+0]]),b&&(f[t+1]=b[f[t+1]]),v&&(f[t+2]=v[f[t+2]]);t.putImageData(c,0,g)}}else{if(e.kind!==A.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${e.kind}`);{const e=!!(y||b||v);for(m=l,w=i*m,p=0;p<a;p++){for(p>=s&&(m=o,w=i*m),u=0,g=w;g--;)f[u++]=d[h++],f[u++]=d[h++],f[u++]=d[h++],f[u++]=255;if(e)for(let t=0;t<u;t+=4)y&&(f[t+0]=y[f[t+0]]),b&&(f[t+1]=b[f[t+1]]),v&&(f[t+2]=v[f[t+2]]);t.putImageData(c,0,p*l)}}}}function p(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,r=e.width,A=n%l,i=(n-A)/l,s=0===A?i:i+1,a=t.createImageData(r,l);let c=0;const u=e.data,h=a.data;for(let e=0;e<s;e++){const n=e<i?l:A;({srcPos:c}=(0,o.applyMaskImageData)({src:u,srcPos:c,dest:h,width:r,height:n})),t.putImageData(a,0,e*l)}}function g(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let r=0,A=n.length;r<A;r++){const A=n[r];void 0!==t[A]&&(e[A]=t[A])}void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function m(t,e){t.strokeStyle=t.fillStyle=e||"#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0)}function w(t,e,n,r){const A=t.length;for(let i=3;i<A;i+=4){const A=t[i];if(0===A)t[i-3]=e,t[i-2]=n,t[i-1]=r;else if(A<255){const o=255-A;t[i-3]=t[i-3]*A+e*o>>8,t[i-2]=t[i-2]*A+n*o>>8,t[i-1]=t[i-1]*A+r*o>>8}}}function y(t,e,n){const r=t.length,A=1/255;for(let i=3;i<r;i+=4){const r=n?n[t[i]]:t[i];e[i]=e[i]*r*A|0}}function b(t,e,n){const r=t.length;for(let A=3;A<r;A+=4){const r=77*t[A-3]+152*t[A-2]+28*t[A-1];e[A]=n?e[A]*n[r>>8]>>8:e[A]*r>>16}}function v(t,e){const n=A.Util.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*r.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==e?e:n[0]<=i||n[1]<=i}const B=["butt","round","square"],C=["miter","round","bevel"],_={},x={};class F{constructor(t,e,n,r,A,i,o,s){this.ctx=t,this.current=new d(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.imageLayer=A,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=i,this.cachedCanvases=new u(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=o,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=s?.background||null,this.foregroundColor=s?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return"string"==typeof t?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:A=null}){const i=this.ctx.canvas.width,o=this.ctx.canvas.height,s=A||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const t=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const e=this.backgroundColor=this.ctx.fillStyle;let n=!0,A=s;if(this.ctx.fillStyle=s,A=this.ctx.fillStyle,n="string"==typeof A&&/^#[0-9A-Fa-f]{6}$/.test(A),"#000000"===t&&"#ffffff"===e||t===e||!n)this.foregroundColor=this.backgroundColor=null;else{const[n,i,o]=(0,r.getRGB)(A),s=t=>(t/=255)<=.03928?t/12.92:((t+.055)/1.055)**2.4,a=Math.round(.2126*s(n)+.7152*s(i)+.0722*s(o));this.selectColor=(n,r,A)=>{const i=.2126*s(n)+.7152*s(r)+.0722*s(A);return Math.round(i)===a?e:t}}}if(this.ctx.fillStyle=this.backgroundColor||s,this.ctx.fillRect(0,0,i,o),this.ctx.restore(),n){const t=this.cachedCanvases.getCanvas("transparent",i,o);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...(0,r.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),m(this.ctx,this.foregroundColor),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=(0,r.getCurrentTransform)(this.ctx),this.imageLayer&&((0,r.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(t,e,n,r){const i=t.argsArray,o=t.fnArray;let s=e||0;const a=i.length;if(a===s)return s;const c=a-s>10&&"function"==typeof n,l=c?Date.now()+15:0;let u=0;const h=this.commonObjs,d=this.objs;let f;for(;;){if(void 0!==r&&s===r.nextBreakPoint)return r.breakIt(s,n),s;if(f=o[s],f!==A.OPS.dependency)this[f].apply(this,i[s]);else for(const t of i[s]){const e=t.startsWith("g_")?h:d;if(!e.has(t))return e.get(t,n),s}if(s++,s===a)return s;if(c&&++u>10){if(Date.now()>l)return n(),s;u=0}}}#Y(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#Y(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(t,e){const n=t.width,r=t.height;let A,i,o=Math.max(Math.hypot(e[0],e[1]),1),s=Math.max(Math.hypot(e[2],e[3]),1),a=n,c=r,l="prescale1";for(;o>2&&a>1||s>2&&c>1;){let e=a,n=c;o>2&&a>1&&(e=Math.ceil(a/2),o/=a/e),s>2&&c>1&&(n=Math.ceil(c/2),s/=c/n),A=this.cachedCanvases.getCanvas(l,e,n),i=A.context,i.clearRect(0,0,e,n),i.drawImage(t,0,0,a,c,0,0,e,n),t=A.canvas,a=e,c=n,l="prescale1"===l?"prescale2":"prescale1"}return{img:t,paintWidth:a,paintHeight:c}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:o}=t,s=this.current.fillColor,a=this.current.patternFill,c=(0,r.getCurrentTransform)(e);let l,u,d,f;if((t.bitmap||t.data)&&t.count>1){const e=t.bitmap||t.data.buffer,n=c.slice(0,4);u=JSON.stringify(a?n:[n,s]),l=this._cachedBitmapsMap.get(e),l||(l=new Map,this._cachedBitmapsMap.set(e,l));const r=l.get(u);if(r&&!a)return{canvas:r,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};d=r}d||(f=this.cachedCanvases.getCanvas("maskCanvas",n,o),p(f.context,t));let g=A.Util.transform(c,[1/n,0,0,-1/o,0,0]);g=A.Util.transform(g,[1,0,0,1,0,-o]);const m=A.Util.applyTransform([0,0],g),w=A.Util.applyTransform([n,o],g),y=A.Util.normalizeRect([m[0],m[1],w[0],w[1]]),b=Math.round(y[2]-y[0])||1,B=Math.round(y[3]-y[1])||1,C=this.cachedCanvases.getCanvas("fillCanvas",b,B),_=C.context,x=Math.min(m[0],w[0]),F=Math.min(m[1],w[1]);_.translate(-x,-F),_.transform(...g),d||(d=this._scaleImage(f.canvas,(0,r.getCurrentTransformInverse)(_)),d=d.img,l&&a&&l.set(u,d)),_.imageSmoothingEnabled=v((0,r.getCurrentTransform)(_),t.interpolate),h(_,d,0,0,d.width,d.height,0,0,n,o),_.globalCompositeOperation="source-in";const S=A.Util.transform((0,r.getCurrentTransformInverse)(_),[1,0,0,1,-x,-F]);return _.fillStyle=a?s.getPattern(e,this,S,i.PathType.FILL):s,_.fillRect(0,0,n,o),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,C.canvas)),{canvas:C.canvas,offsetX:Math.round(x),offsetY:Math.round(F)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=B[t]}setLineJoin(t){this.ctx.lineJoin=C[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(let e=0,n=t.length;e<n;e++){const n=t[e],r=n[0],A=n[1];switch(r){case"LW":this.setLineWidth(A);break;case"LC":this.setLineCap(A);break;case"LJ":this.setLineJoin(A);break;case"ML":this.setMiterLimit(A);break;case"D":this.setDash(A[0],A[1]);break;case"RI":this.setRenderingIntent(A);break;case"FL":this.setFlatness(A);break;case"Font":this.setFont(A[0],A[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=A;break;case"SMask":this.current.activeSMask=A?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=A}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,A=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=A.context;const i=this.ctx;i.setTransform(...(0,r.getCurrentTransform)(this.suspendedCtx)),g(this.suspendedCtx,i),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,r,A,i,o){e.transform(t,n,r,A,i,o),this.__originalTransform(t,n,r,A,i,o)},t.setTransform=function(t,n,r,A,i,o){e.setTransform(t,n,r,A,i,o),this.__originalSetTransform(t,n,r,A,i,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,r,A,i,o){e.bezierCurveTo(t,n,r,A,i,o),this.__originalBezierCurveTo(t,n,r,A,i,o)},t.rect=function(t,n,r,A){e.rect(t,n,r,A),this.__originalRect(t,n,r,A)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),g(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask;(function(t,e,n,r){const A=r[0],i=r[1],o=r[2]-A,s=r[3]-i;0!==o&&0!==s&&(function(t,e,n,r,A,i,o,s,a,c,l){const u=!!i,h=u?i[0]:0,d=u?i[1]:0,f=u?i[2]:0;let p;p="Luminosity"===A?b:y;const g=Math.min(r,Math.ceil(1048576/n));for(let A=0;A<r;A+=g){const i=Math.min(g,r-A),m=t.getImageData(s-c,A+(a-l),n,i),y=e.getImageData(s,A+a,n,i);u&&w(m.data,h,d,f),p(m.data,y.data,o),e.putImageData(y,s,A+a)}}(e.context,n,o,s,e.subtype,e.backdrop,e.transferMap,A,i,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())})(this.suspendedCtx,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(g(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),g(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,r,A,i){this.ctx.transform(t,e,n,r,A,i),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const i=this.ctx,o=this.current;let s,a,c=o.x,l=o.y;const u=(0,r.getCurrentTransform)(i),h=0===u[0]&&0===u[3]||0===u[1]&&0===u[2],d=h?n.slice(0):null;for(let n=0,r=0,f=t.length;n<f;n++)switch(0|t[n]){case A.OPS.rectangle:c=e[r++],l=e[r++];const t=e[r++],n=e[r++],f=c+t,p=l+n;i.moveTo(c,l),0===t||0===n?i.lineTo(f,p):(i.lineTo(f,l),i.lineTo(f,p),i.lineTo(c,p)),h||o.updateRectMinMax(u,[c,l,f,p]),i.closePath();break;case A.OPS.moveTo:c=e[r++],l=e[r++],i.moveTo(c,l),h||o.updatePathMinMax(u,c,l);break;case A.OPS.lineTo:c=e[r++],l=e[r++],i.lineTo(c,l),h||o.updatePathMinMax(u,c,l);break;case A.OPS.curveTo:s=c,a=l,c=e[r+4],l=e[r+5],i.bezierCurveTo(e[r],e[r+1],e[r+2],e[r+3],c,l),o.updateCurvePathMinMax(u,s,a,e[r],e[r+1],e[r+2],e[r+3],c,l,d),r+=6;break;case A.OPS.curveTo2:s=c,a=l,i.bezierCurveTo(c,l,e[r],e[r+1],e[r+2],e[r+3]),o.updateCurvePathMinMax(u,s,a,c,l,e[r],e[r+1],e[r+2],e[r+3],d),c=e[r+2],l=e[r+3],r+=4;break;case A.OPS.curveTo3:s=c,a=l,c=e[r+2],l=e[r+3],i.bezierCurveTo(e[r],e[r+1],c,l,c,l),o.updateCurvePathMinMax(u,s,a,e[r],e[r+1],c,l,c,l,d),r+=4;break;case A.OPS.closePath:i.closePath()}h&&o.updateScalingPathMinMax(u,d),o.setCurrentPoint(c,l)}closePath(){this.ctx.closePath()}stroke(t){t=void 0===t||t;const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof n&&n?.getPattern?(e.save(),e.strokeStyle=n.getPattern(e,this,(0,r.getCurrentTransformInverse)(e),i.PathType.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t){t=void 0===t||t;const e=this.ctx,n=this.current.fillColor;let A=!1;this.current.patternFill&&(e.save(),e.fillStyle=n.getPattern(e,this,(0,r.getCurrentTransformInverse)(e),i.PathType.FILL),A=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==o&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),A&&e.restore(),t&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=_}eoClip(){this.pendingClip=x}beginText(){this.current.textMatrix=A.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||A.FONT_IDENTITY_MATRIX,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||(0,A.warn)("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const i=n.loadedName||"sans-serif";let o="normal";n.black?o="900":n.bold&&(o="bold");const s=n.italic?"italic":"normal",a=`"${i}", ${n.fallbackName}`;let c=e;e<16?c=16:e>100&&(c=100),this.current.fontSizeScale=e/c,this.ctx.font=`${s} ${o} ${c}px ${a}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,r,A,i){this.current.textMatrix=[t,e,n,r,A,i],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,i){const o=this.ctx,s=this.current,a=s.font,c=s.textRenderingMode,l=s.fontSize/s.fontSizeScale,u=c&A.TextRenderingMode.FILL_STROKE_MASK,h=!!(c&A.TextRenderingMode.ADD_TO_PATH_FLAG),d=s.patternFill&&!a.missingFile;let f;(a.disableFontFace||h||d)&&(f=a.getPathGenerator(this.commonObjs,t)),a.disableFontFace||d?(o.save(),o.translate(e,n),o.beginPath(),f(o,l),i&&o.setTransform(...i),u!==A.TextRenderingMode.FILL&&u!==A.TextRenderingMode.FILL_STROKE||o.fill(),u!==A.TextRenderingMode.STROKE&&u!==A.TextRenderingMode.FILL_STROKE||o.stroke(),o.restore()):(u!==A.TextRenderingMode.FILL&&u!==A.TextRenderingMode.FILL_STROKE||o.fillText(t,e,n),u!==A.TextRenderingMode.STROKE&&u!==A.TextRenderingMode.FILL_STROKE||o.strokeText(t,e,n)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,r.getCurrentTransform)(o),x:e,y:n,fontSize:l,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let t=3;t<e.length;t+=4)if(e[t]>0&&e[t]<255){n=!0;break}return(0,A.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const o=e.fontSize;if(0===o)return;const s=this.ctx,a=e.fontSizeScale,c=e.charSpacing,l=e.wordSpacing,u=e.fontDirection,h=e.textHScale*u,d=t.length,f=n.vertical,p=f?1:-1,g=n.defaultVMetrics,m=o*e.fontMatrix[0],w=e.textRenderingMode===A.TextRenderingMode.FILL&&!n.disableFontFace&&!e.patternFill;let y;if(s.save(),s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),u>0?s.scale(h,-1):s.scale(h,1),e.patternFill){s.save();const t=e.fillColor.getPattern(s,this,(0,r.getCurrentTransformInverse)(s),i.PathType.FILL);y=(0,r.getCurrentTransform)(s),s.restore(),s.fillStyle=t}let b=e.lineWidth;const v=e.textMatrixScale;if(0===v||0===b){const t=e.textRenderingMode&A.TextRenderingMode.FILL_STROKE_MASK;t!==A.TextRenderingMode.STROKE&&t!==A.TextRenderingMode.FILL_STROKE||(b=this.getSinglePixelWidth())}else b/=v;1!==a&&(s.scale(a,a),b/=a),s.lineWidth=b;let B,C=0;for(B=0;B<d;++B){const e=t[B];if("number"==typeof e){C+=p*e*o/1e3;continue}let r=!1;const A=(e.isSpace?l:0)+c,i=e.fontChar,h=e.accent;let d,b,v,_=e.width;if(f){const t=e.vmetric||g,n=-(e.vmetric?t[1]:.5*_)*m,r=t[2]*m;_=t?-t[0]:_,d=n/a,b=(C+r)/a}else d=C/a,b=0;if(n.remeasure&&_>0){const t=1e3*s.measureText(i).width/o*a;if(_<t&&this.isFontSubpixelAAEnabled){const e=_/t;r=!0,s.save(),s.scale(e,1),d/=e}else _!==t&&(d+=(_-t)/2e3*o/a)}if(this.contentVisible&&(e.isInFont||n.missingFile))if(w&&!h)s.fillText(i,d,b);else if(this.paintChar(i,d,b,y),h){const t=d+o*h.offset.x/a,e=b-o*h.offset.y/a;this.paintChar(h.fontChar,t,e,y)}v=f?_*m-A*u:_*m+A*u,C+=v,r&&s.restore()}f?e.y-=C:e.x+=C*h,s.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,r=n.font,i=n.fontSize,o=n.fontDirection,s=r.vertical?1:-1,a=n.charSpacing,c=n.wordSpacing,l=n.textHScale*o,u=n.fontMatrix||A.FONT_IDENTITY_MATRIX,h=t.length;let d,f,p,g;if(n.textRenderingMode!==A.TextRenderingMode.INVISIBLE&&0!==i){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(l,o),d=0;d<h;++d){if(f=t[d],"number"==typeof f){g=s*f*i/1e3,this.ctx.translate(g,0),n.x+=g*l;continue}const o=(f.isSpace?c:0)+a,h=r.charProcOperatorList[f.operatorListId];h?(this.contentVisible&&(this.processingType3=f,this.save(),e.scale(i,i),e.transform(...u),this.executeOperatorList(h),this.restore()),p=A.Util.applyTransform([f.width,0],u)[0]*i+o,e.translate(p,0),n.x+=p*l):(0,A.warn)(`Type3 character "${f.operatorListId}" is not available.`)}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,A,i){this.ctx.rect(n,r,A-n,i-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if("TilingPattern"===t[0]){const n=t[1],A=this.baseTransform||(0,r.getCurrentTransform)(this.ctx),o={createCanvasGraphics:t=>new F(t,this.commonObjs,this.objs,this.canvasFactory)};e=new i.TilingPattern(t,n,this.ctx,o,A)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){const r=this.selectColor?.(t,e,n)||A.Util.makeHexColor(t,e,n);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(t,e,n){const r=this.selectColor?.(t,e,n)||A.Util.makeHexColor(t,e,n);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=(0,i.getShadingPattern)(this.objs.get(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,(0,r.getCurrentTransformInverse)(e),i.PathType.SHADING);const o=(0,r.getCurrentTransformInverse)(e);if(o){const t=e.canvas,n=t.width,r=t.height,i=A.Util.applyTransform([0,0],o),s=A.Util.applyTransform([0,r],o),a=A.Util.applyTransform([n,0],o),c=A.Util.applyTransform([n,r],o),l=Math.min(i[0],s[0],a[0],c[0]),u=Math.min(i[1],s[1],a[1],c[1]),h=Math.max(i[0],s[0],a[0],c[0]),d=Math.max(i[1],s[1],a[1],c[1]);this.ctx.fillRect(l,u,h-l,d-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,A.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,A.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&6===t.length&&this.transform(...t),this.baseTransform=(0,r.getCurrentTransform)(this.ctx),e)){const t=e[2]-e[0],n=e[3]-e[1];this.ctx.rect(e[0],e[1],t,n),this.current.updateRectMinMax((0,r.getCurrentTransform)(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||(0,A.info)("TODO: Support non-isolated groups."),t.knockout&&(0,A.warn)("Knockout groups not supported.");const n=(0,r.getCurrentTransform)(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=A.Util.getAxialAlignedBoundingBox(t.bbox,(0,r.getCurrentTransform)(e));const o=[0,0,e.canvas.width,e.canvas.height];i=A.Util.intersect(i,o)||[0,0,0,0];const s=Math.floor(i[0]),c=Math.floor(i[1]);let l=Math.max(Math.ceil(i[2])-s,1),u=Math.max(Math.ceil(i[3])-c,1),h=1,d=1;l>a&&(h=l/a,l=a),u>a&&(d=u/a,u=a),this.current.startNewPathAndClipBox([0,0,l,u]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(f,l,u),m=p.context;m.scale(1/h,1/d),m.translate(-s,-c),m.transform(...n),t.smask?this.smaskStack.push({canvas:p.canvas,context:m,offsetX:s,offsetY:c,scaleX:h,scaleY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(s,c),e.scale(h,d),e.save()),g(e,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const t=(0,r.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...t);const n=A.Util.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],t);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(t,e,n,i,o){if(this.#Y(),m(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(e)&&4===e.length){const i=e[2]-e[0],s=e[3]-e[1];if(o&&this.annotationCanvasMap){(n=n.slice())[4]-=e[0],n[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=i,e[3]=s;const[o,a]=A.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(this.ctx)),{viewportScale:c}=this,l=Math.ceil(i*this.outputScaleX*c),u=Math.ceil(s*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(l,u);const{canvas:h,context:d}=this.annotationCanvas;this.annotationCanvasMap.set(t,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=d,this.ctx.setTransform(o,0,0,-a,0,s*a),m(this.ctx,this.foregroundColor)}else m(this.ctx,this.foregroundColor),this.ctx.rect(e[0],e[1],i,s),this.ctx.clip(),this.endPath()}this.current=new d(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;(t=this.getObject(t.data,t)).count=e;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(t){const{width:e,height:n}=t;if(e>c||n>c)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),A=e+1;let i,o,s,a=new Uint8Array(A*(n+1));const l=e+7&-8;let u=new Uint8Array(l*n),h=0;for(const e of t.data){let t=128;for(;t>0;)u[h++]=e&t?0:255,t>>=1}let d=0;for(h=0,0!==u[h]&&(a[0]=1,++d),o=1;o<e;o++)u[h]!==u[h+1]&&(a[o]=u[h]?2:1,++d),h++;for(0!==u[h]&&(a[o]=2,++d),i=1;i<n;i++){h=i*l,s=i*A,u[h-l]!==u[h]&&(a[s]=u[h]?1:8,++d);let t=(u[h]?4:0)+(u[h-l]?8:0);for(o=1;o<e;o++)t=(t>>2)+(u[h+1]?4:0)+(u[h-l+1]?8:0),r[t]&&(a[s+o]=r[t],++d),h++;if(u[h-l]!==u[h]&&(a[s+o]=u[h]?2:4,++d),d>1e3)return null}for(h=l*(n-1),s=i*A,0!==u[h]&&(a[s]=8,++d),o=1;o<e;o++)u[h]!==u[h+1]&&(a[s+o]=u[h]?4:8,++d),h++;if(0!==u[h]&&(a[s+o]=4,++d),d>1e3)return null;const f=new Int32Array([0,A,-1,0,-A,0,0,0,1]),p=new Path2D;for(i=0;d&&i<=n;i++){let t=i*A;const n=t+e;for(;t<n&&!a[t];)t++;if(t===n)continue;p.moveTo(t%A,i);const r=t;let o=a[t];do{const e=f[o];do{t+=e}while(!a[t]);const n=a[t];5!==n&&10!==n?(o=n,a[t]=0):(o=n&51*o>>4,a[t]&=o>>2|o<<2),p.lineTo(t%A,t/A|0),a[t]||--d}while(r!==t);--i}return u=null,a=null,function(t){t.save(),t.scale(1/e,-1/n),t.translate(0,-n),t.fill(p),t.beginPath(),t.restore()}}(t)),r.compiled))return void r.compiled(n);const A=this._createMaskCanvas(t),i=A.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(i,A.offsetX,A.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,i=0,o,s){if(!this.contentVisible)return;t=this.getObject(t.data,t);const a=this.ctx;a.save();const c=(0,r.getCurrentTransform)(a);a.transform(e,n,i,o,0,0);const l=this._createMaskCanvas(t);a.setTransform(1,0,0,1,0,0);for(let t=0,r=s.length;t<r;t+=2){const r=A.Util.transform(c,[e,n,i,o,s[t],s[t+1]]),[u,h]=A.Util.applyTransform([0,0],r);a.drawImage(l.canvas,u,h)}a.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,A=this.current.patternFill;for(const o of t){const{data:t,width:s,height:a,transform:c}=o,l=this.cachedCanvases.getCanvas("maskCanvas",s,a),u=l.context;u.save(),p(u,this.getObject(t,o)),u.globalCompositeOperation="source-in",u.fillStyle=A?n.getPattern(u,this,(0,r.getCurrentTransformInverse)(e),i.PathType.FILL):n,u.fillRect(0,0,s,a),u.restore(),e.save(),e.transform(...c),e.scale(1,-1),h(e,l.canvas,0,0,s,a,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);e?this.paintInlineImageXObject(e):(0,A.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,r){if(!this.contentVisible)return;const i=this.getObject(t);if(!i)return void(0,A.warn)("Dependent image isn't ready yet");const o=i.width,s=i.height,a=[];for(let t=0,A=r.length;t<A;t+=2)a.push({transform:[e,0,0,n,r[t],r[t+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(i,a)}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,i=this.ctx;let o;if(this.save(),i.scale(1/e,-1/n),"function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)o=t;else{const r=this.cachedCanvases.getCanvas("inlineImage",e,n);f(r.context,t,this.current.transferMaps),o=r.canvas}const s=this._scaleImage(o,(0,r.getCurrentTransformInverse)(i));i.imageSmoothingEnabled=v((0,r.getCurrentTransform)(i),t.interpolate);const[a,c]=h(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-n,e,n);if(this.imageLayer){const[e,i]=A.Util.applyTransform([0,-n],(0,r.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:t,left:e,top:i,width:a,height:c})}this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,i=t.width,o=t.height,s=this.cachedCanvases.getCanvas("inlineImage",i,o);f(s.context,t,this.current.transferMaps);for(const a of e){if(n.save(),n.transform(...a.transform),n.scale(1,-1),h(n,s.canvas,a.x,a.y,a.w,a.h,0,-1,1,1),this.imageLayer){const[e,n]=A.Util.applyTransform([a.x,a.y],(0,r.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:t,left:e,top:n,width:i,height:o})}n.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===x?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=(0,r.getCurrentTransform)(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:t}=this.current,e=(0,r.getCurrentTransform)(this.ctx);let n,A;if(0===e[1]&&0===e[2]){const r=Math.abs(e[0]),i=Math.abs(e[3]);if(0===t)n=1/r,A=1/i;else{const e=r*t,o=i*t;n=e<1?1/e:1,A=o<1?1/o:1}}else{const r=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[1]),o=Math.hypot(e[2],e[3]);if(0===t)n=o/r,A=i/r;else{const e=t*r;n=o>e?o/e:1,A=i>e?i/e:1}}this._cachedScaleForStroking=[n,A]}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[A,i]=this.getScaleForStroking();if(e.lineWidth=n||1,1===A&&1===i)return void e.stroke();let o,s,a;t&&(o=(0,r.getCurrentTransform)(e),s=e.getLineDash().slice(),a=e.lineDashOffset),e.scale(A,i);const c=Math.max(A,i);e.setLineDash(e.getLineDash().map(t=>t/c)),e.lineDashOffset/=c,e.stroke(),t&&(e.setTransform(...o),e.setLineDash(s),e.lineDashOffset=a)}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}e.CanvasGraphics=F;for(const t in A.OPS)void 0!==F.prototype[t]&&(F.prototype[A.OPS[t]]=F.prototype[t])},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=function(t){switch(t[0]){case"RadialAxial":return new c(t);case"Mesh":return new h(t);case"Dummy":return new d}throw new Error(`Unknown IR type: ${t[0]}`)};var r=n(1),A=n(8),i=n(3);const o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function s(t,e){if(!e||i.isNodeJS)return;const n=e[2]-e[0],r=e[3]-e[1],A=new Path2D;A.rect(e[0],e[1],n,r),t.clip(A)}e.PathType=o;class a{constructor(){this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class c extends a{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const t of this._colorStops)e.addColorStop(t[0],t[1]);return e}getPattern(t,e,n,i){let a;if(i===o.STROKE||i===o.FILL){const o=e.current.getClippedPathBoundingBox(i,(0,A.getCurrentTransform)(t))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=e.cachedCanvases.getCanvas("pattern",c,l,!0),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),n=r.Util.transform(n,[1,0,0,1,o[0],o[1]]),h.transform(...e.baseTransform),this.matrix&&h.transform(...this.matrix),s(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),a=t.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(n);try{a.setTransform(d)}catch(t){(0,r.warn)(`RadialAxialShadingPattern.getPattern: "${t?.message}".`)}}else s(t,this._bbox),a=this._createGradient(t);return a}}function l(t,e,n,r,A,i,o,s){const a=e.coords,c=e.colors,l=t.data,u=4*t.width;let h;a[n+1]>a[r+1]&&(h=n,n=r,r=h,h=i,i=o,o=h),a[r+1]>a[A+1]&&(h=r,r=A,A=h,h=o,o=s,s=h),a[n+1]>a[r+1]&&(h=n,n=r,r=h,h=i,i=o,o=h);const d=(a[n]+e.offsetX)*e.scaleX,f=(a[n+1]+e.offsetY)*e.scaleY,p=(a[r]+e.offsetX)*e.scaleX,g=(a[r+1]+e.offsetY)*e.scaleY,m=(a[A]+e.offsetX)*e.scaleX,w=(a[A+1]+e.offsetY)*e.scaleY;if(f>=w)return;const y=c[i],b=c[i+1],v=c[i+2],B=c[o],C=c[o+1],_=c[o+2],x=c[s],F=c[s+1],S=c[s+2],E=Math.round(f),U=Math.round(w);let I,Q,L,k,M,P,T,N;for(let t=E;t<=U;t++){if(t<g){let e;e=t<f?0:(f-t)/(f-g),I=d-(d-p)*e,Q=y-(y-B)*e,L=b-(b-C)*e,k=v-(v-_)*e}else{let e;e=t>w?1:g===w?0:(g-t)/(g-w),I=p-(p-m)*e,Q=B-(B-x)*e,L=C-(C-F)*e,k=_-(_-S)*e}let e;e=t<f?0:t>w?1:(f-t)/(f-w),M=d-(d-m)*e,P=y-(y-x)*e,T=b-(b-F)*e,N=v-(v-S)*e;const n=Math.round(Math.min(I,M)),r=Math.round(Math.max(I,M));let A=u*t+4*n;for(let t=n;t<=r;t++)e=(I-t)/(I-M),e<0?e=0:e>1&&(e=1),l[A++]=Q-(Q-P)*e|0,l[A++]=L-(L-T)*e|0,l[A++]=k-(k-N)*e|0,l[A++]=255}}function u(t,e,n){const r=e.coords,A=e.colors;let i,o;switch(e.type){case"lattice":const s=e.verticesPerRow,a=Math.floor(r.length/s)-1,c=s-1;for(i=0;i<a;i++){let e=i*s;for(let i=0;i<c;i++,e++)l(t,n,r[e],r[e+1],r[e+s],A[e],A[e+1],A[e+s]),l(t,n,r[e+s+1],r[e+1],r[e+s],A[e+s+1],A[e+1],A[e+s])}break;case"triangles":for(i=0,o=r.length;i<o;i+=3)l(t,n,r[i],r[i+1],r[i+2],A[i],A[i+1],A[i+2]);break;default:throw new Error("illegal figure")}}class h extends a{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const r=Math.floor(this._bounds[0]),A=Math.floor(this._bounds[1]),i=Math.ceil(this._bounds[2])-r,o=Math.ceil(this._bounds[3])-A,s=Math.min(Math.ceil(Math.abs(i*t[0]*1.1)),3e3),a=Math.min(Math.ceil(Math.abs(o*t[1]*1.1)),3e3),c=i/s,l=o/a,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-A,scaleX:1/c,scaleY:1/l},d=s+4,f=a+4,p=n.getCanvas("mesh",d,f,!1),g=p.context,m=g.createImageData(s,a);if(e){const t=m.data;for(let n=0,r=t.length;n<r;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const t of this._figures)u(m,t,h);return g.putImageData(m,2,2),{canvas:p.canvas,offsetX:r-2*c,offsetY:A-2*l,scaleX:c,scaleY:l}}getPattern(t,e,n,i){let a;if(s(t,this._bbox),i===o.SHADING)a=r.Util.singularValueDecompose2dScale((0,A.getCurrentTransform)(t));else if(a=r.Util.singularValueDecompose2dScale(e.baseTransform),this.matrix){const t=r.Util.singularValueDecompose2dScale(this.matrix);a=[a[0]*t[0],a[1]*t[1]]}const c=this._createMeshCanvas(a,i===o.SHADING?null:this._background,e.cachedCanvases);return i!==o.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class d extends a{getPattern(){return"hotpink"}}class f{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(t,e,n,r,A){this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=A}createPatternCanvas(t){const e=this.operatorList,n=this.bbox,i=this.xstep,o=this.ystep,s=this.paintType,a=this.tilingType,c=this.color,l=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+a);const u=n[0],h=n[1],d=n[2],f=n[3],p=r.Util.singularValueDecompose2dScale(this.matrix),g=r.Util.singularValueDecompose2dScale(this.baseTransform),m=[p[0]*g[0],p[1]*g[1]],w=this.getSizeAndScale(i,this.ctx.canvas.width,m[0]),y=this.getSizeAndScale(o,this.ctx.canvas.height,m[1]),b=t.cachedCanvases.getCanvas("pattern",w.size,y.size,!0),v=b.context,B=l.createCanvasGraphics(v);B.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(B,s,c);let C=u,_=h,x=d,F=f;return u<0&&(C=0,x+=Math.abs(u)),h<0&&(_=0,F+=Math.abs(h)),v.translate(-w.scale*C,-y.scale*_),B.transform(w.scale,0,0,y.scale,0,0),v.save(),this.clipBbox(B,C,_,x,F),B.baseTransform=(0,A.getCurrentTransform)(B.ctx),B.executeOperatorList(e),B.endDrawing(),{canvas:b.canvas,scaleX:w.scale,scaleY:y.scale,offsetX:C,offsetY:_}}getSizeAndScale(t,e,n){t=Math.abs(t);const r=Math.max(f.MAX_PATTERN_SIZE,e);let A=Math.ceil(t*n);return A>=r?A=r:n=A/t,{scale:n,size:A}}clipBbox(t,e,n,r,i){const o=r-e,s=i-n;t.ctx.rect(e,n,o,s),t.current.updateRectMinMax((0,A.getCurrentTransform)(t.ctx),[e,n,r,i]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const A=t.ctx,i=t.current;switch(e){case 1:const t=this.ctx;A.fillStyle=t.fillStyle,A.strokeStyle=t.strokeStyle,i.fillColor=t.fillStyle,i.strokeColor=t.strokeStyle;break;case 2:const o=r.Util.makeHexColor(n[0],n[1],n[2]);A.fillStyle=o,A.strokeStyle=o,i.fillColor=o,i.strokeColor=o;break;default:throw new r.FormatError(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,A){let i=n;A!==o.SHADING&&(i=r.Util.transform(i,e.baseTransform),this.matrix&&(i=r.Util.transform(i,this.matrix)));const s=this.createPatternCanvas(e);let a=new DOMMatrix(i);a=a.translate(s.offsetX,s.offsetY),a=a.scale(1/s.scaleX,1/s.scaleY);const c=t.createPattern(s.canvas,"repeat");try{c.setTransform(a)}catch(t){(0,r.warn)(`TilingPattern.getPattern: "${t?.message}".`)}return c}}e.TilingPattern=f},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=function({src:t,srcPos:e=0,dest:n,destPos:A=0,width:i,height:o,inverseDecode:s=!1}){const a=r.FeatureTest.isLittleEndian?4278190080:255,[c,l]=s?[0,a]:[a,0],u=i>>3,h=7&i,d=t.length;n=new Uint32Array(n.buffer);for(let r=0;r<o;r++){for(const r=e+u;e<r;e++){const r=e<d?t[e]:255;n[A++]=128&r?l:c,n[A++]=64&r?l:c,n[A++]=32&r?l:c,n[A++]=16&r?l:c,n[A++]=8&r?l:c,n[A++]=4&r?l:c,n[A++]=2&r?l:c,n[A++]=1&r?l:c}if(0===h)continue;const r=e<d?t[e++]:255;for(let t=0;t<h;t++)n[A++]=r&1<<7-t?l:c}return{srcPos:e,destPos:A}};var r=n(1)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const n=Object.create(null);e.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var r=n(1);function A(t){switch(t instanceof Error||"object"==typeof t&&null!==t||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new r.AbortException(t.message);case"MissingPDFException":return new r.MissingPDFException(t.message);case"PasswordException":return new r.PasswordException(t.message,t.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new r.UnknownErrorException(t.message,t.details);default:return new r.UnknownErrorException(t.message,t.toString())}}e.MessageHandler=class{constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=t=>{const e=t.data;if(e.targetName!==this.sourceName)return;if(e.stream)return void this._processStreamMessage(e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error(`Cannot resolve callback ${t}`);if(delete this.callbackCapabilities[t],1===e.callback)n.resolve(e.data);else{if(2!==e.callback)throw new Error("Unexpected callback case");n.reject(A(e.reason))}return}const r=this.actionHandler[e.action];if(!r)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const t=this.sourceName,i=e.sourceName;return void new Promise(function(t){t(r(e.data))}).then(function(r){n.postMessage({sourceName:t,targetName:i,callback:1,callbackId:e.callbackId,data:r})},function(r){n.postMessage({sourceName:t,targetName:i,callback:2,callbackId:e.callbackId,reason:A(r)})})}e.streamId?this._createStreamSink(e):r(e.data)},n.addEventListener("message",this._onComObjOnMessage)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const A=this.callbackId++,i=(0,r.createPromiseCapability)();this.callbackCapabilities[A]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:A,data:e},n)}catch(t){i.reject(t)}return i.promise}sendWithStream(t,e,n,i){const o=this.streamId++,s=this.sourceName,a=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const A=(0,r.createPromiseCapability)();return this.streamControllers[o]={controller:n,startCall:A,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:s,targetName:a,action:t,streamId:o,data:e,desiredSize:n.desiredSize},i),A.promise},pull:t=>{const e=(0,r.createPromiseCapability)();return this.streamControllers[o].pullCall=e,c.postMessage({sourceName:s,targetName:a,stream:6,streamId:o,desiredSize:t.desiredSize}),e.promise},cancel:t=>{(0,r.assert)(t instanceof Error,"cancel must have a valid reason");const e=(0,r.createPromiseCapability)();return this.streamControllers[o].cancelCall=e,this.streamControllers[o].isClosed=!0,c.postMessage({sourceName:s,targetName:a,stream:1,streamId:o,reason:A(t)}),e.promise}},n)}_createStreamSink(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,o=this.comObj,s=this,a=this.actionHandler[t.action],c={enqueue(t,A=1,s){if(this.isCancelled)return;const a=this.desiredSize;this.desiredSize-=A,a>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:i,stream:4,streamId:e,chunk:t},s)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:i,stream:3,streamId:e}),delete s.streamSinks[e])},error(t){(0,r.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:i,stream:5,streamId:e,reason:A(t)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[e]=c,new Promise(function(e){e(a(t.data,c))}).then(function(){o.postMessage({sourceName:n,targetName:i,stream:8,streamId:e,success:!0})},function(t){o.postMessage({sourceName:n,targetName:i,stream:8,streamId:e,reason:A(t)})})}_processStreamMessage(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,o=this.comObj,s=this.streamControllers[e],a=this.streamSinks[e];switch(t.stream){case 8:t.success?s.startCall.resolve():s.startCall.reject(A(t.reason));break;case 7:t.success?s.pullCall.resolve():s.pullCall.reject(A(t.reason));break;case 6:if(!a){o.postMessage({sourceName:n,targetName:i,stream:7,streamId:e,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,new Promise(function(t){t(a.onPull&&a.onPull())}).then(function(){o.postMessage({sourceName:n,targetName:i,stream:7,streamId:e,success:!0})},function(t){o.postMessage({sourceName:n,targetName:i,stream:7,streamId:e,reason:A(t)})});break;case 4:if((0,r.assert)(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(t.chunk);break;case 3:if((0,r.assert)(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this._deleteStreamController(s,e);break;case 5:(0,r.assert)(s,"error should have stream controller"),s.controller.error(A(t.reason)),this._deleteStreamController(s,e);break;case 2:t.success?s.cancelCall.resolve():s.cancelCall.reject(A(t.reason)),this._deleteStreamController(s,e);break;case 1:if(!a)break;new Promise(function(e){e(a.onCancel&&a.onCancel(A(t.reason)))}).then(function(){o.postMessage({sourceName:n,targetName:i,stream:2,streamId:e,success:!0})},function(t){o.postMessage({sourceName:n,targetName:i,stream:2,streamId:e,reason:A(t)})}),a.sinkCapability.reject(A(t.reason)),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(t,e){await Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]),delete this.streamControllers[e]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(1);e.Metadata=class{#Z;#$;constructor({parsedData:t,rawData:e}){this.#Z=t,this.#$=e}getRaw(){return this.#$}get(t){return this.#Z.get(t)??null}getAll(){return(0,r.objectFromMap)(this.#Z)}has(t){return this.#Z.has(t)}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var r=n(1);const A=Symbol("INTERNAL");class i{#tt=!0;constructor(t,e){this.name=t,this.intent=e}get visible(){return this.#tt}_setVisible(t,e){t!==A&&(0,r.unreachable)("Internal method `_setVisible` called."),this.#tt=e}}e.OptionalContentConfig=class{#et=!0;#nt=new Map;#rt=null;#At=null;constructor(t){if(this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,this.#At=t.order;for(const e of t.groups)this.#nt.set(e.id,new i(e.name,e.intent));if("OFF"===t.baseState)for(const t of this.#nt.values())t._setVisible(A,!1);for(const e of t.on)this.#nt.get(e)._setVisible(A,!0);for(const e of t.off)this.#nt.get(e)._setVisible(A,!1);this.#rt=new Map;for(const[t,e]of this.#nt)this.#rt.set(t,e.visible)}}#it(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let A=1;A<e;A++){const e=t[A];let i;if(Array.isArray(e))i=this.#it(e);else{if(!this.#nt.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;i=this.#nt.get(e).visible}switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return"And"===n}isVisible(t){if(0===this.#nt.size)return!0;if(!t)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===t.type)return this.#nt.has(t.id)?this.#nt.get(t.id).visible:((0,r.warn)(`Optional content group not found: ${t.id}`),!0);if("OCMD"===t.type){if(t.expression)return this.#it(t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!this.#nt.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;if(this.#nt.get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!this.#nt.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;if(!this.#nt.get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!this.#nt.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;if(!this.#nt.get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!this.#nt.has(e))return(0,r.warn)(`Optional content group not found: ${e}`),!0;if(this.#nt.get(e).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${t.policy}.`),!0}return(0,r.warn)(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0){this.#nt.has(t)?(this.#nt.get(t)._setVisible(A,!!e),this.#et=null):(0,r.warn)(`Optional content group not found: ${t}`)}get hasInitialVisibility(){if(null!==this.#et)return this.#et;for(const[t,e]of this.#nt){const n=this.#rt.get(t);if(e.visible!==n)return this.#et=!1}return this.#et=!0}getOrder(){return this.#nt.size?this.#At?this.#At.slice():[...this.#nt.keys()]:null}getGroups(){return this.#nt.size>0?(0,r.objectFromMap)(this.#nt):null}getGroup(t){return this.#nt.get(t)||null}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var r=n(1),A=n(8);e.PDFDataTransportStream=class{constructor(t,e){(0,r.assert)(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;const n=t.initialData;if(n?.length>0){const t=new Uint8Array(n).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((t,e)=>{this._onReceiveData({begin:t,chunk:e})}),this._pdfDataRangeTransport.addProgressListener((t,e)=>{this._onProgress({loaded:t,total:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(t=>{this._onReceiveData({chunk:t})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(t){const e=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(e):this._queuedChunks.push(e);else{const n=this._rangeReaders.some(function(n){return n._begin===t.begin&&(n._enqueue(e),!0)});(0,r.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){if(void 0===t.total){const e=this._rangeReaders[0];e?.onProgress&&e.onProgress({loaded:t.loaded})}else{const e=this._fullRequestReader;e?.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new i(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new o(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}};class i{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=(0,A.isPdfFile)(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const t of this._queuedChunks)this._loaded+=t.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,r.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class o{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,r.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class n{static textContent(t){const e=[],r={items:e,styles:Object.create(null)};return function t(r){if(!r)return;let A=null;const i=r.name;if("#text"===i)A=r.value;else{if(!n.shouldBuildText(i))return;r?.attributes?.textContent?A=r.attributes.textContent:r.value&&(A=r.value)}if(null!==A&&e.push({str:A}),r.children)for(const e of r.children)t(e)}(t),r}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}e.XfaText=n},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var r=n(9);const A=function(t){return new Promise((e,n)=>{__webpack_require__(3237).readFile(t,(t,r)=>{!t&&r?e(new Uint8Array(r)):n(new Error(t))})})};class i extends r.BaseCanvasFactory{_createCanvas(t,e){return __webpack_require__(7640).createCanvas(t,e)}}e.NodeCanvasFactory=i;class o extends r.BaseCMapReaderFactory{_fetchData(t,e){return A(t).then(t=>({cMapData:t,compressionType:e}))}}e.NodeCMapReaderFactory=o;class s extends r.BaseStandardFontDataFactory{_fetchData(t){return A(t)}}e.NodeStandardFontDataFactory=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var r=n(7),A=n(1),i=n(23),o=n(24);class s{#ot;#st=!1;#at=this.pointerup.bind(this);#ct=this.pointerdown.bind(this);#lt=new Map;#ut=!1;#ht=!1;#dt;static _initialized=!1;constructor(t){s._initialized||(s._initialized=!0,i.FreeTextEditor.initialize(t.l10n),o.InkEditor.initialize(t.l10n),t.uiManager.registerEditorTypes([i.FreeTextEditor,o.InkEditor])),this.#dt=t.uiManager,this.annotationStorage=t.annotationStorage,this.pageIndex=t.pageIndex,this.div=t.div,this.#ot=t.accessibilityManager,this.#dt.addLayer(this)}updateToolbar(t){this.#dt.updateToolbar(t)}updateMode(t=this.#dt.getMode()){this.#ft(),t===A.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#dt.unselectAll()}addInkEditorIfNeeded(t){if(t||this.#dt.getMode()===A.AnnotationEditorType.INK){if(!t)for(const t of this.#lt.values())if(t.isEmpty())return void t.setInBackground();this.#pt({offsetX:0,offsetY:0}).setInBackground()}}setEditingState(t){this.#dt.setEditingState(t)}addCommands(t){this.#dt.addCommands(t)}enable(){this.div.style.pointerEvents="auto";for(const t of this.#lt.values())t.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const t of this.#lt.values())t.disableEditing()}setActiveEditor(t){this.#dt.getActive()!==t&&this.#dt.setActiveEditor(t)}enableClick(){this.div.addEventListener("pointerdown",this.#ct),this.div.addEventListener("pointerup",this.#at)}disableClick(){this.div.removeEventListener("pointerdown",this.#ct),this.div.removeEventListener("pointerup",this.#at)}attach(t){this.#lt.set(t.id,t)}detach(t){this.#lt.delete(t.id),this.#ot?.removePointerInTextLayer(t.contentDiv)}remove(t){this.#dt.removeEditor(t),this.detach(t),this.annotationStorage.remove(t.id),t.div.style.display="none",setTimeout(()=>{t.div.style.display="",t.div.remove(),t.isAttachedToDOM=!1,document.activeElement===document.body&&this.#dt.focusMainContainer()},0),this.#ht||this.addInkEditorIfNeeded(!1)}#gt(t){t.parent!==this&&(this.attach(t),t.pageIndex=this.pageIndex,t.parent?.detach(t),t.parent=this,t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(this.#gt(t),this.#dt.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}this.moveEditorInDOM(t),t.onceAdded(),this.addToAnnotationStorage(t)}moveEditorInDOM(t){this.#ot?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addToAnnotationStorage(t){t.isEmpty()||this.annotationStorage.has(t.id)||this.annotationStorage.setValue(t.id,t)}addOrRebuild(t){t.needsToBeRebuilt()?t.rebuild():this.add(t)}addANewEditor(t){this.addCommands({cmd:()=>{this.addOrRebuild(t)},undo:()=>{t.remove()},mustExec:!0})}addUndoableEditor(t){this.addCommands({cmd:()=>{this.addOrRebuild(t)},undo:()=>{t.remove()},mustExec:!1})}getNextId(){return this.#dt.getId()}#mt(t){switch(this.#dt.getMode()){case A.AnnotationEditorType.FREETEXT:return new i.FreeTextEditor(t);case A.AnnotationEditorType.INK:return new o.InkEditor(t)}return null}deserialize(t){switch(t.annotationType){case A.AnnotationEditorType.FREETEXT:return i.FreeTextEditor.deserialize(t,this);case A.AnnotationEditorType.INK:return o.InkEditor.deserialize(t,this)}return null}#pt(t){const e=this.getNextId(),n=this.#mt({parent:this,id:e,x:t.offsetX,y:t.offsetY});return n&&this.add(n),n}setSelected(t){this.#dt.setSelected(t)}toggleSelected(t){this.#dt.toggleSelected(t)}isSelected(t){return this.#dt.isSelected(t)}unselect(t){this.#dt.unselect(t)}pointerup(t){const e=r.KeyboardManager.platform.isMac;0!==t.button||t.ctrlKey&&e||t.target===this.div&&this.#ut&&(this.#ut=!1,this.#st?this.#pt(t):this.#st=!0)}pointerdown(t){const e=r.KeyboardManager.platform.isMac;if(0!==t.button||t.ctrlKey&&e)return;if(t.target!==this.div)return;this.#ut=!0;const n=this.#dt.getActive();this.#st=!n||n.isEmpty()}drop(t){const e=t.dataTransfer.getData("text/plain"),n=this.#dt.getEditor(e);if(!n)return;t.preventDefault(),t.dataTransfer.dropEffect="move",this.#gt(n);const r=this.div.getBoundingClientRect(),A=t.clientX-r.x,i=t.clientY-r.y;n.translate(A-n.startX,i-n.startY),this.moveEditorInDOM(n),n.div.focus()}dragover(t){t.preventDefault()}destroy(){this.#dt.getActive()?.parent===this&&this.#dt.setActiveEditor(null);for(const t of this.#lt.values())this.#ot?.removePointerInTextLayer(t.contentDiv),t.isAttachedToDOM=!1,t.div.remove(),t.parent=null;this.div=null,this.#lt.clear(),this.#dt.removeLayer(this)}#ft(){this.#ht=!0;for(const t of this.#lt.values())t.isEmpty()&&t.remove();this.#ht=!1}render(t){this.viewport=t.viewport,(0,r.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const t of this.#dt.getEditors(this.pageIndex))this.add(t);this.updateMode()}update(t){this.viewport=t.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[t,e,n,r]=this.viewport.viewBox;return[n-t,r-e]}get viewportBaseDimensions(){const{width:t,height:e,rotation:n}=this.viewport;return n%180==0?[t,e]:[e,t]}setDimensions(){const{width:t,height:e,rotation:n}=this.viewport,r=n%180!=0,A=Math.floor(t)+"px",i=Math.floor(e)+"px";this.div.style.width=r?i:A,this.div.style.height=r?A:i,this.div.setAttribute("data-main-rotation",n)}}e.AnnotationEditorLayer=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var r=n(1),A=n(7),i=n(6);class o extends i.AnnotationEditor{#wt=this.editorDivBlur.bind(this);#yt=this.editorDivFocus.bind(this);#bt=this.editorDivKeydown.bind(this);#vt;#Bt="";#Ct=!1;#_t;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new A.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],o.prototype.commitOrRemove]]);static _type="freetext";constructor(t){super({...t,name:"freeTextEditor"}),this.#vt=t.color||o._defaultColor||i.AnnotationEditor._defaultLineColor,this.#_t=t.fontSize||o._defaultFontSize}static initialize(t){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(e=>[e,t.get(e)]));const e=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(e.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case r.AnnotationEditorParamsType.FREETEXT_SIZE:o._defaultFontSize=e;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:o._defaultColor=e}}updateParams(t,e){switch(t){case r.AnnotationEditorParamsType.FREETEXT_SIZE:this.#xt(e);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:this.#Ft(e)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,o._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,o._defaultColor||i.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,this.#_t],[r.AnnotationEditorParamsType.FREETEXT_COLOR,this.#vt]]}#xt(t){const e=t=>{this.editorDiv.style.fontSize=`calc(${t}px * var(--scale-factor))`,this.translate(0,-(t-this.#_t)*this.parent.scaleFactor),this.#_t=t,this.#St()},n=this.#_t;this.parent.addCommands({cmd:()=>{e(t)},undo:()=>{e(n)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#Ft(t){const e=this.#vt;this.parent.addCommands({cmd:()=>{this.#vt=t,this.editorDiv.style.color=t},undo:()=>{this.#vt=e,this.editorDiv.style.color=e},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-o._internalPadding*this.parent.scaleFactor,-(o._internalPadding+this.#_t)*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#bt),this.editorDiv.addEventListener("focus",this.#yt),this.editorDiv.addEventListener("blur",this.#wt))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#bt),this.editorDiv.removeEventListener("focus",this.#yt),this.editorDiv.removeEventListener("blur",this.#wt),this.div.focus(),this.isEditing=!1)}focusin(t){super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#Et(){const t=this.editorDiv.getElementsByTagName("div");if(0===t.length)return this.editorDiv.innerText;const e=[];for(let n=0,r=t.length;n<r;n++){const r=t[n].firstChild;"#text"===r?.nodeName?e.push(r.data):e.push("")}return e.join("\n")}#St(){const[t,e]=this.parent.viewportBaseDimensions,n=this.div.getBoundingClientRect();this.width=n.width/t,this.height=n.height/e}commit(){super.commit(),this.#Ct||(this.#Ct=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#Bt=this.#Et().trimEnd(),this.#St()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(t){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(t){o._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),o._l10nPromise.get("editor_free_text_aria_label").then(t=>this.editorDiv?.setAttribute("aria-label",t)),o._l10nPromise.get("free_text_default_content").then(t=>this.editorDiv?.setAttribute("default-content",t)),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#_t}px * var(--scale-factor))`,n.color=this.#vt,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,A.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parent.viewportBaseDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r);for(const t of this.#Bt.split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(t,e){const n=super.deserialize(t,e);return n.#_t=t.fontSize,n.#vt=r.Util.makeHexColor(...t.color),n.#Bt=t.value,n}serialize(){if(this.isEmpty())return null;const t=o._internalPadding*this.parent.scaleFactor,e=this.getRect(t,t),n=i.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:r.AnnotationEditorType.FREETEXT,color:n,fontSize:this.#_t,value:this.#Bt,pageIndex:this.parent.pageIndex,rect:e,rotation:this.rotation}}}e.FreeTextEditor=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return i.fitCurve}});var r=n(1),A=n(6),i=n(25),o=n(7);const s=16;class a extends A.AnnotationEditor{#Ut=0;#It=0;#Qt=0;#Lt=this.canvasPointermove.bind(this);#kt=this.canvasPointerleave.bind(this);#Mt=this.canvasPointerup.bind(this);#Pt=this.canvasPointerdown.bind(this);#Tt=!1;#Nt=!1;#Dt=null;#Ot=null;#Ht=0;#Rt=0;#jt=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(t){super({...t,name:"inkEditor"}),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(t){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(e=>[e,t.get(e)]))}static updateDefaultParams(t,e){switch(t){case r.AnnotationEditorParamsType.INK_THICKNESS:a._defaultThickness=e;break;case r.AnnotationEditorParamsType.INK_COLOR:a._defaultColor=e;break;case r.AnnotationEditorParamsType.INK_OPACITY:a._defaultOpacity=e/100}}updateParams(t,e){switch(t){case r.AnnotationEditorParamsType.INK_THICKNESS:this.#Kt(e);break;case r.AnnotationEditorParamsType.INK_COLOR:this.#Ft(e);break;case r.AnnotationEditorParamsType.INK_OPACITY:this.#qt(e)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,a._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,a._defaultColor||A.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*a._defaultOpacity)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||a._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||a._defaultColor||A.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??a._defaultOpacity))]]}#Kt(t){const e=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=t,this.#Gt()},undo:()=>{this.thickness=e,this.#Gt()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#Ft(t){const e=this.color;this.parent.addCommands({cmd:()=>{this.color=t,this.#Wt()},undo:()=>{this.color=e,this.#Wt()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#qt(t){t/=100;const e=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=t,this.#Wt()},undo:()=>{this.opacity=e,this.#Wt()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(this.#Vt(),this.#zt()),this.isAttachedToDOM||(this.parent.add(this),this.#Xt()),this.#Gt())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#Ot.disconnect(),this.#Ot=null,super.remove())}enableEditMode(){this.#Tt||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#Pt),this.canvas.addEventListener("pointerup",this.#Mt))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#Pt),this.canvas.removeEventListener("pointerup",this.#Mt))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#Jt(){const{width:t,height:e,rotation:n}=this.parent.viewport;switch(n){case 90:return[0,t,t,e];case 180:return[t,e,t,e];case 270:return[e,0,t,e];default:return[0,0,t,e]}}#Yt(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,o.opacityToHex)(this.opacity)}`}#Zt(t,e){this.isEditing=!0,this.#Nt||(this.#Nt=!0,this.#Xt(),this.thickness||=a._defaultThickness,this.color||=a._defaultColor||A.AnnotationEditor._defaultLineColor,this.opacity??=a._defaultOpacity),this.currentPath.push([t,e]),this.#Dt=null,this.#Yt(),this.ctx.beginPath(),this.ctx.moveTo(t,e),this.#jt=()=>{this.#jt&&(this.#Dt&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#Wt(),this.ctx.lineTo(...this.#Dt),this.#Dt=null,this.ctx.stroke()),window.requestAnimationFrame(this.#jt))},window.requestAnimationFrame(this.#jt)}#$t(t,e){const[n,r]=this.currentPath.at(-1);t===n&&e===r||(this.currentPath.push([t,e]),this.#Dt=[t,e])}#te(t,e){this.ctx.closePath(),this.#jt=null,t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height);const[n,r]=this.currentPath.at(-1);let A;if(t===n&&e===r||this.currentPath.push([t,e]),1!==this.currentPath.length)A=(0,i.fitCurve)(this.currentPath,30,null);else{const n=[t,e];A=[[n,n.slice(),n.slice(),n]]}const o=a.#ee(A);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(A),this.bezierPath2D.push(o),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#Vt(),this.#zt()),this.#Gt())},mustExec:!0})}#Wt(){if(this.isEmpty())return void this.#ne();this.#Yt();const{canvas:t,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),this.#ne();for(const t of this.bezierPath2D)e.stroke(t)}commit(){this.#Tt||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#Tt=!0,this.div.classList.add("disabled"),this.#Gt(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(t){super.focusin(t),this.enableEditMode()}canvasPointerdown(t){0===t.button&&this.isInEditMode()&&!this.#Tt&&(this.setInForeground(),"mouse"!==t.type&&this.div.focus(),t.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#kt),this.canvas.addEventListener("pointermove",this.#Lt),this.#Zt(t.offsetX,t.offsetY))}canvasPointermove(t){t.stopPropagation(),this.#$t(t.offsetX,t.offsetY)}canvasPointerup(t){0===t.button&&this.isInEditMode()&&0!==this.currentPath.length&&(t.stopPropagation(),this.#re(t),this.setInBackground())}canvasPointerleave(t){this.#re(t),this.setInBackground()}#re(t){this.#te(t.offsetX,t.offsetY),this.canvas.removeEventListener("pointerleave",this.#kt),this.canvas.removeEventListener("pointermove",this.#Lt),this.parent.addToAnnotationStorage(this)}#Vt(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",a._l10nPromise.get("editor_ink_canvas_aria_label").then(t=>this.canvas?.setAttribute("aria-label",t)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#zt(){this.#Ot=new ResizeObserver(t=>{const e=t[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)}),this.#Ot.observe(this.div)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),a._l10nPromise.get("editor_ink_aria_label").then(t=>this.div?.setAttribute("aria-label",t));const[n,r,A,i]=this.#Jt();if(this.setAt(n,r,0,0),this.setDims(A,i),this.#Vt(),this.width){const[n,r]=this.parent.viewportBaseDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r),this.#Nt=!0,this.#Xt(),this.setDims(this.width*n,this.height*r),this.#Wt(),this.#Ae(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#zt(),this.div}#Xt(){if(!this.#Nt)return;const[t,e]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*e),this.#ne()}setDimensions(t,e){const n=Math.round(t),r=Math.round(e);if(this.#Ht===n&&this.#Rt===r)return;this.#Ht=n,this.#Rt=r,this.canvas.style.visibility="hidden",this.#Ut&&Math.abs(this.#Ut-t/e)>.01&&(e=Math.ceil(t/this.#Ut),this.setDims(t,e));const[A,i]=this.parent.viewportBaseDimensions;this.width=t/A,this.height=e/i,this.#Tt&&this.#ie(t,e),this.#Xt(),this.#Wt(),this.canvas.style.visibility="visible"}#ie(t,e){const n=this.#oe(),r=(t-n)/this.#Qt,A=(e-n)/this.#It;this.scaleFactor=Math.min(r,A)}#ne(){const t=this.#oe()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}static#ee(t){const e=new Path2D;for(let n=0,r=t.length;n<r;n++){const[r,A,i,o]=t[n];0===n&&e.moveTo(...r),e.bezierCurveTo(A[0],A[1],i[0],i[1],o[0],o[1])}return e}#se(t,e,n,r){const A=[],i=this.thickness/2;let o,s;for(const a of this.paths){o=[],s=[];for(let A=0,c=a.length;A<c;A++){const[c,l,u,h]=a[A],d=t*(c[0]+e)+i,f=r-t*(c[1]+n)-i,p=t*(l[0]+e)+i,g=r-t*(l[1]+n)-i,m=t*(u[0]+e)+i,w=r-t*(u[1]+n)-i,y=t*(h[0]+e)+i,b=r-t*(h[1]+n)-i;0===A&&(o.push(d,f),s.push(d,f)),o.push(p,g,m,w,y,b),this.#ae(d,f,p,g,m,w,y,b,4,s)}A.push({bezier:o,points:s})}return A}#ae(t,e,n,r,A,i,o,s,a,c){if(this.#ce(t,e,n,r,A,i,o,s))c.push(o,s);else{for(let l=1;l<a-1;l++){const u=l/a,h=1-u;let d=u*t+h*n,f=u*e+h*r,p=u*n+h*A,g=u*r+h*i;d=u*d+h*p,f=u*f+h*g,p=u*p+h*(u*A+h*o),g=u*g+h*(u*i+h*s),d=u*d+h*p,f=u*f+h*g,c.push(d,f)}c.push(o,s)}}#ce(t,e,n,r,A,i,o,s){const a=(3*n-2*t-o)**2,c=(3*r-2*e-s)**2,l=(3*A-t-2*o)**2,u=(3*i-e-2*s)**2;return Math.max(a,l)+Math.max(c,u)<=10}#le(){let t=1/0,e=-1/0,n=1/0,A=-1/0;for(const i of this.paths)for(const[o,s,a,c]of i){const i=r.Util.bezierBoundingBox(...o,...s,...a,...c);t=Math.min(t,i[0]),n=Math.min(n,i[1]),e=Math.max(e,i[2]),A=Math.max(A,i[3])}return[t,n,e,A]}#oe(){return this.#Tt?Math.ceil(this.thickness*this.parent.scaleFactor):0}#Gt(t=!1){if(this.isEmpty())return;if(!this.#Tt)return void this.#Wt();const e=this.#le(),n=this.#oe();this.#Qt=Math.max(s,e[2]-e[0]),this.#It=Math.max(s,e[3]-e[1]);const r=Math.ceil(n+this.#Qt*this.scaleFactor),A=Math.ceil(n+this.#It*this.scaleFactor),[i,o]=this.parent.viewportBaseDimensions;this.width=r/i,this.height=A/o,this.#Ut=r/A,this.#Ae();const a=this.translationX,c=this.translationY;this.translationX=-e[0],this.translationY=-e[1],this.#Xt(),this.#Wt(),this.#Ht=r,this.#Rt=A,this.setDims(r,A);const l=t?n/this.scaleFactor/2:0;this.translate(a-this.translationX-l,c-this.translationY-l)}#Ae(){const{style:t}=this.div;this.#Ut>=1?(t.minHeight="16px",t.minWidth=`${Math.round(this.#Ut*s)}px`):(t.minWidth="16px",t.minHeight=`${Math.round(s/this.#Ut)}px`)}static deserialize(t,e){const n=super.deserialize(t,e);n.thickness=t.thickness,n.color=r.Util.makeHexColor(...t.color),n.opacity=t.opacity;const[A,i]=e.pageDimensions,o=n.width*A,a=n.height*i,c=e.scaleFactor,l=t.thickness/2;n.#Ut=o/a,n.#Tt=!0,n.#Ht=Math.round(o),n.#Rt=Math.round(a);for(const{bezier:e}of t.paths){const t=[];n.paths.push(t);let r=c*(e[0]-l),A=c*(a-e[1]-l);for(let n=2,i=e.length;n<i;n+=6){const i=c*(e[n]-l),o=c*(a-e[n+1]-l),s=c*(e[n+2]-l),u=c*(a-e[n+3]-l),h=c*(e[n+4]-l),d=c*(a-e[n+5]-l);t.push([[r,A],[i,o],[s,u],[h,d]]),r=h,A=d}const i=this.#ee(t);n.bezierPath2D.push(i)}const u=n.#le();return n.#Qt=Math.max(s,u[2]-u[0]),n.#It=Math.max(s,u[3]-u[1]),n.#ie(o,a),n}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),e=this.rotation%180==0?t[3]-t[1]:t[2]-t[0],n=A.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:this.#se(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,e),pageIndex:this.parent.pageIndex,rect:t,rotation:this.rotation}}}e.InkEditor=a},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const r=n(26);e.fitCurve=r},t=>{function e(t,A,i,o,s){var c,l,u,h,d,f,p,g,m,w,y,b,v;if(2===t.length)return b=a.vectorLen(a.subtract(t[0],t[1]))/3,[c=[t[0],a.addArrays(t[0],a.mulItems(A,b)),a.addArrays(t[1],a.mulItems(i,b)),t[1]]];if(l=function(t){var e,n,r,A=[];return t.forEach((t,i)=>{e=i?n+a.vectorLen(a.subtract(t,r)):0,A.push(e),n=e,r=t}),A=A.map(t=>t/n)}(t),[c,h,f]=n(t,l,l,A,i,s),0===h||h<o)return[c];if(h<o*o)for(u=l,d=h,p=f,v=0;v<20;v++){if(u=r(c,t,u),[c,h,f]=n(t,l,u,A,i,s),h<o)return[c];if(f===p){let t=h/d;if(t>.9999&&t<1.0001)break}d=h,p=f}return y=[],(g=a.subtract(t[f-1],t[f+1])).every(t=>0===t)&&(g=a.subtract(t[f-1],t[f]),[g[0],g[1]]=[-g[1],g[0]]),m=a.normalize(g),w=a.mulItems(m,-1),(y=y.concat(e(t.slice(0,f+1),A,m,o,s))).concat(e(t.slice(f),w,i,o,s))}function n(t,e,n,r,A,s){var l,u,h;return l=function(t,e,n,r){var A,i,o,s,l,u,h,d,f,p,g,m,w,y,b,v,B,C=t[0],_=t[t.length-1];for(A=[C,null,null,_],i=a.zeros_Xx2x2(e.length),w=0,y=e.length;w<y;w++)B=1-(v=e[w]),(o=i[w])[0]=a.mulItems(n,3*v*(B*B)),o[1]=a.mulItems(r,3*B*(v*v));for(s=[[0,0],[0,0]],l=[0,0],w=0,y=t.length;w<y;w++)v=e[w],o=i[w],s[0][0]+=a.dot(o[0],o[0]),s[0][1]+=a.dot(o[0],o[1]),s[1][0]+=a.dot(o[0],o[1]),s[1][1]+=a.dot(o[1],o[1]),b=a.subtract(t[w],c.q([C,C,_,_],v)),l[0]+=a.dot(o[0],b),l[1]+=a.dot(o[1],b);return u=s[0][0]*s[1][1]-s[1][0]*s[0][1],h=s[0][0]*l[1]-s[1][0]*l[0],d=l[0]*s[1][1]-l[1]*s[0][1],p=0===u?0:h/u,(f=0===u?0:d/u)<(g=1e-6*(m=a.vectorLen(a.subtract(C,_))))||p<g?(A[1]=a.addArrays(C,a.mulItems(n,m/3)),A[2]=a.addArrays(_,a.mulItems(r,m/3))):(A[1]=a.addArrays(C,a.mulItems(n,f)),A[2]=a.addArrays(_,a.mulItems(r,p))),A}(t,n,r,A),[u,h]=function(t,e,n){var r,A,s,l,u,h,d,f;A=0,s=Math.floor(t.length/2);const p=i(e,10);for(u=0,h=t.length;u<h;u++)d=t[u],f=o(0,n[u],p,10),(r=(l=a.subtract(c.q(e,f),d))[0]*l[0]+l[1]*l[1])>A&&(A=r,s=u);return[A,s]}(t,l,e),s&&s({bez:l,points:t,params:e,maxErr:u,maxPoint:h}),[l,u,h]}function r(t,e,n){return n.map((n,r)=>A(t,e[r],n))}function A(t,e,n){var r=a.subtract(c.q(t,n),e),A=c.qprime(t,n),i=a.mulMatrix(r,A),o=a.sum(a.squareItems(A))+2*a.mulMatrix(r,c.qprimeprime(t,n));return 0===o?n:n-i/o}var i=function(t,e){for(var n,r=[0],A=t[0],i=0,o=1;o<=e;o++)n=c.q(t,o/e),i+=a.vectorLen(a.subtract(n,A)),r.push(i),A=n;return r.map(t=>t/i)};function o(t,e,n,r){if(e<0)return 0;if(e>1)return 1;for(var A,i,o,s,a=1;a<=r;a++)if(e<=n[a]){o=(a-1)/r,i=a/r,s=(e-(A=n[a-1]))/(n[a]-A)*(i-o)+o;break}return s}function s(t,e){return a.normalize(a.subtract(t,e))}class a{static zeros_Xx2x2(t){for(var e=[];t--;)e.push([0,0]);return e}static mulItems(t,e){return t.map(t=>t*e)}static mulMatrix(t,e){return t.reduce((t,n,r)=>t+n*e[r],0)}static subtract(t,e){return t.map((t,n)=>t-e[n])}static addArrays(t,e){return t.map((t,n)=>t+e[n])}static addItems(t,e){return t.map(t=>t+e)}static sum(t){return t.reduce((t,e)=>t+e)}static dot(t,e){return a.mulMatrix(t,e)}static vectorLen(t){return Math.hypot(...t)}static divItems(t,e){return t.map(t=>t/e)}static squareItems(t){return t.map(t=>t*t)}static normalize(t){return this.divItems(t,this.vectorLen(t))}}class c{static q(t,e){var n=1-e,r=a.mulItems(t[0],n*n*n),A=a.mulItems(t[1],3*n*n*e),i=a.mulItems(t[2],3*n*e*e),o=a.mulItems(t[3],e*e*e);return a.addArrays(a.addArrays(r,A),a.addArrays(i,o))}static qprime(t,e){var n=1-e,r=a.mulItems(a.subtract(t[1],t[0]),3*n*n),A=a.mulItems(a.subtract(t[2],t[1]),6*n*e),i=a.mulItems(a.subtract(t[3],t[2]),3*e*e);return a.addArrays(a.addArrays(r,A),i)}static qprimeprime(t,e){return a.addArrays(a.mulItems(a.addArrays(a.subtract(t[2],a.mulItems(t[1],2)),t[0]),6*(1-e)),a.mulItems(a.addArrays(a.subtract(t[3],a.mulItems(t[2],2)),t[1]),6*e))}}t.exports=function(t,n,r){if(!Array.isArray(t))throw new TypeError("First argument should be an array");if(t.forEach(e=>{if(!Array.isArray(e)||e.some(t=>"number"!=typeof t)||e.length!==t[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),(t=t.filter((e,n)=>0===n||!e.every((e,r)=>e===t[n-1][r]))).length<2)return[];const A=t.length,i=s(t[1],t[0]),o=s(t[A-2],t[A-1]);return e(t,i,o,n,r)},t.exports.fitCubic=e,t.exports.createTangent=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var r=n(1),A=n(8),i=n(5),o=n(28),s=n(29);const a=1e3,c=new WeakSet;function l(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class u{static create(t){switch(t.data.annotationType){case r.AnnotationType.LINK:return new d(t);case r.AnnotationType.TEXT:return new f(t);case r.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new g(t);case"Btn":return t.data.radioButton?new w(t):t.data.checkBox?new m(t):new y(t);case"Ch":return new b(t)}return new p(t);case r.AnnotationType.POPUP:return new v(t);case r.AnnotationType.FREETEXT:return new C(t);case r.AnnotationType.LINE:return new _(t);case r.AnnotationType.SQUARE:return new x(t);case r.AnnotationType.CIRCLE:return new F(t);case r.AnnotationType.POLYLINE:return new S(t);case r.AnnotationType.CARET:return new U(t);case r.AnnotationType.INK:return new I(t);case r.AnnotationType.POLYGON:return new E(t);case r.AnnotationType.HIGHLIGHT:return new Q(t);case r.AnnotationType.UNDERLINE:return new L(t);case r.AnnotationType.SQUIGGLY:return new k(t);case r.AnnotationType.STRIKEOUT:return new M(t);case r.AnnotationType.STAMP:return new P(t);case r.AnnotationType.FILEATTACHMENT:return new T(t);default:return new h(t)}}}class h{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,e&&(this.container=this._createContainer(n)),r&&(this.quadrilaterals=this._createQuadrilaterals(n))}_createContainer(t=!1){const e=this.data,n=this.page,A=this.viewport,i=document.createElement("section"),{width:o,height:s}=l(e.rect),[a,c,u,h]=A.viewBox,d=u-a,f=h-c;i.setAttribute("data-annotation-id",e.id);const p=r.Util.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]);if(!t&&e.borderStyle.width>0){i.style.borderWidth=`${e.borderStyle.width}px`;const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e=`calc(${t}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;i.style.borderRadius=e}else if(this instanceof w){const t=`calc(${o}px * var(--scale-factor)) / calc(${s}px * var(--scale-factor))`;i.style.borderRadius=t}switch(e.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:i.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:i.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:i.style.borderBottomStyle="solid"}const A=e.borderColor||null;A?i.style.borderColor=r.Util.makeHexColor(0|A[0],0|A[1],0|A[2]):i.style.borderWidth=0}i.style.left=100*(p[0]-a)/d+"%",i.style.top=100*(p[1]-c)/f+"%";const{rotation:g}=e;return e.hasOwnCanvas||0===g?(i.style.width=100*o/d+"%",i.style.height=100*s/f+"%"):this.setRotation(g,i),i}setRotation(t,e=this.container){const[n,r,A,i]=this.viewport.viewBox,o=A-n,s=i-r,{width:a,height:c}=l(this.data.rect);let u,h;t%180==0?(u=100*a/o,h=100*c/s):(u=100*c/o,h=100*a/s),e.style.width=`${u}%`,e.style.height=`${h}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const r=n.detail[t];n.target.style[e]=o.ColorConverters[`${r[0]}_HTML`](r.slice(1))};return(0,r.shadow)(this,"_commonActions",{display:t=>{const e=t.detail.display%2==1;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:e,print:0===t.detail.display||3===t.detail.display})},print:t=>{this.annotationStorage.setValue(this.data.id,{print:t.detail.print})},hidden:t=>{this.container.style.visibility=t.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:t.detail.hidden})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.detail.readonly?t.target.setAttribute("readonly",""):t.target.removeAttribute("readonly")},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail)){const A=t[r]||n[r];A&&A(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,A]of Object.entries(e)){const i=n[r];i&&(i({detail:{[r]:A},target:t}),delete e[r])}}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const e=[],n=this.data.rect;for(const n of this.data.quadPoints)this.data.rect=[n[2].x,n[2].y,n[1].x,n[1].y],e.push(this._createContainer(t));return this.data.rect=n,e}_createPopup(t,e){let n=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,n=this.quadrilaterals[0]),t||((t=document.createElement("div")).className="popupTriggerArea",n.append(t));const r=new B({container:n,trigger:t,color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,hideWrapper:!0}).render();r.style.left="100%",n.append(r)}_renderQuadrilaterals(t){for(const e of this.quadrilaterals)e.className=t;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const A=this._fieldObjects[t];if(A)for(const{page:t,id:i,exportValues:o}of A){if(-1===t)continue;if(i===e)continue;const A="string"==typeof o?o:null,s=document.querySelector(`[data-element-id="${i}"]`);!s||c.has(s)?n.push({id:i,exportValue:A,domElement:s}):(0,r.warn)(`_getElementsByName - element not allowed: ${i}`)}return n}for(const r of document.getElementsByName(t)){const{id:t,exportValue:A}=r;t!==e&&c.has(r)&&n.push({id:t,exportValue:A,domElement:r})}return n}static get platform(){const t="undefined"!=typeof navigator?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class d extends h{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action),r=!0):t.dest?(this._bindLink(n,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((t,e)=>{const r=0===e?n:n.cloneNode();return t.append(r),t}):(this.container.className="linkAnnotation",r&&this.container.append(n),this.container)}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&(t.className="internalLink")}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),t.className="internalLink"}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const A=n.get(r);A&&(t[A]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{n&&n();const{fields:t,refs:A,include:i}=e,o=[];if(0!==t.length||0!==A.length){const e=new Set(A);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===i&&o.push(n)}else for(const t of Object.values(this._fieldObjects))o.push(...t);const s=this.annotationStorage,a=[];for(const t of o){const{id:e}=t;switch(a.push(e),t.type){case"text":{const n=t.defaultValue||"";s.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;s.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";s.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&(c.has(n)?n.dispatchEvent(new Event("resetform")):(0,r.warn)(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:a,name:"ResetForm"}}),!1}}}class f extends h{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.append(t),this.container}}class p extends h{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:e,isMac:n}=h.platform;return e&&t.ctrlKey||n&&t.metaKey}_setEventListener(t,e,n,r){e.includes("mouse")?t.addEventListener(e,t=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})}):t.addEventListener(e,t=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(t)}})})}_setEventListeners(t,e,n){for(const[r,A]of e)("Action"===A||this.data.actions?.[A])&&this._setEventListener(t,r,A,n)}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":r.Util.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const{fontColor:e}=this.data.defaultAppearanceData,n=this.data.defaultAppearanceData.fontSize||9,A=t.style;let i;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]),e=t/(Math.round(t/(r.LINE_FACTOR*n))||1);i=Math.min(n,Math.round(e/r.LINE_FACTOR))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]);i=Math.min(n,Math.round(t/r.LINE_FACTOR))}A.fontSize=`calc(${i}px * var(--scale-factor))`,A.color=r.Util.makeHexColor(e[0],e[1],e[2]),null!==this.data.textAlignment&&(A.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class g extends p{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,n,r){const A=this.annotationStorage;for(const i of this._getElementsByName(t.name,t.id))i.domElement&&(i.domElement[e]=n),A.setValue(i.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.className="textWidgetAnnotation";let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let A=r.formattedValue||r.value||"";const i=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;i&&A.length>i&&(A=A.slice(0,i));const o={userValue:A,formattedValue:null,valueOnFocus:""};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=A,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",A),this.data.doNotScroll&&(n.style.overflowX="hidden")),c.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=a,this._setRequired(n,this.data.required),i&&(n.maxLength=i),n.addEventListener("input",r=>{t.setValue(e,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value")}),n.addEventListener("resetform",t=>{const e=this.data.defaultFieldValue??"";n.value=o.userValue=e,o.formattedValue=null});let s=t=>{const{formattedValue:e}=o;null!=e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",t=>{o.userValue&&(t.target.value=o.userValue),o.valueOnFocus=t.target.value}),n.addEventListener("updatefromsandbox",n=>{const r={value(n){o.userValue=n.detail.value??"",t.setValue(e,{value:o.userValue.toString()}),n.target.value=o.userValue},formattedValue(n){const{formattedValue:r}=n.detail;o.formattedValue=r,null!=r&&n.target!==document.activeElement&&(n.target.value=r),t.setValue(e,{formattedValue:r})},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{const{charLimit:r}=n.detail,{target:A}=n;if(0===r)return void A.removeAttribute("maxLength");A.setAttribute("maxLength",r);let i=o.userValue;!i||i.length<=r||(i=i.slice(0,r),A.value=o.userValue=i,t.setValue(e,{value:i}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:i,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)}),n.addEventListener("keydown",t=>{let n=-1;if("Escape"===t.key?n=0:"Enter"===t.key?n=2:"Tab"===t.key&&(n=3),-1===n)return;const{value:r}=t.target;o.valueOnFocus!==r&&(o.userValue=r,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,willCommit:!0,commitKey:n,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))});const r=s;s=null,n.addEventListener("blur",t=>{const{value:n}=t.target;o.userValue=n,this._mouseState.isDown&&o.valueOnFocus!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:n,willCommit:!0,commitKey:1,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}),r(t)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",t=>{const{data:n,target:r}=t,{value:A,selectionStart:i,selectionEnd:o}=r;let s=i,a=o;switch(t.inputType){case"deleteWordBackward":{const t=A.substring(0,i).match(/\w*[^\w]*$/);t&&(s-=t[0].length);break}case"deleteWordForward":{const t=A.substring(i).match(/^[^\w]*\w*/);t&&(a+=t[0].length);break}case"deleteContentBackward":i===o&&(s-=1);break;case"deleteContentForward":i===o&&(a+=1)}t.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,change:n||"",willCommit:!1,selStart:s,selEnd:a}})}),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],t=>t.target.value)}if(s&&n.addEventListener("blur",s),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/i;n.classList.add("comb"),n.style.letterSpacing=`calc(${t}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class m extends p{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"==typeof r&&(r="Off"!==r,t.setValue(n,{value:r})),this.container.className="buttonWidgetAnnotation checkBox";const A=document.createElement("input");return c.add(A),A.setAttribute("data-element-id",n),A.disabled=e.readOnly,this._setRequired(A,this.data.required),A.type="checkbox",A.name=e.fieldName,r&&A.setAttribute("checked",!0),A.setAttribute("exportValue",e.exportValue),A.tabIndex=a,A.addEventListener("change",r=>{const{name:A,checked:i}=r.target;for(const r of this._getElementsByName(A,n)){const n=i&&r.exportValue===e.exportValue;r.domElement&&(r.domElement.checked=n),t.setValue(r.id,{value:n})}t.setValue(n,{value:i})}),A.addEventListener("resetform",t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue}),this.enableScripting&&this.hasJSActions&&(A.addEventListener("updatefromsandbox",e=>{const r={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(r,e)}),this._setEventListeners(A,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],t=>t.target.checked)),this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.append(A),this.container}}class w extends p{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;"string"==typeof r&&(r=r!==e.buttonValue,t.setValue(n,{value:r}));const A=document.createElement("input");if(c.add(A),A.setAttribute("data-element-id",n),A.disabled=e.readOnly,this._setRequired(A,this.data.required),A.type="radio",A.name=e.fieldName,r&&A.setAttribute("checked",!0),A.tabIndex=a,A.addEventListener("change",e=>{const{name:r,checked:A}=e.target;for(const e of this._getElementsByName(r,n))t.setValue(e.id,{value:!1});t.setValue(n,{value:A})}),A.addEventListener("resetform",t=>{const n=e.defaultFieldValue;t.target.checked=null!=n&&n===e.buttonValue}),this.enableScripting&&this.hasJSActions){const r=e.buttonValue;A.addEventListener("updatefromsandbox",e=>{const A={value:e=>{const A=r===e.detail.value;for(const r of this._getElementsByName(e.target.name)){const e=A&&r.id===n;r.domElement&&(r.domElement.checked=e),t.setValue(r.id,{value:e})}}};this._dispatchEventFromSandbox(A,e)}),this._setEventListeners(A,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],t=>t.target.checked)}return this._setBackgroundColor(A),this._setDefaultPropertiesFromJS(A),this.container.append(A),this.container}}class y extends d{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText);const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",t=>{this._dispatchEventFromSandbox({},t)})),t}}class b extends p{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");c.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=a;let A=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",t=>{const e=this.data.defaultFieldValue;for(const t of r.options)t.selected=t.value===e});for(const t of this.data.options){const e=document.createElement("option");e.textContent=t.displayValue,e.value=t.exportValue,n.value.includes(t.exportValue)&&(e.setAttribute("selected",!0),A=!1),r.append(e)}let i=null;if(A){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),r.prepend(t),i=()=>{t.remove(),r.removeEventListener("input",i),i=null},r.addEventListener("input",i)}const o=(t,e)=>{const n=e?"value":"textContent",r=t.target.options;return t.target.multiple?Array.prototype.filter.call(r,t=>t.selected).map(t=>t[n]):-1===r.selectedIndex?null:r[r.selectedIndex][n]},s=t=>{const e=t.target.options;return Array.prototype.map.call(e,t=>({displayValue:t.textContent,exportValue:t.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",n=>{const A={value(n){i?.();const A=n.detail.value,s=new Set(Array.isArray(A)?A:[A]);for(const t of r.options)t.selected=s.has(t.value);t.setValue(e,{value:o(n,!0)})},multipleSelection(t){r.multiple=!0},remove(n){const A=r.options,i=n.detail.remove;A[i].selected=!1,r.remove(i),A.length>0&&-1===Array.prototype.findIndex.call(A,t=>t.selected)&&(A[0].selected=!0),t.setValue(e,{value:o(n,!0),items:s(n)})},clear(n){for(;0!==r.length;)r.remove(0);t.setValue(e,{value:null,items:[]})},insert(n){const{index:A,displayValue:i,exportValue:a}=n.detail.insert,c=r.children[A],l=document.createElement("option");l.textContent=i,l.value=a,c?c.before(l):r.append(l),t.setValue(e,{value:o(n,!0),items:s(n)})},items(n){const{items:A}=n.detail;for(;0!==r.length;)r.remove(0);for(const t of A){const{displayValue:e,exportValue:n}=t,A=document.createElement("option");A.textContent=e,A.value=n,r.append(A)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:o(n,!0),items:s(n)})},indices(n){const r=new Set(n.detail.indices);for(const t of n.target.options)t.selected=r.has(t.index);t.setValue(e,{value:o(n,!0)})},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(A,n)}),r.addEventListener("input",n=>{const r=o(n,!0),A=o(n,!1);t.setValue(e,{value:r}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,changeEx:r,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],t=>t.target.checked)):r.addEventListener("input",function(n){t.setValue(e,{value:o(n,!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class v extends h{constructor(t){super(t,{isRenderable:!!(t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const t=`[data-annotation-id="${this.data.parentId}"]`,e=this.layer.querySelectorAll(t);if(0===e.length)return this.container;const n=new B({container:this.container,trigger:Array.from(e),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),A=this.page,i=r.Util.normalizeRect([this.data.parentRect[0],A.view[3]-this.data.parentRect[1]+A.view[1],this.data.parentRect[2],A.view[3]-this.data.parentRect[3]+A.view[1]]),o=i[0]+this.data.parentRect[2]-this.data.parentRect[0],s=i[1],[a,c,l,u]=this.viewport.viewBox,h=l-a,d=u-c;return this.container.style.left=100*(o-a)/h+"%",this.container.style.top=100*(s-c)/d+"%",this.container.append(n.render()),this.container}}class B{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){const t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.hidden=!0;const e=document.createElement("div");e.className="popup";const n=this.color;if(n){const t=.7*(255-n[0])+n[0],A=.7*(255-n[1])+n[1],i=.7*(255-n[2])+n[2];e.style.backgroundColor=r.Util.makeHexColor(0|t,0|A,0|i)}const i=document.createElement("h1");i.dir=this.titleObj.dir,i.textContent=this.titleObj.str,e.append(i);const o=A.PDFDateString.toDateObject(this.modificationDate);if(o){const t=document.createElement("span");t.className="popupDate",t.textContent="{{date}}, {{time}}",t.dataset.l10nId="annotation_date_string",t.dataset.l10nArgs=JSON.stringify({date:o.toLocaleDateString(),time:o.toLocaleTimeString()}),e.append(t)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const t=this._formatContents(this.contentsObj);e.append(t)}else s.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:e}),e.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const t of this.trigger)t.addEventListener("click",this._toggle.bind(this)),t.addEventListener("mouseover",this._show.bind(this,!1)),t.addEventListener("mouseout",this._hide.bind(this,!1));return e.addEventListener("click",this._hide.bind(this,!0)),t.append(e),t}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.className="popupContent",n.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let t=0,e=r.length;t<e;++t){const A=r[t];n.append(document.createTextNode(A)),t<e-1&&n.append(document.createElement("br"))}return n}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(t=!0){t&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class C extends h{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.textContent=t.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const t=document.createElement("div");t.className="annotationTextContent",t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class _ extends h{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:e,height:n}=l(t.rect),r=this.svgFactory.create(e,n,!0),A=this.svgFactory.createElement("svg:line");return A.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),A.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),A.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),A.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),A.setAttribute("stroke-width",t.borderStyle.width||1),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),r.append(A),this.container.append(r),this._createPopup(A,t),this.container}}class x extends h{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:e,height:n}=l(t.rect),r=this.svgFactory.create(e,n,!0),A=t.borderStyle.width,i=this.svgFactory.createElement("svg:rect");return i.setAttribute("x",A/2),i.setAttribute("y",A/2),i.setAttribute("width",e-A),i.setAttribute("height",n-A),i.setAttribute("stroke-width",A||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),this._createPopup(i,t),this.container}}class F extends h{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:e,height:n}=l(t.rect),r=this.svgFactory.create(e,n,!0),A=t.borderStyle.width,i=this.svgFactory.createElement("svg:ellipse");return i.setAttribute("cx",e/2),i.setAttribute("cy",n/2),i.setAttribute("rx",e/2-A/2),i.setAttribute("ry",n/2-A/2),i.setAttribute("stroke-width",A||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),this._createPopup(i,t),this.container}}class S extends h{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:e,height:n}=l(t.rect),r=this.svgFactory.create(e,n,!0);let A=[];for(const e of t.vertices){const n=e.x-t.rect[0],r=t.rect[3]-e.y;A.push(n+","+r)}A=A.join(" ");const i=this.svgFactory.createElement(this.svgElementName);return i.setAttribute("points",A),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),this._createPopup(i,t),this.container}}class E extends S{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class U extends h{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class I extends h{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:e,height:n}=l(t.rect),r=this.svgFactory.create(e,n,!0);for(const e of t.inkLists){let n=[];for(const r of e){const e=r.x-t.rect[0],A=t.rect[3]-r.y;n.push(`${e},${A}`)}n=n.join(" ");const A=this.svgFactory.createElement(this.svgElementName);A.setAttribute("points",n),A.setAttribute("stroke-width",t.borderStyle.width||1),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),this._createPopup(A,t),r.append(A)}return this.container.append(r),this.container}}class Q extends h{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class L extends h{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class k extends h{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class M extends h{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class P extends h{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class T extends h{constructor(t){super(t,{isRenderable:!0});const{filename:e,content:n}=this.data.file;this.filename=(0,A.getFilenameFromUrl)(e),this.content=n,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:e,content:n})}render(){this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.className="popupTriggerArea",t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(t,this.data),this.container.append(t),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class N{static#ue(t,e,n,r){const i=t.firstChild||t;i.id=`${A.AnnotationPrefix}${e}`,n.append(t),r?.moveElementInDOM(n,t,i,!1)}static render(t){const{annotations:e,div:n,viewport:o,accessibilityManager:s}=t;this.#he(n,o);let a=0;for(const c of e){if(c.annotationType!==r.AnnotationType.POPUP){const{width:t,height:e}=l(c.rect);if(t<=0||e<=0)continue}const e=u.create({data:c,layer:n,page:t.page,viewport:o,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new A.DOMSVGFactory,annotationStorage:t.annotationStorage||new i.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(e.isRenderable){const t=e.render();if(c.hidden&&(t.style.visibility="hidden"),Array.isArray(t))for(const e of t)e.style.zIndex=a++,N.#ue(e,c.id,n,s);else t.style.zIndex=a++,e instanceof v?n.prepend(t):N.#ue(t,c.id,n,s)}}this.#de(n,t.annotationCanvasMap)}static update(t){const{annotationCanvasMap:e,div:n,viewport:r}=t;this.#he(n,r),this.#de(n,e),n.hidden=!1}static#he(t,{width:e,height:n,rotation:r}){const{style:A}=t,i=r%180!=0,o=Math.floor(e)+"px",s=Math.floor(n)+"px";A.width=i?s:o,A.height=i?o:s,t.setAttribute("data-main-rotation",r)}static#de(t,e){if(e){for(const[n,r]of e){const e=t.querySelector(`[data-annotation-id="${n}"]`);if(!e)continue;const{firstChild:A}=e;A?"CANVAS"===A.nodeName?A.replaceWith(r):A.before(r):e.append(r)}e.clear()}}}e.AnnotationLayer=N},(t,e)=>{function n(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0,e.ColorConverters=class{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_HTML([t]){const e=n(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_HTML([t,e,r]){return`#${n(t)}${n(e)}${n(r)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,A=1-e,i=1-n;return["CMYK",r,A,i,Math.min(r,A,i)]}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var r=n(20);e.XfaLayer=class{static setupStorage(t,e,n,r,A){const i=r.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==i.value&&(t.textContent=i.value),"print"===A)break;t.addEventListener("input",t=>{r.setValue(e,{value:t.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(i.value===n.attributes.xfaOn?t.setAttribute("checked",!0):i.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===A)break;t.addEventListener("change",t=>{r.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})})}else{if(null!==i.value&&t.setAttribute("value",i.value),"print"===A)break;t.addEventListener("input",t=>{r.setValue(e,{value:t.target.value})})}break;case"select":if(null!==i.value)for(const t of n.children)t.attributes.value===i.value&&(t.attributes.selected=!0);t.addEventListener("input",t=>{const n=t.target.options,A=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(e,{value:A})})}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:A}){const{attributes:i}=e,o=t instanceof HTMLAnchorElement;"radio"===i.type&&(i.name=`${i.name}-${r}`);for(const[e,n]of Object.entries(i))if(null!=n)switch(e){case"class":n.length&&t.setAttribute(e,n.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",n);break;case"style":Object.assign(t.style,n);break;case"textContent":t.textContent=n;break;default:(!o||"href"!==e&&"newWindow"!==e)&&t.setAttribute(e,n)}o&&A.addLinkAttributes(t,i.href,i.newWindow),n&&i.dataId&&this.setupStorage(t,i.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,A=t.xfaHtml,i=t.intent||"display",o=document.createElement(A.name);A.attributes&&this.setAttributes({html:o,element:A,intent:i,linkService:n});const s=[[A,-1,o]],a=t.div;if(a.append(o),t.viewport){const e=`matrix(${t.viewport.transform.join(",")})`;a.style.transform=e}"richText"!==i&&a.setAttribute("class","xfaLayer xfaFont");const c=[];for(;s.length>0;){const[t,A,o]=s.at(-1);if(A+1===t.children.length){s.pop();continue}const a=t.children[++s.at(-1)[1]];if(null===a)continue;const{name:l}=a;if("#text"===l){const t=document.createTextNode(a.value);c.push(t),o.append(t);continue}let u;if(u=a?.attributes?.xmlns?document.createElementNS(a.attributes.xmlns,l):document.createElement(l),o.append(u),a.attributes&&this.setAttributes({html:u,element:a,storage:e,intent:i,linkService:n}),a.children&&a.children.length>0)s.push([a,-1,u]);else if(a.value){const t=document.createTextNode(a.value);r.XfaText.shouldBuildText(l)&&c.push(t),u.append(t)}}for(const t of a.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))t.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=function(t){const e=new h({textContent:t.textContent,textContentStream:t.textContentStream,container:t.container,viewport:t.viewport,textDivs:t.textDivs,textContentItemsStr:t.textContentItemsStr,enhanceTextSelection:t.enhanceTextSelection});return e._render(t.timeout),e};var r=n(1),A=n(8);const i=30,o=new Map,s=/^\s+$/g;function a(t,e,n,A){const a=document.createElement("span"),c=t._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};t._textDivs.push(a);const l=r.Util.transform(t._viewport.transform,e.transform);let u=Math.atan2(l[1],l[0]);const h=n[e.fontName];h.vertical&&(u+=Math.PI/2);const d=Math.hypot(l[2],l[3]),f=d*function(t,e){const n=o.get(t);if(n)return n;e.save(),e.font=`30px ${t}`;const r=e.measureText("");let A=r.fontBoundingBoxAscent,s=Math.abs(r.fontBoundingBoxDescent);if(A){e.restore();const n=A/(A+s);return o.set(t,n),n}e.strokeStyle="red",e.clearRect(0,0,i,i),e.strokeText("g",0,0);let a=e.getImageData(0,0,i,i).data;s=0;for(let t=a.length-1-3;t>=0;t-=4)if(a[t]>0){s=Math.ceil(t/4/i);break}e.clearRect(0,0,i,i),e.strokeText("A",0,i),a=e.getImageData(0,0,i,i).data,A=0;for(let t=0,e=a.length;t<e;t+=4)if(a[t]>0){A=i-Math.floor(t/4/i);break}if(e.restore(),A){const e=A/(A+s);return o.set(t,e),e}return o.set(t,.8),.8}(h.fontFamily,A);let p,g;0===u?(p=l[4],g=l[5]-f):(p=l[4]+f*Math.sin(u),g=l[5]-f*Math.cos(u)),a.style.left=`${p}px`,a.style.top=`${g}px`,a.style.fontSize=`${d}px`,a.style.fontFamily=h.fontFamily,c.fontSize=d,a.setAttribute("role","presentation"),a.textContent=e.str,a.dir=e.dir,t._fontInspectorEnabled&&(a.dataset.fontName=e.fontName),0!==u&&(c.angle=u*(180/Math.PI));let m=!1;if(e.str.length>1||t._enhanceTextSelection&&s.test(e.str))m=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(m=!0)}if(m&&(h.vertical?c.canvasWidth=e.height*t._viewport.scale:c.canvasWidth=e.width*t._viewport.scale),t._textDivProperties.set(a,c),t._textContentStream&&t._layoutText(a),t._enhanceTextSelection&&c.hasText){let n=1,A=0;0!==u&&(n=Math.cos(u),A=Math.sin(u));const i=(h.vertical?e.height:e.width)*t._viewport.scale,o=d;let s,c;0!==u?(s=[n,A,-A,n,p,g],c=r.Util.getAxialAlignedBoundingBox([0,0,i,o],s)):c=[p,g,p+i,g+o],t._bounds.push({left:c[0],top:c[1],right:c[2],bottom:c[3],div:a,size:[i,o],m:s})}}function c(t){if(t._canceled)return;const e=t._textDivs,n=t._capability,r=e.length;if(r>1e5)return t._renderingDone=!0,void n.resolve();if(!t._textContentStream)for(let n=0;n<r;n++)t._layoutText(e[n]);t._renderingDone=!0,n.resolve()}function l(t,e,n){let r=0;for(let A=0;A<n;A++){const n=t[e++];n>0&&(r=r?Math.min(n,r):n)}return r}function u(t,e){e.sort(function(t,e){return t.x1-e.x1||t.index-e.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const t of e){let e=0;for(;e<n.length&&n[e].end<=t.y1;)e++;let r,A,i=n.length-1;for(;i>=0&&n[i].start>=t.y2;)i--;let o,s,a=-1/0;for(o=e;o<=i;o++){let e;r=n[o],A=r.boundary,e=A.x2>t.x1?A.index>t.index?A.x1New:t.x1:void 0===A.x2New?(A.x2+t.x1)/2:A.x2New,e>a&&(a=e)}for(t.x1New=a,o=e;o<=i;o++)r=n[o],A=r.boundary,void 0===A.x2New?A.x2>t.x1?A.index>t.index&&(A.x2New=A.x2):A.x2New=a:A.x2New>a&&(A.x2New=Math.max(a,A.x2));const c=[];let l=null;for(o=e;o<=i;o++){r=n[o],A=r.boundary;const e=A.x2>t.x2?A:t;l===e?c.at(-1).end=r.end:(c.push({start:r.start,end:r.end,boundary:e}),l=e)}for(n[e].start<t.y1&&(c[0].start=t.y1,c.unshift({start:n[e].start,end:t.y1,boundary:n[e].boundary})),t.y2<n[i].end&&(c.at(-1).end=t.y2,c.push({start:t.y2,end:n[i].end,boundary:n[i].boundary})),o=e;o<=i;o++){if(r=n[o],A=r.boundary,void 0!==A.x2New)continue;let t=!1;for(s=e-1;!t&&s>=0&&n[s].start>=A.y1;s--)t=n[s].boundary===A;for(s=i+1;!t&&s<n.length&&n[s].end<=A.y2;s++)t=n[s].boundary===A;for(s=0;!t&&s<c.length;s++)t=c[s].boundary===A;t||(A.x2New=a)}Array.prototype.splice.apply(n,[e,i-e+1,...c])}for(const e of n){const n=e.boundary;void 0===n.x2New&&(n.x2New=Math.max(t,n.x2))}}class h{constructor({textContent:t,textContentStream:e,container:n,viewport:i,textDivs:o,textContentItemsStr:s,enhanceTextSelection:a}){a&&(0,A.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=t,this._textContentStream=e,this._container=n,this._document=n.ownerDocument,this._viewport=i,this._textDivs=o||[],this._textContentItemsStr=s||[],this._enhanceTextSelection=!!a,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(t,e){for(let n=0,r=t.length;n<r;n++)if(void 0!==t[n].str)this._textContentItemsStr.push(t[n].str),a(this,t[n],e,this._layoutTextCtx);else if("beginMarkedContentProps"===t[n].type||"beginMarkedContent"===t[n].type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==t[n].id&&this._container.setAttribute("id",`${t[n].id}`),e.append(this._container)}else"endMarkedContent"===t[n].type&&(this._container=this._container.parentNode)}_layoutText(t){const e=this._textDivProperties.get(t);let n="";if(0!==e.canvasWidth&&e.hasText){const{fontFamily:r}=t.style,{fontSize:A}=e;A===this._layoutTextLastFontSize&&r===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=`${A*this._devicePixelRatio}px ${r}`,this._layoutTextLastFontSize=A,this._layoutTextLastFontFamily=r);const{width:i}=this._layoutTextCtx.measureText(t.textContent);if(i>0){const t=this._devicePixelRatio*e.canvasWidth/i;this._enhanceTextSelection&&(e.scale=t),n=`scaleX(${t})`}}if(0!==e.angle&&(n=`rotate(${e.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(e.originalTransform=n),t.style.transform=n),e.hasText&&this._container.append(t),e.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),this._container.append(t)}}_render(t=0){const e=(0,r.createPromiseCapability)();let n=Object.create(null);const A=this._document.createElement("canvas");if(A.height=A.width=i,this._layoutTextCtx=A.getContext("2d",{alpha:!1}),this._textContent){const t=this._textContent.items,n=this._textContent.styles;this._processItems(t,n),e.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const t=()=>{this._reader.read().then(({value:r,done:A})=>{A?e.resolve():(Object.assign(n,r.styles),this._processItems(r.items,n),t())},e.reject)};this._reader=this._textContentStream.getReader(),t()}}e.promise.then(()=>{n=null,t?this._renderTimer=setTimeout(()=>{c(this),this._renderTimer=null},t):c(this)},this._capability.reject)}expandTextDivs(t=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function(t){const e=t._bounds,n=t._viewport,A=function(t,e,n){const r=n.map(function(t,e){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:e,x1New:void 0,x2New:void 0}});u(t,r);const A=new Array(n.length);for(const t of r){const e=t.index;A[e]={left:t.x1New,top:0,right:t.x2New,bottom:0}}n.map(function(e,n){const i=A[n],o=r[n];o.x1=e.top,o.y1=t-i.right,o.x2=e.bottom,o.y2=t-i.left,o.index=n,o.x1New=void 0,o.x2New=void 0}),u(e,r);for(const t of r){const e=t.index;A[e].top=t.x1New,A[e].bottom=t.x2New}return A}(n.width,n.height,e);for(let n=0;n<A.length;n++){const i=e[n].div,o=t._textDivProperties.get(i);if(0===o.angle){o.paddingLeft=e[n].left-A[n].left,o.paddingTop=e[n].top-A[n].top,o.paddingRight=A[n].right-e[n].right,o.paddingBottom=A[n].bottom-e[n].bottom,t._textDivProperties.set(i,o);continue}const s=A[n],a=e[n],c=a.m,u=c[0],h=c[1],d=[[0,0],[0,a.size[1]],[a.size[0],0],a.size],f=new Float64Array(64);for(let t=0,e=d.length;t<e;t++){const e=r.Util.applyTransform(d[t],c);f[t+0]=u&&(s.left-e[0])/u,f[t+4]=h&&(s.top-e[1])/h,f[t+8]=u&&(s.right-e[0])/u,f[t+12]=h&&(s.bottom-e[1])/h,f[t+16]=h&&(s.left-e[0])/-h,f[t+20]=u&&(s.top-e[1])/u,f[t+24]=h&&(s.right-e[0])/-h,f[t+28]=u&&(s.bottom-e[1])/u,f[t+32]=u&&(s.left-e[0])/-u,f[t+36]=h&&(s.top-e[1])/-h,f[t+40]=u&&(s.right-e[0])/-u,f[t+44]=h&&(s.bottom-e[1])/-h,f[t+48]=h&&(s.left-e[0])/h,f[t+52]=u&&(s.top-e[1])/-u,f[t+56]=h&&(s.right-e[0])/h,f[t+60]=u&&(s.bottom-e[1])/-u}const p=1+Math.min(Math.abs(u),Math.abs(h));o.paddingLeft=l(f,32,16)/p,o.paddingTop=l(f,48,16)/p,o.paddingRight=l(f,0,16)/p,o.paddingBottom=l(f,16,16)/p,t._textDivProperties.set(i,o)}}(this),this._bounds=null);const e=[],n=[];for(let r=0,A=this._textDivs.length;r<A;r++){const A=this._textDivs[r],i=this._textDivProperties.get(A);i.hasText&&(t?(e.length=0,n.length=0,i.originalTransform&&e.push(i.originalTransform),i.paddingTop>0?(n.push(`${i.paddingTop}px`),e.push(`translateY(${-i.paddingTop}px)`)):n.push(0),i.paddingRight>0?n.push(i.paddingRight/i.scale+"px"):n.push(0),i.paddingBottom>0?n.push(`${i.paddingBottom}px`):n.push(0),i.paddingLeft>0?(n.push(i.paddingLeft/i.scale+"px"),e.push(`translateX(${-i.paddingLeft/i.scale}px)`)):n.push(0),A.style.padding=n.join(" "),e.length&&(A.style.transform=e.join(" "))):(A.style.padding=null,A.style.transform=i.originalTransform))}}}e.TextLayerRenderTask=h},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var r=n(8),A=n(1),i=n(3);let o=class{constructor(){(0,A.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=o;{const s={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},a="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",l=["butt","round","square"],u=["miter","round","bevel"],h=function(t,e="",n=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!n)return URL.createObjectURL(new Blob([t],{type:e}));const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let A=`data:${e};base64,`;for(let e=0,n=t.length;e<n;e+=3){const i=255&t[e],o=255&t[e+1],s=255&t[e+2];A+=r[i>>2]+r[(3&i)<<4|o>>4]+r[e+1<n?(15&o)<<2|s>>6:64]+r[e+2<n?63&s:64]}return A},d=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),e=new Int32Array(256);for(let t=0;t<256;t++){let n=t;for(let t=0;t<8;t++)n=1&n?3988292384^n>>1&2147483647:n>>1&2147483647;e[t]=n}function n(t,n,r,A){let i=A;const o=n.length;r[i]=o>>24&255,r[i+1]=o>>16&255,r[i+2]=o>>8&255,r[i+3]=255&o,i+=4,r[i]=255&t.charCodeAt(0),r[i+1]=255&t.charCodeAt(1),r[i+2]=255&t.charCodeAt(2),r[i+3]=255&t.charCodeAt(3),i+=4,r.set(n,i),i+=n.length;const s=function(t,n,r){let A=-1;for(let i=n;i<r;i++){const n=255&(A^t[i]);A=A>>>8^e[n]}return-1^A}(r,A+4,i);r[i]=s>>24&255,r[i+1]=s>>16&255,r[i+2]=s>>8&255,r[i+3]=255&s}function r(t){let e=t.length;const n=65535,r=Math.ceil(e/n),A=new Uint8Array(2+e+5*r+4);let i=0;A[i++]=120,A[i++]=156;let o=0;for(;e>n;)A[i++]=0,A[i++]=255,A[i++]=255,A[i++]=0,A[i++]=0,A.set(t.subarray(o,o+n),i),i+=n,o+=n,e-=n;A[i++]=1,A[i++]=255&e,A[i++]=e>>8&255,A[i++]=255&~e,A[i++]=(65535&~e)>>8&255,A.set(t.subarray(o),i),i+=t.length-o;const s=function(t,e,n){let r=1,A=0;for(let e=0;e<n;++e)r=(r+(255&t[e]))%65521,A=(A+r)%65521;return A<<16|r}(t,0,t.length);return A[i++]=s>>24&255,A[i++]=s>>16&255,A[i++]=s>>8&255,A[i++]=255&s,A}return function(e,o,s){return function(e,o,s,a){const c=e.width,l=e.height;let u,d,f;const p=e.data;switch(o){case A.ImageKind.GRAYSCALE_1BPP:d=0,u=1,f=c+7>>3;break;case A.ImageKind.RGB_24BPP:d=2,u=8,f=3*c;break;case A.ImageKind.RGBA_32BPP:d=6,u=8,f=4*c;break;default:throw new Error("invalid format")}const g=new Uint8Array((1+f)*l);let m=0,w=0;for(let t=0;t<l;++t)g[m++]=0,g.set(p.subarray(w,w+f),m),w+=f,m+=f;if(o===A.ImageKind.GRAYSCALE_1BPP&&a){m=0;for(let t=0;t<l;t++){m++;for(let t=0;t<f;t++)g[m++]^=255}}const y=new Uint8Array([c>>24&255,c>>16&255,c>>8&255,255&c,l>>24&255,l>>16&255,l>>8&255,255&l,u,d,0,0,0]),b=function(t){if(!i.isNodeJS)return r(t);try{let e;e=parseInt(process.versions.node)>=8?t:Buffer.from(t);const n=__webpack_require__(2787).deflateSync(e,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(t){(0,A.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return r(t)}(g),v=t.length+36+y.length+b.length,B=new Uint8Array(v);let C=0;return B.set(t,C),C+=t.length,n("IHDR",y,B,C),C+=12+y.length,n("IDATA",b,B,C),C+=12+b.length,n("IEND",new Uint8Array(0),B,C),h(B,"image/png",s)}(e,void 0===e.kind?A.ImageKind.GRAYSCALE_1BPP:e.kind,o,s)}}();class f{constructor(){this.fontSizeScale=1,this.fontWeight=s.fontWeight,this.fontSize=0,this.textMatrix=A.IDENTITY_MATRIX,this.fontMatrix=A.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=A.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=s.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(t,e){this.x=t,this.y=e}}function p(t){let e=[];const n=[];for(const r of t)"save"!==r.fn?"restore"===r.fn?e=n.pop():e.push(r):(e.push({fnId:92,fn:"group",items:[]}),n.push(e),e=e.at(-1).items);return e}function g(t){if(Number.isInteger(t))return t.toString();const e=t.toFixed(10);let n=e.length-1;if("0"!==e[n])return e;do{n--}while("0"===e[n]);return e.substring(0,"."===e[n]?n:n+1)}function m(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${g(t[0])} ${g(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2])return`rotate(${g(180*Math.acos(t[0])/Math.PI)})`}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${g(t[4])} ${g(t[5])})`;return`matrix(${g(t[0])} ${g(t[1])} ${g(t[2])} ${g(t[3])} ${g(t[4])} ${g(t[5])})`}let w=0,y=0,b=0;e.SVGGraphics=o=class{constructor(t,e,n=!1){(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new f,this.transformMatrix=A.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=e,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const t in A.OPS)this._operatorIdMapping[A.OPS[t]]=t}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const e=t.fnArray,n=t.argsArray;for(let t=0,r=e.length;t<r;t++)if(e[t]===A.OPS.dependency)for(const e of n[t]){const t=e.startsWith("g_")?this.commonObjs:this.objs,n=new Promise(n=>{t.get(e,n)});this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(t,e,n,r,i,o){const s=[t,e,n,r,i,o];this.transformMatrix=A.Util.transform(this.transformMatrix,s),this.tgrp=null}getSVG(t,e){this.viewport=e;const n=this._initialize(e);return this.loadDependencies(t).then(()=>(this.transformMatrix=A.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),n))}convertOpList(t){const e=this._operatorIdMapping,n=t.argsArray,r=t.fnArray,A=[];for(let t=0,i=r.length;t<i;t++){const i=r[t];A.push({fnId:i,fn:e[i],args:n[t]})}return p(A)}executeOpTree(t){for(const e of t){const t=e.fn,n=e.fnId,r=e.args;switch(0|n){case A.OPS.beginText:this.beginText();break;case A.OPS.dependency:break;case A.OPS.setLeading:this.setLeading(r);break;case A.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case A.OPS.setFont:this.setFont(r);break;case A.OPS.showText:case A.OPS.showSpacedText:this.showText(r[0]);break;case A.OPS.endText:this.endText();break;case A.OPS.moveText:this.moveText(r[0],r[1]);break;case A.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case A.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case A.OPS.setHScale:this.setHScale(r[0]);break;case A.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case A.OPS.setTextRise:this.setTextRise(r[0]);break;case A.OPS.setTextRenderingMode:this.setTextRenderingMode(r[0]);break;case A.OPS.setLineWidth:this.setLineWidth(r[0]);break;case A.OPS.setLineJoin:this.setLineJoin(r[0]);break;case A.OPS.setLineCap:this.setLineCap(r[0]);break;case A.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case A.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case A.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case A.OPS.setStrokeColorN:this.setStrokeColorN(r);break;case A.OPS.setFillColorN:this.setFillColorN(r);break;case A.OPS.shadingFill:this.shadingFill(r[0]);break;case A.OPS.setDash:this.setDash(r[0],r[1]);break;case A.OPS.setRenderingIntent:this.setRenderingIntent(r[0]);break;case A.OPS.setFlatness:this.setFlatness(r[0]);break;case A.OPS.setGState:this.setGState(r[0]);break;case A.OPS.fill:this.fill();break;case A.OPS.eoFill:this.eoFill();break;case A.OPS.stroke:this.stroke();break;case A.OPS.fillStroke:this.fillStroke();break;case A.OPS.eoFillStroke:this.eoFillStroke();break;case A.OPS.clip:this.clip("nonzero");break;case A.OPS.eoClip:this.clip("evenodd");break;case A.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case A.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case A.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case A.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case A.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case A.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case A.OPS.closePath:this.closePath();break;case A.OPS.closeStroke:this.closeStroke();break;case A.OPS.closeFillStroke:this.closeFillStroke();break;case A.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case A.OPS.nextLine:this.nextLine();break;case A.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case A.OPS.constructPath:this.constructPath(r[0],r[1]);break;case A.OPS.endPath:this.endPath();break;case 92:this.group(e.items);break;default:(0,A.warn)(`Unimplemented operator ${t}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,e,n,r,A,i){const o=this.current;o.textMatrix=o.lineMatrix=[t,e,n,r,A,i],o.textMatrixScale=Math.hypot(t,e),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.ycoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size",`${g(o.fontSize)}px`),o.tspan.setAttributeNS(null,"y",g(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.append(o.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=A.IDENTITY_MATRIX,t.lineMatrix=A.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,e){const n=this.current;n.x=n.lineX+=t,n.y=n.lineY+=e,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${g(n.fontSize)}px`),n.tspan.setAttributeNS(null,"y",g(-n.y))}showText(t){const e=this.current,n=e.font,r=e.fontSize;if(0===r)return;const i=e.fontSizeScale,o=e.charSpacing,c=e.wordSpacing,l=e.fontDirection,u=e.textHScale*l,h=n.vertical,d=h?1:-1,f=n.defaultVMetrics,p=r*e.fontMatrix[0];let w=0;for(const A of t){if(null===A){w+=l*c;continue}if("number"==typeof A){w+=d*A*r/1e3;continue}const t=(A.isSpace?c:0)+o,s=A.fontChar;let a,u,g,m=A.width;if(h){let t;const e=A.vmetric||f;t=A.vmetric?e[1]:.5*m,t=-t*p;const n=e[2]*p;m=e?-e[0]:m,a=t/i,u=(w+n)/i}else a=w/i,u=0;(A.isInFont||n.missingFile)&&(e.xcoords.push(e.x+a),h&&e.ycoords.push(-e.y+u),e.tspan.textContent+=s),g=h?m*p-t*l:m*p+t*l,w+=g}e.tspan.setAttributeNS(null,"x",e.xcoords.map(g).join(" ")),h?e.tspan.setAttributeNS(null,"y",e.ycoords.map(g).join(" ")):e.tspan.setAttributeNS(null,"y",g(-e.y)),h?e.y-=w:e.x+=w*u,e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size",`${g(e.fontSize)}px`),e.fontStyle!==s.fontStyle&&e.tspan.setAttributeNS(null,"font-style",e.fontStyle),e.fontWeight!==s.fontWeight&&e.tspan.setAttributeNS(null,"font-weight",e.fontWeight);const y=e.textRenderingMode&A.TextRenderingMode.FILL_STROKE_MASK;if(y===A.TextRenderingMode.FILL||y===A.TextRenderingMode.FILL_STROKE?(e.fillColor!==s.fillColor&&e.tspan.setAttributeNS(null,"fill",e.fillColor),e.fillAlpha<1&&e.tspan.setAttributeNS(null,"fill-opacity",e.fillAlpha)):e.textRenderingMode===A.TextRenderingMode.ADD_TO_PATH?e.tspan.setAttributeNS(null,"fill","transparent"):e.tspan.setAttributeNS(null,"fill","none"),y===A.TextRenderingMode.STROKE||y===A.TextRenderingMode.FILL_STROKE){const t=1/(e.textMatrixScale||1);this._setStrokeAttributes(e.tspan,t)}let b=e.textMatrix;0!==e.textRise&&(b=b.slice(),b[5]+=e.textRise),e.txtElement.setAttributeNS(null,"transform",`${m(b)} scale(${g(u)}, -1)`),e.txtElement.setAttributeNS(a,"xml:space","preserve"),e.txtElement.append(e.tspan),e.txtgrp.append(e.txtElement),this._ensureTransformGroup().append(e.txtElement)}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const e=h(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${e}); }\n`}setFont(t){const e=this.current,n=this.commonObjs.get(t[0]);let r=t[1];e.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),e.fontMatrix=n.fontMatrix||A.FONT_IDENTITY_MATRIX;let i="normal";n.black?i="900":n.bold&&(i="bold");const o=n.italic?"italic":"normal";r<0?(r=-r,e.fontDirection=-1):e.fontDirection=1,e.fontSize=r,e.fontFamily=n.loadedName,e.fontWeight=i,e.fontStyle=o,e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"y",g(-e.y)),e.xcoords=[],e.ycoords=[]}endText(){const t=this.current;t.textRenderingMode&A.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement?.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=l[t]}setLineJoin(t){this.current.lineJoin=u[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,e,n){this.current.strokeColor=A.Util.makeHexColor(t,e,n)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,e,n){this.current.fillColor=A.Util.makeHexColor(t,e,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const e=this.viewport.width,n=this.viewport.height,r=A.Util.inverseTransform(this.transformMatrix),i=A.Util.applyTransform([0,0],r),o=A.Util.applyTransform([0,n],r),s=A.Util.applyTransform([e,0],r),a=A.Util.applyTransform([e,n],r),c=Math.min(i[0],o[0],s[0],a[0]),l=Math.min(i[1],o[1],s[1],a[1]),u=Math.max(i[0],o[0],s[0],a[0]),h=Math.max(i[1],o[1],s[1],a[1]),d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",c),d.setAttributeNS(null,"y",l),d.setAttributeNS(null,"width",u-c),d.setAttributeNS(null,"height",h-l),d.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&d.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(d)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const e=t[1],n=t[2],r=t[3]||A.IDENTITY_MATRIX,[i,o,s,a]=t[4],c=t[5],l=t[6],u=t[7],h="shading"+b++,[d,f,p,g]=A.Util.normalizeRect([...A.Util.applyTransform([i,o],r),...A.Util.applyTransform([s,a],r)]),[m,w]=A.Util.singularValueDecompose2dScale(r),y=c*m,v=l*w,B=this.svgFactory.createElement("svg:pattern");B.setAttributeNS(null,"id",h),B.setAttributeNS(null,"patternUnits","userSpaceOnUse"),B.setAttributeNS(null,"width",y),B.setAttributeNS(null,"height",v),B.setAttributeNS(null,"x",`${d}`),B.setAttributeNS(null,"y",`${f}`);const C=this.svg,_=this.transformMatrix,x=this.current.fillColor,F=this.current.strokeColor,S=this.svgFactory.create(p-d,g-f);if(this.svg=S,this.transformMatrix=r,2===u){const t=A.Util.makeHexColor(...e);this.current.fillColor=t,this.current.strokeColor=t}return this.executeOpTree(this.convertOpList(n)),this.svg=C,this.transformMatrix=_,this.current.fillColor=x,this.current.strokeColor=F,B.append(S.childNodes[0]),this.defs.append(B),`url(#${h})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const e="shading"+b++,n=t[3];let r;switch(t[1]){case"axial":const n=t[4],A=t[5];r=this.svgFactory.createElement("svg:linearGradient"),r.setAttributeNS(null,"id",e),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"x1",n[0]),r.setAttributeNS(null,"y1",n[1]),r.setAttributeNS(null,"x2",A[0]),r.setAttributeNS(null,"y2",A[1]);break;case"radial":const i=t[4],o=t[5],s=t[6],a=t[7];r=this.svgFactory.createElement("svg:radialGradient"),r.setAttributeNS(null,"id",e),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"cx",o[0]),r.setAttributeNS(null,"cy",o[1]),r.setAttributeNS(null,"r",a),r.setAttributeNS(null,"fx",i[0]),r.setAttributeNS(null,"fy",i[1]),r.setAttributeNS(null,"fr",s);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const t of n){const e=this.svgFactory.createElement("svg:stop");e.setAttributeNS(null,"offset",t[0]),e.setAttributeNS(null,"stop-color",t[1]),r.append(e)}return this.defs.append(r),`url(#${e})`;case"Mesh":return(0,A.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,e){this.current.dashArray=t,this.current.dashPhase=e}constructPath(t,e){const n=this.current;let r=n.x,i=n.y,o=[],s=0;for(const n of t)switch(0|n){case A.OPS.rectangle:r=e[s++],i=e[s++];const t=r+e[s++],n=i+e[s++];o.push("M",g(r),g(i),"L",g(t),g(i),"L",g(t),g(n),"L",g(r),g(n),"Z");break;case A.OPS.moveTo:r=e[s++],i=e[s++],o.push("M",g(r),g(i));break;case A.OPS.lineTo:r=e[s++],i=e[s++],o.push("L",g(r),g(i));break;case A.OPS.curveTo:r=e[s+4],i=e[s+5],o.push("C",g(e[s]),g(e[s+1]),g(e[s+2]),g(e[s+3]),g(r),g(i)),s+=6;break;case A.OPS.curveTo2:o.push("C",g(r),g(i),g(e[s]),g(e[s+1]),g(e[s+2]),g(e[s+3])),r=e[s+2],i=e[s+3],s+=4;break;case A.OPS.curveTo3:r=e[s+2],i=e[s+3],o.push("C",g(e[s]),g(e[s+1]),g(r),g(i),g(r),g(i)),s+=4;break;case A.OPS.closePath:o.push("Z")}o=o.join(" "),n.path&&t.length>0&&t[0]!==A.OPS.rectangle&&t[0]!==A.OPS.moveTo?o=n.path.getAttributeNS(null,"d")+o:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(n.path)),n.path.setAttributeNS(null,"d",o),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(r,i)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const e="clippath"+w++,n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",e),n.setAttributeNS(null,"transform",m(this.transformMatrix));const r=t.element.cloneNode(!0);if("evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.append(r),this.defs.append(n),t.activeClipUrl){t.clipGroup=null;for(const t of this.extraStack)t.clipGroup=null;n.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${e})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const e=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",e)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,A.warn)(`Unimplemented graphic state operator ${e}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,e=1){const n=this.current;let r=n.dashArray;1!==e&&r.length>0&&(r=r.map(function(t){return e*t})),t.setAttributeNS(null,"stroke",n.strokeColor),t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",g(n.miterLimit)),t.setAttributeNS(null,"stroke-linecap",n.lineCap),t.setAttributeNS(null,"stroke-linejoin",n.lineJoin),t.setAttributeNS(null,"stroke-width",g(e*n.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",r.map(g).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",g(e*n.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(t)}paintImageXObject(t){const e=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,A.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,e){const n=t.width,r=t.height,A=d(t,this.forceDataSchema,!!e),i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width",g(n)),i.setAttributeNS(null,"height",g(r)),this.current.element=i,this.clip("nonzero");const o=this.svgFactory.createElement("svg:image");o.setAttributeNS(c,"xlink:href",A),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",g(-r)),o.setAttributeNS(null,"width",g(n)+"px"),o.setAttributeNS(null,"height",g(r)+"px"),o.setAttributeNS(null,"transform",`scale(${g(1/n)} ${g(-1/r)})`),e?e.append(o):this._ensureTransformGroup().append(o)}paintImageMaskXObject(t){const e=this.current,n=t.width,r=t.height,A=e.fillColor;e.maskId="mask"+y++;const i=this.svgFactory.createElement("svg:mask");i.setAttributeNS(null,"id",e.maskId);const o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",g(n)),o.setAttributeNS(null,"height",g(r)),o.setAttributeNS(null,"fill",A),o.setAttributeNS(null,"mask",`url(#${e.maskId})`),this.defs.append(i),this._ensureTransformGroup().append(o),this.paintInlineImageXObject(t,i)}paintFormXObjectBegin(t,e){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e){const t=e[2]-e[0],n=e[3]-e[1],r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x",e[0]),r.setAttributeNS(null,"y",e[1]),r.setAttributeNS(null,"width",g(t)),r.setAttributeNS(null,"height",g(n)),this.current.element=r,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const e=this.svgFactory.create(t.width,t.height),n=this.svgFactory.createElement("svg:defs");e.append(n),this.defs=n;const r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",m(t.transform)),e.append(r),this.svg=r,e}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",m(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var r=n(1),A=n(33);const i=__webpack_require__(3237),o=__webpack_require__(7492),s=__webpack_require__(1815),a=__webpack_require__(6671),c=/^file:\/\/\/[a-zA-Z]:\//;e.PDFNodeStream=class{constructor(t){this.source=t,this.url=function(t){const e=a.parse(t);return"file:"===e.protocol||e.host?e:/^[a-z]:[/\\]/i.test(t)?a.parse(`file:///${t}`):(e.host||(e.protocol="file:"),e)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new p(this):new d(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new g(this,t,e):new f(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}};class l{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class u{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return null===t?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function h(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class d extends l{constructor(t){super(t);const e=e=>{if(404===e.statusCode){const t=new r.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=t,void this._headersCapability.reject(t)}this._headersCapability.resolve(),this._setReadableStream(e);const n=t=>this._readableStream.headers[t.toLowerCase()],{allowRangeRequests:i,suggestedLength:o}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=o||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(n)};this._request=null,"http:"===this._url.protocol?this._request=o.request(h(this._url,t.httpHeaders),e):this._request=s.request(h(this._url,t.httpHeaders),e),this._request.on("error",t=>{this._storedError=t,this._headersCapability.reject(t)}),this._request.end()}}class f extends u{constructor(t,e,n){super(t),this._httpHeaders={};for(const e in t.httpHeaders){const n=t.httpHeaders[e];void 0!==n&&(this._httpHeaders[e]=n)}this._httpHeaders.Range=`bytes=${e}-${n-1}`;const A=t=>{if(404===t.statusCode){const t=new r.MissingPDFException(`Missing PDF "${this._url}".`);return void(this._storedError=t)}this._setReadableStream(t)};this._request=null,"http:"===this._url.protocol?this._request=o.request(h(this._url,this._httpHeaders),A):this._request=s.request(h(this._url,this._httpHeaders),A),this._request.on("error",t=>{this._storedError=t}),this._request.end()}}class p extends l{constructor(t){super(t);let e=decodeURIComponent(this._url.path);c.test(this._url.href)&&(e=e.replace(/^\//,"")),i.lstat(e,(t,n)=>{if(t)return"ENOENT"===t.code&&(t=new r.MissingPDFException(`Missing PDF "${e}".`)),this._storedError=t,void this._headersCapability.reject(t);this._contentLength=n.size,this._setReadableStream(i.createReadStream(e)),this._headersCapability.resolve()})}}class g extends u{constructor(t,e,n){super(t);let r=decodeURIComponent(this._url.path);c.test(this._url.href)&&(r=r.replace(/^\//,"")),this._setReadableStream(i.createReadStream(r,{start:e,end:n-1}))}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=function(t,e){return 404===t||0===t&&e.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+e+'".'):new r.UnexpectedResponseException(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)},e.extractFilenameFromHeader=function(t){const e=t("Content-Disposition");if(e){let t=(0,A.getFilenameFromContentDispositionHeader)(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch(t){}if((0,i.isPdfFile)(t))return t}return null},e.validateRangeRequestCapabilities=function({getResponseHeader:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const A={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(t("Content-Length"),10);return Number.isInteger(i)?(A.suggestedLength=i,i<=2*n||r||!e||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(A.allowRangeRequests=!0),A):A},e.validateResponseStatus=function(t){return 200===t||206===t};var r=n(1),A=n(34),i=n(8)},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=function(t){let e=!0,n=A("filename\\*","i").exec(t);if(n){n=n[1];let t=s(n);return t=unescape(t),t=a(t),t=c(t),o(t)}if(n=function(t){const e=[];let n;const r=A("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(t));){let[,t,r,A]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[r,A]}const i=[];for(let t=0;t<e.length&&t in e;++t){let[n,r]=e[t];r=s(r),n&&(r=unescape(r),0===t&&(r=a(r))),i.push(r)}return i.join("")}(t),n)return o(c(n));if(n=A("filename","i").exec(t),n){n=n[1];let t=s(n);return t=c(t),o(t)}function A(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function i(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const A=new TextDecoder(t,{fatal:!0}),i=(0,r.stringToBytes)(n);n=A.decode(i),e=!1}catch(t){}}return n}function o(t){return e&&/[\x80-\xff]/.test(t)&&(t=i("utf-8",t),e&&(t=i("iso-8859-1",t))),t}function s(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replace(/\\(.)/g,"$1")}t=e.join('"')}return t}function a(t){const e=t.indexOf("'");return-1===e?t:i(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function c(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(t,e,n,r){if("q"===n||"Q"===n)return i(e,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}));try{r=atob(r)}catch(t){}return i(e,r)})}return""};var r=n(1)},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var r=n(1),A=n(33);class i{constructor(t,e={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.getXhr=e.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const r={begin:t,end:e};for(const t in n)r[t]=n[t];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const t in this.httpHeaders){const n=this.httpHeaders[t];void 0!==n&&e.setRequestHeader(t,n)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=206):r.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const A=n.xhr;if(A.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==A.readyState)return;if(!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],0===A.status&&this.isHttp)return void n.onError?.(A.status);const i=A.status||200;if((200!==i||206!==n.expectedStatus)&&i!==n.expectedStatus)return void n.onError?.(A.status);const o=function(t){const e=t.response;return"string"!=typeof e?e:(0,r.stringToBytes)(e).buffer}(A);if(206===i){const t=A.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);n.onDone({begin:parseInt(e[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):n.onError?.(A.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}e.PDFNetworkStream=class{constructor(t){this._source=t,this._manager=new i(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new o(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new s(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}};class o{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=t=>e.getResponseHeader(t),{allowRangeRequests:r,suggestedLength:i}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=(0,A.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,r.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class s{constructor(t,e,n){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=(0,A.createResponseStatusError)(t,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,r.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var r=n(1),A=n(33);function i(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function o(t){const e=new Headers;for(const n in t){const r=t[n];void 0!==r&&e.append(n,r)}return e}e.PDFFetchStream=class{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new s(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new a(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}};class s{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=o(this._stream.httpHeaders);const n=e.url;fetch(n,i(this._headers,this._withCredentials,this._abortController)).then(t=>{if(!(0,A.validateResponseStatus)(t.status))throw(0,A.createResponseStatusError)(t.status,n);this._reader=t.body.getReader(),this._headersCapability.resolve();const e=e=>t.headers.get(e),{allowRangeRequests:i,suggestedLength:o}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=o||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController.abort()}}class a{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController,this._headers=o(this._stream.httpHeaders),this._headers.append("Range",`bytes=${e}-${n-1}`);const a=s.url;fetch(a,i(this._headers,this._withCredentials,this._abortController)).then(t=>{if(!(0,A.validateResponseStatus)(t.status))throw(0,A.createResponseStatusError)(t.status,a);this._readCapability.resolve(),this._reader=t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){this._reader&&this._reader.cancel(t),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__w_pdfjs_require__),n.exports}var __nested_webpack_exports__={};return(()=>{var t=__nested_webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return A.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return i.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return s.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return l.SVGGraphics}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return n.version}});var e=__w_pdfjs_require__(1),n=__w_pdfjs_require__(4),r=__w_pdfjs_require__(8),A=__w_pdfjs_require__(22),i=__w_pdfjs_require__(7),o=__w_pdfjs_require__(27),s=__w_pdfjs_require__(15),a=__w_pdfjs_require__(3),c=__w_pdfjs_require__(30),l=__w_pdfjs_require__(31),u=__w_pdfjs_require__(29);if(a.isNodeJS){const{PDFNodeStream:t}=__w_pdfjs_require__(32);(0,n.setPDFNetworkStreamFactory)(e=>new t(e))}else{const{PDFNetworkStream:t}=__w_pdfjs_require__(35),{PDFFetchStream:e}=__w_pdfjs_require__(36);(0,n.setPDFNetworkStreamFactory)(n=>(0,r.isValidFetchUrl)(n.url)?new e(n):new t(n))}})(),__nested_webpack_exports__})(),module.exports=factory()},988:(t,e,n)=>{"use strict";n.d(e,{v:()=>l});var r,A=n(6014),i=n(3002),o=n(3116),s=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})},c=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.svgLinesErased=[],e.points=[],e}return s(e,t),e.prototype.setSVGLinesErased=function(t){this.svgLinesErased=t},Object.defineProperty(e.prototype,"xMax",{get:function(){return Math.max.apply(Math,function(t,e,n){if(n||2===arguments.length)for(var r,A=0,i=e.length;A<i;A++)!r&&A in e||(r||(r=Array.prototype.slice.call(e,0,A)),r[A]=e[A]);return t.concat(r||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,A,i=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(t){A={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(A)throw A.error}}return o}(this.points.map(function(t){return t.x})),!1))},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"erase",userid:this.userid,points:this.points}},e.prototype.addPoint=function(t){if(t.x=A.V.numberRound(t.x),t.y=A.V.numberRound(t.y),this.points.length>0){var e=this.points[this.points.length-1];if(Math.abs(t.x-e.x)<1&&Math.abs(t.y-e.y)<1)return}this.points.push(t)},e.prototype.redo=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){for(this.svgLinesErasedErase(),t=1;t<this.points.length;t++)i.H.clearLine(this.points[t-1].x,this.points[t-1].y,this.points[t].x,this.points[t].y,this.points[t].lineWidth);return[2]})})},e.prototype.undo=function(){return a(this,void 0,void 0,function(){return c(this,function(t){return this.svgLinesErasedRestore(),[2]})})},e.prototype.svgLinesErasedRestore=function(){},e.prototype.svgLinesErasedErase=function(){for(var t=0;t<this.points.length;t++)e.eraseSVG(this.points[t].x,this.points[t].y,this.points[t].lineWidth)},e.prototype.createOverviewImage=function(){return"url(img/icons/erase.svg)"},e.prototype.redoAnimated=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:this.svgLinesErasedErase(),t=1,e.label=1;case 1:return t<this.points.length?(i.H.clearLine(this.points[t-1].x,this.points[t-1].y,this.points[t].x,this.points[t].y,this.points[t].lineWidth),t%3!=0?[3,3]:[4,this.delay()]):[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e.eraseSVG=function(t,e,n){for(var r=document.getElementsByTagName("line"),i=0;i<r.length;i++){var o=r[i],s={x:parseInt(o.getAttributeNS(null,"x1")),y:parseInt(o.getAttributeNS(null,"y1"))},a={x:parseInt(o.getAttributeNS(null,"x2")),y:parseInt(o.getAttributeNS(null,"y2"))},c=A.V.middle(s,a);A.V.distance({x:t,y:e},c)<n&&o.remove()}},e}(o.r)},1024:(t,e,n)=>{"use strict";n.d(e,{r:()=>r});var r=function(){function t(){}return t.show=function(e){t._msg("msg",e)},t.error=function(e,n){console.log("error: "+e),n&&console.log(n),t._msg("error",e)},t._msg=function(e,n){var r=document.getElementById("msg");r.hidden=!1,r.innerHTML=n,r.classList.remove("error"),r.classList.remove("msg"),setTimeout(function(){return r.classList.add(e)},0);var A=function(){r.hidden=!0,t.timer=void 0};r.onclick=A,t.timer&&clearTimeout(t.timer),t.timer=setTimeout(A,3e3)},t.timer=void 0,t}()},1187:(t,e,n)=>{"use strict";n.d(e,{i:()=>r});var r=function(){function t(){}return t.createParticle=function(t,e,n,r){var A=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),i=1+2*Math.random();return A.setAttributeNS(null,"cx",""+t),A.setAttributeNS(null,"cy",""+e),A.setAttributeNS(null,"rx",""+i),A.setAttributeNS(null,"ry",""+i),A.setAttributeNS(null,"fill",r),A.style.pointerEvents="none",A.dataset.vx=""+(2*n*Math.random()-n),A.dataset.vy=""+(2*n*Math.random()-n),A.dataset.t="0",A},t.start=function(e,n,r,A,i){void 0===i&&(i=5);for(var o=function(i){var o=t.createParticle(e,n,20*r,A);document.getElementById("svg").appendChild(o);var s=function(){parseInt(o.dataset.t)>4?document.getElementById("svg").removeChild(o):(o.setAttribute("cx",""+(o.cx.baseVal.value+parseFloat(o.dataset.vx))),o.setAttribute("cy",""+(o.cy.baseVal.value+parseFloat(o.dataset.vy)+10*parseInt(o.dataset.t))),o.dataset.t=""+(parseInt(o.dataset.t)+1),o.style.opacity=""+(5-parseInt(o.dataset.t))/5,setTimeout(s,100))};s()},s=0;s<i;s++)o()},t}()},1706:(t,e,n)=>{"use strict";n.d(e,{R:()=>b});var r,A=n(2847),i=n(9085),o=n(2204),s=n(3981),a=n(3289),c=n(2079),l=n(4973),u=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e,n,r,A){var i=t.call(this)||this;return i.userid=e,i.taction=n,i.cut=r,i.magnetid=A,i.actionContour=o.q.timeline.actions[n],i}return u(e,t),e.prototype.undo=function(){c.S.execute("undomagnetize",[this.userid,this.taction,this.cut,JSON.stringify(this.actionContour.serialize())])},e.prototype.redo=function(){c.S.execute("magnetize",[this.userid,this.magnetid,this.taction,this.cut])},e}(l.I),d=n(4416),f=n(2326),p=n(9271),g=n(616),m=function(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})},w=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},y=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(){function t(){}return t.isSuitableForMagnetisation=function(e){var n=o.q.timeline.getIndexLastActionByUser(e);return t.isActionSuitableForMagnetisation(o.q.timeline.actions[n])},t.magnetize=function(e,n){var r=o.q.timeline.getIndexLastActionByUser(e);if(console.log("order to magnetize from action nยฐ".concat(r," from user ").concat(e)),t.isActionSuitableForMagnetisation(o.q.timeline.actions[r])){A.A.play("magnetcreationfromboard");var i=a.s.generateID(),s=new h(e,r,n,i);o.q.executeOperation(s)}},t.performMagnetize=function(e,n,r,A){return m(this,void 0,void 0,function(){var s,c,l;return w(this,function(u){switch(u.label){case 0:return console.log("order to magnetize from action nยฐ".concat(r," from user ").concat(e)),s=o.q.timeline.actions[r],[4,o.q.timeline.deleteAction(r)];case 1:return u.sent(),c=t.createMagnetFromCanvas(e,n,s.contour),A&&(l=new i.e(e,s.contour),o.q.timeline.insertActionNowAlreadyExecuted(l,!0)),a.s.currentMagnet=c,c.classList.add("magnet"),o.q.timeline.insertActionNowAlreadyExecuted(new f.z(e,c)),[2]}})})},t.undoMagnetize=function(t,e,n,r){return m(this,void 0,void 0,function(){return w(this,function(t){switch(t.label){case 0:return n?[4,o.q.timeline.deleteActions([e,e+1])]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,o.q.timeline.deleteActions([e])];case 3:t.sent(),t.label=4;case 4:return o.q.timeline.insertAction(r,e),[2]}})})},t.isActionSuitableForMagnetisation=function(t){return(t instanceof d.J||t instanceof p.Q||t instanceof g.H)&&(!(t instanceof d.J)||!t.isInteractive()&&function(t){var e,n;try{for(var r=y(t),A=r.next();!A.done;A=r.next()){var i=A.value;if(Math.abs(i.x-t[0].x)>16&&Math.abs(i.y-t[0].y)>16)return!0}}catch(t){e={error:t}}finally{try{A&&!A.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!1}(t.contour))},t.createMagnetFromCanvas=function(t,e,n){var r=new Image;r.id=e;var A=function(t){var e,n,r=(0,s.dX)(),A={x1:r.width,y1:r.height,x2:0,y2:0};try{for(var i=y(t),o=i.next();!o.done;o=i.next()){var a=o.value;A.x1=Math.min(A.x1,a.x-2),A.y1=Math.min(A.y1,a.y-2),A.x2=Math.max(A.x2,a.x+2),A.y2=Math.max(A.y2,a.y+2)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return A}(n);return r.src=o.q.getDataURLOfRectangle(A),r.style.clipPath="polygon("+n.map(function(t){return"".concat(t.x-A.x1,"px ").concat(t.y-A.y1,"px")}).join(", ")+")",r.style.left=A.x1+"px",r.style.top=A.y1+"px",r},t}()},1815:()=>{},1967:(t,e,n)=>{"use strict";n.d(e,{T:()=>B,i:()=>v});var r=n(7696),A=n(9625),i=n(4755),o=n(2326),s=n(9855),a=n(5757),c=n(8451),l=n(9085),u=n(2538),h=n(988),d=n(9271),f=n(616),p=n(4416),g=n(3470),m=n(6843),w=n(3039),y=n(6145),b=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},v=function(){function t(){}return t.deserialize=function(t){var e,n,v,C,_,x;if("init"==t.type)return new u.r(t.userid,t.canvasDataURL);if("ellipse"==t.type)return new f.H(t.userid,t.cx,t.cy,t.rx,t.ry,t.color);if("rectangle"==t.type)return new d.Q(t.userid,t.x1,t.y1,t.x2,t.y2,t.color);if("line"==t.type)return new g.f(t.userid,t.x1,t.y1,t.x2,t.y2,t.color);if("freedraw"==t.type){var F=new p.J(t.userid);try{for(var S=b(t.points),E=S.next();!E.done;E=S.next()){var U=E.value;F.addPoint(U)}}catch(t){e={error:t}}finally{try{E&&!E.done&&(n=S.return)&&n.call(S)}finally{if(e)throw e.error}}return F}if("fill"==t.type)return new A.W(t.userid,t.points,t.color);if("freedrawinteractivegraph"==t.type){F=new p.J(t.userid);try{for(var I=b(t.points),Q=I.next();!Q.done;Q=I.next())U=Q.value,F.addPoint(U)}catch(t){v={error:t}}finally{try{Q&&!Q.done&&(C=I.return)&&C.call(I)}finally{if(v)throw v.error}}return F.setInteractiveGraphInformation(t.magnet1id,t.magnet2id,t.magnet1point,t.magnet2point),F}if("erase"==t.type){F=new h.v(t.userid);try{for(var L=b(t.points),k=L.next();!k.done;k=L.next())U=k.value,F.addPoint(U)}catch(t){_={error:t}}finally{try{k&&!k.done&&(x=L.return)&&x.call(L)}finally{if(_)throw _.error}}return F}if("clearzone"==t.type)return new l.e(t.userid,t.points);if("clear"==t.type)return new m.E(t.userid);if("printmagnet"==t.type)return new c.e(t.userid,B(t.magnet),t.x,t.y);if("magnetnew"==t.type)return new o.z(t.userid,B(t.magnet));if("magnetmove"==t.type)return new s._(t.userid,t.magnetid,t.points);if("magnetdelete"==t.type)return new a.E(t.userid,t.magnetid);if("magnetswitchbackgroundforeground"==t.type)return new i.E(t.userid,t.magnetid,t.destination);if("magnetchangesizeratio"==t.type)return new r.r(t.userid,t.magnetid,t.ratio);if("slidestart"==t.type)return new w.o(t.userid);if("wait"==t.type)return new y.M(t.userid);throw"ActionDeserializer: unknown type of action"},t}();function B(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]}},2079:(t,e,n)=>{"use strict";n.d(e,{S:()=>M});var r=n(6043),A=n(8574),i=n(8922),o=n(4059),s=n(2779),a=function(){function t(){}return t.show=function(){document.getElementById("loading").hidden=!1},t.hide=function(){document.getElementById("loading").hidden=!0},t}(),c=n(3981),l=n(3289),u=n(2204),h=n(2521),d=n(1024),f=n(3778),p=n(1967),g=n(8696),m=n(2326),w=n(6459),y=n(6060),b=n(5306),v=n(9969),B=n(3002),C=n(3726),_=n(7696),x=n(4755),F=n(1706),S=n(6145),E=function(){function t(){}return t.mousedown=function(t,e){h.$.users[t].mousedown(e)},t.mousemove=function(t,e){null==h.$.users[t]&&console.log("why is "+t+" not declared?"),h.$.users[t].mousemove(e)},t.mouseup=function(t,e){h.$.users[t].mouseup(e)},t.setCurrentColor=function(t,e){h.$.users[t].setCurrentColor(e)},t.switchEraser=function(t){h.$.users[t].switchEraser()},t.switchDraw=function(t){h.$.users[t].switchDraw()},t.switchLine=function(t){h.$.users[t].switchLine()},t.switchRectangle=function(t){h.$.users[t].switchRectangle()},t.switchEllipseByBorder=function(t){h.$.users[t].switchEllipseByBorder()},t.switchEllipseByCenter=function(t){h.$.users[t].switchEllipseByCenter()},t.switchArc=function(t){h.$.users[t].switchArc()},t.toolArcSetAttributes=function(t,e,n){console.log(t);var r=h.$.users[t].tool;r instanceof C.x||d.r.error("the tool should be ToolArc"),r.setAttributes(e,n)},t.setCanWriteValueByDefault=function(t){M.canWriteValueByDefault=t},t.setUserCanWrite=function(t,e){h.$.setUserCanWrite(t,e)},t.setUserName=function(t,e){h.$.users[t].name=e,i.D.updateGUIUser(t)},t.boardReset=function(){u.q.reset(),v.W.hide()},t.boardClear=function(){u.q.newSlideAndClear(h.$.me.userID)},t.setWidthAtLeast=function(t){u.q.setWidthAtLeast(t)},t.divideScreen=function(t,e){B.H.divideScreen(t,e)},t.questionAdd=function(t,e,n){b.d.addQuestion(t,e,n)},t.setRoot=function(t){M.setRoot(t)},t.questionRemove=function(t){b.d.removeQuestion(t)},t.magnetize=function(t,e,n,r){F.R.performMagnetize(t,e,n,r)},t.undomagnetize=function(t,e,n,r){var A=p.i.deserialize(JSON.parse(r));F.R.undoMagnetize(t,e,n,A)},t.clearPolygon=function(t){B.H.clearPolygon(t)},t.printMagnet=function(t){l.s.printMagnet(document.getElementById(t))},t.magnetChange=function(t,e,n){var r=document.getElementById(e);if(r.outerHTML!=n&&(r.outerHTML=n,l.s.installMagnets()),g.h.isTextMagnet(r)){var A=u.q.getLastAction();A instanceof m.z?A.setMagnet(r):u.q.addAction(new m.z(t,r))}else u.q.addAction(new m.z(t,r))},t.magnetChangeSize=function(t,e,n){u.q.addAction(new _.r(t,e,n),!0)},t.magnetSwitchBackgroundForeground=function(t,e){u.q.addAction(new x.E(t,e,-document.getElementById(e).style.zIndex))},t.magnetMoveStart=function(t){w.i.start(t)},t.magnetMove=function(t,e,n){var r=parseInt(e),A=parseInt(n);w.i.move(t,r,A)},t.magnetMoveStop=function(t){w.i.stop(t)},t.magnetsClear=function(){l.s.clearMagnet()},t.magnetRemove=function(t){l.s.magnetRemove(t)},t.timelineAddAction=function(t,e){u.q.timeline.insertAction(p.i.deserialize(JSON.parse(e)),t)},t.timelineRemoveAction=function(t){u.q.timeline.deleteAction(t)},t.timelineSetCurrentIndex=function(t){u.q.setTimeLineCurrentIndex(t),f.S.update()},t.timelinePreviousFrame=function(){u.q.previousFrame()},t.timelinePreviousPausedFrame=function(){u.q.previousPausedFrame()},t.timelineNextFrame=function(){u.q.nextFrame()},t.timelineNextPausedFrame=function(){u.q.nextPausedFrame()},t.newSlide=function(t){u.q.newSlide(t)},t.newSlideAndClear=function(t){u.q.newSlideAndClear(t)},t.mergeSlide=function(t){u.q.mergeSlide(t)},t.forgetAnimation=function(t){u.q.forgetAnimation(t)},t.addActionWait=function(t){u.q.addAction(new S.M(t))},t.backgroundClear=function(){A.d.clear()},t.backgroundMusicScore=function(){A.d.musicScore()},t.backgroundGrid=function(){A.d.grid()},t.backgroundSeyes=function(){A.d.seyes()},t.documentsRemoveAll=function(){s.$.getDocumentPanel().innerHTML=""},t.insertDocumentImage=function(t,e){var n=document.createElement("img");n.src=t,n.style.position="absolute",n.style.left=e+"px",n.style.top="0px",n.style.height=y.P.STANDARDHEIGHT+"px",s.$.getDocumentPanel().appendChild(n)},t.loadBoard=function(t){r.e.loadJSON(JSON.parse(t))},t.setBackgroundColor=function(t){o.M.switchTo(t)},t}();const U=JSON.parse('{"E":{"o":"wss://tableaunoir.ens-lyon.fr:443/ws","F":"https://tableaunoir.github.io"}}');var I=n(6179),Q=n(4119),L=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,A,i=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(t){A={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(A)throw A.error}}return o},k=function(t,e,n){if(n||2===arguments.length)for(var r,A=0,i=e.length;A<i;A++)!r&&A in e||(r||(r=Array.prototype.slice.call(e,0,A)),r[A]=e[A]);return t.concat(r||Array.prototype.slice.call(e))},M=function(){function t(){}return t.tryConnect=function(e){var n=this;t.isTryingToConnect=!0,t.id=t.getIDInSharedURL(),null==t.ws&&(t.ws=new WebSocket(U.E.o),t.ws.binaryType="arraybuffer",t.ws.onerror=t.whenDisconnected,t.ws.onclose=t.whenDisconnected,t.ws.onopen=function(){t.protocolTestConnection(),e(),t.isTryingToConnect=!1},t.ws.onmessage=function(e){t.lastMessageTime=Date.now(),t._treatReceivedMessage(JSON.parse(e.data))},setInterval(function(){return n.send({type:"heartbeat",userid:h.$.me.userID})},3e3))},t.whenDisconnected=function(){d.r.error("You seem disconnected..."),t.isTryingToConnect||r.e.saveLocalStorage()},t.protocolTestConnection=function(){setInterval(function(){Date.now()-t.lastMessageTime>15e3&&t.whenDisconnected()},15e3)},t.init=function(){document.getElementById("shareButton").onclick=function(){t.isShared()||t.share()},document.getElementById("buttonShare").onclick=function(){t.isShared()?t.copyShareUrl():t.share()},document.getElementById("joinButton").onclick=function(){window.open(window.location.href,"_self")},document.getElementById("buttonOnlyRootCanWrite").onclick=function(){return t.setCanWriteForAllExceptMeAndRoot(!1)},document.getElementById("buttonAllCanWrite").onclick=function(){return t.setCanWriteForAllExceptMeAndRoot(!0)},t.isSharedURL()&&t.tryConnect(function(){try{null!=t.id&&(t.join(t.id),t.updateQRCodeAndTextBoxWithURL())}catch(e){t.ws=void 0,t.showConnectionError()}}),document.getElementById("buttonAskPrivilege").onclick=t.askPrivilege,document.getElementById("buttonCopyShareUrl").onclick=t.copyShareUrl},t.askPrivilege=function(){var e=document.getElementById("passwordCandidate").value;t.send({type:"askprivilege",password:e})},t.copyShareUrl=function(){var t=document.getElementById("shareUrl").value;Q.u.copy(t,"URL")},t.isShared=function(){return null!=t.id},t.showConnectionError=function(){d.r.error("Impossible to connect to the server")},t.isRoot=function(){return document.getElementById("askPrivilege").hidden},t.isPassword=function(){return""!=document.getElementById("password").value},t.share=function(){try{var e=document.getElementById("password").value;t.tryConnect(function(){return t.send({type:"share",password:e})}),document.getElementById("buttonShare").classList.add("alreadyShared"),document.getElementById("join").hidden=!0,t.setCanWriteForAllExceptMeAndRoot(""==e),t.setRoot(h.$.me.userID)}catch(e){t.ws=void 0,t.showConnectionError()}},t._treatReceivedMessage=function(e){switch(e.type){case"id":t._setTableauID(e.id);break;case"youruserid":h.$.setMyUserID(e.userid),document.getElementById("shareAndJoin").hidden=!0,document.getElementById("buttonShare").classList.add("alreadyShared");break;case"user":if(console.log("existing user: ",e.userid),e.userid==h.$.me.userID)throw"oops... an already existing user has the same name than me";h.$.add(e.userid);break;case"wait":a.show();break;case"ready":a.hide();break;case"setWidth":(0,c.dX)().width=e.width;break;case"root":1==h.$.getNumberOfUsers()&&(t.canWriteValueByDefault=!0),t.execute("setRoot",[h.$.me.userID]);break;case"accessdenied":d.r.error("Access denied");break;case"join":console.log("a new user is joining: ",e.userid),h.$.add(e.userid),h.$.isIamResponsibleForData()&&t.sendAllDataTo(e.userid);break;case"heartbeat":h.$.users[e.userid].recordHeartBeat();break;case"leave":h.$.leave(e.userid);break;case"fullCanvas":a.hide(),u.q.load(e.data);break;case"actions":a.hide(),console.log("list of actions received"),u.q.timeline.load(JSON.parse(e.data),e.t),console.log("list of actions loaded");break;case"action":u.q.timeline.insertActionNowAlreadyExecuted(p.i.deserialize(e.action));break;case"svg":console.log("received svg!"),document.getElementById("svg").innerHTML=e.data,I.O.reset();break;case"documents":s.$.getDocumentPanel().innerHTML=e.data;break;case"magnets":document.getElementById("magnets").innerHTML=e.magnets,l.s.installMagnets();break;case"background":A.d.set(e.data);break;case"magnetChanged":document.getElementById(e.magnetid).outerHTML=e.data,l.s.installMagnets();break;case"newmagnet":l.s.addMagnetFromAnotherUser(e.userid,(0,p.T)(e.data));break;case"execute":if(!E[e.event])throw"Event "+e.event+" not found. I do not understand what I received from the server.";E[e.event].apply(E,k([],L(e.params),!1))}},t.sendAllDataTo=function(e){for(var n in t.send({type:"wait",to:e}),t.executeTo("setCanWriteValueByDefault",[t.canWriteValueByDefault],e),t.execute("setUserCanWrite",[e,t.canWriteValueByDefault]),h.$.users){t.executeTo("setUserName",[n,h.$.users[n].name],e),t.executeTo("setCurrentColor",[n,h.$.users[n].color],e),t.executeTo("setUserCanWrite",[n,h.$.users[n].canWrite],e);var r=h.$.users[n],i=r.tool.name;t.executeTo("switch"+i.substring(4),[n],e),r.isRoot&&t.executeTo("setRoot",[n],e)}t.send({type:"setWidth",width:(0,c.dX)().width,to:e}),t.executeTo("setBackgroundColor",[o.M.currentBackgroundTexture],e),t.sendMagnets(e),t.send({type:"actions",to:e,data:JSON.stringify(u.q.timeline.serialize()),t:u.q.timeline.getCurrentIndex()}),t.send({type:"svg",to:e,data:document.getElementById("svg").innerHTML}),t.send({type:"ready",to:e}),t.send({type:"documents",to:e,data:s.$.getDocumentPanel().innerHTML}),A.d.is&&t.send({type:"background",to:e,data:A.d.dataURL})},t.setRoot=function(t){console.log("setRoot(".concat(t,")")),h.$.setUserCanWrite(t,!0),h.$.users[t].isRoot=!0,h.$.me.userID==t?(console.log("setRoot(".concat(t,"): it is me")),document.getElementById("askPrivilege").hidden=!0,document.getElementById("shareMode").hidden=!1,i.D.updateGUIUsers()):i.D.updateGUIUser(t)},t.send=function(e){e.id=t.id,this.ws.send(JSON.stringify(e))},t.sendFullCanvas=function(e){t.send({type:"fullCanvas",data:(0,c.dX)().toDataURL(),to:e})},t.sendMagnets=function(e){t.isShared()&&(e?t.send({type:"magnets",magnets:document.getElementById("magnets").innerHTML,to:e}):t.send({type:"magnets",magnets:document.getElementById("magnets").innerHTML}))},t.sendNewMagnet=function(e){console.log("new magnet sent!"),t.send({type:"newmagnet",userid:h.$.me.userID,data:e.outerHTML})},t.sendMagnetChanged=function(e){t.send({type:"magnetChanged",magnetid:e.id,data:e.outerHTML})},t._adaptObjectForExecute=function(t){return t instanceof MouseEvent?{pressure:t.pressure,offsetX:t.offsetX,offsetY:t.offsetY,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,button:t.button}:t},t.executeTo=function(e,n,r){t.send({type:"execute",event:e,params:n.map(function(e){return t._adaptObjectForExecute(e)}),to:r})},t.execute=function(e,n){E[e].apply(E,k([],L(n),!1)),t.isShared()&&t.send({type:"execute",event:e,params:n.map(function(e){return t._adaptObjectForExecute(e)})})},t.updateQRCodeAndTextBoxWithURL=function(){Array.from(document.getElementsByClassName("visibleIfShared")).forEach(function(t){t.hidden=!1});var e=document.location.href,n=e.startsWith("file://")?U.E.F+"?id="+t.id:e;!function(t){var e=document.getElementById("qrcode");e.hidden=!1,e.src="https://qrcode.tec-it.com/API/QRCode?data="+t}(n),document.getElementById("shareUrl").value=n},t._setTableauID=function(e){t.id=e;var n=document.location.href,r=n.indexOf("?")>=0?n+"&id="+e:n+"?id="+e;history.pushState({},null,r),t.updateQRCodeAndTextBoxWithURL(),t.copyShareUrl(),i.D.updateGUIUsers()},t.isSharedURL=function(){return null!=new URL(document.location.href).searchParams.get("id")},t.getTableauNoirID=function(){return t.isSharedURL()?t.getIDInSharedURL():"local"},t.getIDInSharedURL=function(){return new URL(document.location.href).searchParams.get("id")},t.join=function(e){r.e.loadFromLocalStorage(),t.execute("setUserCanWrite",[h.$.me.userID,!1]),t.canWriteValueByDefault=!1,t.send({type:"join",id:e})},t.setCanWriteForAllExceptMeAndRoot=function(e){for(var n in console.log("setCanWriteForAllExceptMeAndRoot(".concat(e,")")),t.execute("setCanWriteValueByDefault",[e]),h.$.users){var r=h.$.users[n]==h.$.me||h.$.users[n].isRoot;t.execute("setUserCanWrite",[n,r||e])}},t.ws=void 0,t.id=void 0,t.canWriteValueByDefault=!0,t.lastMessageTime=Date.now(),t.isTryingToConnect=!1,t}()},2204:(t,e,n)=>{"use strict";n.d(e,{q:()=>K});var r,A=n(9873),i=n(3039),o=n(6843),s=n(2521),a=n(2079),c=n(4973),l=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e,n){var r=t.call(this)||this;return r.action=e,r.t=n,r}return l(e,t),e.prototype.undo=function(){var t=K.timeline.getTimeStepForActionCloseTo(this.action,this.t);console.log("undo by removing the corresponding action that is at timestep ".concat(t)),t>=0&&a.S.execute("timelineRemoveAction",[t])},e.prototype.redo=function(){a.S.execute("timelineAddAction",[this.t,JSON.stringify(this.action.serialize())])},e}(c.I),h=function(){function t(){this.operations=[],this.currentIndex=-1}return t.prototype.canUndo=function(){return this.currentIndex>=0},t.prototype.canRedo=function(){return this.currentIndex<this.operations.length-1},t.prototype.undo=function(){this.canUndo&&(this.operations[this.currentIndex].undo(),this.currentIndex--,this.updateButtons())},t.prototype._push=function(t){for(this.currentIndex++;this.operations.length>this.currentIndex;)this.operations.pop();this.operations.push(t),this.currentIndex=this.operations.length-1},t.prototype.push=function(t){this._push(t),this.updateButtons()},t.prototype.redo=function(){this.canRedo&&(this.currentIndex++,this.operations[this.currentIndex].redo(),this.updateButtons())},t.prototype.updateButtons=function(){this.canUndo()?document.getElementById("buttonCancel").classList.remove("disabled"):document.getElementById("buttonCancel").classList.add("disabled"),this.canRedo()?document.getElementById("buttonRedo").classList.remove("disabled"):document.getElementById("buttonRedo").classList.add("disabled")},t}(),d=n(5757),f=n(2326),p=n(3289),g=n(3778),m=n(3981),w=n(6060),y=n(3002),b=n(1024),v=n(1967),B=n(2538),C=function(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})},_=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},x=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F=function(){function t(){this.actions=[],this.currentIndex=-1}return t.prototype.getSlideNumber=function(){for(var t=1,e=1;e<=this.currentIndex;e++)this.actions[e]instanceof i.o&&t++;return t},t.prototype.clear=function(){var t=new i.o(s.$.me.userID);this.actions=[t],this.currentIndex=0},t.prototype.setCurrentIndex=function(t){return C(this,void 0,void 0,function(){var e;return _(this,function(n){switch(n.label){case 0:return e=this.currentIndex,this.currentIndex=Math.min(this.actions.length-1,t),[4,this.updateState(e)];case 1:return n.sent(),[2]}})})},Object.defineProperty(t.prototype,"nbActions",{get:function(){return this.actions.length},enumerable:!1,configurable:!0}),t.prototype.getTimeStepForActionCloseTo=function(t,e){if(this.actions[e]==t)return e;var n=JSON.stringify(t.serialize());return this.actions[e]&&JSON.stringify(this.actions[e].serialize())==n?e:this.actions.findIndex(function(e){return e.constructor==t.constructor&&n==JSON.stringify(e.serialize())})},t.prototype.updateState=function(t){return C(this,void 0,void 0,function(){var e,n,r,A,i;return _(this,function(o){switch(o.label){case 0:if(e=this.currentIndex,!(t<=e))return[3,5];n=t+1,o.label=1;case 1:return n<=e?[4,this.actions[n].redo()]:[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[3,15];case 5:if(!(this.getNextClearAction()>t))return[3,14];r=!1,A=!1,i=t,o.label=6;case 6:return i>=e+1?null!=this.actions[i]?[3,7]:(b.r.error("issue #113. error with t = "+i+" try to undo/redo again"),r=!0,[3,10]):[3,11];case 7:return this.actions[i].isDirectlyUndoable?[4,this.actions[i].undo()]:[3,9];case 8:return o.sent(),[3,10];case 9:A=!0,o.label=10;case 10:return i--,[3,6];case 11:return A?(y.H.clear(),[4,this.canvasRedraw()]):[3,13];case 12:o.sent(),o.label=13;case 13:return r&&this.repair(),[3,15];case 14:this.resetAndUpdate(),o.label=15;case 15:return[2]}})})},t.prototype.getCurrentIndex=function(){return this.currentIndex},t.prototype.getIndexLastActionByUser=function(t){for(var e=this.currentIndex;e>=0;e--)if(this.actions[e].userid==t)return e;return-1},t.prototype.clearAndReset=function(t){var e=new B.r(s.$.me.userID,t);e.redo(),this.actions=[e],this.currentIndex=0},t.prototype.load=function(t,e){return C(this,void 0,void 0,function(){var n,r,A,o,s,a;return _(this,function(c){this.actions=[];try{for(n=x(t),r=n.next();!r.done;r=n.next())A=r.value,o="init"==A.type&&null==A.canvasDataURL?new i.o(void 0):v.i.deserialize(A),this.actions.push(o),A.pause&&this.actions.push(new i.o(void 0))}catch(t){s={error:t}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return this.currentIndex=e,console.log("loaded stack with "+this.actions.length+" elements"),this.resetAndUpdate(),[2]})})},t.prototype.resetAndUpdate=function(){return C(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return y.H.clear(),K.MAGNETCANCELLABLE&&(document.getElementById("magnets").innerHTML=""),[4,this.doAllActionsUntilCurrentIndex()];case 1:return t.sent(),[2]}})})},t.prototype.doAllActionsUntilCurrentIndex=function(){return C(this,void 0,void 0,function(){var t,e;return _(this,function(n){switch(n.label){case 0:t=!1,e=this.getLastClearAction()+1,n.label=1;case 1:return e<=this.currentIndex?null!=this.actions[e]?[3,2]:(b.r.error("issue #113. error with t = "+e+" try to undo/redo again"),t=!0,[3,4]):[3,5];case 2:return[4,this.actions[e].redo()];case 3:n.sent(),n.label=4;case 4:return e++,[3,1];case 5:return t&&this.repair(),[2]}})})},t.prototype.moveAction=function(t,e){var n=this.actions[t];this.actions.splice(t,1),this.actions.splice(e,0,n)},t.prototype.insertAction=function(t,e,n){void 0===n&&(n=!0),this.actions.splice(e,0,t),e==this.currentIndex+1?(this.currentIndex++,n&&this.actions[e].redo()):(e<=this.currentIndex&&this.currentIndex++,this.resetAndUpdate()),g.S.updateAddAction(e)},t.prototype.insertActions=function(t,e){for(var n=0;n<e.length;n++){var r=t[n],A=e[n];this.actions.splice(r,0,A),r<=this.currentIndex&&this.currentIndex++}this.resetAndUpdate(),g.S.update()},t.prototype.insertActionNowAlreadyExecuted=function(t,e){void 0===e&&(e=!0),this.insertAction(t,this.currentIndex+1,e)},t.prototype.deleteActions=function(t){return C(this,void 0,void 0,function(){var e,n;return _(this,function(r){switch(r.label){case 0:for(e=t.length-1;e>=0;e--)(n=t[e])<=this.currentIndex&&this.currentIndex--,this.actions.splice(n,1);return 0==this.actions.length&&this.clear(),[4,this.resetAndUpdate()];case 1:return r.sent(),g.S.update(),[2]}})})},t.prototype.deleteAction=function(t){return C(this,void 0,void 0,function(){return _(this,function(e){switch(e.label){case 0:return 0==t?[2]:t!=this.currentIndex?[3,2]:(this.currentIndex--,[4,this.updateState(t)]);case 1:e.sent(),e.label=2;case 2:return this.actions.splice(t,1),t<this.currentIndex?(this.currentIndex--,[4,this.resetAndUpdate()]):[3,4];case 3:e.sent(),e.label=4;case 4:return 0==this.actions.length&&this.clear(),g.S.updateDeleteAction(t),[2]}})})},t.prototype.getLastClearAction=function(){for(var t=this.currentIndex;t>=0;t--)if(this.actions[t]instanceof o.E)return t;return 0},t.prototype.getNextClearAction=function(){for(var t=this.currentIndex;t<this.actions.length;t++)if(this.actions[t]instanceof o.E)return t;return 1/0},t.prototype.canvasRedraw=function(){return C(this,void 0,void 0,function(){var t,e;return _(this,function(n){switch(n.label){case 0:t=!1,e=this.getLastClearAction()+1,n.label=1;case 1:return e<=this.currentIndex?null!=this.actions[e]?[3,2]:(b.r.error("issue #113. error with t = "+e+" try to undo/redo again"),t=!0,[3,4]):[3,5];case 2:return this.actions[e].isDirectlyUndoable?[3,4]:[4,this.actions[e].redo()];case 3:n.sent(),n.label=4;case 4:return e++,[3,1];case 5:return t&&this.repair(),[2]}})})},t.prototype.getLastAction=function(){return this.actions[this.currentIndex]},t.prototype.getPreviousSlideLastFrame=function(){for(var t=this.currentIndex-1;t>=0;t--)if(this.actions[t]instanceof i.o)return t-1;return this.currentIndex},t.prototype.getNextNewSlideActionIndex=function(){for(var t=this.currentIndex+1;t<=this.actions.length-1;t++)if(this.actions[t]instanceof i.o)return t},t.prototype.getNextSlideLastFrame=function(){for(var t=this.currentIndex+2;t<=this.actions.length-1;t++)if(this.actions[t]instanceof i.o)return t-1;return this.actions.length-1},t.prototype.previousPausedFrame=function(){return C(this,void 0,void 0,function(){var t;return _(this,function(e){return this.isBegin()||(t=this.getPreviousSlideLastFrame())>0&&this.setCurrentIndex(t),[2]})})},t.prototype.previousFrame=function(){return C(this,void 0,void 0,function(){var t;return _(this,function(e){return this.isBegin()||(t=this.getCurrentIndex()-1,this.setCurrentIndex(t)),[2]})})},t.prototype.nextPausedFrame=function(){return C(this,void 0,void 0,function(){var t,e;return _(this,function(n){switch(n.label){case 0:if(this.isEnd())return[2];t=this.getNextSlideLastFrame(),e=this.currentIndex+1,n.label=1;case 1:return e<=t?this.actions[e].isBlocking?[4,this.actions[e].redoAnimated()]:[3,3]:[3,5];case 2:return n.sent(),[3,4];case 3:this.actions[e].redoAnimated(),n.label=4;case 4:return e++,[3,1];case 5:return this.currentIndex=t,[2]}})})},t.prototype.nextFrame=function(){return C(this,void 0,void 0,function(){var t;return _(this,function(e){return this.isEnd()||(t=this.getCurrentIndex()+1,this.setCurrentIndex(t)),[2]})})},t.prototype.isBegin=function(){return this.currentIndex<=0},t.prototype.isEnd=function(){return this.currentIndex>=this.actions.length-1},t.prototype.__str__=function(){for(var t="",e=0;e<this.actions.length;e++)t+=0==e?"i":null==this.actions[e]?"u":"a",t+=e==this.currentIndex?". ":"  ";return t},t.prototype.repair=function(){this.actions.indexOf(void 0)>=0&&(b.r.error("#113 issue"),this.actions=this.actions.filter(function(t){return null!=t}),this.currentIndex=this.actions.length-1)},t.prototype.serialize=function(){return this.repair(),this.actions.map(function(t){return t?t.serialize():void 0})},t.prototype.isSeveralSlides=function(){var t,e,n=0;try{for(var r=x(this.actions),A=r.next();!A.done;A=r.next())if(A.value instanceof i.o&&++n>1)return!0}catch(e){t={error:e}}finally{try{A&&!A.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return!1},t}(),S=n(9855),E=n(4711),U=n(328),I=n(9085),Q=n(8451),L=n(7360),k=n(4416),M=n(988),P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},N=function(t){function e(e,n){var r=t.call(this)||this;return r.indices=e,r.vector=n,r}return P(e,t),e.prototype._translate=function(t){var e,n,r,A,i,o;try{for(var s=T(this.indices),a=s.next();!a.done;a=s.next()){var c=a.value,l=K.timeline.actions[c];if(l instanceof k.J)try{for(var u=(r=void 0,T(l.points)),h=u.next();!h.done;h=u.next())(p=h.value).x+=t.x,p.y+=t.y}catch(t){r={error:t}}finally{try{h&&!h.done&&(A=u.return)&&A.call(u)}finally{if(r)throw r.error}}else if(l instanceof M.v)try{for(var d=(i=void 0,T(l.points)),f=d.next();!f.done;f=d.next()){var p;(p=f.value).x+=t.x,p.y+=t.y}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},e.prototype.undo=function(){this._translate({x:-this.vector.x,y:-this.vector.y})},e.prototype.redo=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){return this._translate(this.vector),[2]})},new((n=void 0)||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())});var t,e,n,r},e}(c.I),D=n(6014),O=n(7696),H=function(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})},R=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},j=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},K=function(){function t(){}return t.setTimeLineCurrentIndex=function(e){t.timeline.setCurrentIndex(e),t.updateSlideNumber()},t.init=function(){document.getElementById("blackboardClear").onclick=function(){confirm("Do you want to clear and reset the board?")&&a.S.execute("boardReset",[])},U.x.boolean({name:"presentationSlideNumber",defaultValue:!0,onChange:function(e){t.isSlideNumber=e,t.updateSlideNumber()}})},t.reset=function(){var e=(0,m.dX)();e.width=e.width+0,p.s.resetMagnets(),t.timeline.clear(),t.cancelStack=new h,g.S.update()},t.setWidthAtLeast=function(e){var n=(0,m.dX)();n.width<e&&(n.width=e,t.timeline.canvasRedraw())},t._createCanvasForRectangle=function(t){var e=document.createElement("canvas");return e.width=t.x2-t.x1,e.height=t.y2-t.y1,e.getContext("2d").drawImage((0,m.dX)(),t.x1,t.y1,t.x2-t.x1,t.y2-t.y1,0,0,t.x2-t.x1,t.y2-t.y1),e},t._toBlobOfRectangle=function(e,n){t._createCanvasForRectangle(e).toBlob(n)},t.getDataURLOfRectangle=function(e){return t._createCanvasForRectangle(e).toDataURL()},t.deleteAction=function(e){return H(this,void 0,void 0,function(){var n;return R(this,function(r){switch(r.label){case 0:return n=new A.o([e]),t.timeline.actions[e].userid==s.$.me.userID&&t.cancelStack.push(n),[4,n.redo()];case 1:return r.sent(),[2]}})})},t.addAction=function(e,n){if(void 0===n&&(n=!0),t.MAGNETCANCELLABLE||!(e instanceof f.z||e instanceof S._||e instanceof d.E)){var r=new u(e,t.timeline.getCurrentIndex()+1);e.userid==s.$.me.userID&&t.cancelStack.push(r),t.setWidthAtLeast(e.xMax),t.timeline.insertActionNowAlreadyExecuted(e,n)}},t.executeOperation=function(e){e.redo(),t.cancelStack.push(e)},t.getLastAction=function(){return t.timeline.getLastAction()},t.getCurrentScreenRectangle=function(){var t=document.getElementById("container"),e=t.scrollLeft,n=t.scrollTop;return{x1:e,y1:n,x2:e+w.P.getWindowWidth(),y2:n+w.P.getWindowHeight()}},t.load=function(e){try{t.timeline.clearAndReset(e)}catch(t){}},t.cancel=function(e){return H(this,void 0,void 0,function(){return R(this,function(e){return t.cancelStack.canUndo()?(t.cancelStack.undo(),t.updateSlideNumber(),[2]):[2]})})},t.redo=function(e){return H(this,void 0,void 0,function(){return R(this,function(e){return t.cancelStack.canRedo()?(t.cancelStack.redo(),t.updateSlideNumber(),[2]):[2]})})},t.previousPausedFrame=function(){return H(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return[4,E._.ensureEnd()];case 1:return e.sent(),[4,t.timeline.previousPausedFrame()];case 2:return e.sent(),g.S.updateCurrentIndex(),t.updateSlideNumber(),[2]}})})},t.nextPausedFrame=function(){return H(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return E._.isRunning?[4,E._.ensureEnd()]:[3,2];case 1:return e.sent(),t.updateSlideNumber(),[3,4];case 2:return t.updateSlideNumber(1),E._.begin(),[4,t.timeline.nextPausedFrame()];case 3:e.sent(),E._.end(),g.S.updateCurrentIndex(),t.updateSlideNumber(),e.label=4;case 4:return[2]}})})},t.fastNextPausedFrame=function(){return H(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return[4,E._.ensureEnd()];case 1:return e.sent(),t.timeline.nextPausedFrame(),g.S.updateCurrentIndex(),[2]}})})},t.updateSlideNumber=function(e){void 0===e&&(e=0);var n=document.getElementById("slideNumber");t.timeline.isSeveralSlides()?(n.hidden=!t.isSlideNumber,n.innerHTML=""+(t.timeline.getSlideNumber()+e)):n.hidden=!0},t.previousFrame=function(){return H(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return[4,E._.ensureEnd()];case 1:return e.sent(),[4,t.timeline.previousFrame()];case 2:return e.sent(),g.S.updateCurrentIndex(),[2]}})})},t.nextFrame=function(){return H(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return[4,E._.ensureEnd()];case 1:return e.sent(),[4,t.timeline.nextFrame()];case 2:return e.sent(),g.S.updateCurrentIndex(),[2]}})})},t.newSlideAndClear=function(e){t.addAction(new i.o(e)),t.updateSlideNumber(),document.getElementById("content").style.filter="invert(0.5)",t.addAction(new o.E(e)),setTimeout(function(){return document.getElementById("content").style.filter=""},100)},t.newSlide=function(e){t.addAction(new i.o(e)),t.updateSlideNumber(),document.getElementById("content").style.filter="invert(0.5)",setTimeout(function(){return document.getElementById("content").style.filter=""},100)},t.mergeSlide=function(e){var n=t.timeline.getNextNewSlideActionIndex();n&&t.executeOperation(new A.o([n]))},Object.defineProperty(t,"width",{get:function(){return Math.max.apply(Math,function(t,e,n){if(n||2===arguments.length)for(var r,A=0,i=e.length;A<i;A++)!r&&A in e||(r||(r=Array.prototype.slice.call(e,0,A)),r[A]=e[A]);return t.concat(r||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,A,i=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(t){A={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(A)throw A.error}}return o}(this.timeline.actions.map(function(t){return t.xMax})),!1))},enumerable:!1,configurable:!0}),t.forgetAnimation=function(e){var n,r,i,s,a,c,l,h,p,g,m,w,y,b,v=t.timeline,B=v.getCurrentIndex(),C=v.getLastClearAction(),_=v.getPreviousSlideLastFrame()+1,x=function(t,e,n,r){for(var A=[],i=e;i<=n;i++)r(t[i],i)&&A.push(i);return A};if(console.log("tbegin = ".concat(_,", t = ").concat(B)),B>_&&(0==_||v.actions[_+1]instanceof o.E)){console.log("good slide");for(var F=function(n){var r=v.actions[n],i=v.actions[n+1];if(r instanceof I.e&&i instanceof f.z){var o=i.magnetid,s=r.points;console.log("recognize maybe a translation");var a=function(t,e,n,r){for(var A=e;A<=n;A++)if(r(t[A]))return A}(v.actions,n,B,function(t){return t instanceof Q.e&&t.magnet.id==o});if(a){v.actions[a];var c=x(v.actions,n,a,function(t){return t instanceof S._&&t.magnetid==o}),l=parseInt(i.magnet.style.left),u=parseInt(i.magnet.style.top);if(L.l.almostSameListOfPoints(L.l.clipPathToPoints(i.magnet.style.clipPath).map(function(t){return{x:t.x+l,y:t.y+u}}),s)){console.log("recognize translation");var h=x(v.actions,_,n,function(t){return(t instanceof k.J||t instanceof M.v)&&t.points.every(function(t){return L.l.isInsidePolygon(t,s)})}),d=void 0;if(0==c.length)d={x:0,y:0};else{var p=v.actions[c[0]],g=v.actions[c[c.length-1]];d={x:g.points[g.points.length-1].x-p.points[0].x,y:g.points[g.points.length-1].y-p.points[0].y}}return t.executeOperation(new A.o([n,a])),t.executeOperation(new N(h,d)),E.forgetAnimation(e),{value:void 0}}}}},E=this,U=_;U<=B-4;U++){var P=F(U);if("object"==typeof P)return P.value}}try{for(var T=j(x(v.actions,_,B,function(t){return t instanceof k.J})),H=T.next();!H.done;H=T.next()){U=H.value;for(var R=v.actions[U],K=new Set,q=0;q<R.points.length;q++)K.add(q);try{for(var G=(i=void 0,j(x(v.actions,U,B,function(t){return t instanceof M.v}))),W=G.next();!W.done;W=G.next()){var V=W.value,z=v.actions[V];try{for(var X=(a=void 0,j(K)),J=X.next();!J.done;J=X.next()){q=J.value;try{for(var Y=(l=void 0,j(z.points)),Z=Y.next();!Z.done;Z=Y.next()){var $=Z.value;D.V.distance(R.points[q],$)<=$.lineWidth&&K.delete(q)}}catch(t){l={error:t}}finally{try{Z&&!Z.done&&(h=Y.return)&&h.call(Y)}finally{if(l)throw l.error}}}}catch(t){a={error:t}}finally{try{J&&!J.done&&(c=X.return)&&c.call(X)}finally{if(a)throw a.error}}}}catch(t){i={error:t}}finally{try{W&&!W.done&&(s=G.return)&&s.call(G)}finally{if(i)throw i.error}}if(0==K.size)return t.executeOperation(new A.o([U])),void this.forgetAnimation(e)}}catch(t){n={error:t}}finally{try{H&&!H.done&&(r=T.return)&&r.call(T)}finally{if(n)throw n.error}}var tt=function(n){var r=v.actions[n];if(!function(){var t,e,A,i,o,s;try{for(var a=(t=void 0,j(x(v.actions,C,n-1,function(t){return t instanceof k.J}))),c=a.next();!c.done;c=a.next()){var l=c.value,u=v.actions[l];try{for(var h=(A=void 0,j(u.points)),d=h.next();!d.done;d=h.next()){var f=d.value;try{for(var p=(o=void 0,j(r.points)),g=p.next();!g.done;g=p.next()){var m=g.value;if(D.V.distance(f,m)<=m.lineWidth)return!0}}catch(t){o={error:t}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}}catch(t){A={error:t}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(A)throw A.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return!1}())return t.executeOperation(new A.o([n])),et.forgetAnimation(e),{value:void 0}},et=this;try{for(var nt=j(x(v.actions,_,B,function(t){return t instanceof M.v})),rt=nt.next();!rt.done;rt=nt.next()){var At=tt(U=rt.value);if("object"==typeof At)return At.value}}catch(t){p={error:t}}finally{try{rt&&!rt.done&&(g=nt.return)&&g.call(nt)}finally{if(p)throw p.error}}var it=function(n){var r=v.actions[n],i=r.magnet,o=r.magnetid,s=x(v.actions,n,B,function(t){return t instanceof S._&&t.magnetid==o});if(s.length>0){var a=s[s.length-1],c=v.actions[a].lastPoint;t.executeOperation(new A.o(s)),t.executeOperation(new A.o([n]));var l=i.cloneNode(!0);return l.style.left=c.x+"px",l.style.top=c.y+"px",t.executeOperation(new u(new f.z(e,l),n)),ot.forgetAnimation(e),{value:void 0}}},ot=this;try{for(var st=j(x(v.actions,_,B,function(t){return t instanceof f.z})),at=st.next();!at.done;at=st.next()){var ct=it(U=at.value);if("object"==typeof ct)return ct.value}}catch(t){m={error:t}}finally{try{at&&!at.done&&(w=st.return)&&w.call(st)}finally{if(m)throw m.error}}var lt=function(n){var r=v.actions[n].magnetid;if(x(v.actions,_,n,function(t){return t instanceof f.z&&t.magnetid==r}).length>0){var i=x(v.actions,_,n,function(t){return(t instanceof f.z||t instanceof S._||t instanceof d.E||t instanceof O.r)&&t.magnetid==r});return t.executeOperation(new A.o(i)),ut.forgetAnimation(e),{value:void 0}}if((i=x(v.actions,_,n,function(t){return(t instanceof f.z||t instanceof S._)&&t.magnetid==r})).length>0)return t.executeOperation(new A.o(i)),ut.forgetAnimation(e),{value:void 0}},ut=this;try{for(var ht=j(x(v.actions,_,B,function(t){return t instanceof d.E})),dt=ht.next();!dt.done;dt=ht.next()){var ft=lt(U=dt.value);if("object"==typeof ft)return ft.value}}catch(t){y={error:t}}finally{try{dt&&!dt.done&&(b=ht.return)&&b.call(ht)}finally{if(y)throw y.error}}},t.MAGNETCANCELLABLE=!0,t.boardName="0",t.timeline=new F,t.cancelStack=new h,t.isSlideNumber=!0,t}();window.BoardManager=K},2284:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,{A:()=>r})},2326:(t,e,n)=>{"use strict";n.d(e,{z:()=>l});var r,A=n(8696),i=n(3116),o=n(3289),s=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})},c=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.magnet=n.cloneNode(!0),r.magnet.onclick=n.onclick,r.isDirectlyUndoable=!0,r.previousMagnet=document.getElementById(r.magnet.id),r}return s(e,t),Object.defineProperty(e.prototype,"xMax",{get:function(){return this.magnet.offsetLeft+this.magnet.offsetWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"magnetid",{get:function(){return this.magnet.id},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"magnetnew",userid:this.userid,magnet:this.magnet.outerHTML}},e.prototype.createOverviewImage=function(){return A.h.isTextMagnet(this.magnet)?"url(img/icons/text-svgrepo-com.svg)":"url(img/icons/1F9F2.svg)"},e.prototype.setMagnet=function(t){this.magnet=t.cloneNode(!0),this.magnet.onclick=t.onclick},e.prototype._addMagnet=function(t){var e=t.cloneNode(!0);e.onclick=t.onclick,document.getElementById("magnets").appendChild(e),o.s._installMagnet(e)},e.prototype.redo=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){if(t=document.getElementById(this.magnet.id),this.previousMagnet=t,t){if(t.isEqualNode(this.magnet))return[2];t.remove()}return this._addMagnet(this.magnet),[2]})})},e.prototype.undo=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){return(t=document.getElementById(this.magnet.id))&&t.remove(),[2]})})},e}(i.r)},2517:(t,e,n)=>{"use strict";n.d(e,{_:()=>i});var r=n(2521),A=n(328),i=function(){function t(){}return t.init=function(){A.x.boolean({name:"leftHanded",defaultValue:!1,onChange:function(e){t.leftHanded=e,r.$.me.tool.updateCursor()}})},t.getStyleCursor=function(e){return{data:t.getCursorURL(e),x:t.leftHanded?32:0,y:0}},t.getCursorURL=function(e){var n=14,r=document.createElement("canvas");r.width=26,r.height=32;var A=r.getContext("2d");t.leftHanded&&A.transform(-1,0,0,1,26,0);var i=Math.atan2(32,26),o=i+.3,s=i-.3,a={x:n*Math.cos(o),y:n*Math.sin(o)},c={x:n*Math.cos(s),y:n*Math.sin(s)},l=22*Math.cos(i),u=22*Math.sin(i);return A.beginPath(),A.moveTo(0,0),A.lineTo(a.x,a.y),A.lineTo(a.x+l,a.y+u),A.lineTo(c.x+l,c.y+u),A.lineTo(c.x,c.y),A.lineTo(0,0),A.lineWidth=1,A.strokeStyle="black"!=e?"black":"grey",A.stroke(),A.fillStyle=e,A.fill(),A.beginPath(),A.moveTo(n*Math.cos(o),n*Math.sin(o)),A.lineTo(n*Math.cos(s),n*Math.sin(s)),A.stroke(),r.toDataURL()},t.leftHanded=localStorage.getItem("leftHanded"),t}()},2520:(t,e,n)=>{const r=n(8854),A=n(734),i=["keyword","gray","hex"],o={};for(const t of Object.keys(A))o[[...A[t].labels].sort().join("")]=t;const s={};function a(t,e){if(!(this instanceof a))return new a(t,e);if(e&&e in i&&(e=null),e&&!(e in A))throw new Error("Unknown model: "+e);let n,c;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof a)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){const e=r.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,c=A[this.model].channels,this.color=e.value.slice(0,c),this.valpha="number"==typeof e.value[c]?e.value[c]:1}else if(t.length>0){this.model=e||"rgb",c=A[this.model].channels;const n=Array.prototype.slice.call(t,0,c);this.color=h(n,c),this.valpha="number"==typeof t[c]?t[c]:1}else if("number"==typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);const r=e.sort().join("");if(!(r in o))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=o[r];const{labels:i}=A[this.model],s=[];for(n=0;n<i.length;n++)s.push(t[i[n]]);this.color=h(s)}if(s[this.model])for(c=A[this.model].channels,n=0;n<c;n++){const t=s[this.model][n];t&&(this.color[n]=t(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}a.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in r.to?this:this.rgb();e=e.round("number"==typeof t?t:1);const n=1===e.valpha?e.color:[...e.color,this.valpha];return r.to[e.model](n)},percentString(t){const e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:[...e.color,this.valpha];return r.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=A[this.model],{labels:n}=A[this.model];for(let r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new a([...this.color.map(c(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new a([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:l("rgb",0,u(255)),green:l("rgb",1,u(255)),blue:l("rgb",2,u(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:l("hsl",1,u(100)),lightness:l("hsl",2,u(100)),saturationv:l("hsv",1,u(100)),value:l("hsv",2,u(100)),chroma:l("hcg",1,u(100)),gray:l("hcg",2,u(100)),white:l("hwb",1,u(100)),wblack:l("hwb",2,u(100)),cyan:l("cmyk",0,u(100)),magenta:l("cmyk",1,u(100)),yellow:l("cmyk",2,u(100)),black:l("cmyk",3,u(100)),x:l("xyz",0,u(95.047)),y:l("xyz",1,u(100)),z:l("xyz",2,u(108.833)),l:l("lab",0,u(100)),a:l("lab",1),b:l("lab",2),keyword(t){return void 0!==t?new a(t):A[this.model].keyword(this.color)},hex(t){return void 0!==t?new a(t):r.to.hex(this.rgb().round().color)},hexa(t){if(void 0!==t)return new a(t);const e=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),r.to.hex(e)+n},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[n,r]of t.entries()){const t=r/255;e[n]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return a.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),r=this.rgb(),A=void 0===e?.5:e,i=2*A-1,o=n.alpha()-r.alpha(),s=((i*o===-1?i:(i+o)/(1+i*o))+1)/2,c=1-s;return a.rgb(s*n.red()+c*r.red(),s*n.green()+c*r.green(),s*n.blue()+c*r.blue(),n.alpha()*A+r.alpha()*(1-A))}};for(const t of Object.keys(A)){if(i.includes(t))continue;const{channels:e}=A[t];a.prototype[t]=function(...e){return this.model===t?new a(this):e.length>0?new a(e,t):new a([...(n=A[this.model][t].raw(this.color),Array.isArray(n)?n:[n]),this.valpha],t);var n},a[t]=function(...n){let r=n[0];return"number"==typeof r&&(r=h(n,e)),new a(r,t)}}function c(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}function l(t,e,n){t=Array.isArray(t)?t:[t];for(const r of t)(s[r]||(s[r]=[]))[e]=n;return t=t[0],function(r){let A;return void 0!==r?(n&&(r=n(r)),A=this[t](),A.color[e]=r,A):(A=this[t]().color[e],n&&(A=n(A)),A)}}function u(t){return function(e){return Math.max(0,Math.min(t,e))}}function h(t,e){for(let n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}t.exports=a},2521:(t,e,n)=>{"use strict";n.d(e,{$:()=>j});var r,A=n(8922),i=n(9969),o=n(328),s=n(2079),a=n(616),c=n(2204),l=n(1706),u=n(8944),h=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t){function e(e){var n=t.call(this,e)||this;return n.lastDelineation=new l.R,n.shape=void 0,n.user.isCurrentUser&&(document.getElementById("buttonEraser").hidden=!1,document.getElementById("buttonChalk").hidden=!0,document.getElementById("canvas").style.cursor="crosshair"),n}return h(e,t),e.prototype.mousedown=function(t){this.compute(t),this.shape=this.getShape(t),document.getElementById("svg").appendChild(this.shape)},e.prototype.mousemove=function(t){this.isDrawing&&(this.shape.remove(),this.compute(t),this.shape=this.getShape(t),document.getElementById("svg").appendChild(this.shape))},e.prototype.mouseup=function(t){if(this.isDrawing){var e=this.actionDrawShape(t);e.redo(),c.q.addAction(e),this.shape.remove()}},e.prototype.updateCursor=function(){this.user.isCurrentUser},e}(u.N),f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getShape=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return t.setAttributeNS(null,"cx",""+e.cx),t.setAttributeNS(null,"cy",""+e.cy),t.setAttributeNS(null,"rx",""+e.rx),t.setAttributeNS(null,"ry",""+e.ry),t.setAttributeNS(null,"fill-opacity","0.1"),t.setAttributeNS(null,"stroke",e.user.color),t.setAttributeNS(null,"fill","#FFFFFFFF"),t},e.actionDrawShape=function(){return new a.H(e.user.userID,e.cx,e.cy,e.rx,e.ry,e.user.color)},e}return f(e,t),e}(d),g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="ToolEllipseByCenter",e.compute=function(t){e.cx=e.xInit,e.cy=e.yInit,e.rx=Math.abs(e.x-e.xInit),e.ry=Math.abs(e.y-e.yInit),t.shiftKey&&(e.rx=Math.min(e.rx,e.ry),e.ry=Math.min(e.rx,e.ry))},e}return g(e,t),e}(p),w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="ToolEllipseByBorder",e.compute=function(t){var n=Math.min(e.xInit,e.x),r=Math.min(e.yInit,e.y),A=Math.max(e.xInit,e.x),i=Math.max(e.yInit,e.y);e.cx=(n+A)/2,e.cy=(r+i)/2,e.rx=(A-n)/2,e.ry=(i-r)/2,t.shiftKey&&(e.rx=Math.min(e.rx,e.ry),e.ry=Math.min(e.rx,e.ry))},e}return w(e,t),e}(p),b=n(3470),v=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="ToolLine",e.compute=function(t){e.x1=e.xInit,e.y1=e.yInit,e.x2=e.x,e.y2=e.y,t.shiftKey&&(Math.abs(e.x1-e.x2)>Math.abs(e.y1-e.y2)?e.y2=e.y1:e.x2=e.x1)},e.getShape=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","line");return t.setAttributeNS(null,"x1",""+e.x1),t.setAttributeNS(null,"y1",""+e.y1),t.setAttributeNS(null,"x2",""+e.x2),t.setAttributeNS(null,"y2",""+e.y2),t.setAttributeNS(null,"stroke",e.user.color),t},e.actionDrawShape=function(){return new b.f(e.user.userID,e.x1,e.y1,e.x2,e.y2,e.user.color)},e}return v(e,t),e}(d),C=n(6252),_=n(9271),x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="ToolRectangle",e.compute=function(t){e.x1=Math.min(e.xInit,e.x),e.y1=Math.min(e.yInit,e.y),e.x2=Math.max(e.xInit,e.x),e.y2=Math.max(e.yInit,e.y);var n=e.x2-e.x1,r=e.y2-e.y1;if(t.shiftKey){var A=Math.min(n,r);e.x2=e.x1+A,e.y2=e.y1+A}},e.getShape=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","rect");return t.setAttributeNS(null,"x",""+e.x1),t.setAttributeNS(null,"y",""+e.y1),t.setAttributeNS(null,"width",""+(e.x2-e.x1)),t.setAttributeNS(null,"height",""+(e.y2-e.y1)),t.setAttributeNS(null,"fill-opacity","0.1"),t.setAttributeNS(null,"stroke",e.user.color),t.setAttributeNS(null,"fill","#FFFFFFFF"),t},e.actionDrawShape=function(){return new _.Q(e.user.userID,e.x1,e.y1,e.x2,e.y2,e.user.color)},e}return x(e,t),e}(d),S=n(9486),E=n(2847),U=n(988),I=n(2517),Q=n(6060),L=function(){function t(){}return t.getStyleCursor=function(e,n){var r=t.getRadius(e);return{data:t.getCursorURL(r,n),x:64,y:64}},t.getRadius=function(t){return Math.max(3,Math.min(64,t/(2*Q.P.getZoom())))},t.temperatureToColor=function(t){function e(t){return parseInt(t,16)}function n(t){return[t.substr(1,2),t.substr(3,2),t.substr(5,2)].map(e)}var r=["#9999FF","#00AA00","#88FF00","#FFFF00","#FFAA00","#EE0000","#CC0000","#AA0000","#FFFFFF"],A=(r.length-1)*t/P.temperatureThreshold,i=Math.max(0,Math.floor((r.length-1)*t/P.temperatureThreshold));return i>=r.length-1?r[i]:(console.log(i,r.length),function(t,e,r){var A=n(t),i=n(e),o=[0,0,0];for(var s in o)o[s]=A[s]*(1-r)+i[s]*r;return"rgb(".concat(o[0],", ").concat(o[1],", ").concat(o[2],")")}(r[i],r[i+1],A-i))},t.drawEraserBody=function(e,n,r){var A=n+5;I._.leftHanded&&e.transform(-1,0,0,1,128,0);var i=Math.atan2(32,26),o={x:64+A*Math.cos(i),y:64+A*Math.cos(i)},s={x:64+A*Math.cos(i)+24*Math.sin(i),y:64+A*Math.sin(i)-24*Math.cos(i)},a=48*Math.cos(i),c=48*Math.sin(i);e.beginPath(),e.moveTo(o.x,o.y),e.lineTo(o.x+a,o.y+c),e.lineTo(s.x+a,s.y+c),e.lineTo(s.x,s.y),e.lineTo(o.x,o.y),e.lineWidth=3,e.strokeStyle="gray",e.stroke(),e.fillStyle="rgba(242, 242,242, 0.8)",e.fill();var l=.5;e.beginPath(),e.moveTo(o.x+l*a,o.y+l*c),e.lineTo(o.x+1*a,o.y+1*c),e.lineTo(s.x+1*a,s.y+1*c),e.lineTo(s.x+l*a,s.y+l*c),e.lineTo(o.x+l*a,o.y+l*c),e.lineWidth=1,e.strokeStyle="black",e.stroke(),e.fillStyle=t.temperatureToColor(r),e.fill()},t.getCursorURL=function(e,n){var r=document.createElement("canvas");r.width=128,r.height=128;var A=r.getContext("2d"),i=t.temperatureToColor(n);return e<32&&t.drawEraserBody(A,e,n),A.globalCompositeOperation="destination-out",A.beginPath(),A.arc(64,64,e,0,2*Math.PI),A.strokeStyle=i,A.fillStyle="rgba(128,128, 128, 1)",A.fill(),A.globalCompositeOperation="source-over",A.beginPath(),A.arc(64,64,e,0,2*Math.PI),A.strokeStyle=i,A.lineWidth=e<16?1:2,A.stroke(),A.fillStyle="rgba(128,128, 128, 0.1)",A.fill(),r.toDataURL()},t}(),k=n(3002),M=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(t){function e(e){var n=t.call(this,e)||this;return n.name="ToolEraser",n.temperature=0,n.iMode=0,n.modeSizes=[4,8,16,32,64],n.eraseLineWidth=n.modeSizes[0],n.oldSpeed=0,n.svgLinesErased=[],n.nbClick=0,n.user.isCurrentUser&&(document.getElementById("buttonEraser").hidden=!0,document.getElementById("buttonChalk").hidden=!1,n.updateEraserCursor()),n}return M(e,t),e.prototype.eraserGaugeShow=function(){this.user.isCurrentUser&&(document.getElementById("eraserGaugeFrame").setAttribute("style","display: block"),document.getElementById("eraserLvl").setAttribute("style","display: block"))},e.prototype.eraserGaugeHide=function(){this.user.isCurrentUser&&(document.getElementById("eraserGaugeFrame").setAttribute("style","display: none"),document.getElementById("eraserLvl").setAttribute("style","display: none"))},e.prototype.updateEraserCursor=function(){this.setToolCursorImage(L.getStyleCursor(this.eraseLineWidth,this.temperature)),document.getElementById("eraserGauge").setAttribute("style","width : "+this.temperature/4+";"),document.getElementById("eraserGauge").style.backgroundColor=L.temperatureToColor(this.temperature),document.getElementById("eraserLvl").innerHTML=this.iMode<this.modeSizes.length-1?"size "+this.iMode:"max!"},e.prototype.mousedown=function(){this.eraserGaugeShow(),this.nbClick++,console.log(this.nbClick),this.iMode=0,this.oldSpeed=0,this.svgLinesErased=[],this.eraseLineWidth=this.modeSizes[this.iMode],this.action=new U.v(this.user.userID),this.action.addPoint({x:this.x,y:this.y,lineWidth:this.eraseLineWidth}),this.action.addPoint({x:this.x,y:this.y,lineWidth:this.eraseLineWidth}),k.H.clearLine(this.x,this.y,this.x,this.y,this.eraseLineWidth),U.v.eraseSVG(this.x,this.y,this.eraseLineWidth)},e.prototype.mousemove=function(t){var n=t.offsetX,r=t.offsetY;if(this.nbClick=0,this.isDrawing){var A=Math.sqrt(Math.pow(this.x-n,2)+Math.pow(this.y-r,2))/1,i=(A-this.oldSpeed)/1;this.oldSpeed=A;var o=A*i*.5;T.mousemove(Math.abs(this.x-n)+Math.abs(this.y-r)),Math.abs(this.x-n)<1&&Math.abs(this.y-r)<1||this.iMode>=this.modeSizes.length-1?this.temperature=Math.max(0,this.temperature-1):this.temperature=Math.max(0,this.temperature+o),this.temperature>e.temperatureThreshold&&(this.iMode=Math.min(this.modeSizes.length-1,this.iMode+1),this.temperature=0),this.eraseLineWidth=Math.max(2,this.modeSizes[this.iMode]+10*(t.pressure-.5)),this.user.isCurrentUser&&this.updateEraserCursor(),this.action.addPoint({x:n,y:r,lineWidth:this.eraseLineWidth}),k.H.clearLine(this.x,this.y,n,r,this.eraseLineWidth),U.v.eraseSVG(this.x,this.y,this.eraseLineWidth)}},e.prototype.mouseup=function(t){this.isDrawing&&(this.eraserGaugeHide(),T.mouseup(),this.iMode=0,this.eraseLineWidth=this.modeSizes[0],this.temperature=0,this.user.isCurrentUser&&this.updateEraserCursor(),this.action.setSVGLinesErased(this.svgLinesErased),this.nbClick>=1&&t.ctrlKey?c.q.newSlideAndClear(this.user.userID):c.q.addAction(this.action,!1),this.nbClick=0)},e.temperatureThreshold=128,e}(u.N),T=function(){function t(){}return t.mousemove=function(e){E.A.is&&(t.audioEraser.volume=Math.min(1,e/20),t.audioEraser.paused&&(t.audioEraser.mozPreservesPitch=!1,t.audioEraser.webkitPreservesPitch=!1,t.audioEraser.playbackRate=.8+.5*Math.random(),t.audioEraser.play()))},t.mouseup=function(){t.audioEraser.pause()},t.audioEraser=new Audio("sounds/eraser.ogg"),t}(),N=n(3289),D=n(3726),O=n(4059),H=n(3778),R=function(){function t(t){this.canWrite=!0,this.color="white",this.cursor=void 0,this.tool=void 0,this.elementName=void 0,this.userID="0",this._name="",this.isRoot=!1,this.lastHearBeat=Date.now(),t||(this.cursor=document.createElement("div"),this.cursor.classList.add("cursor"),this.cursor.classList.add("cursorinscreen"),this.elementName=document.createElement("div"),this.elementName.classList.add("userNameCursor"),document.getElementById("cursors").appendChild(this.cursor),document.getElementById("cursors").appendChild(this.elementName),this.color=O.M.getDefaultChalkColor()),this.tool=new S.p(this)}return Object.defineProperty(t.prototype,"isToolDraw",{get:function(){return this.tool instanceof S.p},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isToolErase",{get:function(){return this.tool instanceof P},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.tool.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.tool.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t,this.isCurrentUser||(this.elementName.innerHTML=this._name)},enumerable:!1,configurable:!0}),t.prototype.recordHeartBeat=function(){this.lastHearBeat=Date.now()},t.prototype.isAlive=function(){return this==j.me||Date.now()-this.lastHearBeat<1e4},t.prototype.setUserID=function(t){this.userID=t},t.prototype.setCanWrite=function(t){this.canWrite=t},Object.defineProperty(t.prototype,"isCurrentUser",{get:function(){return this==j.me},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){document.getElementById("cursors").removeChild(this.cursor),this.elementName.remove()},t.prototype.setCurrentColor=function(t){this.color=t,this.tool.updateCursor()},t.prototype.getCurrentColor=function(){return this.color},t.prototype.switchDraw=function(){this.tool.destructor(),this.tool=new S.p(this)},t.prototype.switchEraser=function(){this.tool.destructor(),C.J.hide(),this.tool=new P(this)},t.prototype.switchLine=function(){this.tool.destructor(),this.tool=new B(this)},t.prototype.switchRectangle=function(){this.tool.destructor(),this.tool=new F(this)},t.prototype.switchEllipseByBorder=function(){this.tool.destructor(),this.tool=new y(this)},t.prototype.switchEllipseByCenter=function(){this.tool.destructor(),this.tool=new m(this)},t.prototype.switchArc=function(){this.tool.destructor(),this.tool=new D.x(this)},t.prototype.mousedown=function(t){H.S.deselect(),this.isCurrentUser&&(N.s.setInteractable(!1),document.activeElement.blur(),C.J.hide()),this.tool.isDrawing=!0,this.tool.x=t.offsetX,this.tool.y=t.offsetY,this.tool.xInit=this.tool.x,this.tool.yInit=this.tool.y,this.canWrite&&this.tool.mousedown(t)},t.prototype.setSymbolCursorPosition=function(){var t=this.tool.x,e=this.tool.y;this.cursor.classList.remove("cursortoleft"),this.cursor.classList.remove("cursortoright"),this.cursor.classList.remove("cursorinscreen"),t<=Q.P.getWindowLeft()?(this.cursor.classList.add("cursortoleft"),t=Q.P.getWindowLeft()+24):t>=Q.P.getWindowRight()?(this.cursor.classList.add("cursortoright"),t=Q.P.getWindowRight()-24):this.cursor.classList.add("cursorinscreen"),this.cursor.style.left=t-8+"px",this.cursor.style.top=e-8+"px",this.elementName.style.left=t-8+"px",this.elementName.style.top=e+8+"px"},t.prototype.mousemove=function(t){var e=t.offsetX,n=t.offsetY;this.canWrite&&this.tool.mousemove(t),this.tool.x=e,this.tool.y=n,this.isCurrentUser?N.s.noCurrentMagnet():this.setSymbolCursorPosition()},t.prototype.mouseup=function(t){this.isCurrentUser&&N.s.setInteractable(!0),this.canWrite&&this.tool.mouseup(t),this.tool.isDrawing=!1},t}(),j=function(){function t(){}return t.setUserCanWrite=function(e,n){if(console.log("setUserCanWrite(".concat(e,", ").concat(n,")")),t.users[e].setCanWrite(n),e==t.me.userID)for(var r=document.getElementsByClassName("edit"),i=0;i<r.length;i++)r[i].hidden=!n;A.D.updateGUIUser(e)},t.init=function(){t.me=new R(!0),t.users.root=t.me,t.me.setUserID("root"),o.x.string({name:"userName",defaultValue:"me",onChange:function(e){setTimeout(function(){return s.S.execute("setUserName",[t.me.userID,e])},1e3)}}),document.getElementById("numberOfUsers").onclick=function(){i.W.show(),i.W.openPageShare()}},t.isIamResponsibleForData=function(){var e="zzzzzzzzzzzzzzzz";for(var n in t.users)t.users[n].isRoot&&n<e&&(e=n);return t.me.userID==e},t.leave=function(e){t.users[e].destroy(),delete t.users[e],A.D.leave(e)},t.add=function(e){t.users[e]=new R(!1),t.users[e].userID=e,A.D.add(e)},t.setMyUserID=function(e){for(var n in t.users)t.users[n]==t.me&&delete t.users[n];t.users[e]=t.me,t.me.setUserID(e),A.D.updateGUIUsers()},t.getNumberOfUsers=function(){return Object.keys(t.users).length},t.setSymbolCursorPosition=function(){for(var e in t.users){var n=t.users[e];n!=t.me&&n.setSymbolCursorPosition()}},t.me=void 0,t.users={},t}()},2538:(t,e,n)=>{"use strict";n.d(e,{r:()=>s});var r,A=n(3981),i=n(3116),o=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.canvasDataURL=n,r.img=void 0,n&&(r.img=new Image,r.img.src=n),r}return o(e,t),Object.defineProperty(e.prototype,"xMax",{get:function(){return this.img?this.img.width:0},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"init",userid:this.userid,canvasDataURL:this.canvasDataURL}},e.prototype.createOverviewImage=function(){return"url(img/icons/start.svg)"},e.prototype.redo=function(){var t=this;return new Promise(function(e){if(t.img){var n=function(){var n=(0,A.dX)();n.width=Math.max(n.width,t.img.width),n.height=Math.max(n.height,t.img.height),n.getContext("2d").drawImage(t.img,0,0),e()};0!=t.img.height?n():t.img.onload=n}else e()})},e}(i.r)},2779:(t,e,n)=>{"use strict";n.d(e,{$:()=>h});var r=function(){function t(t){var e=this,n=function(){return n=e,r=void 0,i=function(){var e,n;return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(r){switch(r.label){case 0:return e=this.numPage,[4,t.getCanvasPage(e)];case 1:return(n=r.sent()).style.height="300px",n.style.position="relative",document.getElementById("pdfSnapshot").innerHTML="",document.getElementById("pdfSnapshot").appendChild(n),[2]}})},new((A=void 0)||(A=Promise))(function(t,e){function o(t){try{a(i.next(t))}catch(t){e(t)}}function s(t){try{a(i.throw(t))}catch(t){e(t)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof A?n:new A(function(t){t(n)})).then(o,s)}a((i=i.apply(n,r||[])).next())});var n,r,A,i};this.inputPDFNumPage.onchange=n,this.inputPDFNumPage.value="1",n()}return Object.defineProperty(t.prototype,"numPage",{get:function(){return parseInt(this.inputPDFNumPage.value)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputPDFNumPage",{get:function(){return document.getElementById("pdfNumPage")},enumerable:!1,configurable:!0}),t}(),A=n(6060),i=n(748),o="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(i.version,"/pdf.worker.min.js");i.GlobalWorkerOptions.workerSrc=o;var s=function(){function t(){this.pdfDoc=null,this.dataURL=void 0}return t.prototype.open=function(t){var e=this;return this.dataURL=t,new Promise(function(n){(0,i.getDocument)(t).promise.then(function(t){e.pdfDoc=t,n()})})},t.prototype.getCanvasPage=function(t){var e=this;return new Promise(function(n){var r=document.createElement("canvas");r.classList.add("pdfPage");var i=r.getContext("2d");e.pdfDoc.getPage(t).then(function(t){var e=t.getViewport({scale:1}).width,o=t.getViewport({scale:1}).height,s=e/o>A.P.getWindowWidth()/A.P.getWindowHeight()?A.P.getWindowWidth()/e:A.P.getWindowHeight()/o,a=t.getViewport({scale:s});r.height=a.height,r.width=a.width;var c={canvasContext:i,viewport:a};t.render(c).promise.then(function(){n(r)})})})},Object.defineProperty(t.prototype,"nbPages",{get:function(){return this.pdfDoc.numPages},enumerable:!1,configurable:!0}),t}(),a=n(2079),c=n(6043),l=function(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})},u=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h=function(){function t(){}return t.setPDF=function(e){return l(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return t.pdfdoc=new s,[4,t.pdfdoc.open(e)];case 1:return n.sent(),document.getElementById("pdfNumPage").max=""+t.pdfdoc.nbPages,t.pdfviewer=new r(t.pdfdoc),[2]}})})},t.getDataURLPDFPageToInsert=function(e){return l(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return[4,t.pdfdoc.getCanvasPage(e)];case 1:return[2,n.sent().toDataURL()]}})})},t.init=function(){document.getElementById("buttonNoImageBackground").onclick=function(){a.S.execute("documentsRemoveAll",[])},document.getElementById("inputBackground").onchange=function(e){var n=e.target.files[0],r=function(t){return a.S.execute("insertDocumentImage",[t,A.P.getWindowLeft()])};n.name.endsWith(".pdf")?(c.e.fetchFromFile(n,function(e){return t.setPDF(e)}),document.getElementById("buttonPDFInsertPage").onclick=function(){t.getDataURLPDFPageToInsert(t.pdfviewer.numPage).then(r)},document.getElementById("forpdf").hidden=!1):(c.e.fetchFromFile(n,r),document.getElementById("forpdf").hidden=!0)}},t.getDocumentPanel=function(){return document.getElementById("documentPanel")},t.pdfdoc=void 0,t.pdfviewer=void 0,t}()},2787:()=>{},2847:(t,e,n)=>{"use strict";n.d(e,{A:()=>A});var r=n(328),A=function(){function t(){}return t.init=function(){r.x.boolean({name:"sound",defaultValue:!1,onChange:function(e){t.is=e}})},t.play=function(e){t.is&&new Audio("sounds/"+e+".ogg").play()},t.is=!1,t}()},3002:(t,e,n)=>{"use strict";n.d(e,{H:()=>u});var r=n(4059),A=n(328),i=n(2204),o=n(6060),s=n(4416),a=n(3981),c=n(2521),l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(){function t(){}return t.createChalkPatternCanvas=function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),r=128;e.width=r,e.height=r,n.fillStyle=t;for(var A=0;A<819.2;A++){var i=r*Math.random(),o=r*Math.random();n.globalAlpha=.5*Math.random(),n.fillRect(i+(-2+Math.random()-.65)*n.lineWidth,o+(-2+Math.random()-.65)*n.lineWidth,2.6*(1+Math.random()),2.6*(1+Math.random()));n.clearRect(i+(-2+Math.random()-.35)*n.lineWidth,o+(-2+Math.random()-.35)*n.lineWidth,1.4*(1+Math.random()),1.4*(1+Math.random()))}return e},t.getChalkPatternCanvas=function(e){return null==t.patterns[e]&&(t.patterns[e]=t.createChalkPatternCanvas(e)),t.patterns[e]},t.fill=function(e,n,r){e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var A=1;A<n.length;A++)e.lineTo(n[A].x,n[A].y);e.closePath(),t.isChalkEffect?e.fillStyle=e.createPattern(t.getChalkPatternCanvas(r),"repeat"):(e.globalAlpha=.5,e.fillStyle=r),e.fill()},t.init=function(){var e=this;A.x.number({name:"lineWidth",defaultValue:1.5,onChange:function(n){e.lineWidth=n,t.clear(),i.q.timeline.canvasRedraw()}}),A.x.boolean({name:"chalkEffect",defaultValue:!1,onChange:function(e){t.isChalkEffect=e,t.clear(),i.q.timeline.canvasRedraw()}}),A.x.boolean({name:"eraserEffect",defaultValue:!1,onChange:function(e){t.isEraserEffect=e,t.clear(),i.q.timeline.canvasRedraw()}})},t.clearPolygon=function(t){var e,n,r=(0,a.dX)(),A=r.getContext("2d");A.save(),A.beginPath(),A.moveTo(t[0].x,t[0].y);try{for(var i=l(t),o=i.next();!o.done;o=i.next()){var s=o.value;A.lineTo(s.x,s.y)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}A.clip(),A.clearRect(0,0,r.width,r.height),A.restore(),A.globalCompositeOperation="source-over"},t.removeContour=function(t){var e,n,r=(0,a.dX)().getContext("2d");r.globalCompositeOperation="destination-out",r.strokeStyle="rgba(255, 255, 255, 1)",r.lineWidth=6,r.globalAlpha=1,r.moveTo(t[0].x,t[0].y);try{for(var A=l(t),i=A.next();!i.done;i=A.next()){var o=i.value;r.lineTo(o.x,o.y)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=A.return)&&n.call(A)}finally{if(e)throw e.error}}r.stroke()},t.drawLine=function(e,n,r,A,i,o,s){if(void 0===o&&(o=1),void 0===s&&(s=c.$.me.getCurrentColor()),e.beginPath(),e.strokeStyle=s,e.globalCompositeOperation="source-over",e.globalAlpha=.9+.1*o,e.lineWidth=this.lineWidth*(1+2*o),e.moveTo(n,r),e.lineTo(A,i),e.stroke(),t.isChalkEffect){e.fillStyle=s,e.globalAlpha=1;for(var a=Math.round(Math.sqrt(Math.pow(A-n,2)+Math.pow(i-r,2))),l=0;l<a;l+=4){var u=n+l*(A-n)/a,h=r+l*(i-r)/a;e.clearRect(u+(Math.random()-.35)*e.lineWidth,h+(Math.random()-.35)*e.lineWidth,.7*(1+Math.random()),.7*(1+Math.random()));e.fillRect(u+(Math.random()-.35)*e.lineWidth,h+(Math.random()-.35)*e.lineWidth,.7*(1+Math.random()),.7*(1+Math.random()))}}},t.clear=function(){var t=(0,a.dX)();t.getContext("2d").clearRect(0,0,t.width,t.height)},t.drawLineUndo=function(t,e,n,r,A,i){void 0===i&&(i=1),t.beginPath(),t.strokeStyle="rgba(255,255,255,1)",t.globalCompositeOperation="source-over",t.globalAlpha=.9+.1*i,t.lineWidth=this.lineWidth*(1+2*i),t.moveTo(e,n),t.lineTo(r,A),t.stroke(),t.closePath()},t.drawDot=function(t,e,n,r){t.beginPath(),t.fillStyle=r,t.lineWidth=2*this.lineWidth,t.arc(e,n,2,0,2*Math.PI),t.fill()},t.clearLine=function(e,n,r,A,i){void 0===i&&(i=10);var o=(0,a.dX)().getContext("2d"),s=0,c=0,l=0,u=0,h=Math.floor(i/2);if(t.isEraserEffect){for(var d=0,f=o.getImageData(e-h,n-h,i,i).data,p=0,g=0;g<64;g++){var m=Math.floor(Math.random()*f.length/4);f[4*m+3]>0&&(d+=f[4*m+3],s+=f[4*m],c+=f[4*m+1],l+=f[4*m+2],p=Math.max(f[4*m+3],p))}if(d>0){var w=function(t){return Math.min(255,t/64)};s=w(s),c=w(c),l=w(l),u=Math.min(.4,.4*p/255,255*d/16320)}}o.beginPath(),o.globalCompositeOperation="destination-out",o.strokeStyle="rgba(".concat(255,",").concat(255,",").concat(255,",").concat(.9,")"),o.lineWidth=i,o.moveTo(e,n),o.lineTo(r,A),o.lineCap="round",o.stroke(),t.isEraserEffect&&(o.beginPath(),o.globalCompositeOperation="source-over",o.strokeStyle="rgba(".concat(s,",").concat(c,",").concat(l,",").concat(u,")"),o.lineWidth=i,o.moveTo(e,n),o.lineTo(r,A),o.lineCap="round",o.stroke())},t.drawRectangle=function(t,e){var n=t.x1,r=t.y1,A=t.x2,i=t.y2,o=(0,a.dX)().getContext("2d");o.beginPath(),o.strokeStyle=e,o.globalCompositeOperation="source-over",o.globalAlpha=1,o.lineWidth=this.lineWidth,o.rect(n,r,A-n,i-r),o.stroke()},t.drawEllipse=function(t,e){var n=t.cx,r=t.cy,A=t.rx,i=t.ry,o=(0,a.dX)().getContext("2d");o.beginPath(),o.strokeStyle=e,o.globalCompositeOperation="source-over",o.globalAlpha=1,o.lineWidth=this.lineWidth,o.ellipse(n,r,A,i,0,0,2*Math.PI,!1),o.stroke()},t.divideScreen=function(t,e){console.log("divide the screen");var n=new s.J(t);n.addPoint({x:e,y:0,pressure:1,color:r.M.getDefaultChalkColor()}),n.addPoint({x:e,y:o.P.getWindowHeight(),pressure:1,color:r.M.getDefaultChalkColor()}),n.redo(),i.q.addAction(n)},t.patterns={},t.isChalkEffect=!1,t.isEraserEffect=!1,t}()},3039:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var r,A=n(3116),i=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,"xMax",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"slidestart",userid:this.userid}},e.prototype.redo=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){return[2]})},new((n=void 0)||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())});var t,e,n,r},e.prototype.createOverviewImage=function(){},e}(A.r)},3116:(t,e,n)=>{"use strict";n.d(e,{r:()=>s});var r=n(4711),A=n(328),i=function(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})},o=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=function(){function t(t){this.pause=!1,this.isDirectlyUndoable=!1,this.isBlocking=!0,this.hash=0,this._speed=0,this._overviewImage=void 0,this.userid=t}return t.init=function(){A.x.number({name:"FPS",defaultValue:150,onChange:function(e){return t._delay=1e3/e}})},t.prototype.delay=function(){return i(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,r._.delay(t._delay)];case 1:return e.sent(),[2]}})})},t.prototype.getHash=function(){if(null==this.hash){this.hash=0;for(var t=this.serializeData(),e=JSON.stringify(t),n=0;n<e.length;n++)this.hash+=e.charCodeAt(n)}return this.hash},t.prototype.serialize=function(){var t=this.serializeData();if(null==this.hash){this.hash=0;for(var e=JSON.stringify(t),n=0;n<e.length;n++)this.hash+=e.charCodeAt(n)}return t},t.prototype.undo=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.redoAnimated=function(){return this.redo()},t.prototype.getOverviewImage=function(){return null==this._overviewImage&&(this._overviewImage=this.createOverviewImage()),this._overviewImage},t.prototype.createOverviewImage=function(){return""},t._delay=10,t}()},3237:()=>{},3242:(t,e,n)=>{"use strict";n.d(e,{v:()=>A});var r=n(2847),A=function(){function t(){}return t.mousedown=function(e){r.A.is&&(t.audioChalkDown.pause(),t.audioChalkDown.currentTime=0,t.audioChalkDown.volume=e,t.audioChalkDown.play(),t.audioChalkMove.loop=!0)},t.mousemove=function(e){r.A.is&&(e<=2?t.audioChalkMove.pause():(t.audioChalkMove.volume=Math.min(1,e/150),t.audioChalkMove.paused&&t.audioChalkMove.play()))},t.mouseup=function(){r.A.is&&(t.audioChalkDown.pause(),t.audioChalkMove.pause(),t.audioChalkDown.currentTime=0,t.audioChalkMove.currentTime=0)},t.audioChalkDown=new Audio("sounds/chalkdown.ogg"),t.audioChalkMove=new Audio("sounds/chalkmove.ogg"),t}()},3289:(t,e,n)=>{"use strict";n.d(e,{s:()=>B});var r=n(6361),A=n(8696),i=n(5757),o=n(2326),s=n(2847),a=n(2521),c=n(9486),l=n(6014),u=n(6179),h=n(1024),d=n(3981),f=n(2079),p=n(2204),g=n(6060),m=n(9969),w=n(8611),y=n(8451),b=n(9136),v=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(){function t(){}return t.isVisible=function(t){return"hidden"!=t.style.visibility},t.getMagnetNearPoint=function(e){for(var n=e.x,r=e.y,A=t.getMagnets(),i=0;i<A.length;i++)if(t.isVisible(A[i])&&t.magnetNearContains(A[i],n,r))return A[i];return null},t.getMagnetNearestFromPoint=function(e){for(var n=e.x,r=e.y,A=t.getMagnets(),i=null,o=99999999,s=0;s<A.length;s++){var a=t.getMagnetCenter(A[s]),c=l.V.distance(a,{x:n,y:r});c<o&&(i=A[s],o=c)}return i},t.init=function(){document.getElementById("clearMagnet").onclick=t.clearMagnet,document.getElementById("magnetsArrange").onclick=t.arrange,document.getElementById("magnetsCreateGraph").onclick=t.drawGraph},t.getMagnetUnderCursor=function(){return t.magnetUnderCursor},t.hasCurrentMagnet=function(){return null==t.currentMagnet},t.noCurrentMagnet=function(){t.currentMagnet=void 0},t.getCurrentMagnetID=function(){return t.currentMagnet.id},t.setInteractable=function(e){for(var n=e?"auto":"none",r=t.getMagnets(),A=0;A<r.length;A++)r[A].style.pointerEvents=n},t.getMagnets=function(){return document.getElementsByClassName("magnet")},t.resetMagnets=function(){document.getElementById("magnets").innerHTML=""},t.clearMagnet=function(){for(var e=t.getMagnets(),n=0;n<e.length;n++)f.S.execute("magnetRemove",[e[n].id]);m.W.hide()},t.addMagnet=function(e){""==e.id&&(e.id=t.generateID()),t.currentMagnet=e,e.classList.add("magnet"),p.q.addAction(new o.z(a.$.me.userID,e)),f.S.isShared()&&f.S.sendNewMagnet(e)},t.generateID=function(){var t="";do{t="m"+Math.round(1e6*Math.random())}while(null!=document.getElementById(t));return t},t.addMagnetFromAnotherUser=function(e,n){""==n.id&&(n.id=t.generateID()),t.currentMagnet=n,n.classList.add("magnet"),p.q.addAction(new o.z(e,n))},t.magnetContains=function(t,e,n){return parseInt(t.style.left)<=e&&parseInt(t.style.top)<=n&&e<=parseInt(t.style.left)+t.clientWidth&&n<=parseInt(t.style.top)+t.clientHeight},t.magnetNearContains=function(t,e,n){return parseInt(t.style.left)-24<=e&&parseInt(t.style.top)-24<=n&&e<=parseInt(t.style.left)+t.clientWidth+24&&n<=parseInt(t.style.top)+t.clientHeight+24},t.arrange=function(){for(var e=t.getMagnets(),n=function(n){for(var r=e[n],A=void 0,i=void 0,o=function(){for(var t=1e5,n=0;n<e.length;n++)t=Math.min(t,Math.abs(A-parseInt(e[n].style.left))+Math.abs(i-parseInt(e[n].style.top)));return t},s=function(){for(var n=0;n<e.length;n++)if(t.magnetContains(e[n],A,i)||t.magnetContains(e[n],A+r.clientWidth,i+r.clientHeight))return!0;return!1},a=p.q.getCurrentScreenRectangle(),c=function(){var t=0;do{A=a.x1+Math.random()*g.P.getWindowWidth(),i=a.y1+3*Math.random()*g.P.getWindowHeight()/4,A=Math.max(A,a.x1+32),i=Math.max(i,a.y1+32),A=Math.min(A,a.x2-r.clientWidth-32),i=Math.min(i,a.y2-r.clientHeight-32),t++}while(s()&&t<50)},l=0,u=0,h=void 0,d=void 0;l<30;)c(),u<o()&&(h=A,d=i,u=o()),l++;r.style.left=h,r.style.top=d},r=0;r<e.length;r++)n(r)},t.getMagnetCenter=function(t){return{x:Math.round(parseInt(t.style.left)+t.clientWidth/2),y:Math.round(parseInt(t.style.top)+t.clientHeight/2)}},t.getMagnetMiddleButton=function(t){return{x:Math.round(parseInt(t.style.left)+t.clientWidth/2),y:Math.round(parseInt(t.style.top)+t.clientHeight)}},t.getNodes=function(){for(var e=t.getMagnets(),n=[],r=0;r<e.length;r++){var A=e[r],i=t.getMagnetCenter(A);n.push({magnet:A,x:i.x,y:i.y})}return n},t.drawGraph=function(){t.arrange();for(var e=t.getNodes(),n=[],r=0;r<e.length;r++){n[r]=[];for(var A=0;A<e.length;A++)n[r][A]=0}function i(t,e,n,r,A,i,o,s){var a=(n-t)*(s-i)-(o-A)*(r-e);if(0===a)return!1;var c=((s-i)*(o-t)+(A-o)*(s-e))/a,l=((e-r)*(o-t)+(n-t)*(s-e))/a;return 0<c&&c<1&&0<l&&l<1}var o=function(t,r){for(var A=0;A<e.length;A++)for(var o=0;o<e.length;o++)if(n[A][o]&&i(e[t].x,e[t].y,e[r].x,e[r].y,e[A].x,e[A].y,e[o].x,e[o].y))return!0;return!1};for(r=0;r<e.length;r++)for(A=0;A<e.length;A++)if(Math.abs(e[r].x-e[A].x)+Math.abs(e[r].y-e[A].y)<400&&!o(r,A)){n[r][A]=1;var s=c.p.addSVGLine(e[r].x,e[r].y,e[A].x,e[A].y,2,a.$.me.color);u.O.freeDraw([s],e[r].magnet.id,e[A].magnet.id,t.getMagnetCenter(e[r].magnet),t.getMagnetCenter(e[A].magnet))}},t.installMagnets=function(){for(var e=t.getMagnets(),n=0;n<e.length;n++)t._installMagnet(e[n]);A.h.latexTypeSet()},t.setZIndex=function(t){var e=function(){var e=t.classList.contains("magnetToBackground")?"-":"";t.style.zIndex=e+(1e4-t.clientWidth)};"IMG"==t.tagName?t.addEventListener("load",e):e()},t.createCopyMagnet=function(t){var e=t.cloneNode(!0);return e.id="",e.onclick=t.onclick,e},t.magnetUnFocus=function(t){console.log("blur"),t.blur(),t.children.length>0&&t.children[0].blur()},t.getContainedMagnets=function(e){function n(t,e){return t.offsetLeft>e.offsetLeft&&t.offsetTop>e.offsetTop&&t.offsetLeft+t.clientWidth<e.offsetLeft+e.clientWidth&&t.offsetTop+t.clientHeight<e.offsetTop+e.clientHeight}for(var r=t.getMagnets(),A=[],i=0;i<r.length;i++)r[i]!=e&&n(r[i],e)&&t.isVisible(r[i])&&A.push(r[i]);return A},t.makeDraggableElement=function(e){var n=0,A=0,i=0,o=0;e.addEventListener("pointerdown",function(n){var A,u;if(c=!0,t.currentMagnet=e,n.ctrlKey){var p=t.createCopyMagnet(e);t.addMagnet(p)}var m=(0,d.dX)();a=m.style.cursor,(n=n||window.event).preventDefault(),i=n.clientX*g.P.getZoom(),o=n.clientY*g.P.getZoom(),t.magnetUnFocus(e),document.onpointermove=l,document.onpointerup=h,s=t.getContainedMagnets(e),f.S.execute("magnetMoveStart",[e.id]);try{for(var w=v(s),y=w.next();!y.done;y=w.next()){var b=y.value;f.S.execute("magnetMoveStart",[b.id])}}catch(t){A={error:t}}finally{try{y&&!y.done&&(u=w.return)&&u.call(w)}finally{if(A)throw A.error}}r.S.onmagnetmousedown(n)}),e.onpointermove=function(){t.currentMagnet=e},w.k.addTouchEvents(e);var s=[],a=void 0,c=!0;function l(t){var a,l;if(c){t.target.classList.add("magnetDrag"),(0,d.dX)().style.cursor="none",(t=t||window.event).preventDefault(),n=i-t.clientX*g.P.getZoom(),A=o-t.clientY*g.P.getZoom(),i=t.clientX*g.P.getZoom(),o=t.clientY*g.P.getZoom();var h=function(t){var e=t.offsetLeft-n,r=t.offsetTop-A;f.S.execute("magnetMove",[t.id,e,r])};h(e);try{for(var p=v(s),m=p.next();!m.done;m=p.next())h(m.value)}catch(t){a={error:t}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}u.O.update(),r.S.onmagnetmove(t)}}function h(){var n,r;if(c){c=!1;var A=function(t){f.S.execute("magnetMoveStop",[t.id])};A(e);try{for(var i=v(s),o=i.next();!o.done;o=i.next())A(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}for(var l=t.getMagnets(),u=0;u<l.length;u++)l[u].classList.remove("magnetDrag");(0,d.dX)().style.cursor=a,document.onmouseup=null,document.onmousemove=null}}},t.getFont=function(t){return t.children[0].style.fontSize},t.getTextColor=function(t){return t.children[0].style.color},t.getText=function(t){var e=t.children[0];return 0==e.children.length?e.textContent:Array.from(e.children).map(function(t){return t.textContent}).join("\n")},t.hideMenu=function(){document.getElementById("contextMenuMagnet").style.display="none"},t.isMenu=function(){return"block"==document.getElementById("contextMenuMagnet").style.display},t.showMenu=function(e,n){var r=document.getElementById("contextMenuMagnet");r.style.display="block",n+r.clientHeight>window.innerHeight&&(n=window.innerHeight-r.clientHeight),r.style.left=e+"px",r.style.top=n+"px";var A=null!=t.getMagnetUnderCursor();if(console.log(A?"currently in foreground":"currently in background"),document.getElementById("contextMenuMagnetBackground").style.display=A?null:"none",document.getElementById("contextMenuMagnetForeground").style.display=A?"none":null,document.getElementById("contextMenuMagnetBackground").onclick=function(){b.f.magnetSwitchBackgroundForeground(),t.hideMenu()},document.getElementById("contextMenuMagnetForeground").onclick=function(){b.f.magnetSwitchBackgroundForeground(),t.hideMenu()},A)document.getElementById("contextMenuMagnetRemove").onclick=function(){t.removeCurrentMagnet(),t.hideMenu()};else{var i=b.f.getMagnetBackgroundUnderCursor(e,n);console.log(i),document.getElementById("contextMenuMagnetRemove").onclick=function(){t.magnetRemove(i.id),t.hideMenu()}}},t._installMagnet=function(e){A.h.isTextMagnet(e)&&A.h.installMagnetText(e),t.makeDraggableElement(e),t.setZIndex(e),e.onmouseenter=function(){t.isMenu()||(t.magnetUnderCursor=e)},e.onmouseleave=function(){t.isMenu()||(t.magnetUnderCursor=void 0)},e.oncontextmenu=function(e){t.showMenu(e.pageX,e.pageY),e.preventDefault()}},t.removeCurrentMagnet=function(){null!=t.currentMagnet&&(t.currentMagnet.classList.contains("magnet")||h.r.error("oups, important bug. The application wanted to delete something else than a magnet!"),f.S.execute("magnetRemove",[t.currentMagnet.id]))},t.magnetRemove=function(e){console.log("magnetRemove ".concat(e)),p.q.addAction(new i.E(a.$.me.userID,e)),t.currentMagnet,t.magnetUnderCursor=void 0,u.O.update()},t.printMagnet=function(e){if(e instanceof HTMLImageElement){s.A.play("magnetprint");var n=t.getContainedMagnets(e),r=function(t){var e=new y.e(a.$.me.userID,t,parseInt(t.style.left),parseInt(t.style.top));e.redo(),p.q.addAction(e)};r(e),n.map(r)}},t.currentMagnet=void 0,t.magnetUnderCursor=void 0,t}();window.MagnetManager=B},3470:(t,e,n)=>{"use strict";n.d(e,{f:()=>a});var r,A=n(3002),i=n(3116),o=n(3981),s=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n,r,A,i,o){var s=t.call(this,e)||this;return s.x1=n,s.y1=r,s.x2=A,s.y2=i,s.color=o,s}return s(e,t),Object.defineProperty(e.prototype,"xMax",{get:function(){return Math.max(this.x1,this.x2)},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"line",userid:this.userid,x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,color:this.color}},e.prototype.redo=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){return A.H.drawLine((0,o.dX)().getContext("2d"),this.x1,this.y1,this.x2,this.y2,1,this.color),[2]})},new((n=void 0)||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())});var t,e,n,r},e.prototype.createOverviewImage=function(){return"url(img/icons/line.svg)"},Object.defineProperty(e.prototype,"contour",{get:function(){return[{x:this.x1,y:this.y1},{x:this.x2,y:this.y2}]},enumerable:!1,configurable:!0}),e}(i.r)},3726:(t,e,n)=>{"use strict";n.d(e,{x:()=>d});var r,A=n(6060),i=n(2517),o=n(2204),s=n(3002),a=n(3981),c=n(8944),l=n(2079),u=n(4416),h=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t){function e(e){var n=t.call(this,e)||this;return n.name="ToolArc",n.isDrawing=!1,n.elementCenter=document.createElement("div"),n.elementRadius=document.createElement("div"),n.elementCenter.classList.add("handle"),n.elementRadius.classList.add("handle"),n.elementCenter.classList.add("handleCenter"),n.elementRadius.classList.add("handleRadius"),n.elementCircle=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),n.elementCenter.style.left=A.P.getWindowLeft()+300+"px",n.elementCenter.style.top="300px",n.elementRadius.style.left=A.P.getWindowLeft()+400+"px",n.elementRadius.style.top="400px",document.getElementById("board").appendChild(n.elementCenter),document.getElementById("board").appendChild(n.elementRadius),document.getElementById("svg").appendChild(n.elementCircle),n.user.isCurrentUser&&(n.makeDraggable(n.elementCenter,function(){return n.updateWhenDragged()}),n.makeDraggable(n.elementRadius,function(){return n.updateWhenDragged()})),n.computeCenter(),n.computeRadiusHandlePosition(),n.user.isCurrentUser&&setTimeout(n.updateWhenDragged,1),n}return h(e,t),e.prototype.updateWhenDragged=function(){this.computeCenter(),this.computeRadiusHandlePosition(),l.S.execute("toolArcSetAttributes",[this.user.userID,this.center,this.radiusHandlePosition])},e.prototype.update=function(){var t=this.center,e=this.radius;this.elementCircle.setAttributeNS(null,"cx",""+t.x),this.elementCircle.setAttributeNS(null,"cy",""+t.y),this.elementCircle.setAttributeNS(null,"rx",""+e),this.elementCircle.setAttributeNS(null,"ry",""+e),this.elementCircle.setAttributeNS(null,"stroke-opacity","0.5"),this.elementCircle.setAttributeNS(null,"fill-opacity","0.005"),this.elementCircle.setAttributeNS(null,"stroke",this.user.color),this.elementRadius.style.rotate="".concat(this.radiusHandleAngle,"rad")},e.prototype.setAttributes=function(t,e){this.center=t,this.radiusHandlePosition=e,this.elementRadius.style.left=e.x-this.elementRadius.offsetWidth/2+"px",this.elementRadius.style.top=e.y-this.elementRadius.offsetHeight/2+"px",this.elementCenter.style.left=t.x-this.elementCenter.offsetWidth/2+"px",this.elementCenter.style.top=t.y-this.elementCenter.offsetHeight/2+"px",this.update()},e.prototype.computeCenter=function(){this.center={x:this.elementCenter.offsetLeft+this.elementCenter.offsetWidth/2,y:this.elementCenter.offsetTop+this.elementCenter.offsetHeight/2}},e.prototype.computeRadiusHandlePosition=function(){this.radiusHandlePosition={x:this.elementRadius.offsetLeft+this.elementRadius.offsetWidth/2,y:this.elementRadius.offsetTop+this.elementRadius.offsetHeight/2}},Object.defineProperty(e.prototype,"radius",{get:function(){var t=this.center,e=this.radiusHandlePosition;return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radiusHandleAngle",{get:function(){var t=this.center,e=this.radiusHandlePosition;return Math.atan2(e.y-t.y,e.x-t.x)},enumerable:!1,configurable:!0}),e.prototype.destructor=function(){this.elementCenter.remove(),this.elementRadius.remove(),this.elementCircle.remove()},e.prototype.makeDraggable=function(t,e){var n=this,r=!1,i=0,o=0;t.onmousedown=function(t){r=!0,i=t.clientX*A.P.getZoom(),o=t.clientY*A.P.getZoom(),document.onpointermove=s,document.onmouseup=c,document.onpointerup=c};var s=function(s){if(r){(0,a.dX)().style.cursor="none",s.preventDefault();var c=i-s.clientX*A.P.getZoom(),l=o-s.clientY*A.P.getZoom();i=s.clientX*A.P.getZoom(),o=s.clientY*A.P.getZoom(),t.style.left=t.offsetLeft-c+"px",t.style.top=t.offsetTop-l+"px",t==n.elementCenter&&(n.elementRadius.style.left=n.elementRadius.offsetLeft-c+"px",n.elementRadius.style.top=n.elementRadius.offsetTop-l+"px"),e()}},c=function(){r&&(r=!1,(0,a.dX)().style.cursor="crosshair",document.onmouseup=null,document.onmousemove=null)}},e.prototype.mousedown=function(){this.action=new u.J(this.user.userID),this.isDrawing=!0,this.elementRadius.style.visibility="hidden";var t=this.correctPointOnCircle({x:this.x,y:this.y});this.action.addPoint({x:t.x,y:t.y,pressure:0,color:this.user.color})},e.prototype.mousemove=function(t){if(this.isDrawing){var e=t.offsetX,n=t.offsetY,r=this.correctPointOnCircle({x:this.x,y:this.y}),A=this.correctPointOnCircle({x:e,y:n});this.action.addPoint({x:A.x,y:A.y,pressure:t.pressure,color:this.user.color}),s.H.drawLine((0,a.dX)().getContext("2d"),r.x,r.y,A.x,A.y,t.pressure,this.user.color)}},e.prototype.mouseup=function(){this.action&&(this.isDrawing=!1,this.elementRadius.style.visibility="visible",o.q.addAction(this.action),this.action=void 0)},e.prototype.correctPointOnCircle=function(t){var e=this.center,n=Math.atan2(t.y-e.y,t.x-e.x),r=this.radius;return{x:e.x+r*Math.cos(n),y:e.y+r*Math.sin(n)}},e.prototype.updateCursor=function(){this.user.isCurrentUser&&this.setToolCursorImage(i._.getStyleCursor(this.user.color))},e}(c.N)},3778:(t,e,n)=>{"use strict";n.d(e,{S:()=>S});var r,A=n(2521),i=n(2079),o=n(9873),s=n(2204),a=n(4973),c=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n){var r=t.call(this)||this;return r.indexesTable=e,r.insertIndex=n,r}return c(e,t),e.prototype.prepareUndo=function(t,e){for(var n=[],r=0;r<t.length;r++)n.push([t[r],e]),t[r]>e&&e++;return n},e.prototype.prepareRedo=function(t,e){for(var n=[],r=0;r<t.length;r++)if(n.push([t[r],e]),t[r]>e)e++;else for(var A=r+1;A<t.length;A++)t[A]<e&&(t[A]=t[A]-1);return n},e.prototype.undo=function(){for(var t=this.prepareUndo(this.indexesTable,this.insertIndex),e=t.length-1;e>-1;e--)s.q.timeline.moveAction(t[e][1],t[e][0]);s.q.timeline.resetAndUpdate(),S.update()},e.prototype.redo=function(){var t=this.prepareRedo(this.indexesTable,this.insertIndex);console.log("nb of indexes: "+t.length),console.log("indexes: "+t);for(var e=0;e<t.length;e++)s.q.timeline.moveAction(t[e][0],t[e][1]);s.q.timeline.resetAndUpdate(),S.update()},e}(a.I),u=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,A,i=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(t){A={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(A)throw A.error}}return o},h=function(t,e,n){if(n||2===arguments.length)for(var r,A=0,i=e.length;A<i;A++)!r&&A in e||(r||(r=Array.prototype.slice.call(e,0,A)),r[A]=e[A]);return t.concat(r||Array.prototype.slice.call(e))},d=function(){function t(){this.selection=new Set}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0==this.selection.size},enumerable:!1,configurable:!0}),t.prototype.has=function(t){return this.selection.has(t)},t.prototype.clear=function(){this.selection.clear()},t.prototype.addInterval=function(t,e){for(var n=t;n<=e;n++)this.selection.add(n)},Object.defineProperty(t.prototype,"min",{get:function(){return Math.min.apply(Math,h([],u(this.selection),!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return Math.max.apply(Math,h([],u(this.selection),!1))},enumerable:!1,configurable:!0}),t.prototype.makeContiguous=function(){for(var t=this.min;t<=this.max;t++)this.selection.add(t)},t.prototype.contiguousAdd=function(t){this.selection.add(t),this.makeContiguous()},t.prototype.includesInterval=function(t,e){for(var n=t;n<=e;n++)if(!this.selection.has(n))return!1;return!0},t.prototype.add=function(t){this.selection.add(t)},Object.defineProperty(t.prototype,"indicesArray",{get:function(){var t=Array.from(this.selection);return t.sort(function(t,e){return t-e}),t},enumerable:!1,configurable:!0}),t.prototype.delete=function(){s.q.executeOperation(new o.o(this.indicesArray)),this.selection.clear(),S.update()},t.prototype.moveTo=function(t){s.q.executeOperation(new l(this.indicesArray,t)),this.selection.clear(),S.update()},t}(),f=n(3039),p=n(4416),g=n(8513),m=n(2326),w=n(9855),y=n(6843),b=n(1187),v=n(988),B=n(9271),C=n(616),_=n(3470),x=n(1024),F=n(5757),S=function(){function t(){}return t.init=function(){document.getElementById("previousSlide").onclick=function(){return i.S.execute("timelinePreviousPausedFrame",[])},document.getElementById("nextSlide").onclick=function(){return i.S.execute("timelineNextPausedFrame",[])},document.getElementById("buttonNewSlideAndClear").onclick=function(){return i.S.execute("newSlideAndClear",[A.$.me.userID])},document.getElementById("timelineMenu").onclick=function(e){t.showMenu(e.pageX,e.pageY),e.stopPropagation()},document.getElementById("previousFrame").onclick=function(){return i.S.execute("timelinePreviousFrame",[])},document.getElementById("nextFrame").onclick=function(){return i.S.execute("timelineNextFrame",[])}},t.deselect=function(){t.selection.isEmpty||(t.selection=new d,t.update())},t.isSelection=function(){return!t.selection.isEmpty},t.toggle=function(){document.getElementById("buttonMovieMode").hidden||(document.getElementById("animationToolBar").style.display=t.is()?"none":"",t.is()?document.getElementById("buttonMovieMode").classList.add("buttonselected"):document.getElementById("buttonMovieMode").classList.remove("buttonselected"),t.update())},t.hideForever=function(){document.getElementById("animationToolBar").style.display="none",document.getElementById("buttonMovieModeKey").style.display="none",document.getElementById("buttonMovieMode").hidden=!0},t.is=function(){return""==document.getElementById("animationToolBar").style.display},t.createSlideDiv=function(e,n,r){var A=document.createElement("div");A.dataset.from=n+"",A.dataset.to=r+"",A.classList.add("slide"),n+1<=r&&s.q.timeline.actions[n+1]instanceof y.E&&A.classList.add("slideClear"),A.title="slide nยฐ"+e,A.style.flexGrow=""+Math.max(1,r-n);var o=t.currentIndex,a=n<=o&&o<=r;if(n<=o)if(o>=r)A.style.background="red";else{var c=r-n==0?100:100*(o-n)/(r-n);A.style.background="linear-gradient(to right, red ".concat(c,"%, gray ").concat(c,"%)")}t.selection.includesInterval(n,r)&&A.classList.add("selected"),a&&A.classList.add("slideCurrent");var l=function(t){return r};return A.onclick=function(e){var A=l();e.ctrlKey?t.selection.addInterval(n,r):e.shiftKey?(t.selection.contiguousAdd(n),t.selection.contiguousAdd(r)):t.selection.includesInterval(n,r)||t.deselect(),i.S.execute("timelineSetCurrentIndex",[A])},A.onmousemove=function(t){E.goto(l())},A.onmouseleave=function(){E.goto(t.currentIndex)},A.oncontextmenu=function(e){var n=l();i.S.execute("timelineSetCurrentIndex",[n]),t.showMenu(e.pageX,e.pageY),e.preventDefault()},A.draggable=!0,A.ondrag=function(e){(t.selection.isEmpty||e.ctrlKey)&&(t.selection.addInterval(n,r),A.classList.add("selected"))},A.ondragover=function(){A.classList.add("dragover")},A.ondragleave=function(){A.classList.remove("dragover")},A.ondrop=function(){t.selection.moveTo(r),t.update()},A},t.createActionElement=function(e){var n=s.q.timeline.actions[e],r=document.createElement("div");if(r.dataset.index=e.toString(),r.classList.add("action"),e>0){var A=s.q.timeline.actions[e-1];(function(t,e){if(!(t instanceof p.J&&e instanceof p.J))return!1;var n,r,A,i,o,s,a,c,l=t.rect,u=e.rect,h=50;return n=l.x1-h,r=l.y1-h,A=l.x2+h,i=l.y2+h,o=u.x1-h,s=u.y1-h,a=u.x2+h,c=u.y2+h,!!(n>a||o>A||s>i||r>c)})(n,A)&&r.classList.add("actionDifferent")}return r.style.backgroundImage=n.getOverviewImage(),n.isBlocking||r.classList.add("actionParallel"),e<=s.q.timeline.getCurrentIndex()&&r.classList.add("actionExecuted"),r.draggable=!0,r.oncontextmenu=function(n){i.S.execute("timelineSetCurrentIndex",[e]),t.showMenu(n.pageX,n.pageY),n.preventDefault()},r.ondragend=function(){},r.onclick=function(n){n.ctrlKey?t.selection.add(e):n.shiftKey?t.selection.contiguousAdd(e):t.selection.has(e)||t.deselect(),i.S.execute("timelineSetCurrentIndex",[e])},r.ondrag=function(n){(t.selection.isEmpty||n.ctrlKey)&&(t.selection.add(e),r.classList.add("selected"))},r.onmousemove=function(){s.q.timeline.setCurrentIndex(e)},r.onmouseenter=function(){n instanceof m.z?document.getElementById(n.magnetid)&&g.Q.highlight(document.getElementById(n.magnetid)):n instanceof w._?(document.getElementById(n.magnetid)?g.Q.highlight(document.getElementById(n.magnetid)):function(t,e){for(var n=e-1;n>=0;n--){var r=s.q.timeline.actions[n];if(r instanceof y.E)return!1;if(r instanceof F.E){if(r.magnetid==t)return!1}else if(r instanceof m.z&&r.magnetid==t)return!0}return!1}(n.magnetid,e)||x.r.error('<img class="icon" src="img/icons/E0AB.svg"/> Temporal paradox: this action is supposed to move a magnet which does not exist yet. Solution: you may correct the timeline by creating a magnet before its move nearby the start point, and Tableaunoir will try to move it in order to face the temporal paradox.'),Q.highlight(n)):n instanceof p.J||n instanceof C.H||n instanceof _.f||n instanceof B.Q?I.highlight(n.contour):n instanceof v.v&&U.highlight(n)},r.onmouseleave=function(){s.q.timeline.setCurrentIndex(t.currentIndex),g.Q.unhighlightAll(),Q.unhighlight(),I.unhighlight(),U.unhighlight()},r.ondragover=function(){console.log("dragover"),r.classList.add("dragover")},r.ondragleave=function(){r.classList.remove("dragover")},r.ondrop=function(){t.selection.moveTo(e),t.update()},n instanceof f.o&&e>0?r.title="Beginning of the slide. Remove me (drag me out the list) in order to merge with the previous slide":n instanceof y.E&&(r.title="Action 'clear all the board'. Remove me (drag me out the list) so that the board is not cleared!"),r},t.updateDeleteAction=function(e){t.is()&&t.requestUpdate()},t.updateAddAction=function(e){t.is()&&t.requestUpdate()},t.updateCurrentIndex=function(){t.requestUpdate()},t.requestUpdate=function(){null==t.request&&(t.request=setTimeout(t.update,5))},Object.defineProperty(t,"timelineSlideList",{get:function(){return document.getElementById("timeline")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"slideActionList",{get:function(){return document.getElementById("timelineSlideActions")},enumerable:!1,configurable:!0}),t.update=function(){if(t.request=void 0,t.is()){t.currentIndex=s.q.timeline.getCurrentIndex(),t.timelineSlideList.innerHTML="";for(var e=function(e,n){t.slideActionList.innerHTML="";for(var r=e;r<=n;r++){var A=t.createActionElement(r);t.selection.has(r)&&A.classList.add("selected"),t.slideActionList.append(A)}},n=0,r=1,A=0;A<s.q.timeline.actions.length;A++){if(s.q.timeline.actions[A]instanceof f.o&&A>0){var i=t.createSlideDiv(r,n,A-1);n<=t.currentIndex&&t.currentIndex<=A-1&&e(n,A-1),n=A,r++,t.timelineSlideList.append(i)}A==s.q.timeline.actions.length-1&&(i=t.createSlideDiv(r,n,A),t.timelineSlideList.append(i),n<=t.currentIndex&&t.currentIndex<=A&&e(n,A),n=A,r++)}document.getElementById("canvas").ondrop=function(){t.selection.delete()}}},t.hideMenu=function(){document.getElementById("contextMenuTimeLine").style.display="none"},t.isMenu=function(){return"block"==document.getElementById("contextMenuTimeLine").style.display},t.showMenu=function(e,n){var r=document.getElementById("contextMenuTimeLine");r.style.display="block",n+r.clientHeight>window.innerHeight&&(n=window.innerHeight-r.clientHeight),r.style.left=e+"px",r.style.top=n+"px",document.getElementById("mergeSlide").onclick=function(){i.S.execute("mergeSlide",[A.$.me.userID]),t.hideMenu()},document.getElementById("newSlideAndClear").onclick=function(){console.log("newslideandclear"),i.S.execute("newSlideAndClear",[A.$.me.userID]),t.hideMenu()},document.getElementById("newSlide").onclick=function(){i.S.execute("newSlide",[A.$.me.userID]),t.hideMenu()},document.getElementById("addActionWait").onclick=function(){i.S.execute("addActionWait",[A.$.me.userID]),t.hideMenu()},document.getElementById("forgetAnimation").onclick=function(){i.S.execute("forgetAnimation",[A.$.me.userID]),t.hideMenu()}},t.currentIndex=0,t.selection=new d,t.request=void 0,t}(),E=function(){function t(){}return t._update=function(){s.q.timeline.setCurrentIndex(t.t),t.timeoutSnapshot=null},t.goto=function(e){t.t=e,null==t.timeoutSnapshot&&(t.timeoutSnapshot=setTimeout(t._update,200))},t.t=0,t.timeoutSnapshot=null,t}(),U=function(){function t(){}return t.highlight=function(t){this.unhighlight(),this.timer=setInterval(function(){for(var e=0;e<20;e++){var n=Math.floor(t.points.length*Math.random()),r=t.points[n],A=Math.random()*r.lineWidth,i=2*Math.PI*Math.random(),o=Math.floor(255*Math.random()),s=Math.floor(255*Math.random()),a=Math.floor(255*Math.random());b.i.start(r.x+A*Math.sin(i),r.y+A*Math.sin(i),0,"rgb(".concat(o,", ").concat(s,", ").concat(a,")"),1)}},100)},t.unhighlight=function(){this.timer&&clearInterval(this.timer)},t.timer=void 0,t}(),I=function(){function t(){}return t.highlight=function(t){var e=this;this.unhighlight(),this.timer=setInterval(function(){e.i=e.i>t.length-2?0:e.i+1;var n=t[e.i];b.i.start(n.x,n.y,n.pressure?n.pressure:1,n.color?n.color:"gray")},100)},t.unhighlight=function(){this.i=0,this.timer&&clearInterval(this.timer)},t.timer=void 0,t.i=0,t}(),Q=function(){function t(){}return t.addSVGPolyLine=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","polyline");return e.setAttributeNS(null,"points",t.map(function(t){return t.x+","+t.y}).join(" ")),document.getElementById("svg").appendChild(e),e.classList.add("magnetMovePolyLine"),e},t.highlight=function(e){t.addSVGPolyLine(e.pointsCentered)},t.unhighlight=function(){document.querySelectorAll(".magnetMovePolyLine").forEach(function(t){return t.remove()})},t}()},3981:(t,e,n)=>{"use strict";n.d(e,{dX:()=>ps,Di:()=>gs,My:()=>ms});var r=n(3778),A=n(3002),i=n(6252),o=n(8696),s=n(8574),a=n(1024),c=n(9136),l=n(2847),u=n(2204),h=n(2521),d=n(4416),f=n(9486),p=function(){function t(){}return t.init=function(){window.TestPerformance=t},t.testSVG=function(){for(var t=0;t<500;t+=4)for(var e=0;e<1e3;e+=4){var n=f.p.addSVGLine(t,e,t+2,e+1,.5,"yellow");document.getElementById("svg").appendChild(n)}},t.testCanvas=function(){for(var t=0;t<500;t+=4)for(var e=0;e<1e3;e+=4)A.H.drawLine(ps().getContext("2d"),t,e,t+2,e+1,.5,"yellow")},t.testBigCanvas=function(t,e,n){void 0===t&&(t=2e4),void 0===e&&(e=1e3),void 0===n&&(n=16);var r=0;ps().width=t;for(var A=0;A<t;A+=n)for(var i=0;i<e;i+=n){var o=new d.J(h.$.me.userID);o.addPoint({x:A,y:i,pressure:1,color:g()}),o.addPoint({x:A+n*Math.random(),y:i+n*Math.random(),pressure:1,color:g()}),o.redo(),u.q.addAction(o),r++}console.log(r+" objects")},t.testBigCanvasSVG=function(){var t=0;ps().width=2e4;for(var e=0;e<2e4;e+=16)for(var n=0;n<1e3;n+=16){var r=f.p.addSVGLine(e,n,e+16*Math.random(),n+16*Math.random(),1,g());document.getElementById("svg").appendChild(r),t++}console.log(t+" objects")},t._testCanvas=function(t,e){var n=0;ps().width=t;for(var r=0;r<t;r+=e)for(var A=0;A<1e3;A+=e){var i=new d.J(h.$.me.userID);i.addPoint({x:r,y:A,pressure:1,color:g()}),i.addPoint({x:r+e*Math.random(),y:A+e*Math.random(),pressure:1,color:g()}),i.redo(),u.q.addAction(i),n++}console.log(n+" objects")},t._testSVG=function(t,e){var n=0;ps().width=t;for(var r=0;r<t;r+=e)for(var A=0;A<1e3;A+=e){var i=f.p.addSVGLine(r,A,r+e*Math.random(),A+e*Math.random(),1,g());document.getElementById("svg").appendChild(i),n++}console.log(n+" objects")},t.testNormal=function(){t._testCanvas(3e3,16)},t.testNormalSVG=function(){t._testSVG(3e3,16)},t.test113=function(){for(var t=0;t<50;t++){var e=new d.J(h.$.me.userID);e.addPoint({x:1e3*t,y:100,pressure:1,color:g()}),e.addPoint({x:1e3*t+500*Math.random(),y:100+500*Math.random(),pressure:1,color:g()}),e.redo(),u.q.addAction(e),u.q.cancel(h.$.me.userID),u.q.cancel(h.$.me.userID),u.q.redo(h.$.me.userID)}},t}();function g(){return Math.random()<.2?"orange":Math.random()<.2?"blue":"white"}var m=function(){function t(){}return t.init=function(){t.stylesheet=document.createElement("style"),t.stylesheet.setAttribute("type","text/css"),document.body?document.body.appendChild(t.stylesheet):document.head.appendChild(t.stylesheet)},t.update=function(){var e="\n";t.rules.forEach(function(t){e+=t.selector+" {"+t.property+":"+t.value+"; }\n"}),console.log(e),t.stylesheet.innerHTML=e},t.setRule=function(e,n,r){var A,i;try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t.rules),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.selector==e&&a.property==n)return a.value=r,void t.update()}}catch(t){A={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(A)throw A.error}}t.rules.push({selector:e,property:n,value:r}),t.update()},t.stylesheet=void 0,t.rules=[],t}(),w=n(130),y=n(2079),b=n(3289),v=function(){function t(){}return t.newGroup=function(){this.magnetX+=100},t.getYTopWhenNewMagnets=function(){return 64},t.setSeparationX=function(e){t.magnetXseparation=e},t.setSeperationY=function(e){t.magnetYseparation=e},t.resetPositionate=function(){t.magnetX=u.q.getCurrentScreenRectangle().x1,t.magnetY=t.getYTopWhenNewMagnets(),t.magnetXseparation=64,t.magnetYseparation=64},t.positionnate=function(e){return t.magnetX>u.q.getCurrentScreenRectangle().x2-10&&(t.magnetX=u.q.getCurrentScreenRectangle().x1,t.magnetY+=this.magnetYseparation),""==e.style.left&&(e.style.left=t.magnetX+"px",e.style.top=t.magnetY+"px"),t.magnetX+=this.magnetXseparation,e},t.magnetX=0,t.magnetY=64,t.magnetXseparation=64,t.magnetYseparation=64,t}(),B=function(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})},C=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x=void 0;function F(){return B(this,void 0,void 0,function(){var t;return C(this,function(e){switch(e.label){case 0:return[4,fetch("https://raw.githubusercontent.com/hfg-gmuend/openmoji/master/data/openmoji.json")];case 1:return(t=e.sent()).ok?[4,t.json()]:[3,3];case 2:return[2,x=e.sent().filter(function(t){return t.hexcode.length<=5})];case 3:throw"Impossible to connect to OpenMoji"}})})}function S(t){var e=document.createElement("img");return fetch(function(t){return"https://raw.githubusercontent.com/hfg-gmuend/openmoji/master/color/svg/".concat(t,".svg")}(t)).then(function(t){return t.text().then(function(t){var n=encodeURIComponent(t.replace("<svg ",'<svg width="72" height="72" '));e.src="data:image/svg+xml;utf8,"+n})}),e.style.width="96px",e}function E(t){return function(){var e,n,r,A,i;return C(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,7]),e=_(x.filter(function(e){return e.group==t}).slice(0,32)),n=e.next(),o.label=1;case 1:return n.done?[3,4]:[4,S(n.value.hexcode)];case 2:o.sent(),o.label=3;case 3:return n=e.next(),[3,1];case 4:return[3,7];case 5:return r=o.sent(),A={error:r},[3,7];case 6:try{n&&!n.done&&(i=e.return)&&i.call(e)}finally{if(A)throw A.error}return[7];case 7:return[2]}})}}var U=function(){function t(){}return t.createMagnet=function(t){var e=document.createElement("div");return e.style.backgroundColor="#EEEEEE",e.innerHTML=t,e},t.createMagnetImage=function(t){var e=new Image;return e.src="img/magnets/"+t,e.classList.add("backgroundTransparent"),e},t.magnetGS=function(){var e;return C(this,function(n){switch(n.label){case 0:return e=function(t){var e=document.createElement("div");return e.innerHTML=t,e.classList.add("GS_B"),e},[4,t.createMagnet("1")];case 1:return n.sent(),[4,t.createMagnet("2")];case 2:return n.sent(),[4,t.createMagnet("3")];case 3:return n.sent(),[4,e("1")];case 4:return n.sent(),[4,e("2")];case 5:return n.sent(),[4,e("3")];case 6:return n.sent(),[2]}})},t.createMagnetRainbow=function(e){var n=t.createMagnet(""+e);return n.style.backgroundColor=["rgb(139, 97, 195)","rgb(115, 97, 195)","rgb(93, 105, 214)","rgb(40, 167, 226)","rgb(40, 204, 226)","rgb(40, 226, 201)","rgb(40, 226, 148)","rgb(40, 226, 102)","rgb(130, 226, 40)","rgb(170, 226, 40)","rgb(223, 226, 40)","rgb(226, 183, 40)","rgb(226, 152, 40)","rgb(226, 124, 40)","rgb(226, 77, 40)","rgb(255, 0, 0)","rgb(144, 24, 24)"][e-1],n},t.magnetSorting=function(){var e;return C(this,function(n){switch(n.label){case 0:e=1,n.label=1;case 1:return e<=17?[4,t.createMagnetRainbow(e)]:[3,4];case 2:n.sent(),n.label=3;case 3:return e++,[3,1];case 4:return[2]}})},t.magnetSortingBig=function(){var e,n;return C(this,function(r){switch(r.label){case 0:e=1,r.label=1;case 1:return e<=17?((n=t.createMagnetRainbow(e)).style.fontSize="96px",[4,n]):[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})},t.magnetBTrees=function(){var e;return C(this,function(n){switch(n.label){case 0:e=1,n.label=1;case 1:return e<=17?[4,t.createMagnetRainbow(e)]:[3,4];case 2:n.sent(),n.label=3;case 3:return e++,[3,1];case 4:e=1,n.label=5;case 5:return e<=7?[4,t.createMagnetImage("Btreenode.png")]:[3,8];case 6:n.sent(),n.label=7;case 7:return e++,[3,5];case 8:return[2]}})},t.magnetGraphNodes=function(){var e,n,r,A,i,o,s;return C(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,7]),e=_(["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]),n=e.next(),a.label=1;case 1:return n.done?[3,4]:(r=n.value,(A=t.createMagnet(r)).classList.add("graphNode"),[4,A]);case 2:a.sent(),a.label=3;case 3:return n=e.next(),[3,1];case 4:return[3,7];case 5:return i=a.sent(),o={error:i},[3,7];case 6:try{n&&!n.done&&(s=e.return)&&s.call(e)}finally{if(o)throw o.error}return[7];case 7:return[2]}})},t.magnetFloydsAlgorithm=function(){return C(this,function(e){switch(e.label){case 0:return[4,t.createMagnetImage("turtlerabbit/turtle.png")];case 1:return e.sent(),[4,t.createMagnetImage("turtlerabbit/rabbit.png")];case 2:return e.sent(),[2]}})},t.magnetGraphSimCity=function(){var e,n,r,A,i,o,s;return C(this,function(a){switch(a.label){case 0:e=["antenne.png","commerce.png","parking.png","tour.png","batimentplat.png","foursolaire.png","residence2.png","usine.png","building.png","gare.png","residencebleu.png","chateaudeau.png","nuclearplant.png","residence.png","citerne.png","parc.png","stade.png"],a.label=1;case 1:a.trys.push([1,6,7,8]),n=_(e),r=n.next(),a.label=2;case 2:return r.done?[3,5]:(A=r.value,[4,t.createMagnetImage("simCityGraph/"+A)]);case 3:a.sent(),a.label=4;case 4:return r=n.next(),[3,2];case 5:return[3,8];case 6:return i=a.sent(),o={error:i},[3,8];case 7:try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(o)throw o.error}return[7];case 8:return[2]}})},t.createWangTile=function(t,e,n,r){var A="http://www.w3.org/2000/svg",i=document.createElementNS(A,"svg");function o(t,e){var n=document.createElementNS(A,"path");return n.setAttributeNS(null,"stroke","#333333"),n.setAttributeNS(null,"stroke-width","5"),n.setAttributeNS(null,"stroke-linejoin","round"),n.setAttributeNS(null,"d",t),n.setAttributeNS(null,"fill",e),n.setAttributeNS(null,"opacity","1"),n}i.setAttributeNS(null,"viewBox","0 0 100 100"),i.setAttributeNS(null,"width","100"),i.setAttributeNS(null,"height","100"),i.style.display="block",i.appendChild(o("M 50 50 L 0 0 L 0 100 Z",t)),i.appendChild(o("M 50 50 L 0 0 L 100 0 Z",e)),i.appendChild(o("M 50 50 L 100 0 L 100 100 Z",n)),i.appendChild(o("M 50, 50 L 100 100 L 0 100 Z",r));var s=document.createElement("div");return s.appendChild(i),s.style.padding="0px",s},t.createWangTileWithText=function(t,e,n,r){var A="http://www.w3.org/2000/svg",i=document.createElementNS(A,"svg");function o(t,e){var n=document.createElementNS(A,"path");return n.setAttributeNS(null,"stroke","#333333"),n.setAttributeNS(null,"stroke-width","5"),n.setAttributeNS(null,"stroke-linejoin","round"),n.setAttributeNS(null,"d",t),n.setAttributeNS(null,"fill",e),n.setAttributeNS(null,"opacity","1"),n}function s(t,e,n){var r=document.createElementNS(A,"text");return r.setAttributeNS(null,"x",""+t),r.setAttributeNS(null,"y",""+e),r.setAttributeNS(null,"text-anchor","middle"),r.style.fontSize="20px",r.textContent=n,r}i.setAttributeNS(null,"viewBox","0 0 100 100"),i.setAttributeNS(null,"width","100"),i.setAttributeNS(null,"height","100"),i.style.display="block";var a=function(t){var e=["white","yellow","lightgreen","#88BBFF","#AAAAFF","orange","#FFAAAA","#FF7766","#DDDDDD","#FFFFAA","#AAAAAA","#EEFF33"];return e[function(t){for(var e=0,n=0;n<t.length;n++)e+=t.charCodeAt(n);return e}(t)%e.length]};i.appendChild(o("M 50 50 L 0 0 L 0 100 Z",a(t))),i.appendChild(o("M 50 50 L 0 0 L 100 0 Z",a(e))),i.appendChild(o("M 50 50 L 100 0 L 100 100 Z",a(n))),i.appendChild(o("M 50, 50 L 100 100 L 0 100 Z",a(r))),i.appendChild(s(25,55,t)),i.appendChild(s(75,55,n)),i.appendChild(s(50,25,e)),i.appendChild(s(50,90,r));var c=document.createElement("div");return c.appendChild(i),c.style.padding="0px",c},t.magnetTilings=function(){return C(this,function(e){switch(e.label){case 0:return[4,t.createWangTile("yellow","red","green","red")];case 1:case 2:case 6:return e.sent(),[4,t.createWangTile("green","red","green","yellow")];case 3:return e.sent(),[4,t.createWangTile("red","red","red","red")];case 4:case 8:return e.sent(),[4,t.createWangTile("red","yellow","red","green")];case 5:return e.sent(),[4,t.createWangTile("red","yellow","yellow","yellow")];case 7:return e.sent(),[4,t.createWangTile("green","green","red","green")];case 9:return e.sent(),[2]}})},t.magnetTilingsTM=function(){var e,n,r,A,i,o,s,a,c,l,u,h,d,f,p,g,m,w,y,b,B,x,F,S,E,U,I,Q,L,k,M,P,T,N,D,O,H,R,j,K,q,G,W,V,z,X,J,Y,Z,$,tt,et,nt,rt,At,it,ot,st,at,ct,lt,ut,ht,dt,ft,pt,gt,mt,wt,yt,bt,vt,Bt,Ct,_t,xt,Ft,St,Et,Ut,It,Qt;return C(this,function(C){switch(C.label){case 0:return v.resetPositionate(),v.setSeparationX(32),v.setSeperationY(100),[4,t.createWangTileWithText("","-","","q0,a")];case 1:return C.sent(),[4,t.createWangTileWithText("","-","","a")];case 2:return C.sent(),[4,t.createWangTileWithText("","-","","b")];case 3:return C.sent(),[4,t.createWangTileWithText("","-","","")];case 4:C.sent(),v.newGroup(),e=["q","q0"],n=["a","b",""],r=["a","b"],C.label=5;case 5:C.trys.push([5,10,11,12]),A=_(n),i=A.next(),C.label=6;case 6:return i.done?[3,9]:($=i.value,[4,v.positionnate(t.createWangTileWithText("",$,"",$))]);case 7:C.sent(),C.label=8;case 8:return i=A.next(),[3,6];case 9:return[3,12];case 10:return o=C.sent(),nt={error:o},[3,12];case 11:try{i&&!i.done&&(rt=A.return)&&rt.call(A)}finally{if(nt)throw nt.error}return[7];case 12:v.newGroup(),C.label=13;case 13:C.trys.push([13,36,37,38]),s=_(e),a=s.next(),C.label=14;case 14:if(a.done)return[3,35];J=a.value,C.label=15;case 15:C.trys.push([15,32,33,34]),ot=void 0,c=_(e),l=c.next(),C.label=16;case 16:if(l.done)return[3,31];D=l.value,C.label=17;case 17:C.trys.push([17,28,29,30]),at=void 0,u=_(n),h=u.next(),C.label=18;case 18:if(h.done)return[3,27];$=h.value,C.label=19;case 19:C.trys.push([19,24,25,26]),lt=void 0,d=_(r),f=d.next(),C.label=20;case 20:return f.done?[3,23]:(K=f.value,[4,v.positionnate(t.createWangTileWithText("","".concat(J,",").concat($),"","".concat(D,",").concat(K)))]);case 21:C.sent(),C.label=22;case 22:return f=d.next(),[3,20];case 23:return[3,26];case 24:return p=C.sent(),lt={error:p},[3,26];case 25:try{f&&!f.done&&(ut=d.return)&&ut.call(d)}finally{if(lt)throw lt.error}return[7];case 26:return h=u.next(),[3,18];case 27:return[3,30];case 28:return g=C.sent(),at={error:g},[3,30];case 29:try{h&&!h.done&&(ct=u.return)&&ct.call(u)}finally{if(at)throw at.error}return[7];case 30:return l=c.next(),[3,16];case 31:return[3,34];case 32:return m=C.sent(),ot={error:m},[3,34];case 33:try{l&&!l.done&&(st=c.return)&&st.call(c)}finally{if(ot)throw ot.error}return[7];case 34:return a=s.next(),[3,14];case 35:return[3,38];case 36:return w=C.sent(),At={error:w},[3,38];case 37:try{a&&!a.done&&(it=s.return)&&it.call(s)}finally{if(At)throw At.error}return[7];case 38:v.newGroup(),C.label=39;case 39:C.trys.push([39,62,63,64]),y=_(e),b=y.next(),C.label=40;case 40:if(b.done)return[3,61];J=b.value,C.label=41;case 41:C.trys.push([41,58,59,60]),ft=void 0,B=_(e),x=B.next(),C.label=42;case 42:if(x.done)return[3,57];D=x.value,C.label=43;case 43:C.trys.push([43,54,55,56]),gt=void 0,F=_(n),S=F.next(),C.label=44;case 44:if(S.done)return[3,53];$=S.value,C.label=45;case 45:C.trys.push([45,50,51,52]),wt=void 0,E=_(r),U=E.next(),C.label=46;case 46:return U.done?[3,49]:(K=U.value,[4,v.positionnate(t.createWangTileWithText("","".concat(J,",").concat($),"".concat(D),"".concat(K)))]);case 47:C.sent(),C.label=48;case 48:return U=E.next(),[3,46];case 49:return[3,52];case 50:return I=C.sent(),wt={error:I},[3,52];case 51:try{U&&!U.done&&(yt=E.return)&&yt.call(E)}finally{if(wt)throw wt.error}return[7];case 52:return S=F.next(),[3,44];case 53:return[3,56];case 54:return Q=C.sent(),gt={error:Q},[3,56];case 55:try{S&&!S.done&&(mt=F.return)&&mt.call(F)}finally{if(gt)throw gt.error}return[7];case 56:return x=B.next(),[3,42];case 57:return[3,60];case 58:return L=C.sent(),ft={error:L},[3,60];case 59:try{x&&!x.done&&(pt=B.return)&&pt.call(B)}finally{if(ft)throw ft.error}return[7];case 60:return b=y.next(),[3,40];case 61:return[3,64];case 62:return k=C.sent(),ht={error:k},[3,64];case 63:try{b&&!b.done&&(dt=y.return)&&dt.call(y)}finally{if(ht)throw ht.error}return[7];case 64:v.newGroup(),C.label=65;case 65:C.trys.push([65,88,89,90]),M=_(e),P=M.next(),C.label=66;case 66:if(P.done)return[3,87];J=P.value,C.label=67;case 67:C.trys.push([67,84,85,86]),Bt=void 0,T=_(e),N=T.next(),C.label=68;case 68:if(N.done)return[3,83];D=N.value,C.label=69;case 69:C.trys.push([69,80,81,82]),_t=void 0,O=_(n),H=O.next(),C.label=70;case 70:if(H.done)return[3,79];$=H.value,C.label=71;case 71:C.trys.push([71,76,77,78]),Ft=void 0,R=_(r),j=R.next(),C.label=72;case 72:return j.done?[3,75]:(K=j.value,[4,v.positionnate(t.createWangTileWithText("".concat(D),"".concat(J,",").concat($),"","".concat(K)))]);case 73:C.sent(),C.label=74;case 74:return j=R.next(),[3,72];case 75:return[3,78];case 76:return q=C.sent(),Ft={error:q},[3,78];case 77:try{j&&!j.done&&(St=R.return)&&St.call(R)}finally{if(Ft)throw Ft.error}return[7];case 78:return H=O.next(),[3,70];case 79:return[3,82];case 80:return G=C.sent(),_t={error:G},[3,82];case 81:try{H&&!H.done&&(xt=O.return)&&xt.call(O)}finally{if(_t)throw _t.error}return[7];case 82:return N=T.next(),[3,68];case 83:return[3,86];case 84:return W=C.sent(),Bt={error:W},[3,86];case 85:try{N&&!N.done&&(Ct=T.return)&&Ct.call(T)}finally{if(Bt)throw Bt.error}return[7];case 86:return P=M.next(),[3,66];case 87:return[3,90];case 88:return V=C.sent(),bt={error:V},[3,90];case 89:try{P&&!P.done&&(vt=M.return)&&vt.call(M)}finally{if(bt)throw bt.error}return[7];case 90:v.newGroup(),C.label=91;case 91:C.trys.push([91,103,104,105]),z=_(e),X=z.next(),C.label=92;case 92:if(X.done)return[3,102];J=X.value,C.label=93;case 93:C.trys.push([93,99,100,101]),It=void 0,Y=_(n),Z=Y.next(),C.label=94;case 94:return Z.done?[3,98]:($=Z.value,[4,v.positionnate(t.createWangTileWithText("","".concat($),"".concat(J),"".concat(J,",").concat($)))]);case 95:return C.sent(),[4,v.positionnate(t.createWangTileWithText("".concat(J),"".concat($),"","".concat(J,",").concat($)))];case 96:C.sent(),C.label=97;case 97:return Z=Y.next(),[3,94];case 98:return[3,101];case 99:return tt=C.sent(),It={error:tt},[3,101];case 100:try{Z&&!Z.done&&(Qt=Y.return)&&Qt.call(Y)}finally{if(It)throw It.error}return[7];case 101:return X=z.next(),[3,92];case 102:return[3,105];case 103:return et=C.sent(),Et={error:et},[3,105];case 104:try{X&&!X.done&&(Ut=z.return)&&Ut.call(z)}finally{if(Et)throw Et.error}return[7];case 105:return[2]}})},t.createMagnetStateAutomaton=function(t,e){var n=document.createElement("div");return n.style.backgroundColor="#222222",n.style.borderRadius="96px",n.style.color="white",n.style.border=e?"white double 10px":"white solid 2px",n.style.padding="16px",n.innerHTML=t,n},t.magnetStatesForAutomata=function(){var e,n,r,A,i,o,s,a,c,l,u,h;return C(this,function(d){switch(d.label){case 0:d.trys.push([0,11,12,13]),e=_([!1,!0]),n=e.next(),d.label=1;case 1:if(n.done)return[3,10];r=n.value,d.label=2;case 2:d.trys.push([2,7,8,9]),u=void 0,A=_(["q","q'","q0","q1","q2","q3","q4","q5"]),i=A.next(),d.label=3;case 3:return i.done?[3,6]:(o=i.value,[4,t.createMagnetStateAutomaton(o,r)]);case 4:d.sent(),d.label=5;case 5:return i=A.next(),[3,3];case 6:return[3,9];case 7:return s=d.sent(),u={error:s},[3,9];case 8:try{i&&!i.done&&(h=A.return)&&h.call(A)}finally{if(u)throw u.error}return[7];case 9:return n=e.next(),[3,1];case 10:return[3,13];case 11:return a=d.sent(),c={error:a},[3,13];case 12:try{n&&!n.done&&(l=e.return)&&l.call(e)}finally{if(c)throw c.error}return[7];case 13:return[2]}})},t.magnetGo=function(){var e,n,r,A,i,o,s,a,c,l,u;return C(this,function(h){switch(h.label){case 0:h.trys.push([0,7,8,9]),e=_([{color:"black",x:20},{color:"white",x:50}]),n=e.next(),h.label=1;case 1:if(n.done)return[3,6];r=n.value,A=r.color,i=r.x,o=0,h.label=2;case 2:return o<20?((s=t.createMagnetImage("go/"+A+".png")).style.left=i+"px",s.style.top=10+5*o+"px",[4,s]):[3,5];case 3:h.sent(),h.label=4;case 4:return o++,[3,2];case 5:return n=e.next(),[3,1];case 6:return[3,9];case 7:return a=h.sent(),l={error:a},[3,9];case 8:try{n&&!n.done&&(u=e.return)&&u.call(e)}finally{if(l)throw l.error}return[7];case 9:return(c=t.createMagnetImage("go/goban.png")).style.left="110px",c.style.top="20px",[4,c];case 10:return h.sent(),[2]}})},t.magnetCars=function(){var e,n;return C(this,function(r){switch(r.label){case 0:e=0,r.label=1;case 1:return e<360?((n=t.createMagnetImage("car.svg")).classList.add("car"),n.style.filter="hue-rotate(".concat(e,"deg)"),[4,n]):[3,4];case 2:r.sent(),r.label=3;case 3:return e+=120,[3,1];case 4:return[2]}})},t.magnetCircles=function(){var t,e,n,r,A,i,o;return C(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,7]),t=_([32,48,64,80,96,128,144,164]),e=t.next(),s.label=1;case 1:return e.done?[3,4]:(n=e.value,(r=document.createElement("div")).style.backgroundColor="rgb(".concat(255,", ").concat(n,", ").concat(n,")"),r.style.width=n+"px",r.style.height=n+"px",r.style.borderRadius=n+"px",[4,r]);case 2:s.sent(),s.label=3;case 3:return e=t.next(),[3,1];case 4:return[3,7];case 5:return A=s.sent(),i={error:A},[3,7];case 6:try{e&&!e.done&&(o=t.return)&&o.call(t)}finally{if(i)throw i.error}return[7];case 7:return[2]}})},t.magnetCoin=function(){var t;return C(this,function(e){switch(e.label){case 0:return(t=document.createElement("img")).src="img/magnets/coin/face.svg",t.classList.add("backgroundTransparent"),t.onclick=function(t){var e=t.target;e.src="img/magnets/coin/flipping.svg",setTimeout(function(){e.src="img/magnets/coin/".concat(Math.random()<.5?"face":"pile",".svg")},1e3)},[4,t];case 1:return e.sent(),[2]}})},t.magnetDice=function(){var t;return C(this,function(e){switch(e.label){case 0:return(t=document.createElement("img")).src="img/magnets/dice/6.svg",t.classList.add("backgroundTransparent"),t.onclick=function(t){var e=t.target;e.src="img/magnets/dice/anim.svg",setTimeout(function(){e.src="img/magnets/dice/".concat(1+Math.floor(6*Math.random()),".svg")},1e3)},[4,t];case 1:return e.sent(),[2]}})},t.magnetMapMarkers=function(){return C(this,function(e){switch(e.label){case 0:return[4,t.createMagnetImage("mapmarkers/mapmarker_source.svg")];case 1:return e.sent(),[4,t.createMagnetImage("mapmarkers/mapmarker_target.svg")];case 2:return e.sent(),[2]}})},t.createMagnetCollectionButton=function(t){var e=document.createElement("button");return e.classList.add("magnetCollectionButton"),e.appendChild(t),e.onclick=function(){a.r.show("Magnet added"),b.s.addMagnet(v.positionnate(t.cloneNode(!0)))},e},t.registerMagnetCollection=function(t){var e=document.createElement("div"),n=document.createElement("div");e.appendChild(n),e.classList.add("wrapperMagnetPreview"),n.classList.add("magnetPreview");for(var r=t();;){var A=r.next();if(A.done)break;n.appendChild(A.value)}var i=document.createElement("button");i.classList.add("magnetCollectionButton"),i.prepend(document.createElement("br")),i.prepend(e),i.onclick=function(){v.resetPositionate();for(var e=t(),n=0;;){var r=e.next();if(r.done)break;b.s.addMagnet(v.positionnate(r.value)),n++}n>1?a.r.show("Magnets added"):a.r.show("Magnet added")},document.getElementById("magnetCollection").appendChild(i)},t.registerIndividualAndCollectionMagnets=function(e){t.registerIndividualMagnets(e),t.registerMagnetCollection(e)},t.registerIndividualMagnets=function(e){var n=document.createElement("div"),r=document.createElement("div");n.appendChild(r),n.classList.add("wrapperMagnetPreview"),r.classList.add("magnetPreview");for(var A=e();;){var i=A.next();if(i.done)break;document.getElementById("magnetCollection").appendChild(t.createMagnetCollectionButton(i.value))}},t.reset=function(){document.getElementById("magnetCollection").innerHTML=""},t.newSection=function(t){var e=document.createElement("h3");e.innerHTML=t,document.getElementById("magnetCollection").appendChild(e)},t.newLine=function(){var t=document.createElement("br");document.getElementById("magnetCollection").appendChild(t)},t.loadMagnets=function(){return B(this,void 0,void 0,function(){var e,n=this;return C(this,function(r){switch(r.label){case 0:t.reset(),document.getElementById("magnetCollectionSearch").oninput=function(){var t,e,r=document.getElementById("magnetCollectionSearch").value,A=""!=r;if(document.getElementById("magnetCollection").hidden=A,document.getElementById("magnetCollectionSearchResult").hidden=!A,A){var i=x.filter(function(t){return t.tags.indexOf(r)>=0});if(document.getElementById("magnetCollectionSearchResult").innerHTML="",i.length<30){document.getElementById("magnetCollectionSearchResult").innerHTML="";try{for(var o=_(i),s=o.next();!s.done;s=o.next()){var a=s.value;document.getElementById("magnetCollectionSearchResult").appendChild(n.createMagnetCollectionButton(S(a.hexcode)))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}else document.getElementById("magnetCollectionSearchResult").innerHTML="too many magnets: please do not be shy and tell me more"}},t.newSection("Digits and letters"),t.registerIndividualAndCollectionMagnets(t.magnetSorting),t.newLine(),t.registerIndividualAndCollectionMagnets(t.magnetGraphNodes),t.registerMagnetCollection(t.magnetBTrees),t.registerMagnetCollection(t.magnetStatesForAutomata),t.newSection("Tilings"),t.registerMagnetCollection(t.magnetTilings),t.registerMagnetCollection(t.magnetTilingsTM),t.newSection("Games"),t.registerMagnetCollection(t.magnetGo),t.registerMagnetCollection(t.magnetCoin),t.registerMagnetCollection(t.magnetDice),t.registerMagnetCollection(t.magnetCircles),t.newSection("Vehicules"),t.registerIndividualAndCollectionMagnets(t.magnetCars),t.newSection("Markers"),t.registerMagnetCollection(t.magnetMapMarkers),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,F()];case 2:return r.sent(),t.newSection("Persons"),t.registerIndividualAndCollectionMagnets((A=["1F9D2","1F9D1-200D-2695-FE0F","1F469-200D-1F393","1F468-200D-1F373","1F9D1-200D-1F52C","1F478","1F9D1-200D-1F384","1F9D9-200D-2640-FE0F","1F9DA-200D-2642-FE0F","1F9DE-200D-2642-FE0F"],function(){var t,e,n,r,i;return C(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,7]),t=_(A),e=t.next(),o.label=1;case 1:return e.done?[3,4]:[4,S(e.value)];case 2:o.sent(),o.label=3;case 3:return e=t.next(),[3,1];case 4:return[3,7];case 5:return n=o.sent(),r={error:n},[3,7];case 6:try{e&&!e.done&&(i=t.return)&&i.call(t)}finally{if(r)throw r.error}return[7];case 7:return[2]}})})),t.newSection("Activities"),t.registerIndividualMagnets(E("activities")),t.newSection("Fruits and vegetables"),t.registerIndividualMagnets(E("food-drink")),t.newSection("Places"),t.registerIndividualMagnets(E("travel-places")),[3,4];case 3:return e=r.sent(),console.log(e),[3,4];case 4:return[2]}var A})})},t}(),I=n(6043),Q=n(6060),L=n(7071),k=n(5306),M=n(2517),P=n(4059),T=n(2779),N=n(328),D=["fr","en","de","es"],O=function(){function t(){}return t.init=function(){try{setTimeout(function(){return N.x.string({name:"language",defaultValue:D.indexOf(navigator.language)>=0?navigator.language:"en",onChange:function(e){t.translate(e)}})},1e3)}catch(t){a.r.error(t)}},t.fetchDictionary=function(t){return null==t||"en"==t?new Promise(function(){}):fetch(t+".json").then(function(t){return t.json()})},t.translateElement=function(e,n){if(null!=e.children)if(null!=e.title&&n[e.title.trim()]&&(t.setEnglishDictEntry(n[e.title],e.title),e.title=n[e.title]),0==e.children.length)n[e.innerHTML.trim()]&&(t.setEnglishDictEntry(n[e.innerHTML.trim()],e.innerHTML),e.innerHTML=n[e.innerHTML]);else for(var r in e.children)t.translateElement(e.children[r],n)},t.setEnglishDictEntry=function(e,n){null==t.englishDict[e]&&(t.englishDict[e]=n)},t.translateFromIDs=function(e){for(var n in e)if(n.startsWith("#")&&!n.endsWith(".title")){var r=document.getElementById(n.substr(1));null==r?console.log("Language translation: Element ".concat(n," not found.")):(r.children.length>0&&console.log("Language translation: I refuse to translate because element ".concat(n,"  has some children.")),t.setEnglishDictEntry(n,r.innerHTML),r.innerHTML=e[n])}},t.translateFromIDsTitle=function(e){for(var n in e)if(n.startsWith("#")&&n.endsWith(".title")){var r=n.substr(1,n.length-7),A=document.getElementById(r);null==A?console.log("Language translation: Element of id ".concat(r," not found. Thus I cannot translate ").concat(n)):(t.setEnglishDictEntry(n,A.title),A.title=e[n])}},t.translateD=function(e){t.translateElement(document.getElementById("controls"),e),t.translateElement(document.getElementById("menu"),e),t.translateFromIDs(e),t.translateFromIDsTitle(e)},t.translate=function(e){t.translateD(t.englishDict),"en"!=e&&t.fetchDictionary(e).then(t.translateD)},t.englishDict={},t}(),H=n(9969),R=n(8611),j=n(6361),K=n(1706),q=n(7917),G={};window.keys=G;var W=function(){function t(){}return t.onKeyUp=function(t){"Shift"==t.key&&h.$.me.isToolDraw&&h.$.me.tool.updateNoMagnetPossibleConnection(),delete G[t.key]},t.onKeyDown=function(e){j.S.onkey(e.key),G[e.key]=!0;var n=e.key.toLowerCase();"F11"==e.key||"F12"==e.key||"F5"==e.key||e.ctrlKey&&"s"==n||e.ctrlKey&&"o"==n||document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||e.preventDefault(),"Escape"!=e.key&&"F1"!=e.key||(Q.P.isMinimap?Q.P.normal():i.J.isShown()?i.J.hide():r.S.isMenu()?r.S.hideMenu():b.s.isMenu()?b.s.hideMenu():r.S.is()&&r.S.isSelection()?r.S.deselect():H.W.toggle()),H.W.isShown()||(e.ctrlKey&&"s"==n&&!q.w.is&&(H.W.show(),H.W.openPageMyBoard(),setTimeout(function(){var t=document.getElementById("name");t.select(),t.focus()},500),e.preventDefault()),e.ctrlKey&&e.altKey&&"n"==n&&h.$.me.canWrite?(y.S.execute("newSlide",[h.$.me.userID]),r.S.hideMenu(),e.preventDefault()):e.altKey&&"n"==n&&h.$.me.canWrite?(y.S.execute("newSlideAndClear",[h.$.me.userID]),r.S.hideMenu(),e.preventDefault()):e.ctrlKey&&e.altKey&&"k"==n?y.S.execute("boardReset",[]):e.ctrlKey&&e.altKey&&"h"==n?N.x.toggle("cursorVisible"):e.ctrlKey||e.shiftKey||"n"!=n?e.ctrlKey||e.shiftKey||"c"!=n?!e.ctrlKey&&e.shiftKey&&"c"==n?c.f.previousColor(!0):e.ctrlKey||e.shiftKey||"t"!=n?"+"==e.key||e.ctrlKey&&"="==e.key?c.f.magnetIncreaseSize():"-"==e.key||"="==e.key?c.f.magnetDecreaseSize():"b"==n?c.f.magnetSwitchBackgroundForeground():"e"==n?c.f.switchDrawEraser():"f"==n?c.f.fill():"h"==n?L.M.toggle():"a"==n?r.S.toggle():"Enter"==e.key&&i.J.isShown()?i.J.hide():"ArrowLeft"==e.key&&i.J.isShown()?c.f.palette.previous():"ArrowRight"==e.key&&i.J.isShown()?c.f.palette.next():e.shiftKey&&"ArrowLeft"==e.key&&!Q.P.isMinimap?w.P.left():e.shiftKey&&"ArrowRight"==e.key&&!Q.P.isMinimap?w.P.right():"ArrowLeft"!=e.key||Q.P.isMinimap?"ArrowRight"!=e.key||Q.P.isMinimap?e.ctrlKey&&"r"==n?j.e.toggle():"Shift"==e.key?h.$.me.isToolDraw&&h.$.me.tool.updateMagnetPossibleConnection():h.$.me.canWrite&&t.onKeyDownThatModifies(e):w.P.rightNextPage():w.P.leftPreviousPage():c.f.toolmenu.show({x:h.$.me.x,y:h.$.me.y}):c.f.changeColor(!0):Q.P.toggleMinimap())},t.onKeyDownThatModifies=function(e){var n=e.key.toLowerCase();"Enter"==e.key?(o.h.addMagnetText(h.$.me.x,h.$.me.y),e.preventDefault()):"d"==n?y.S.execute("divideScreen",[h.$.me.userID,Q.P.getXMiddle()]):e.ctrlKey&&e.shiftKey&&"Z"==e.key||e.ctrlKey&&"y"==e.key?(u.q.redo(h.$.me.userID),e.preventDefault()):e.ctrlKey&&"z"==n?(u.q.cancel(h.$.me.userID),e.preventDefault()):e.shiftKey&&"PageDown"==e.key?y.S.isShared()||u.q.fastNextPausedFrame():"PageDown"==e.key||"ArrowDown"==e.key?y.S.execute("timelineNextPausedFrame",[]):"PageUp"==e.key||"ArrowUp"==e.key?y.S.execute("timelinePreviousPausedFrame",[]):e.ctrlKey&&"x"==n?(i.J.hide(),K.R.magnetize(h.$.me.userID,!0)):e.ctrlKey&&"c"==n?(i.J.hide(),K.R.magnetize(h.$.me.userID,!1),e.preventDefault()):e.ctrlKey&&"v"==n?(i.J.hide(),t.available&&(t.available=!1,setTimeout(function(){return t.available=!0},1e3),y.S.execute("printMagnet",[b.s.getCurrentMagnetID()]))):"m"==n?(i.J.hide(),K.R.isSuitableForMagnetisation(h.$.me.userID)?K.R.magnetize(h.$.me.userID,!0):(y.S.execute("printMagnet",[b.s.getCurrentMagnetID()]),b.s.removeCurrentMagnet())):"p"==e.key?(i.J.hide(),y.S.execute("printMagnet",[b.s.getCurrentMagnetID()])):"Delete"!=e.key&&"x"!=e.key&&"Backspace"!=e.key||(i.J.hide(),r.S.is()&&!r.S.selection.isEmpty?r.S.selection.delete():b.s.removeCurrentMagnet(),e.preventDefault())},t.available=!0,t}(),V=n(354),z=n.n(V),X=n(2284),J=Uint8Array,Y=Uint16Array,Z=Int32Array,$=new J([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tt=new J([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),et=new J([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nt=function(t,e){for(var n=new Y(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var A=new Z(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)A[i]=i-n[r]<<5|r;return{b:n,r:A}},rt=nt($,2),At=rt.b,it=rt.r;At[28]=258,it[258]=28;for(var ot=nt(tt,0),st=(ot.b,ot.r),at=new Y(32768),ct=0;ct<32768;++ct){var lt=(43690&ct)>>1|(21845&ct)<<1;lt=(61680&(lt=(52428&lt)>>2|(13107&lt)<<2))>>4|(3855&lt)<<4,at[ct]=((65280&lt)>>8|(255&lt)<<8)>>1}var ut=function(t,e,n){for(var r=t.length,A=0,i=new Y(e);A<r;++A)t[A]&&++i[t[A]-1];var o,s=new Y(e);for(A=1;A<e;++A)s[A]=s[A-1]+i[A-1]<<1;if(n){o=new Y(1<<e);var a=15-e;for(A=0;A<r;++A)if(t[A])for(var c=A<<4|t[A],l=e-t[A],u=s[t[A]-1]++<<l,h=u|(1<<l)-1;u<=h;++u)o[at[u]>>a]=c}else for(o=new Y(r),A=0;A<r;++A)t[A]&&(o[A]=at[s[t[A]-1]++]>>15-t[A]);return o},ht=new J(288);for(ct=0;ct<144;++ct)ht[ct]=8;for(ct=144;ct<256;++ct)ht[ct]=9;for(ct=256;ct<280;++ct)ht[ct]=7;for(ct=280;ct<288;++ct)ht[ct]=8;var dt=new J(32);for(ct=0;ct<32;++ct)dt[ct]=5;var ft=ut(ht,9,0),pt=ut(dt,5,0),gt=function(t){return(t+7)/8|0},mt=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},wt=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},yt=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var A=n.length,i=n.slice();if(!A)return{t:Ft,l:0};if(1==A){var o=new J(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(t,e){return t.f-e.f}),n.push({s:-1,f:25001});var s=n[0],a=n[1],c=0,l=1,u=2;for(n[0]={s:-1,f:s.f+a.f,l:s,r:a};l!=A-1;)s=n[n[c].f<n[u].f?c++:u++],a=n[c!=l&&n[c].f<n[u].f?c++:u++],n[l++]={s:-1,f:s.f+a.f,l:s,r:a};var h=i[0].s;for(r=1;r<A;++r)i[r].s>h&&(h=i[r].s);var d=new Y(h+1),f=bt(n[l-1],d,0);if(f>e){r=0;var p=0,g=f-e,m=1<<g;for(i.sort(function(t,e){return d[e.s]-d[t.s]||t.f-e.f});r<A;++r){var w=i[r].s;if(!(d[w]>e))break;p+=m-(1<<f-d[w]),d[w]=e}for(p>>=g;p>0;){var y=i[r].s;d[y]<e?p-=1<<e-d[y]++-1:++r}for(;r>=0&&p;--r){var b=i[r].s;d[b]==e&&(--d[b],++p)}f=e}return{t:new J(d),l:f}},bt=function(t,e,n){return-1==t.s?Math.max(bt(t.l,e,n+1),bt(t.r,e,n+1)):e[t.s]=n},vt=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Y(++e),r=0,A=t[0],i=1,o=function(t){n[r++]=t},s=1;s<=e;++s)if(t[s]==A&&s!=e)++i;else{if(!A&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(A),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(A);i=1,A=t[s]}return{c:n.subarray(0,r),n:e}},Bt=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Ct=function(t,e,n){var r=n.length,A=gt(e+2);t[A]=255&r,t[A+1]=r>>8,t[A+2]=255^t[A],t[A+3]=255^t[A+1];for(var i=0;i<r;++i)t[A+i+4]=n[i];return 8*(A+4+r)},_t=function(t,e,n,r,A,i,o,s,a,c,l){mt(e,l++,n),++A[256];for(var u=yt(A,15),h=u.t,d=u.l,f=yt(i,15),p=f.t,g=f.l,m=vt(h),w=m.c,y=m.n,b=vt(p),v=b.c,B=b.n,C=new Y(19),_=0;_<w.length;++_)++C[31&w[_]];for(_=0;_<v.length;++_)++C[31&v[_]];for(var x=yt(C,7),F=x.t,S=x.l,E=19;E>4&&!F[et[E-1]];--E);var U,I,Q,L,k=c+5<<3,M=Bt(A,ht)+Bt(i,dt)+o,P=Bt(A,h)+Bt(i,p)+o+14+3*E+Bt(C,F)+2*C[16]+3*C[17]+7*C[18];if(a>=0&&k<=M&&k<=P)return Ct(e,l,t.subarray(a,a+c));if(mt(e,l,1+(P<M)),l+=2,P<M){U=ut(h,d,0),I=h,Q=ut(p,g,0),L=p;var T=ut(F,S,0);for(mt(e,l,y-257),mt(e,l+5,B-1),mt(e,l+10,E-4),l+=14,_=0;_<E;++_)mt(e,l+3*_,F[et[_]]);l+=3*E;for(var N=[w,v],D=0;D<2;++D){var O=N[D];for(_=0;_<O.length;++_){var H=31&O[_];mt(e,l,T[H]),l+=F[H],H>15&&(mt(e,l,O[_]>>5&127),l+=O[_]>>12)}}}else U=ft,I=ht,Q=pt,L=dt;for(_=0;_<s;++_){var R=r[_];if(R>255){wt(e,l,U[257+(H=R>>18&31)]),l+=I[H+257],H>7&&(mt(e,l,R>>23&31),l+=$[H]);var j=31&R;wt(e,l,Q[j]),l+=L[j],j>3&&(wt(e,l,R>>5&8191),l+=tt[j])}else wt(e,l,U[R]),l+=I[R]}return wt(e,l,U[256]),l+I[256]},xt=new Z([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ft=new J(0),St=function(t,e,n,r,A,i){var o=i.z||t.length,s=new J(r+o+5*(1+Math.ceil(o/7e3))+A),a=s.subarray(r,s.length-A),c=i.l,l=7&(i.r||0);if(e){l&&(a[0]=i.r>>3);for(var u=xt[e-1],h=u>>13,d=8191&u,f=(1<<n)-1,p=i.p||new Y(32768),g=i.h||new Y(f+1),m=Math.ceil(n/3),w=2*m,y=function(e){return(t[e]^t[e+1]<<m^t[e+2]<<w)&f},b=new Z(25e3),v=new Y(288),B=new Y(32),C=0,_=0,x=i.i||0,F=0,S=i.w||0,E=0;x+2<o;++x){var U=y(x),I=32767&x,Q=g[U];if(p[I]=Q,g[U]=I,S<=x){var L=o-x;if((C>7e3||F>24576)&&(L>423||!c)){l=_t(t,a,0,b,v,B,_,F,E,x-E,l),F=C=_=0,E=x;for(var k=0;k<286;++k)v[k]=0;for(k=0;k<30;++k)B[k]=0}var M=2,P=0,T=d,N=I-Q&32767;if(L>2&&U==y(x-N))for(var D=Math.min(h,L)-1,O=Math.min(32767,x),H=Math.min(258,L);N<=O&&--T&&I!=Q;){if(t[x+M]==t[x+M-N]){for(var R=0;R<H&&t[x+R]==t[x+R-N];++R);if(R>M){if(M=R,P=N,R>D)break;var j=Math.min(N,R-2),K=0;for(k=0;k<j;++k){var q=x-N+k&32767,G=q-p[q]&32767;G>K&&(K=G,Q=q)}}}N+=(I=Q)-(Q=p[I])&32767}if(P){b[F++]=268435456|it[M]<<18|st[P];var W=31&it[M],V=31&st[P];_+=$[W]+tt[V],++v[257+W],++B[V],S=x+M,++C}else b[F++]=t[x],++v[t[x]]}}for(x=Math.max(x,S);x<o;++x)b[F++]=t[x],++v[t[x]];l=_t(t,a,c,b,v,B,_,F,E,x-E,l),c||(i.r=7&l|a[l/8|0]<<3,l-=7,i.h=g,i.p=p,i.i=x,i.w=S)}else{for(x=i.w||0;x<o+c;x+=65535){var z=x+65535;z>=o&&(a[l/8|0]=c,z=o),l=Ct(a,l+1,t.subarray(x,z))}i.i=o}return function(t,e,n){return(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length),new J(t.subarray(e,n))}(s,0,r+gt(l)+A)},Et=function(){var t=1,e=0;return{p:function(n){for(var r=t,A=e,i=0|n.length,o=0;o!=i;){for(var s=Math.min(o+2655,i);o<s;++o)A+=r+=n[o];r=(65535&r)+15*(r>>16),A=(65535&A)+15*(A>>16)}t=r,e=A},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(e%=65521))<<8|e>>8}}},Ut=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function It(t,e){e||(e={});var n=Et();n.p(t);var r=function(t,e,n,r,A){if(!A&&(A={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new J(i.length+t.length);o.set(i),o.set(t,i.length),t=o,A.w=i.length}return St(t,null==e.level?6:e.level,null==e.mem?A.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,n,r,A)}(t,e,e.dictionary?6:2,4);return function(t,e){var n=e.level,r=0==n?0:n<6?1:9==n?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var A=Et();A.p(e.dictionary),Ut(t,2,A.d())}}(r,e),Ut(r,r.length-4,n.d()),r}var Qt="undefined"!=typeof TextDecoder&&new TextDecoder;try{Qt.decode(Ft,{stream:!0})}catch($i){}function Lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function kt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,A,i,o,s=[],a=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);a=!0);}catch(t){c=!0,A=t}finally{try{if(!a&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw A}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Lt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(t,e="utf8"){return new TextDecoder(e).decode(t)}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;const Pt=new TextEncoder,Tt=(()=>{const t=new Uint8Array(4);return!((new Uint32Array(t.buffer)[0]=1)&t[0])})(),Nt={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Dt{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=8192,e={}){let n=!1;"number"==typeof t?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const r=e.offset?e.offset>>>0:0,A=t.byteLength-r;let i=r;(ArrayBuffer.isView(t)||t instanceof Dt)&&(t.byteLength!==t.buffer.byteLength&&(i=t.byteOffset+r),t=t.buffer),this.lastWrittenByte=n?A:0,this.buffer=t,this.length=A,this.byteLength=A,this.byteOffset=i,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,i,A),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const e=2*(this.offset+t),n=new Uint8Array(e);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=e,this.byteLength=e,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const n=Nt[e].BYTES_PER_ELEMENT*t,r=this.byteOffset+this.offset,A=this.buffer.slice(r,r+n);if(this.littleEndian===Tt&&"uint8"!==e&&"int8"!==e){const t=new Uint8Array(this.buffer.slice(r,r+n));t.reverse();const A=new Nt[e](t.buffer);return this.offset+=n,A.reverse(),A}const i=new Nt[e](A);return this.offset+=n,i}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let n=0;n<t;n++)e+=this.readChar();return e}readUtf8(t=1){return Mt(this.readBytes(t))}decodeText(t=1,e="utf8"){return Mt(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(function(t){return Pt.encode(t)}(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ot(t){let e=t.length;for(;--e>=0;)t[e]=0}const Ht=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Rt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),jt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Kt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qt=new Array(576);Ot(qt);const Gt=new Array(60);Ot(Gt);const Wt=new Array(512);Ot(Wt);const Vt=new Array(256);Ot(Vt);const zt=new Array(29);Ot(zt);const Xt=new Array(30);function Jt(t,e,n,r,A){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=A,this.has_stree=t&&t.length}let Yt,Zt,$t;function te(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}Ot(Xt);const ee=t=>t<256?Wt[t]:Wt[256+(t>>>7)],ne=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},re=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,ne(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Ae=(t,e,n)=>{re(t,n[2*e],n[2*e+1])},ie=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},oe=(t,e,n)=>{const r=new Array(16);let A,i,o=0;for(A=1;A<=15;A++)o=o+n[A-1]<<1,r[A]=o;for(i=0;i<=e;i++){let e=t[2*i+1];0!==e&&(t[2*i]=ie(r[e]++,e))}},se=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},ae=t=>{t.bi_valid>8?ne(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},ce=(t,e,n,r)=>{const A=2*e,i=2*n;return t[A]<t[i]||t[A]===t[i]&&r[e]<=r[n]},le=(t,e,n)=>{const r=t.heap[n];let A=n<<1;for(;A<=t.heap_len&&(A<t.heap_len&&ce(e,t.heap[A+1],t.heap[A],t.depth)&&A++,!ce(e,r,t.heap[A],t.depth));)t.heap[n]=t.heap[A],n=A,A<<=1;t.heap[n]=r},ue=(t,e,n)=>{let r,A,i,o,s=0;if(0!==t.sym_next)do{r=255&t.pending_buf[t.sym_buf+s++],r+=(255&t.pending_buf[t.sym_buf+s++])<<8,A=t.pending_buf[t.sym_buf+s++],0===r?Ae(t,A,e):(i=Vt[A],Ae(t,i+256+1,e),o=Ht[i],0!==o&&(A-=zt[i],re(t,A,o)),r--,i=ee(r),Ae(t,i,n),o=Rt[i],0!==o&&(r-=Xt[i],re(t,r,o)))}while(s<t.sym_next);Ae(t,256,e)},he=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,A=e.stat_desc.has_stree,i=e.stat_desc.elems;let o,s,a,c=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<i;o++)0!==n[2*o]?(t.heap[++t.heap_len]=c=o,t.depth[o]=0):n[2*o+1]=0;for(;t.heap_len<2;)a=t.heap[++t.heap_len]=c<2?++c:0,n[2*a]=1,t.depth[a]=0,t.opt_len--,A&&(t.static_len-=r[2*a+1]);for(e.max_code=c,o=t.heap_len>>1;o>=1;o--)le(t,n,o);a=i;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],le(t,n,1),s=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=s,n[2*a]=n[2*o]+n[2*s],t.depth[a]=(t.depth[o]>=t.depth[s]?t.depth[o]:t.depth[s])+1,n[2*o+1]=n[2*s+1]=a,t.heap[1]=a++,le(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,r=e.max_code,A=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,a=e.stat_desc.max_length;let c,l,u,h,d,f,p=0;for(h=0;h<=15;h++)t.bl_count[h]=0;for(n[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<573;c++)l=t.heap[c],h=n[2*n[2*l+1]+1]+1,h>a&&(h=a,p++),n[2*l+1]=h,l>r||(t.bl_count[h]++,d=0,l>=s&&(d=o[l-s]),f=n[2*l],t.opt_len+=f*(h+d),i&&(t.static_len+=f*(A[2*l+1]+d)));if(0!==p){do{for(h=a-1;0===t.bl_count[h];)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[a]--,p-=2}while(p>0);for(h=a;0!==h;h--)for(l=t.bl_count[h];0!==l;)u=t.heap[--c],u>r||(n[2*u+1]!==h&&(t.opt_len+=(h-n[2*u+1])*n[2*u],n[2*u+1]=h),l--)}})(t,e),oe(n,c,t.bl_count)},de=(t,e,n)=>{let r,A,i=-1,o=e[1],s=0,a=7,c=4;for(0===o&&(a=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)A=o,o=e[2*(r+1)+1],++s<a&&A===o||(s<c?t.bl_tree[2*A]+=s:0!==A?(A!==i&&t.bl_tree[2*A]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,i=A,0===o?(a=138,c=3):A===o?(a=6,c=3):(a=7,c=4))},fe=(t,e,n)=>{let r,A,i=-1,o=e[1],s=0,a=7,c=4;for(0===o&&(a=138,c=3),r=0;r<=n;r++)if(A=o,o=e[2*(r+1)+1],!(++s<a&&A===o)){if(s<c)do{Ae(t,A,t.bl_tree)}while(0!==--s);else 0!==A?(A!==i&&(Ae(t,A,t.bl_tree),s--),Ae(t,16,t.bl_tree),re(t,s-3,2)):s<=10?(Ae(t,17,t.bl_tree),re(t,s-3,3)):(Ae(t,18,t.bl_tree),re(t,s-11,7));s=0,i=A,0===o?(a=138,c=3):A===o?(a=6,c=3):(a=7,c=4)}};let pe=!1;const ge=(t,e,n,r)=>{re(t,0+(r?1:0),3),ae(t),ne(t,n),ne(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var me={_tr_init:t=>{pe||((()=>{let t,e,n,r,A;const i=new Array(16);for(n=0,r=0;r<28;r++)for(zt[r]=n,t=0;t<1<<Ht[r];t++)Vt[n++]=r;for(Vt[n-1]=r,A=0,r=0;r<16;r++)for(Xt[r]=A,t=0;t<1<<Rt[r];t++)Wt[A++]=r;for(A>>=7;r<30;r++)for(Xt[r]=A<<7,t=0;t<1<<Rt[r]-7;t++)Wt[256+A++]=r;for(e=0;e<=15;e++)i[e]=0;for(t=0;t<=143;)qt[2*t+1]=8,t++,i[8]++;for(;t<=255;)qt[2*t+1]=9,t++,i[9]++;for(;t<=279;)qt[2*t+1]=7,t++,i[7]++;for(;t<=287;)qt[2*t+1]=8,t++,i[8]++;for(oe(qt,287,i),t=0;t<30;t++)Gt[2*t+1]=5,Gt[2*t]=ie(t,5);Yt=new Jt(qt,Ht,257,286,15),Zt=new Jt(Gt,Rt,0,30,15),$t=new Jt(new Array(0),jt,0,19,7)})(),pe=!0),t.l_desc=new te(t.dyn_ltree,Yt),t.d_desc=new te(t.dyn_dtree,Zt),t.bl_desc=new te(t.bl_tree,$t),t.bi_buf=0,t.bi_valid=0,se(t)},_tr_stored_block:ge,_tr_flush_block:(t,e,n,r)=>{let A,i,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),he(t,t.l_desc),he(t,t.d_desc),o=(t=>{let e;for(de(t,t.dyn_ltree,t.l_desc.max_code),de(t,t.dyn_dtree,t.d_desc.max_code),he(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*Kt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),A=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=A&&(A=i)):A=i=n+5,n+4<=A&&-1!==e?ge(t,e,n,r):4===t.strategy||i===A?(re(t,2+(r?1:0),3),ue(t,qt,Gt)):(re(t,4+(r?1:0),3),((t,e,n,r)=>{let A;for(re(t,e-257,5),re(t,n-1,5),re(t,r-4,4),A=0;A<r;A++)re(t,t.bl_tree[2*Kt[A]+1],3);fe(t,t.dyn_ltree,e-1),fe(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),ue(t,t.dyn_ltree,t.dyn_dtree)),se(t),r&&ae(t)},_tr_tally:(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(Vt[n]+256+1)]++,t.dyn_dtree[2*ee(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{re(t,2,3),Ae(t,256,qt),(t=>{16===t.bi_valid?(ne(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},we=(t,e,n,r)=>{let A=65535&t,i=t>>>16&65535,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do{A=A+e[r++]|0,i=i+A|0}while(--o);A%=65521,i%=65521}return A|i<<16};const ye=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var be=(t,e,n,r)=>{const A=ye,i=r+n;t^=-1;for(let n=r;n<i;n++)t=t>>>8^A[255&(t^e[n])];return-1^t},ve={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Be={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ce,_tr_stored_block:_e,_tr_flush_block:xe,_tr_tally:Fe,_tr_align:Se}=me,{Z_NO_FLUSH:Ee,Z_PARTIAL_FLUSH:Ue,Z_FULL_FLUSH:Ie,Z_FINISH:Qe,Z_BLOCK:Le,Z_OK:ke,Z_STREAM_END:Me,Z_STREAM_ERROR:Pe,Z_DATA_ERROR:Te,Z_BUF_ERROR:Ne,Z_DEFAULT_COMPRESSION:De,Z_FILTERED:Oe,Z_HUFFMAN_ONLY:He,Z_RLE:Re,Z_FIXED:je,Z_DEFAULT_STRATEGY:Ke,Z_UNKNOWN:qe,Z_DEFLATED:Ge}=Be,We=258,Ve=262,ze=42,Xe=113,Je=666,Ye=(t,e)=>(t.msg=ve[e],e),Ze=t=>2*t-(t>4?9:0),$e=t=>{let e=t.length;for(;--e>=0;)t[e]=0},tn=t=>{let e,n,r,A=t.w_size;e=t.hash_size,r=e;do{n=t.head[--r],t.head[r]=n>=A?n-A:0}while(--e);e=A,r=e;do{n=t.prev[--r],t.prev[r]=n>=A?n-A:0}while(--e)};let en=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const nn=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},rn=(t,e)=>{xe(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,nn(t.strm)},An=(t,e)=>{t.pending_buf[t.pending++]=e},on=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},sn=(t,e,n,r)=>{let A=t.avail_in;return A>r&&(A=r),0===A?0:(t.avail_in-=A,e.set(t.input.subarray(t.next_in,t.next_in+A),n),1===t.state.wrap?t.adler=we(t.adler,e,A,n):2===t.state.wrap&&(t.adler=be(t.adler,e,A,n)),t.next_in+=A,t.total_in+=A,A)},an=(t,e)=>{let n,r,A=t.max_chain_length,i=t.strstart,o=t.prev_length,s=t.nice_match;const a=t.strstart>t.w_size-Ve?t.strstart-(t.w_size-Ve):0,c=t.window,l=t.w_mask,u=t.prev,h=t.strstart+We;let d=c[i+o-1],f=c[i+o];t.prev_length>=t.good_match&&(A>>=2),s>t.lookahead&&(s=t.lookahead);do{if(n=e,c[n+o]===f&&c[n+o-1]===d&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<h);if(r=We-(h-i),i=h-We,r>o){if(t.match_start=e,o=r,r>=s)break;d=c[i+o-1],f=c[i+o]}}}while((e=u[e&l])>a&&0!==--A);return o<=t.lookahead?o:t.lookahead},cn=t=>{const e=t.w_size;let n,r,A;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ve)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),tn(t),r+=e),0===t.strm.avail_in)break;if(n=sn(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(A=t.strstart-t.insert,t.ins_h=t.window[A],t.ins_h=en(t,t.ins_h,t.window[A+1]);t.insert&&(t.ins_h=en(t,t.ins_h,t.window[A+3-1]),t.prev[A&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=A,A++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Ve&&0!==t.strm.avail_in)},ln=(t,e)=>{let n,r,A,i=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,o=0,s=t.strm.avail_in;do{if(n=65535,A=t.bi_valid+42>>3,t.strm.avail_out<A)break;if(A=t.strm.avail_out-A,r=t.strstart-t.block_start,n>r+t.strm.avail_in&&(n=r+t.strm.avail_in),n>A&&(n=A),n<i&&(0===n&&e!==Qe||e===Ee||n!==r+t.strm.avail_in))break;o=e===Qe&&n===r+t.strm.avail_in?1:0,_e(t,0,0,o),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,nn(t.strm),r&&(r>n&&(r=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,n-=r),n&&(sn(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===o);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?4:e!==Ee&&e!==Qe&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(A=t.window_size-t.strstart,t.strm.avail_in>A&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,A+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),A>t.strm.avail_in&&(A=t.strm.avail_in),A&&(sn(t.strm,t.window,t.strstart,A),t.strstart+=A,t.insert+=A>t.w_size-t.insert?t.w_size-t.insert:A),t.high_water<t.strstart&&(t.high_water=t.strstart),A=t.bi_valid+42>>3,A=t.pending_buf_size-A>65535?65535:t.pending_buf_size-A,i=A>t.w_size?t.w_size:A,r=t.strstart-t.block_start,(r>=i||(r||e===Qe)&&e!==Ee&&0===t.strm.avail_in&&r<=A)&&(n=r>A?A:r,o=e===Qe&&0===t.strm.avail_in&&n===r?1:0,_e(t,t.block_start,n,o),t.block_start+=n,nn(t.strm)),o?3:1)},un=(t,e)=>{let n,r;for(;;){if(t.lookahead<Ve){if(cn(t),t.lookahead<Ve&&e===Ee)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=en(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-Ve&&(t.match_length=an(t,n)),t.match_length>=3)if(r=Fe(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=en(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=en(t,t.ins_h,t.window[t.strstart+1]);else r=Fe(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(rn(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Qe?(rn(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(rn(t,!1),0===t.strm.avail_out)?1:2},hn=(t,e)=>{let n,r,A;for(;;){if(t.lookahead<Ve){if(cn(t),t.lookahead<Ve&&e===Ee)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=en(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Ve&&(t.match_length=an(t,n),t.match_length<=5&&(t.strategy===Oe||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){A=t.strstart+t.lookahead-3,r=Fe(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=A&&(t.ins_h=en(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(rn(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=Fe(t,0,t.window[t.strstart-1]),r&&rn(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Fe(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Qe?(rn(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(rn(t,!1),0===t.strm.avail_out)?1:2};function dn(t,e,n,r,A){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=A}const fn=[new dn(0,0,0,0,ln),new dn(4,4,8,4,un),new dn(4,5,16,8,un),new dn(4,6,32,32,un),new dn(4,4,16,16,hn),new dn(8,16,32,32,hn),new dn(8,16,128,128,hn),new dn(8,32,128,256,hn),new dn(32,128,258,1024,hn),new dn(32,258,258,4096,hn)];function pn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ge,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),$e(this.dyn_ltree),$e(this.dyn_dtree),$e(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),$e(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),$e(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const gn=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==ze&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==Xe&&e.status!==Je?1:0},mn=t=>{if(gn(t))return Ye(t,Pe);t.total_in=t.total_out=0,t.data_type=qe;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?ze:Xe,t.adler=2===e.wrap?0:1,e.last_flush=-2,Ce(e),ke},wn=t=>{const e=mn(t);return e===ke&&(t=>{t.window_size=2*t.w_size,$e(t.head),t.max_lazy_match=fn[t.level].max_lazy,t.good_match=fn[t.level].good_length,t.nice_match=fn[t.level].nice_length,t.max_chain_length=fn[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),e},yn=(t,e,n,r,A,i)=>{if(!t)return Pe;let o=1;if(e===De&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),A<1||A>9||n!==Ge||r<8||r>15||e<0||e>9||i<0||i>je||8===r&&1!==o)return Ye(t,Pe);8===r&&(r=9);const s=new pn;return t.state=s,s.strm=t,s.status=ze,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=A+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<A+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=e,s.strategy=i,s.method=n,wn(t)};var bn=yn,vn=(t,e)=>gn(t)||2!==t.state.wrap?Pe:(t.state.gzhead=e,ke),Bn=(t,e)=>{if(gn(t)||e>Le||e<0)return t?Ye(t,Pe):Pe;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===Je&&e!==Qe)return Ye(t,0===t.avail_out?Ne:Pe);const r=n.last_flush;if(n.last_flush=e,0!==n.pending){if(nn(t),0===t.avail_out)return n.last_flush=-1,ke}else if(0===t.avail_in&&Ze(e)<=Ze(r)&&e!==Qe)return Ye(t,Ne);if(n.status===Je&&0!==t.avail_in)return Ye(t,Ne);if(n.status===ze&&0===n.wrap&&(n.status=Xe),n.status===ze){let e=Ge+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=He||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=r<<6,0!==n.strstart&&(e|=32),e+=31-e%31,on(n,e),0!==n.strstart&&(on(n,t.adler>>>16),on(n,65535&t.adler)),t.adler=1,n.status=Xe,nn(t),0!==n.pending)return n.last_flush=-1,ke}if(57===n.status)if(t.adler=0,An(n,31),An(n,139),An(n,8),n.gzhead)An(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),An(n,255&n.gzhead.time),An(n,n.gzhead.time>>8&255),An(n,n.gzhead.time>>16&255),An(n,n.gzhead.time>>24&255),An(n,9===n.level?2:n.strategy>=He||n.level<2?4:0),An(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(An(n,255&n.gzhead.extra.length),An(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=be(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(An(n,0),An(n,0),An(n,0),An(n,0),An(n,0),An(n,9===n.level?2:n.strategy>=He||n.level<2?4:0),An(n,3),n.status=Xe,nn(t),0!==n.pending)return n.last_flush=-1,ke;if(69===n.status){if(n.gzhead.extra){let e=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let A=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+A),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>e&&(t.adler=be(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex+=A,nn(t),0!==n.pending)return n.last_flush=-1,ke;e=0,r-=A}let A=new Uint8Array(n.gzhead.extra);n.pending_buf.set(A.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>e&&(t.adler=be(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=be(t.adler,n.pending_buf,n.pending-r,r)),nn(t),0!==n.pending)return n.last_flush=-1,ke;r=0}e=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,An(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=be(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=be(t.adler,n.pending_buf,n.pending-r,r)),nn(t),0!==n.pending)return n.last_flush=-1,ke;r=0}e=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,An(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=be(t.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(nn(t),0!==n.pending))return n.last_flush=-1,ke;An(n,255&t.adler),An(n,t.adler>>8&255),t.adler=0}if(n.status=Xe,nn(t),0!==n.pending)return n.last_flush=-1,ke}if(0!==t.avail_in||0!==n.lookahead||e!==Ee&&n.status!==Je){let r=0===n.level?ln(n,e):n.strategy===He?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(cn(t),0===t.lookahead)){if(e===Ee)return 1;break}if(t.match_length=0,n=Fe(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(rn(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Qe?(rn(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(rn(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===Re?((t,e)=>{let n,r,A,i;const o=t.window;for(;;){if(t.lookahead<=We){if(cn(t),t.lookahead<=We&&e===Ee)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(A=t.strstart-1,r=o[A],r===o[++A]&&r===o[++A]&&r===o[++A])){i=t.strstart+We;do{}while(r===o[++A]&&r===o[++A]&&r===o[++A]&&r===o[++A]&&r===o[++A]&&r===o[++A]&&r===o[++A]&&r===o[++A]&&A<i);t.match_length=We-(i-A),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=Fe(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Fe(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(rn(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Qe?(rn(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(rn(t,!1),0===t.strm.avail_out)?1:2})(n,e):fn[n.level].func(n,e);if(3!==r&&4!==r||(n.status=Je),1===r||3===r)return 0===t.avail_out&&(n.last_flush=-1),ke;if(2===r&&(e===Ue?Se(n):e!==Le&&(_e(n,0,0,!1),e===Ie&&($e(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),nn(t),0===t.avail_out))return n.last_flush=-1,ke}return e!==Qe?ke:n.wrap<=0?Me:(2===n.wrap?(An(n,255&t.adler),An(n,t.adler>>8&255),An(n,t.adler>>16&255),An(n,t.adler>>24&255),An(n,255&t.total_in),An(n,t.total_in>>8&255),An(n,t.total_in>>16&255),An(n,t.total_in>>24&255)):(on(n,t.adler>>>16),on(n,65535&t.adler)),nn(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?ke:Me)},Cn=t=>{if(gn(t))return Pe;const e=t.state.status;return t.state=null,e===Xe?Ye(t,Te):ke},_n=(t,e)=>{let n=e.length;if(gn(t))return Pe;const r=t.state,A=r.wrap;if(2===A||1===A&&r.status!==ze||r.lookahead)return Pe;if(1===A&&(t.adler=we(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===A&&($e(r.head),r.strstart=0,r.block_start=0,r.insert=0);let t=new Uint8Array(r.w_size);t.set(e.subarray(n-r.w_size,n),0),e=t,n=r.w_size}const i=t.avail_in,o=t.next_in,s=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,cn(r);r.lookahead>=3;){let t=r.strstart,e=r.lookahead-2;do{r.ins_h=en(r,r.ins_h,r.window[t+3-1]),r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++}while(--e);r.strstart=t,r.lookahead=2,cn(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=o,t.input=s,t.avail_in=i,r.wrap=A,ke};const xn=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Fn=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const e in n)xn(n,e)&&(t[e]=n[e])}}return t},Sn=t=>{let e=0;for(let n=0,r=t.length;n<r;n++)e+=t[n].length;const n=new Uint8Array(e);for(let e=0,r=0,A=t.length;e<A;e++){let A=t[e];n.set(A,r),r+=A.length}return n};let En=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){En=!1}const Un=new Uint8Array(256);for(let t=0;t<256;t++)Un[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Un[254]=Un[254]=1;var In=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,r,A,i,o=t.length,s=0;for(A=0;A<o;A++)n=t.charCodeAt(A),55296==(64512&n)&&A+1<o&&(r=t.charCodeAt(A+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),A++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(s),i=0,A=0;i<s;A++)n=t.charCodeAt(A),55296==(64512&n)&&A+1<o&&(r=t.charCodeAt(A+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),A++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|63&n):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|63&n):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|63&n);return e},Qn=(t,e)=>{const n=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let r,A;const i=new Array(2*n);for(A=0,r=0;r<n;){let e=t[r++];if(e<128){i[A++]=e;continue}let o=Un[e];if(o>4)i[A++]=65533,r+=o-1;else{for(e&=2===o?31:3===o?15:7;o>1&&r<n;)e=e<<6|63&t[r++],o--;o>1?i[A++]=65533:e<65536?i[A++]=e:(e-=65536,i[A++]=55296|e>>10&1023,i[A++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&En)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n})(i,A)},Ln=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+Un[t[n]]>e?n:e},kn=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Mn=Object.prototype.toString,{Z_NO_FLUSH:Pn,Z_SYNC_FLUSH:Tn,Z_FULL_FLUSH:Nn,Z_FINISH:Dn,Z_OK:On,Z_STREAM_END:Hn,Z_DEFAULT_COMPRESSION:Rn,Z_DEFAULT_STRATEGY:jn,Z_DEFLATED:Kn}=Be;function qn(t){this.options=Fn({level:Rn,method:Kn,chunkSize:16384,windowBits:15,memLevel:8,strategy:jn},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kn,this.strm.avail_out=0;let n=bn(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==On)throw new Error(ve[n]);if(e.header&&vn(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?In(e.dictionary):"[object ArrayBuffer]"===Mn.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=_n(this.strm,t),n!==On)throw new Error(ve[n]);this._dict_set=!0}}function Gn(t,e){const n=new qn(e);if(n.push(t,!0),n.err)throw n.msg||ve[n.err];return n.result}qn.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let A,i;if(this.ended)return!1;for(i=e===~~e?e:!0===e?Dn:Pn,"string"==typeof t?n.input=In(t):"[object ArrayBuffer]"===Mn.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Tn||i===Nn)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(A=Bn(n,i),A===Hn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),A=Cn(this.strm),this.onEnd(A),this.ended=!0,A===On;if(0!==n.avail_out){if(i>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},qn.prototype.onData=function(t){this.chunks.push(t)},qn.prototype.onEnd=function(t){t===On&&(this.result=Sn(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Wn={Deflate:qn,deflate:Gn,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Gn(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Gn(t,e)},constants:Be};const Vn=16209;var zn=function(t,e){let n,r,A,i,o,s,a,c,l,u,h,d,f,p,g,m,w,y,b,v,B,C,_,x;const F=t.state;n=t.next_in,_=t.input,r=n+(t.avail_in-5),A=t.next_out,x=t.output,i=A-(e-t.avail_out),o=A+(t.avail_out-257),s=F.dmax,a=F.wsize,c=F.whave,l=F.wnext,u=F.window,h=F.hold,d=F.bits,f=F.lencode,p=F.distcode,g=(1<<F.lenbits)-1,m=(1<<F.distbits)-1;t:do{d<15&&(h+=_[n++]<<d,d+=8,h+=_[n++]<<d,d+=8),w=f[h&g];e:for(;;){if(y=w>>>24,h>>>=y,d-=y,y=w>>>16&255,0===y)x[A++]=65535&w;else{if(!(16&y)){if(64&y){if(32&y){F.mode=16191;break t}t.msg="invalid literal/length code",F.mode=Vn;break t}w=f[(65535&w)+(h&(1<<y)-1)];continue e}for(b=65535&w,y&=15,y&&(d<y&&(h+=_[n++]<<d,d+=8),b+=h&(1<<y)-1,h>>>=y,d-=y),d<15&&(h+=_[n++]<<d,d+=8,h+=_[n++]<<d,d+=8),w=p[h&m];;){if(y=w>>>24,h>>>=y,d-=y,y=w>>>16&255,16&y){if(v=65535&w,y&=15,d<y&&(h+=_[n++]<<d,d+=8,d<y&&(h+=_[n++]<<d,d+=8)),v+=h&(1<<y)-1,v>s){t.msg="invalid distance too far back",F.mode=Vn;break t}if(h>>>=y,d-=y,y=A-i,v>y){if(y=v-y,y>c&&F.sane){t.msg="invalid distance too far back",F.mode=Vn;break t}if(B=0,C=u,0===l){if(B+=a-y,y<b){b-=y;do{x[A++]=u[B++]}while(--y);B=A-v,C=x}}else if(l<y){if(B+=a+l-y,y-=l,y<b){b-=y;do{x[A++]=u[B++]}while(--y);if(B=0,l<b){y=l,b-=y;do{x[A++]=u[B++]}while(--y);B=A-v,C=x}}}else if(B+=l-y,y<b){b-=y;do{x[A++]=u[B++]}while(--y);B=A-v,C=x}for(;b>2;)x[A++]=C[B++],x[A++]=C[B++],x[A++]=C[B++],b-=3;b&&(x[A++]=C[B++],b>1&&(x[A++]=C[B++]))}else{B=A-v;do{x[A++]=x[B++],x[A++]=x[B++],x[A++]=x[B++],b-=3}while(b>2);b&&(x[A++]=x[B++],b>1&&(x[A++]=x[B++]))}break}if(64&y){t.msg="invalid distance code",F.mode=Vn;break t}w=p[(65535&w)+(h&(1<<y)-1)]}}break}}while(n<r&&A<o);b=d>>3,n-=b,d-=b<<3,h&=(1<<d)-1,t.next_in=n,t.next_out=A,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=A<o?o-A+257:257-(A-o),F.hold=h,F.bits=d};const Xn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Jn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Yn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Zn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var $n=(t,e,n,r,A,i,o,s)=>{const a=s.bits;let c,l,u,h,d,f,p=0,g=0,m=0,w=0,y=0,b=0,v=0,B=0,C=0,_=0,x=null;const F=new Uint16Array(16),S=new Uint16Array(16);let E,U,I,Q=null;for(p=0;p<=15;p++)F[p]=0;for(g=0;g<r;g++)F[e[n+g]]++;for(y=a,w=15;w>=1&&0===F[w];w--);if(y>w&&(y=w),0===w)return A[i++]=20971520,A[i++]=20971520,s.bits=1,0;for(m=1;m<w&&0===F[m];m++);for(y<m&&(y=m),B=1,p=1;p<=15;p++)if(B<<=1,B-=F[p],B<0)return-1;if(B>0&&(0===t||1!==w))return-1;for(S[1]=0,p=1;p<15;p++)S[p+1]=S[p]+F[p];for(g=0;g<r;g++)0!==e[n+g]&&(o[S[e[n+g]]++]=g);if(0===t?(x=Q=o,f=20):1===t?(x=Xn,Q=Jn,f=257):(x=Yn,Q=Zn,f=0),_=0,g=0,p=m,d=i,b=y,v=0,u=-1,C=1<<y,h=C-1,1===t&&C>852||2===t&&C>592)return 1;for(;;){E=p-v,o[g]+1<f?(U=0,I=o[g]):o[g]>=f?(U=Q[o[g]-f],I=x[o[g]-f]):(U=96,I=0),c=1<<p-v,l=1<<b,m=l;do{l-=c,A[d+(_>>v)+l]=E<<24|U<<16|I}while(0!==l);for(c=1<<p-1;_&c;)c>>=1;if(0!==c?(_&=c-1,_+=c):_=0,g++,0===--F[p]){if(p===w)break;p=e[n+o[g]]}if(p>y&&(_&h)!==u){for(0===v&&(v=y),d+=m,b=p-v,B=1<<b;b+v<w&&(B-=F[b+v],!(B<=0));)b++,B<<=1;if(C+=1<<b,1===t&&C>852||2===t&&C>592)return 1;u=_&h,A[u]=y<<24|b<<16|d-i}}return 0!==_&&(A[d+_]=p-v<<24|64<<16),s.bits=y,0};const{Z_FINISH:tr,Z_BLOCK:er,Z_TREES:nr,Z_OK:rr,Z_STREAM_END:Ar,Z_NEED_DICT:ir,Z_STREAM_ERROR:or,Z_DATA_ERROR:sr,Z_MEM_ERROR:ar,Z_BUF_ERROR:cr,Z_DEFLATED:lr}=Be,ur=16180,hr=16190,dr=16191,fr=16192,pr=16194,gr=16199,mr=16200,wr=16206,yr=16209,br=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function vr(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Br=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<ur||e.mode>16211?1:0},Cr=t=>{if(Br(t))return or;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=ur,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,rr},_r=t=>{if(Br(t))return or;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Cr(t)},xr=(t,e)=>{let n;if(Br(t))return or;const r=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?or:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,_r(t))},Fr=(t,e)=>{if(!t)return or;const n=new vr;t.state=n,n.strm=t,n.window=null,n.mode=ur;const r=xr(t,e);return r!==rr&&(t.state=null),r};let Sr,Er,Ur=!0;const Ir=t=>{if(Ur){Sr=new Int32Array(512),Er=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for($n(1,t.lens,0,288,Sr,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;$n(2,t.lens,0,32,Er,0,t.work,{bits:5}),Ur=!1}t.lencode=Sr,t.lenbits=9,t.distcode=Er,t.distbits=5},Qr=(t,e,n,r)=>{let A;const i=t.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(A=i.wsize-i.wnext,A>r&&(A=r),i.window.set(e.subarray(n-r,n-r+A),i.wnext),(r-=A)?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=A,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=A))),0};var Lr=_r,kr=Fr,Mr=(t,e)=>{let n,r,A,i,o,s,a,c,l,u,h,d,f,p,g,m,w,y,b,v,B,C,_=0;const x=new Uint8Array(4);let F,S;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Br(t)||!t.output||!t.input&&0!==t.avail_in)return or;n=t.state,n.mode===dr&&(n.mode=fr),o=t.next_out,A=t.output,a=t.avail_out,i=t.next_in,r=t.input,s=t.avail_in,c=n.hold,l=n.bits,u=s,h=a,C=rr;t:for(;;)switch(n.mode){case ur:if(0===n.wrap){n.mode=fr;break}for(;l<16;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,x[0]=255&c,x[1]=c>>>8&255,n.check=be(n.check,x,2,0),c=0,l=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=yr;break}if((15&c)!==lr){t.msg="unknown compression method",n.mode=yr;break}if(c>>>=4,l-=4,B=8+(15&c),0===n.wbits&&(n.wbits=B),B>15||B>n.wbits){t.msg="invalid window size",n.mode=yr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&c?16189:dr,c=0,l=0;break;case 16181:for(;l<16;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==lr){t.msg="unknown compression method",n.mode=yr;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=yr;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(x[0]=255&c,x[1]=c>>>8&255,n.check=be(n.check,x,2,0)),c=0,l=0,n.mode=16182;case 16182:for(;l<32;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(x[0]=255&c,x[1]=c>>>8&255,x[2]=c>>>16&255,x[3]=c>>>24&255,n.check=be(n.check,x,4,0)),c=0,l=0,n.mode=16183;case 16183:for(;l<16;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(x[0]=255&c,x[1]=c>>>8&255,n.check=be(n.check,x,2,0)),c=0,l=0,n.mode=16184;case 16184:if(1024&n.flags){for(;l<16;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(x[0]=255&c,x[1]=c>>>8&255,n.check=be(n.check,x,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(d=n.length,d>s&&(d=s),d&&(n.head&&(B=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+d),B)),512&n.flags&&4&n.wrap&&(n.check=be(n.check,r,d,i)),s-=d,i+=d,n.length-=d),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===s)break t;d=0;do{B=r[i+d++],n.head&&B&&n.length<65536&&(n.head.name+=String.fromCharCode(B))}while(B&&d<s);if(512&n.flags&&4&n.wrap&&(n.check=be(n.check,r,d,i)),s-=d,i+=d,B)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===s)break t;d=0;do{B=r[i+d++],n.head&&B&&n.length<65536&&(n.head.comment+=String.fromCharCode(B))}while(B&&d<s);if(512&n.flags&&4&n.wrap&&(n.check=be(n.check,r,d,i)),s-=d,i+=d,B)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;l<16;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(4&n.wrap&&c!==(65535&n.check)){t.msg="header crc mismatch",n.mode=yr;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=dr;break;case 16189:for(;l<32;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}t.adler=n.check=br(c),c=0,l=0,n.mode=hr;case hr:if(0===n.havedict)return t.next_out=o,t.avail_out=a,t.next_in=i,t.avail_in=s,n.hold=c,n.bits=l,ir;t.adler=n.check=1,n.mode=dr;case dr:if(e===er||e===nr)break t;case fr:if(n.last){c>>>=7&l,l-=7&l,n.mode=wr;break}for(;l<3;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}switch(n.last=1&c,c>>>=1,l-=1,3&c){case 0:n.mode=16193;break;case 1:if(Ir(n),n.mode=gr,e===nr){c>>>=2,l-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=yr}c>>>=2,l-=2;break;case 16193:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=yr;break}if(n.length=65535&c,c=0,l=0,n.mode=pr,e===nr)break t;case pr:n.mode=16195;case 16195:if(d=n.length,d){if(d>s&&(d=s),d>a&&(d=a),0===d)break t;A.set(r.subarray(i,i+d),o),s-=d,i+=d,a-=d,o+=d,n.length-=d;break}n.mode=dr;break;case 16196:for(;l<14;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=yr;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}n.lens[E[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[E[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},C=$n(0,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,C){t.msg="invalid code lengths set",n.mode=yr;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;_=n.lencode[c&(1<<n.lenbits)-1],g=_>>>24,m=_>>>16&255,w=65535&_,!(g<=l);){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(w<16)c>>>=g,l-=g,n.lens[n.have++]=w;else{if(16===w){for(S=g+2;l<S;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(c>>>=g,l-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=yr;break}B=n.lens[n.have-1],d=3+(3&c),c>>>=2,l-=2}else if(17===w){for(S=g+3;l<S;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}c>>>=g,l-=g,B=0,d=3+(7&c),c>>>=3,l-=3}else{for(S=g+7;l<S;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}c>>>=g,l-=g,B=0,d=11+(127&c),c>>>=7,l-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=yr;break}for(;d--;)n.lens[n.have++]=B}}if(n.mode===yr)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=yr;break}if(n.lenbits=9,F={bits:n.lenbits},C=$n(1,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,C){t.msg="invalid literal/lengths set",n.mode=yr;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},C=$n(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,C){t.msg="invalid distances set",n.mode=yr;break}if(n.mode=gr,e===nr)break t;case gr:n.mode=mr;case mr:if(s>=6&&a>=258){t.next_out=o,t.avail_out=a,t.next_in=i,t.avail_in=s,n.hold=c,n.bits=l,zn(t,h),o=t.next_out,A=t.output,a=t.avail_out,i=t.next_in,r=t.input,s=t.avail_in,c=n.hold,l=n.bits,n.mode===dr&&(n.back=-1);break}for(n.back=0;_=n.lencode[c&(1<<n.lenbits)-1],g=_>>>24,m=_>>>16&255,w=65535&_,!(g<=l);){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(m&&!(240&m)){for(y=g,b=m,v=w;_=n.lencode[v+((c&(1<<y+b)-1)>>y)],g=_>>>24,m=_>>>16&255,w=65535&_,!(y+g<=l);){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}c>>>=y,l-=y,n.back+=y}if(c>>>=g,l-=g,n.back+=g,n.length=w,0===m){n.mode=16205;break}if(32&m){n.back=-1,n.mode=dr;break}if(64&m){t.msg="invalid literal/length code",n.mode=yr;break}n.extra=15&m,n.mode=16201;case 16201:if(n.extra){for(S=n.extra;l<S;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;_=n.distcode[c&(1<<n.distbits)-1],g=_>>>24,m=_>>>16&255,w=65535&_,!(g<=l);){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(!(240&m)){for(y=g,b=m,v=w;_=n.distcode[v+((c&(1<<y+b)-1)>>y)],g=_>>>24,m=_>>>16&255,w=65535&_,!(y+g<=l);){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}c>>>=y,l-=y,n.back+=y}if(c>>>=g,l-=g,n.back+=g,64&m){t.msg="invalid distance code",n.mode=yr;break}n.offset=w,n.extra=15&m,n.mode=16203;case 16203:if(n.extra){for(S=n.extra;l<S;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=yr;break}n.mode=16204;case 16204:if(0===a)break t;if(d=h-a,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=yr;break}d>n.wnext?(d-=n.wnext,f=n.wsize-d):f=n.wnext-d,d>n.length&&(d=n.length),p=n.window}else p=A,f=o-n.offset,d=n.length;d>a&&(d=a),a-=d,n.length-=d;do{A[o++]=p[f++]}while(--d);0===n.length&&(n.mode=mr);break;case 16205:if(0===a)break t;A[o++]=n.length,a--,n.mode=mr;break;case wr:if(n.wrap){for(;l<32;){if(0===s)break t;s--,c|=r[i++]<<l,l+=8}if(h-=a,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=n.flags?be(n.check,A,h,o-h):we(n.check,A,h,o-h)),h=a,4&n.wrap&&(n.flags?c:br(c))!==n.check){t.msg="incorrect data check",n.mode=yr;break}c=0,l=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break t;s--,c+=r[i++]<<l,l+=8}if(4&n.wrap&&c!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=yr;break}c=0,l=0}n.mode=16208;case 16208:C=Ar;break t;case yr:C=sr;break t;case 16210:return ar;default:return or}return t.next_out=o,t.avail_out=a,t.next_in=i,t.avail_in=s,n.hold=c,n.bits=l,(n.wsize||h!==t.avail_out&&n.mode<yr&&(n.mode<wr||e!==tr))&&Qr(t,t.output,t.next_out,h-t.avail_out),u-=t.avail_in,h-=t.avail_out,t.total_in+=u,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=n.flags?be(n.check,A,h,t.next_out-h):we(n.check,A,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===dr?128:0)+(n.mode===gr||n.mode===pr?256:0),(0===u&&0===h||e===tr)&&C===rr&&(C=cr),C},Pr=t=>{if(Br(t))return or;let e=t.state;return e.window&&(e.window=null),t.state=null,rr},Tr=(t,e)=>{if(Br(t))return or;const n=t.state;return 2&n.wrap?(n.head=e,e.done=!1,rr):or},Nr=(t,e)=>{const n=e.length;let r,A,i;return Br(t)?or:(r=t.state,0!==r.wrap&&r.mode!==hr?or:r.mode===hr&&(A=1,A=we(A,e,n,0),A!==r.check)?sr:(i=Qr(t,e,n,n),i?(r.mode=16210,ar):(r.havedict=1,rr)))},Dr=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Or=Object.prototype.toString,{Z_NO_FLUSH:Hr,Z_FINISH:Rr,Z_OK:jr,Z_STREAM_END:Kr,Z_NEED_DICT:qr,Z_STREAM_ERROR:Gr,Z_DATA_ERROR:Wr,Z_MEM_ERROR:Vr}=Be;function zr(t){this.options=Fn({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kn,this.strm.avail_out=0;let n=kr(this.strm,e.windowBits);if(n!==jr)throw new Error(ve[n]);if(this.header=new Dr,Tr(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=In(e.dictionary):"[object ArrayBuffer]"===Or.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Nr(this.strm,e.dictionary),n!==jr)))throw new Error(ve[n])}function Xr(t,e){const n=new zr(e);if(n.push(t),n.err)throw n.msg||ve[n.err];return n.result}zr.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,A=this.options.dictionary;let i,o,s;if(this.ended)return!1;for(o=e===~~e?e:!0===e?Rr:Hr,"[object ArrayBuffer]"===Or.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Mr(n,o),i===qr&&A&&(i=Nr(n,A),i===jr?i=Mr(n,o):i===Wr&&(i=qr));n.avail_in>0&&i===Kr&&n.state.wrap>0&&0!==t[n.next_in];)Lr(n),i=Mr(n,o);switch(i){case Gr:case Wr:case qr:case Vr:return this.onEnd(i),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||i===Kr))if("string"===this.options.to){let t=Ln(n.output,n.next_out),e=n.next_out-t,A=Qn(n.output,t);n.next_out=e,n.avail_out=r-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(A)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==jr||0!==s){if(i===Kr)return i=Pr(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},zr.prototype.onData=function(t){this.chunks.push(t)},zr.prototype.onEnd=function(t){t===jr&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Sn(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Jr={Inflate:zr,inflate:Xr,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Xr(t,e)},ungzip:Xr,constants:Be};const{Deflate:Yr,deflate:Zr,deflateRaw:$r,gzip:tA}=Wn,{Inflate:eA,inflate:nA,inflateRaw:rA,ungzip:AA}=Jr;var iA=eA,oA=nA;const sA=[];for(let t=0;t<256;t++){let e=t;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;sA[t]=e}const aA=4294967295;function cA(t,e,n){const r=t.readUint32(),A=(i=new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),(function(t,e,n){let r=t;for(let t=0;t<n;t++)r=sA[255&(r^e[t])]^r>>>8;return r}(aA,i,e)^aA)>>>0);var i;if(A!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${A}`)}function lA(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function uA(t,e,n,r){let A=0;for(;A<r;A++)e[A]=t[A];for(;A<n;A++)e[A]=t[A]+e[A-r]&255}function hA(t,e,n,r){let A=0;if(0===n.length)for(;A<r;A++)e[A]=t[A];else for(;A<r;A++)e[A]=t[A]+n[A]&255}function dA(t,e,n,r,A){let i=0;if(0===n.length){for(;i<A;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+(e[i-A]>>1)&255}else{for(;i<A;i++)e[i]=t[i]+(n[i]>>1)&255;for(;i<r;i++)e[i]=t[i]+(e[i-A]+n[i]>>1)&255}}function fA(t,e,n,r,A){let i=0;if(0===n.length){for(;i<A;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-A]&255}else{for(;i<A;i++)e[i]=t[i]+n[i]&255;for(;i<r;i++)e[i]=t[i]+pA(e[i-A],n[i],n[i-A])&255}}function pA(t,e,n){const r=t+e-n,A=Math.abs(r-t),i=Math.abs(r-e),o=Math.abs(r-n);return A<=i&&A<=o?t:i<=o?e:n}function gA(t,e,n,r,A,i){switch(t){case 0:lA(e,n,A);break;case 1:uA(e,n,A,i);break;case 2:hA(e,n,r,A);break;case 3:dA(e,n,r,A,i);break;case 4:fA(e,n,r,A,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const mA=new Uint16Array([255]),wA=255===new Uint8Array(mA.buffer)[0];function yA(t){return(255&t)<<8|t>>8&255}const bA=new Uint16Array([255]),vA=255===new Uint8Array(bA.buffer)[0],BA=new Uint8Array(0);function CA(t){const{data:e,width:n,height:r,channels:A,depth:i}=t,o=Math.ceil(i/8)*A,s=Math.ceil(i/8*A*n),a=new Uint8Array(r*s);let c,l,u=BA,h=0;for(let t=0;t<r;t++){switch(c=e.subarray(h+1,h+1+s),l=a.subarray(t*s,(t+1)*s),e[h]){case 0:lA(c,l,s);break;case 1:uA(c,l,s,o);break;case 2:hA(c,l,u,s);break;case 3:dA(c,l,u,s,o);break;case 4:fA(c,l,u,s,o);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}u=l,h+=s+1}if(16===i){const t=new Uint16Array(a.buffer);if(vA)for(let e=0;e<t.length;e++)t[e]=_A(t[e]);return t}return a}function _A(t){return(255&t)<<8|t>>8&255}const xA=Uint8Array.of(137,80,78,71,13,10,26,10);function FA(t){if(!function(t){if(t.length<xA.length)return!1;for(let e=0;e<xA.length;e++)if(t[e]!==xA[e])return!1;return!0}(t.readBytes(xA.length)))throw new Error("wrong PNG signature")}const SA=new TextDecoder("latin1");function EA(t){if(function(t){if(!UA.test(t))throw new Error("invalid latin1 text")}(t),0===t.length||t.length>79)throw new Error("keyword length must be between 1 and 79")}const UA=/^[\u0000-\u00FF]*$/;function IA(t){for(t.mark();0!==t.readByte(););const e=t.offset;t.reset();const n=SA.decode(t.readBytes(e-t.offset-1));return t.skip(1),EA(n),n}class QA extends Dt{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:n=!1}=e;this._checkCrc=n,this._inflator=new iA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=-1,this._filterMethod=-1,this._interlaceMethod=-1,this._colorType=-1,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(FA(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(FA(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const n=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case"tEXt":!function(t,e,n){const r=IA(e);t[r]=function(t,e){return SA.decode(t.readBytes(e))}(e,n-r.length-1)}(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t)}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?cA(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const n=this.offset;switch("fdAT"!==e&&"IDAT"!==e&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=n+t}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?cA(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=function(t){if(1!==t&&2!==t&&4!==t&&8!==t&&16!==t)throw new Error(`invalid bit depth: ${t}`);return t}(this.readUint8());const e=this.readUint8();let n;switch(this._colorType=e,e){case 0:case 3:n=1;break;case 2:n=3;break;case 4:n=2;break;case 6:n=4;break;default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),0!==this._compressionMethod)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let t=0;t<e;t++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,n=this.offset+this.byteOffset;if(n+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,n,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case 0:case 2:if(t%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break;case 3:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const t=this.readByte();this._palette[e].push(t)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=IA(this),n=this.readUint8();if(0!==n)throw new Error(`Unsupported iCCP compression method: ${n}`);const r=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:oA(r)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:e,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=CA({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===t||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)e.data=n.data;else{const r=this._apng.frames.at(t-1);this.disposeFrame(n,r,e),this.addFrameDataToCanvas(e,n)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,n){switch(t.disposeOp){case 0:break;case 1:for(let e=0;e<this._png.height;e++)for(let r=0;r<this._png.width;r++){const A=(e*t.width+r)*this._png.channels;for(let t=0;t<this._png.channels;t++)n.data[A+t]=0}break;case 2:n.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const n=1<<this._png.depth,r=(t,n)=>({index:((t+e.yOffset)*this._png.width+e.xOffset+n)*this._png.channels,frameIndex:(t*e.width+n)*this._png.channels});switch(e.blendOp){case 0:for(let n=0;n<e.height;n++)for(let A=0;A<e.width;A++){const{index:i,frameIndex:o}=r(n,A);for(let n=0;n<this._png.channels;n++)t.data[i+n]=e.data[o+n]}break;case 1:for(let A=0;A<e.height;A++)for(let i=0;i<e.width;i++){const{index:o,frameIndex:s}=r(A,i);for(let r=0;r<this._png.channels;r++){const A=e.data[s+this._png.channels-1]/n,i=r%(this._png.channels-1)==0?1:e.data[s+r],a=Math.floor(A*i+(1-A)*t.data[o+r]);t.data[o+r]+=a}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(0!==this._filterMethod)throw new Error(`Filter method ${this._filterMethod} not supported`);if(0===this._interlaceMethod)this._png.data=CA({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(1!==this._interlaceMethod)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function(t){const{data:e,width:n,height:r,channels:A,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(i/8)*A,a=new Uint8Array(r*n*s);let c=0;for(let t=0;t<7;t++){const A=o[t],i=Math.ceil((n-A.x)/A.xStep),l=Math.ceil((r-A.y)/A.yStep);if(i<=0||l<=0)continue;const u=i*s,h=new Uint8Array(u);for(let t=0;t<l;t++){const o=e[c++],l=e.subarray(c,c+u);c+=u;const d=new Uint8Array(u);gA(o,l,d,h,u,s),h.set(d);for(let e=0;e<i;e++){const i=A.x+e*A.xStep,o=A.y+t*A.yStep;if(!(i>=n||o>=r))for(let t=0;t<s;t++)a[(o*n+i)*s+t]=d[e*s+t]}}}if(16===i){const t=new Uint16Array(a.buffer);if(wA)for(let e=0;e<t.length;e++)t[e]=yA(t[e]);return t}return a}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:0,blendOp:0,data:t}),this._inflator=new iA,this._writingDataChunks=!1}}var LA;!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"}(LA||(LA={}));var kA=function(){return"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:this}();function MA(){kA.console&&"function"==typeof kA.console.log&&kA.console.log.apply(kA.console,arguments)}var PA={log:MA,warn:function(t){kA.console&&("function"==typeof kA.console.warn?kA.console.warn.apply(kA.console,arguments):MA.call(null,arguments))},error:function(t){kA.console&&("function"==typeof kA.console.error?kA.console.error.apply(kA.console,arguments):MA(t))}};function TA(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){OA(r.response,e,n)},r.onerror=function(){PA.error("could not download file")},r.send()}function NA(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function DA(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var OA=kA.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,X.A)(window))||window!==kA?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=kA.URL||kA.webkitURL,A=document.createElement("a");e=e||t.name||"download",A.download=e,A.rel="noopener","string"==typeof t?(A.href=t,A.origin!==location.origin?NA(A.href)?TA(t,e,n):DA(A,A.target="_blank"):DA(A)):(A.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(A.href)},4e4),setTimeout(function(){DA(A)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(NA(t))TA(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){DA(r)})}else navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!==(0,X.A)(e)&&(PA.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return TA(t,e,n);var A="application/octet-stream"===t.type,i=/constructor/i.test(kA.HTMLElement)||kA.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||A&&i)&&"object"===("undefined"==typeof FileReader?"undefined":(0,X.A)(FileReader))){var s=new FileReader;s.onloadend=function(){var t=s.result;t=o?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},s.readAsDataURL(t)}else{var a=kA.URL||kA.webkitURL,c=a.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){a.revokeObjectURL(c)},4e4)}});function HA(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<n.length;r++){var A=n[r].re,i=n[r].process,o=A.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n}}var RA=kA.atob.bind(kA),jA=kA.btoa.bind(kA);function KA(t,e){var n=t[0],r=t[1],A=t[2],i=t[3];n=GA(n,r,A,i,e[0],7,-680876936),i=GA(i,n,r,A,e[1],12,-389564586),A=GA(A,i,n,r,e[2],17,606105819),r=GA(r,A,i,n,e[3],22,-1044525330),n=GA(n,r,A,i,e[4],7,-176418897),i=GA(i,n,r,A,e[5],12,1200080426),A=GA(A,i,n,r,e[6],17,-1473231341),r=GA(r,A,i,n,e[7],22,-45705983),n=GA(n,r,A,i,e[8],7,1770035416),i=GA(i,n,r,A,e[9],12,-1958414417),A=GA(A,i,n,r,e[10],17,-42063),r=GA(r,A,i,n,e[11],22,-1990404162),n=GA(n,r,A,i,e[12],7,1804603682),i=GA(i,n,r,A,e[13],12,-40341101),A=GA(A,i,n,r,e[14],17,-1502002290),n=WA(n,r=GA(r,A,i,n,e[15],22,1236535329),A,i,e[1],5,-165796510),i=WA(i,n,r,A,e[6],9,-1069501632),A=WA(A,i,n,r,e[11],14,643717713),r=WA(r,A,i,n,e[0],20,-373897302),n=WA(n,r,A,i,e[5],5,-701558691),i=WA(i,n,r,A,e[10],9,38016083),A=WA(A,i,n,r,e[15],14,-660478335),r=WA(r,A,i,n,e[4],20,-405537848),n=WA(n,r,A,i,e[9],5,568446438),i=WA(i,n,r,A,e[14],9,-1019803690),A=WA(A,i,n,r,e[3],14,-187363961),r=WA(r,A,i,n,e[8],20,1163531501),n=WA(n,r,A,i,e[13],5,-1444681467),i=WA(i,n,r,A,e[2],9,-51403784),A=WA(A,i,n,r,e[7],14,1735328473),n=VA(n,r=WA(r,A,i,n,e[12],20,-1926607734),A,i,e[5],4,-378558),i=VA(i,n,r,A,e[8],11,-2022574463),A=VA(A,i,n,r,e[11],16,1839030562),r=VA(r,A,i,n,e[14],23,-35309556),n=VA(n,r,A,i,e[1],4,-1530992060),i=VA(i,n,r,A,e[4],11,1272893353),A=VA(A,i,n,r,e[7],16,-155497632),r=VA(r,A,i,n,e[10],23,-1094730640),n=VA(n,r,A,i,e[13],4,681279174),i=VA(i,n,r,A,e[0],11,-358537222),A=VA(A,i,n,r,e[3],16,-722521979),r=VA(r,A,i,n,e[6],23,76029189),n=VA(n,r,A,i,e[9],4,-640364487),i=VA(i,n,r,A,e[12],11,-421815835),A=VA(A,i,n,r,e[15],16,530742520),n=zA(n,r=VA(r,A,i,n,e[2],23,-995338651),A,i,e[0],6,-198630844),i=zA(i,n,r,A,e[7],10,1126891415),A=zA(A,i,n,r,e[14],15,-1416354905),r=zA(r,A,i,n,e[5],21,-57434055),n=zA(n,r,A,i,e[12],6,1700485571),i=zA(i,n,r,A,e[3],10,-1894986606),A=zA(A,i,n,r,e[10],15,-1051523),r=zA(r,A,i,n,e[1],21,-2054922799),n=zA(n,r,A,i,e[8],6,1873313359),i=zA(i,n,r,A,e[15],10,-30611744),A=zA(A,i,n,r,e[6],15,-1560198380),r=zA(r,A,i,n,e[13],21,1309151649),n=zA(n,r,A,i,e[4],6,-145523070),i=zA(i,n,r,A,e[11],10,-1120210379),A=zA(A,i,n,r,e[2],15,718787259),r=zA(r,A,i,n,e[9],21,-343485551),t[0]=ni(n,t[0]),t[1]=ni(r,t[1]),t[2]=ni(A,t[2]),t[3]=ni(i,t[3])}function qA(t,e,n,r,A,i){return e=ni(ni(e,t),ni(r,i)),ni(e<<A|e>>>32-A,n)}function GA(t,e,n,r,A,i,o){return qA(e&n|~e&r,t,e,A,i,o)}function WA(t,e,n,r,A,i,o){return qA(e&r|n&~r,t,e,A,i,o)}function VA(t,e,n,r,A,i,o){return qA(e^n^r,t,e,A,i,o)}function zA(t,e,n,r,A,i,o){return qA(n^(e|~r),t,e,A,i,o)}function XA(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)KA(r,JA(t.substring(e-64,e)));t=t.substring(e-64);var A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)A[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(A[e>>2]|=128<<(e%4<<3),e>55)for(KA(r,A),e=0;e<16;e++)A[e]=0;return A[14]=8*n,KA(r,A),r}function JA(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var YA="0123456789abcdef".split("");function ZA(t){for(var e="",n=0;n<4;n++)e+=YA[t>>8*n+4&15]+YA[t>>8*n&15];return e}function $A(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function ti(t){return XA(t).map($A).join("")}var ei="5d41402abc4b2a76b9719d911017c592"!=function(t){for(var e=0;e<t.length;e++)t[e]=ZA(t[e]);return t.join("")}(XA("hello"));function ni(t,e){if(ei){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function ri(t,e){var n,r,A,i;if(t!==n){for(var o=(A=t,i=1+(256/t.length|0),new Array(i+1).join(A)),s=[],a=0;a<256;a++)s[a]=a;var c=0;for(a=0;a<256;a++){var l=s[a];c=(c+l+o.charCodeAt(a))%256,s[a]=s[c],s[c]=l}n=t,r=s}else s=r;var u=e.length,h=0,d=0,f="";for(a=0;a<u;a++)d=(d+(l=s[h=(h+1)%256]))%256,s[h]=s[d],s[d]=l,o=s[(s[h]+s[d])%256],f+=String.fromCharCode(e.charCodeAt(a)^o);return f}var Ai={print:4,modify:8,copy:16,"annot-forms":32};function ii(t,e,n,r){this.v=1,this.r=2;var A=192;t.forEach(function(t){if(void 0!==Ai.perm)throw new Error("Invalid permission: "+t);A+=Ai[t]}),this.padding="(ยฟN^NuยAd\0NVรฟรบ\b..\0ยถรh>ย/\fยฉรพdSiz";var i=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^A)),this.encryptionKey=ti(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=ri(this.encryptionKey,this.padding)}function oi(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var A=t.charCodeAt(r);e+=A<33||35===A||37===A||40===A||41===A||47===A||60===A||62===A||91===A||93===A||123===A||125===A||A>126?"#"+("0"+A.toString(16)).slice(-2):t[r]}return e}function si(t){if("object"!==(0,X.A)(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,r){if(r=r||!1,"string"!=typeof t||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var A=Math.random().toString(35);return e[t][A]=[n,!!r],A},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],0===Object.keys(e[n]).length&&delete e[n],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),A=[];for(var i in e[n]){var o=e[n][i];try{o[0].apply(t,r)}catch(t){kA.console&&PA.error("jsPDF PubSub Error",t.message,t)}o[1]&&A.push(i)}A.length&&A.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ai(t){if(!(this instanceof ai))return new ai(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function ci(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function li(t,e,n,r,A){if(!(this instanceof li))return new li(t,e,n,r,A);this.type="axial"===t?2:3,this.coords=e,this.colors=n,ci.call(this,r,A)}function ui(t,e,n,r,A){if(!(this instanceof ui))return new ui(t,e,n,r,A);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,ci.call(this,r,A)}function hi(t){var e,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],A=arguments[2],i=arguments[3],o=[],s=1,a=16,c="S",l=null;"object"===(0,X.A)(t=t||{})&&(n=t.orientation,r=t.unit||r,A=t.format||A,i=t.compress||t.compressPdf||i,null!==(l=t.encryption||null)&&(l.userPassword=l.userPassword||"",l.ownerPassword=l.ownerPassword||"",l.userPermissions=l.userPermissions||[]),s="number"==typeof t.userUnit?Math.abs(t.userUnit):1,void 0!==t.precision&&(e=t.precision),void 0!==t.floatPrecision&&(a=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(!0===i?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=t.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=si;var f="1.3",p=d.__private__.getPdfVersion=function(){return f};d.__private__.setPdfVersion=function(t){f=t};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return g};var m=d.__private__.getPageFormat=function(t){return g[t]};A=A||"a4";var w="compat",y="advanced",b=w;function v(){this.saveGraphicsState(),Z(new Lt(dt,0,0,-dt,0,fn()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),c="n",b=y}function B(){this.restoreGraphicsState(),c="S",b=w}var C=d.__private__.combineFontStyleAndFontWeight=function(t,e){if("bold"==t&&"normal"==e||"bold"==t&&400==e||"normal"==t&&"italic"==e||"bold"==t&&"italic"==e)throw new Error("Invalid Combination of fontweight and fontstyle");return e&&(t=400==e||"normal"===e?"italic"===t?"italic":"normal":700!=e&&"bold"!==e||"normal"!==t?(700==e?"bold":e)+""+t:"bold"),t};d.advancedAPI=function(t){var e=b===w;return e&&v.call(this),"function"!=typeof t||(t(this),e&&B.call(this)),this},d.compatAPI=function(t){var e=b===y;return e&&B.call(this),"function"!=typeof t||(t(this),e&&v.call(this)),this},d.isAdvancedAPI=function(){return b===y};var _,x=function(t){if(b!==y)throw new Error(t+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=d.roundToPrecision=d.__private__.roundToPrecision=function(t,n){var r=e||n;if(isNaN(t)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return t.toFixed(r).replace(/0+$/,"")};_=d.hpf=d.__private__.hpf="number"==typeof a?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return F(t,a)}:"smart"===a?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return F(t,t>-1&&t<1?16:5)}:function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return F(t,16)};var S=d.f2=d.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return F(t,2)},E=d.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return F(t,3)},U=d.scale=d.__private__.scale=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.scale");return b===w?t*dt:b===y?t:void 0},I=function(t){return U(function(t){return b===w?fn()-t:b===y?t:void 0}(t))};d.__private__.setPrecision=d.setPrecision=function(t){"number"==typeof parseInt(t,10)&&(e=parseInt(t,10))};var Q,L="00000000000000000000000000000000",k=d.__private__.getFileId=function(){return L},M=d.__private__.setFileId=function(t){return L=void 0!==t&&/^[a-fA-F0-9]{32}$/.test(t)?t.toUpperCase():L.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==l&&(ye=new ii(l.userPermissions,l.userPassword,l.ownerPassword,L)),L};d.setFileId=function(t){return M(t),this},d.getFileId=function(){return k()};var P=d.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),n=e<0?"+":"-",r=Math.floor(Math.abs(e/60)),A=Math.abs(e%60),i=[n,H(r),"'",H(A),"'"].join("");return["D:",t.getFullYear(),H(t.getMonth()+1),H(t.getDate()),H(t.getHours()),H(t.getMinutes()),H(t.getSeconds()),i].join("")},T=d.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),n=parseInt(t.substr(6,2),10)-1,r=parseInt(t.substr(8,2),10),A=parseInt(t.substr(10,2),10),i=parseInt(t.substr(12,2),10),o=parseInt(t.substr(14,2),10);return new Date(e,n,r,A,i,o,0)},N=d.__private__.setCreationDate=function(t){var e;if(void 0===t&&(t=new Date),t instanceof Date)e=P(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(t))throw new Error("Invalid argument passed to jsPDF.setCreationDate");e=t}return Q=e},D=d.__private__.getCreationDate=function(t){var e=Q;return"jsDate"===t&&(e=T(Q)),e};d.setCreationDate=function(t){return N(t),this},d.getCreationDate=function(t){return D(t)};var O,H=d.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},R=d.__private__.padd2Hex=function(t){return("00"+(t=t.toString())).substr(t.length)},j=0,K=[],q=[],G=0,W=[],V=[],z=!1,J=q;d.__private__.setCustomOutputDestination=function(t){z=!0,J=t};var Y=function(t){z||(J=t)};d.__private__.resetCustomOutputDestination=function(){z=!1,J=q};var Z=d.__private__.out=function(t){return t=t.toString(),G+=t.length+1,J.push(t),J},$=d.__private__.write=function(t){return Z(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},tt=d.__private__.getArrayBuffer=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);e--;)r[e]=t.charCodeAt(e);return n},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return et};var nt=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(t){return nt=b===y?t/dt:t,this};var rt,At=d.__private__.getFontSize=d.getFontSize=function(){return b===w?nt:nt*dt},it=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(t){return it=t,this},d.__private__.getR2L=d.getR2L=function(){return it};var ot,st=d.__private__.setZoomMode=function(t){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(t))rt=t;else if(isNaN(t)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');rt=t}else rt=parseInt(t,10)};d.__private__.getZoomMode=function(){return rt};var at,ct=d.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');ot=t};d.__private__.getPageMode=function(){return ot};var lt=d.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');at=t};d.__private__.getLayoutMode=function(){return at},d.__private__.setDisplayMode=d.setDisplayMode=function(t,e,n){return st(t),lt(e),ct(n),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(t){if(-1===Object.keys(ut).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[t]},d.__private__.getDocumentProperties=function(){return ut},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(t){for(var e in ut)ut.hasOwnProperty(e)&&t[e]&&(ut[e]=t[e]);return this},d.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(ut).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[t]=e};var ht,dt,ft,pt,gt,mt={},wt={},yt=[],bt={},vt={},Bt={},Ct={},_t=null,xt=0,Ft=[],St=new si(d),Et=t.hotfixes||[],Ut={},It={},Qt=[],Lt=function t(e,n,r,A,i,o){if(!(this instanceof t))return new t(e,n,r,A,i,o);isNaN(e)&&(e=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(A)&&(A=1),isNaN(i)&&(i=0),isNaN(o)&&(o=0),this._matrix=[e,n,r,A,i,o]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Lt.prototype.join=function(t){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_).join(t)},Lt.prototype.multiply=function(t){var e=t.sx*this.sx+t.shy*this.shx,n=t.sx*this.shy+t.shy*this.sy,r=t.shx*this.sx+t.sy*this.shx,A=t.shx*this.shy+t.sy*this.sy,i=t.tx*this.sx+t.ty*this.shx+this.tx,o=t.tx*this.shy+t.ty*this.sy+this.ty;return new Lt(e,n,r,A,i,o)},Lt.prototype.decompose=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,A=this.tx,i=this.ty,o=Math.sqrt(t*t+e*e),s=(t/=o)*n+(e/=o)*r;n-=t*s,r-=e*s;var a=Math.sqrt(n*n+r*r);return s/=a,t*(r/=a)<e*(n/=a)&&(t=-t,e=-e,s=-s,o=-o),{scale:new Lt(o,0,0,a,0,0),translate:new Lt(1,0,0,1,A,i),rotate:new Lt(t,e,-e,t,0,0),skew:new Lt(1,0,s,1,0,0)}},Lt.prototype.toString=function(t){return this.join(" ")},Lt.prototype.inversed=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,A=this.tx,i=this.ty,o=1/(t*r-e*n),s=r*o,a=-e*o,c=-n*o,l=t*o;return new Lt(s,a,c,l,-s*A-c*i,-a*A-l*i)},Lt.prototype.applyToPoint=function(t){var e=t.x*this.sx+t.y*this.shx+this.tx,n=t.x*this.shy+t.y*this.sy+this.ty;return new nn(e,n)},Lt.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),n=this.applyToPoint(new nn(t.x+t.w,t.y+t.h));return new rn(e.x,e.y,n.x-e.x,n.y-e.y)},Lt.prototype.clone=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,A=this.tx,i=this.ty;return new Lt(t,e,n,r,A,i)},d.Matrix=Lt;var kt=d.matrixMult=function(t,e){return e.multiply(t)},Mt=new Lt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Mt;var Pt=function(t,e){if(!vt[t]){var n=(e instanceof li?"Sh":"P")+(Object.keys(bt).length+1).toString(10);e.id=n,vt[t]=n,bt[n]=e,St.publish("addPattern",e)}};d.ShadingPattern=li,d.TilingPattern=ui,d.addShadingPattern=function(t,e){return x("addShadingPattern()"),Pt(t,e),this},d.beginTilingPattern=function(t){x("beginTilingPattern()"),on(t.boundingBox[0],t.boundingBox[1],t.boundingBox[2]-t.boundingBox[0],t.boundingBox[3]-t.boundingBox[1],t.matrix)},d.endTilingPattern=function(t,e){x("endTilingPattern()"),e.stream=V[O].join("\n"),Pt(t,e),St.publish("endTilingPattern",e),Qt.pop().restore()};var Tt,Nt=d.__private__.newObject=function(){var t=Dt();return Ot(t,!0),t},Dt=d.__private__.newObjectDeferred=function(){return j++,K[j]=function(){return G},j},Ot=function(t,e){return e="boolean"==typeof e&&e,K[t]=G,e&&Z(t+" 0 obj"),t},Ht=d.__private__.newAdditionalObject=function(){var t={objId:Dt(),content:""};return W.push(t),t},Rt=Dt(),jt=Dt(),Kt=d.__private__.decodeColorString=function(t){var e=t.split(" ");if(2!==e.length||"g"!==e[1]&&"G"!==e[1])5!==e.length||"k"!==e[4]&&"K"!==e[4]||(e=[(1-e[0])*(1-e[3]),(1-e[1])*(1-e[3]),(1-e[2])*(1-e[3]),"r"]);else{var n=parseFloat(e[0]);e=[n,n,n,"r"]}for(var r="#",A=0;A<3;A++)r+=("0"+Math.floor(255*parseFloat(e[A])).toString(16)).slice(-2);return r},qt=d.__private__.encodeColorString=function(t){var e;"string"==typeof t&&(t={ch1:t});var n=t.ch1,r=t.ch2,A=t.ch3,i=t.ch4,o="draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var s=new HA(n);if(s.ok)n=s.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var a=parseInt(n.substr(1),16);n=a>>16&255,r=a>>8&255,A=255&a}if(void 0===r||void 0===i&&n===r&&r===A)e="string"==typeof n?n+" "+o[0]:2===t.precision?S(n/255)+" "+o[0]:E(n/255)+" "+o[0];else if(void 0===i||"object"===(0,X.A)(i)){if(i&&!isNaN(i.a)&&0===i.a)return["1.","1.","1.",o[1]].join(" ");e="string"==typeof n?[n,r,A,o[1]].join(" "):2===t.precision?[S(n/255),S(r/255),S(A/255),o[1]].join(" "):[E(n/255),E(r/255),E(A/255),o[1]].join(" ")}else e="string"==typeof n?[n,r,A,i,o[2]].join(" "):2===t.precision?[S(n),S(r),S(A),S(i),o[2]].join(" "):[E(n),E(r),E(A),E(i),o[2]].join(" ");return e},Gt=d.__private__.getFilters=function(){return o},Wt=d.__private__.putStream=function(t){var e=(t=t||{}).data||"",n=t.filters||Gt(),r=t.alreadyAppliedFilters||[],A=t.addLength1||!1,i=e.length,o=t.objectId,s=function(t){return t};if(null!==l&&void 0===o)throw new Error("ObjectId must be passed to putStream for file encryption");null!==l&&(s=ye.encryptor(o,0));var a={};!0===n&&(n=["FlateEncode"]);var c=t.additionalKeyValues||[],u=(a=void 0!==hi.API.processDataByFilters?hi.API.processDataByFilters(e,n):{data:e,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==a.data.length&&(c.push({key:"Length",value:a.data.length}),!0===A&&c.push({key:"Length1",value:i})),0!=u.length)if(u.split("/").length-1==1)c.push({key:"Filter",value:u});else{c.push({key:"Filter",value:"["+u+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var d=[],f=0;f<a.reverseChain.split("/").length-1;f+=1)d.push("null");d.push(c[h].value),c[h].value="["+d.join(" ")+"]"}}Z("<<");for(var p=0;p<c.length;p++)Z("/"+c[p].key+" "+c[p].value);Z(">>"),0!==a.data.length&&(Z("stream"),Z(s(a.data)),Z("endstream"))},Vt=d.__private__.putPage=function(t){var e=t.number,n=t.data,r=t.objId,A=t.contentsObjId;Ot(r,!0),Z("<</Type /Page"),Z("/Parent "+t.rootDictionaryObjId+" 0 R"),Z("/Resources "+t.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(_(t.mediaBox.bottomLeftX))+" "+parseFloat(_(t.mediaBox.bottomLeftY))+" "+_(t.mediaBox.topRightX)+" "+_(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&Z("/CropBox ["+_(t.cropBox.bottomLeftX)+" "+_(t.cropBox.bottomLeftY)+" "+_(t.cropBox.topRightX)+" "+_(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&Z("/BleedBox ["+_(t.bleedBox.bottomLeftX)+" "+_(t.bleedBox.bottomLeftY)+" "+_(t.bleedBox.topRightX)+" "+_(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&Z("/TrimBox ["+_(t.trimBox.bottomLeftX)+" "+_(t.trimBox.bottomLeftY)+" "+_(t.trimBox.topRightX)+" "+_(t.trimBox.topRightY)+"]"),null!==t.artBox&&Z("/ArtBox ["+_(t.artBox.bottomLeftX)+" "+_(t.artBox.bottomLeftY)+" "+_(t.artBox.topRightX)+" "+_(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&Z("/UserUnit "+t.userUnit),St.publish("putPage",{objId:r,pageContext:Ft[e],pageNumber:e,page:n}),Z("/Contents "+A+" 0 R"),Z(">>"),Z("endobj");var i=n.join("\n");return b===y&&(i+="\nQ"),Ot(A,!0),Wt({data:i,filters:Gt(),objectId:A}),Z("endobj"),r},zt=d.__private__.putPages=function(){var t,e,n=[];for(t=1;t<=xt;t++)Ft[t].objId=Dt(),Ft[t].contentsObjId=Dt();for(t=1;t<=xt;t++)n.push(Vt({number:t,data:V[t],objId:Ft[t].objId,contentsObjId:Ft[t].contentsObjId,mediaBox:Ft[t].mediaBox,cropBox:Ft[t].cropBox,bleedBox:Ft[t].bleedBox,trimBox:Ft[t].trimBox,artBox:Ft[t].artBox,userUnit:Ft[t].userUnit,rootDictionaryObjId:Rt,resourceDictionaryObjId:jt}));Ot(Rt,!0),Z("<</Type /Pages");var r="/Kids [";for(e=0;e<xt;e++)r+=n[e]+" 0 R ";Z(r+"]"),Z("/Count "+xt),Z(">>"),Z("endobj"),St.publish("postPutPages")},Xt=function(t){St.publish("putFont",{font:t,out:Z,newObject:Nt,putStream:Wt}),!0!==t.isAlreadyPutted&&(t.objectNumber=Nt(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+oi(t.postScriptName)),Z("/Subtype /Type1"),"string"==typeof t.encoding&&Z("/Encoding /"+t.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Jt=function(t){t.objectNumber=Nt();var e=[];e.push({key:"Type",value:"/XObject"}),e.push({key:"Subtype",value:"/Form"}),e.push({key:"BBox",value:"["+[_(t.x),_(t.y),_(t.x+t.width),_(t.y+t.height)].join(" ")+"]"}),e.push({key:"Matrix",value:"["+t.matrix.toString()+"]"});var n=t.pages[1].join("\n");Wt({data:n,additionalKeyValues:e,objectId:t.objectNumber}),Z("endobj")},Yt=function(t,e){e||(e=21);var n=Nt(),r=function(t,e){var n,r=[],A=1/(e-1);for(n=0;n<1;n+=A)r.push(n);if(r.push(1),0!=t[0].offset){var i={offset:0,color:t[0].color};t.unshift(i)}if(1!=t[t.length-1].offset){var o={offset:1,color:t[t.length-1].color};t.push(o)}for(var s="",a=0,c=0;c<r.length;c++){for(n=r[c];n>t[a+1].offset;)a++;var l=t[a].offset,u=(n-l)/(t[a+1].offset-l),h=t[a].color,d=t[a+1].color;s+=R(Math.round((1-u)*h[0]+u*d[0]).toString(16))+R(Math.round((1-u)*h[1]+u*d[1]).toString(16))+R(Math.round((1-u)*h[2]+u*d[2]).toString(16))}return s.trim()}(t.colors,e),A=[];A.push({key:"FunctionType",value:"0"}),A.push({key:"Domain",value:"[0.0 1.0]"}),A.push({key:"Size",value:"["+e+"]"}),A.push({key:"BitsPerSample",value:"8"}),A.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),A.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Wt({data:r,additionalKeyValues:A,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),Z("endobj"),t.objectNumber=Nt(),Z("<< /ShadingType "+t.type),Z("/ColorSpace /DeviceRGB");var i="/Coords ["+_(parseFloat(t.coords[0]))+" "+_(parseFloat(t.coords[1]))+" ";2===t.type?i+=_(parseFloat(t.coords[2]))+" "+_(parseFloat(t.coords[3])):i+=_(parseFloat(t.coords[2]))+" "+_(parseFloat(t.coords[3]))+" "+_(parseFloat(t.coords[4]))+" "+_(parseFloat(t.coords[5])),Z(i+="]"),t.matrix&&Z("/Matrix ["+t.matrix.toString()+"]"),Z("/Function "+n+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Zt=function(t,e){var n=Dt(),r=Nt();e.push({resourcesOid:n,objectOid:r}),t.objectNumber=r;var A=[];A.push({key:"Type",value:"/Pattern"}),A.push({key:"PatternType",value:"1"}),A.push({key:"PaintType",value:"1"}),A.push({key:"TilingType",value:"1"}),A.push({key:"BBox",value:"["+t.boundingBox.map(_).join(" ")+"]"}),A.push({key:"XStep",value:_(t.xStep)}),A.push({key:"YStep",value:_(t.yStep)}),A.push({key:"Resources",value:n+" 0 R"}),t.matrix&&A.push({key:"Matrix",value:"["+t.matrix.toString()+"]"}),Wt({data:t.stream,additionalKeyValues:A,objectId:t.objectNumber}),Z("endobj")},$t=function(t){for(var e in t.objectNumber=Nt(),Z("<<"),t)switch(e){case"opacity":Z("/ca "+S(t[e]));break;case"stroke-opacity":Z("/CA "+S(t[e]))}Z(">>"),Z("endobj")},te=function(t){Ot(t.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var t in Z("/Font <<"),mt)mt.hasOwnProperty(t)&&(!1===u||!0===u&&h.hasOwnProperty(t))&&Z("/"+t+" "+mt[t].objectNumber+" 0 R");Z(">>")}(),function(){if(Object.keys(bt).length>0){for(var t in Z("/Shading <<"),bt)bt.hasOwnProperty(t)&&bt[t]instanceof li&&bt[t].objectNumber>=0&&Z("/"+t+" "+bt[t].objectNumber+" 0 R");St.publish("putShadingPatternDict"),Z(">>")}}(),function(t){if(Object.keys(bt).length>0){for(var e in Z("/Pattern <<"),bt)bt.hasOwnProperty(e)&&bt[e]instanceof d.TilingPattern&&bt[e].objectNumber>=0&&bt[e].objectNumber<t&&Z("/"+e+" "+bt[e].objectNumber+" 0 R");St.publish("putTilingPatternDict"),Z(">>")}}(t.objectOid),function(){if(Object.keys(Bt).length>0){var t;for(t in Z("/ExtGState <<"),Bt)Bt.hasOwnProperty(t)&&Bt[t].objectNumber>=0&&Z("/"+t+" "+Bt[t].objectNumber+" 0 R");St.publish("putGStateDict"),Z(">>")}}(),function(){for(var t in Z("/XObject <<"),Ut)Ut.hasOwnProperty(t)&&Ut[t].objectNumber>=0&&Z("/"+t+" "+Ut[t].objectNumber+" 0 R");St.publish("putXobjectDict"),Z(">>")}(),Z(">>"),Z("endobj")},ee=function(t){wt[t.fontName]=wt[t.fontName]||{},wt[t.fontName][t.fontStyle]=t.id},ne=function(t,e,n,r,A){var i={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:t,fontName:e,fontStyle:n,encoding:r,isStandardFont:A||!1,metadata:{}};return St.publish("addFont",{font:i,instance:this}),mt[i.id]=i,ee(i),i.id},re=d.__private__.pdfEscape=d.pdfEscape=function(t,e){return function(t,e){var n,r,A,i,o,s,a,c,l;if(A=(e=e||{}).sourceEncoding||"Unicode",o=e.outputEncoding,(e.autoencode||o)&&mt[ht].metadata&&mt[ht].metadata[A]&&mt[ht].metadata[A].encoding&&(i=mt[ht].metadata[A].encoding,!o&&mt[ht].encoding&&(o=mt[ht].encoding),!o&&i.codePages&&(o=i.codePages[0]),"string"==typeof o&&(o=i[o]),o)){for(a=!1,s=[],n=0,r=t.length;n<r;n++)(c=o[t.charCodeAt(n)])?s.push(String.fromCharCode(c)):s.push(t[n]),s[n].charCodeAt(0)>>8&&(a=!0);t=s.join("")}for(n=t.length;void 0===a&&0!==n;)t.charCodeAt(n-1)>>8&&(a=!0),n--;if(!a)return t;for(s=e.noBOM?[]:[254,255],n=0,r=t.length;n<r;n++){if((l=(c=t.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(l),s.push(c-(l<<8))}return String.fromCharCode.apply(void 0,s)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ae=d.__private__.beginPage=function(t){V[++xt]=[],Ft[xt]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t[0]),topRightY:Number(t[1])}},se(xt),Y(V[O])},ie=function(t,e){var r,i,o;switch(n=e||n,"string"==typeof t&&(r=m(t.toLowerCase()),Array.isArray(r)&&(i=r[0],o=r[1])),Array.isArray(t)&&(i=t[0]*dt,o=t[1]*dt),isNaN(i)&&(i=A[0],o=A[1]),(i>14400||o>14400)&&(PA.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),o=Math.min(14400,o)),A=[i,o],n.substr(0,1)){case"l":o>i&&(A=[o,i]);break;case"p":i>o&&(A=[o,i])}Ae(A),Oe(Ne),Z(Ve),0!==$e&&Z($e+" J"),0!==tn&&Z(tn+" j"),St.publish("addPage",{pageNumber:xt})},oe=function(t){t>0&&t<=xt&&(V.splice(t,1),Ft.splice(t,1),xt--,O>xt&&(O=xt),this.setPage(O))},se=function(t){t>0&&t<=xt&&(O=t)},ae=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return V.length-1},ce=function(t,e,n){var r,A=void 0;return n=n||{},t=void 0!==t?t:mt[ht].fontName,e=void 0!==e?e:mt[ht].fontStyle,r=t.toLowerCase(),void 0!==wt[r]&&void 0!==wt[r][e]?A=wt[r][e]:void 0!==wt[t]&&void 0!==wt[t][e]?A=wt[t][e]:!1===n.disableWarning&&PA.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),A||n.noFallback||null==(A=wt.times[e])&&(A=wt.times.normal),A},le=d.__private__.putInfo=function(){var t=Nt(),e=function(t){return t};for(var n in null!==l&&(e=ye.encryptor(t,0)),Z("<<"),Z("/Producer ("+re(e("jsPDF "+hi.version))+")"),ut)ut.hasOwnProperty(n)&&ut[n]&&Z("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+re(e(ut[n]))+")");Z("/CreationDate ("+re(e(Q))+")"),Z(">>"),Z("endobj")},ue=d.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||Rt;switch(Nt(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+e+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+rt;"%"===n.substr(n.length-1)&&(rt=parseInt(rt)/100),"number"==typeof rt&&Z("/OpenAction [3 0 R /XYZ null null "+S(rt)+"]")}switch(at||(at="continuous"),at){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}ot&&Z("/PageMode /"+ot),St.publish("putCatalog"),Z(">>"),Z("endobj")},he=d.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(j+1)),Z("/Root "+j+" 0 R"),Z("/Info "+(j-1)+" 0 R"),null!==l&&Z("/Encrypt "+ye.oid+" 0 R"),Z("/ID [ <"+L+"> <"+L+"> ]"),Z(">>")},de=d.__private__.putHeader=function(){Z("%PDF-"+f),Z("%ยบรยฌร")},fe=d.__private__.putXRef=function(){var t="0000000000";Z("xref"),Z("0 "+(j+1)),Z("0000000000 65535 f ");for(var e=1;e<=j;e++)"function"==typeof K[e]?Z((t+K[e]()).slice(-10)+" 00000 n "):void 0!==K[e]?Z((t+K[e]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},pe=d.__private__.buildDocument=function(){var t;j=0,G=0,q=[],K=[],W=[],Rt=Dt(),jt=Dt(),Y(q),St.publish("buildDocument"),de(),zt(),function(){St.publish("putAdditionalObjects");for(var t=0;t<W.length;t++){var e=W[t];Ot(e.objId,!0),Z(e.content),Z("endobj")}St.publish("postPutAdditionalObjects")}(),t=[],function(){for(var t in mt)mt.hasOwnProperty(t)&&(!1===u||!0===u&&h.hasOwnProperty(t))&&Xt(mt[t])}(),function(){var t;for(t in Bt)Bt.hasOwnProperty(t)&&$t(Bt[t])}(),function(){for(var t in Ut)Ut.hasOwnProperty(t)&&Jt(Ut[t])}(),function(t){var e;for(e in bt)bt.hasOwnProperty(e)&&(bt[e]instanceof li?Yt(bt[e]):bt[e]instanceof ui&&Zt(bt[e],t))}(t),St.publish("putResources"),t.forEach(te),te({resourcesOid:jt,objectOid:Number.MAX_SAFE_INTEGER}),St.publish("postPutResources"),null!==l&&(ye.oid=Nt(),Z("<<"),Z("/Filter /Standard"),Z("/V "+ye.v),Z("/R "+ye.r),Z("/U <"+ye.toHexString(ye.U)+">"),Z("/O <"+ye.toHexString(ye.O)+">"),Z("/P "+ye.P),Z(">>"),Z("endobj")),le(),ue();var e=G;return fe(),he(),Z("startxref"),Z(""+e),Z("%%EOF"),Y(V[O]),q.join("\n")},ge=d.__private__.getBlob=function(t){return new Blob([tt(t)],{type:"application/pdf"})},me=d.output=d.__private__.output=(Tt=function(t,e){switch("string"==typeof(e=e||{})?e={filename:e}:e.filename=e.filename||"generated.pdf",t){case void 0:return pe();case"save":d.save(e.filename);break;case"arraybuffer":return tt(pe());case"blob":return ge(pe());case"bloburi":case"bloburl":if(void 0!==kA.URL&&"function"==typeof kA.URL.createObjectURL)return kA.URL&&kA.URL.createObjectURL(ge(pe()))||void 0;PA.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=pe();try{n=jA(r)}catch(t){n=jA(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+e.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(kA)){var A="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",i=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';e.pdfObjectUrl&&(A=e.pdfObjectUrl,i="");var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+A+'"'+i+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(e)+");<\/script></body></html>",s=kA.open();return null!==s&&s.document.write(o),s}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(kA)){var a='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(e.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+e.filename+'" width="500px" height="400px" /></body></html>',c=kA.open();if(null!==c){c.document.write(a);var l=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=e.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(l.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(kA))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",e)+'"></iframe></body></html>',h=kA.open();if(null!==h&&(h.document.write(u),h.document.title=e.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return kA.document.location.href=this.output("datauristring",e);default:return null}},Tt.foo=function(){try{return Tt.apply(this,arguments)}catch(n){var t=n.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var e="Error in function "+t.split("\n")[0].split("<")[0]+": "+n.message;if(!kA.console)throw new Error(e);kA.console.error(e,n),kA.alert&&alert(e)}},Tt.foo.bar=Tt,Tt.foo),we=function(t){return!0===Array.isArray(Et)&&Et.indexOf(t)>-1};switch(r){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=1==we("px_scaling")?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);dt=r}var ye=null;N(),M();var be=d.__private__.getPageInfo=d.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[t].objId,pageNumber:t,pageContext:Ft[t]}},ve=d.__private__.getPageInfoByObjId=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var e in Ft)if(Ft[e].objId===t)break;return be(e)},Be=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Ft[O].objId,pageNumber:O,pageContext:Ft[O]}};d.addPage=function(){return ie.apply(this,arguments),this},d.setPage=function(){return se.apply(this,arguments),Y.call(this,V[O]),this},d.insertPage=function(t){return this.addPage(),this.movePage(O,t),this},d.movePage=function(t,e){var n,r;if(t>e){n=V[t],r=Ft[t];for(var A=t;A>e;A--)V[A]=V[A-1],Ft[A]=Ft[A-1];V[e]=n,Ft[e]=r,this.setPage(e)}else if(t<e){n=V[t],r=Ft[t];for(var i=t;i<e;i++)V[i]=V[i+1],Ft[i]=Ft[i+1];V[e]=n,Ft[e]=r,this.setPage(e)}return this},d.deletePage=function(){return oe.apply(this,arguments),this},d.__private__.text=d.text=function(t,e,n,r,A){var i,o,s,a,c,l,u,d,f,p=(r=r||{}).scope||this;if("number"==typeof t&&"number"==typeof e&&("string"==typeof n||Array.isArray(n))){var g=n;n=e,e=t,t=g}if(arguments[3]instanceof Lt==0?(s=arguments[4],a=arguments[5],"object"===(0,X.A)(u=arguments[3])&&null!==u||("string"==typeof s&&(a=s,s=null),"string"==typeof u&&(a=u,u=null),"number"==typeof u&&(s=u,u=null),r={flags:u,angle:s,align:a})):(x("The transform parameter of text() with a Matrix value"),f=A),isNaN(e)||isNaN(n)||null==t)throw new Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return p;var m,w="",v="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Te,B=p.internal.scaleFactor;function C(t){return t=t.split("\t").join(Array(r.TabLen||9).join(" ")),re(t,u)}function F(t){for(var e,n=t.concat(),r=[],A=n.length;A--;)"string"==typeof(e=n.shift())?r.push(e):Array.isArray(t)&&(1===e.length||void 0===e[1]&&void 0===e[2])?r.push(e[0]):r.push([e[0],e[1],e[2]]);return r}function S(t,e){var n;if("string"==typeof t)n=e(t)[0];else if(Array.isArray(t)){for(var r,A,i=t.concat(),o=[],s=i.length;s--;)"string"==typeof(r=i.shift())?o.push(e(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(A=e(r[0],r[1],r[2]),o.push([A[0],A[1],A[2]]));n=o}return n}var E=!1,I=!0;if("string"==typeof t)E=!0;else if(Array.isArray(t)){var Q=t.concat();o=[];for(var L,k=Q.length;k--;)("string"!=typeof(L=Q.shift())||Array.isArray(L)&&"string"!=typeof L[0])&&(I=!1);E=I}if(!1===E)throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var M=nt/p.internal.scaleFactor,P=M*(v-1);switch(r.baseline){case"bottom":n-=P;break;case"top":n+=M-P;break;case"hanging":n+=M-2*P;break;case"middle":n+=M/2-P}if((l=r.maxWidth||0)>0&&("string"==typeof t?t=p.splitTextToSize(t,l):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(t,e){return t.concat(p.splitTextToSize(e,l))},[]))),i={text:t,x:e,y:n,options:r,mutex:{pdfEscape:re,activeFontKey:ht,fonts:mt,activeFontSize:nt}},St.publish("preProcessText",i),t=i.text,s=(r=i.options).angle,f instanceof Lt==0&&s&&"number"==typeof s){s*=Math.PI/180,0===r.rotationDirection&&(s=-s),b===y&&(s=-s);var T=Math.cos(s),N=Math.sin(s);f=new Lt(T,N,-N,T,0,0)}else s&&s instanceof Lt&&(f=s);b!==y||f||(f=Mt),void 0!==(c=r.charSpace||Ye)&&(w+=_(U(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(d=r.horizontalScale)&&(w+=_(100*d)+" Tz\n"),r.lang;var D=-1,O=void 0!==r.renderingMode?r.renderingMode:r.stroke,H=p.internal.getCurrentPageInfo().pageContext;switch(O){case 0:case!1:case"fill":D=0;break;case 1:case!0:case"stroke":D=1;break;case 2:case"fillThenStroke":D=2;break;case 3:case"invisible":D=3;break;case 4:case"fillAndAddForClipping":D=4;break;case 5:case"strokeAndAddPathForClipping":D=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":D=6;break;case 7:case"addToPathForClipping":D=7}var R=void 0!==H.usedRenderingMode?H.usedRenderingMode:-1;-1!==D?w+=D+" Tr\n":-1!==R&&(w+="0 Tr\n"),-1!==D&&(H.usedRenderingMode=D),a=r.align||"left";var j,K=nt*v,q=p.internal.pageSize.getWidth(),G=mt[ht];c=r.charSpace||Ye,l=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var W=[],V=function(t){return p.getStringUnitWidth(t,{font:G,charSpace:c,fontSize:nt,doKerning:!1})*nt/B};if("[object Array]"===Object.prototype.toString.call(t)){var z;o=F(t),"left"!==a&&(j=o.map(V));var J,Y=0;if("right"===a){e-=j[0],t=[],k=o.length;for(var $=0;$<k;$++)0===$?(J=Ke(e),z=qe(n)):(J=U(Y-j[$]),z=-K),t.push([o[$],J,z]),Y=j[$]}else if("center"===a){e-=j[0]/2,t=[],k=o.length;for(var tt=0;tt<k;tt++)0===tt?(J=Ke(e),z=qe(n)):(J=U((Y-j[tt])/2),z=-K),t.push([o[tt],J,z]),Y=j[tt]}else if("left"===a){t=[],k=o.length;for(var et=0;et<k;et++)t.push(o[et])}else if("justify"===a&&"Identity-H"===G.encoding){t=[],k=o.length,l=0!==l?l:q;for(var rt=0,At=0;At<k;At++)if(z=0===At?qe(n):-K,J=0===At?Ke(e):rt,At<k-1){var ot=U((l-j[At])/(o[At].split(" ").length-1)),st=o[At].split(" ");t.push([st[0]+" ",J,z]),rt=0;for(var at=1;at<st.length;at++){var ct=(V(st[at-1]+" "+st[at])-V(st[at]))*B+ot;at==st.length-1?t.push([st[at],ct,0]):t.push([st[at]+" ",ct,0]),rt-=ct}}else t.push([o[At],J,z]);t.push(["",rt,0])}else{if("justify"!==a)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(t=[],k=o.length,l=0!==l?l:q,At=0;At<k;At++){z=0===At?qe(n):-K,J=0===At?Ke(e):0;var lt=o[At].split(" ").length-1,ut=lt>0?(l-j[At])/lt:0;At<k-1?W.push(_(U(ut))):W.push(0),t.push([o[At],J,z])}}}!0===("boolean"==typeof r.R2L?r.R2L:it)&&(t=S(t,function(t,e,n){return[t.split("").reverse().join(""),e,n]})),i={text:t,x:e,y:n,options:r,mutex:{pdfEscape:re,activeFontKey:ht,fonts:mt,activeFontSize:nt}},St.publish("postProcessText",i),t=i.text,m=i.mutex.isHex||!1;var dt=mt[ht].encoding;"WinAnsiEncoding"!==dt&&"StandardEncoding"!==dt||(t=S(t,function(t,e,n){return[C(t),e,n]})),o=F(t),t=[];for(var ft,pt,gt,wt=Array.isArray(o[0])?1:0,yt="",bt=function(t,e,n){var A="";return n instanceof Lt?(n="number"==typeof r.angle?kt(n,new Lt(1,0,0,1,t,e)):kt(new Lt(1,0,0,1,t,e),n),b===y&&(n=kt(new Lt(1,0,0,-1,0,0),n)),A=n.join(" ")+" Tm\n"):A=_(t)+" "+_(e)+" Td\n",A},vt=0;vt<o.length;vt++){switch(yt="",wt){case 1:gt=(m?"<":"(")+o[vt][0]+(m?">":")"),ft=parseFloat(o[vt][1]),pt=parseFloat(o[vt][2]);break;case 0:gt=(m?"<":"(")+o[vt]+(m?">":")"),ft=Ke(e),pt=qe(n)}void 0!==W&&void 0!==W[vt]&&(yt=W[vt]+" Tw\n"),0===vt?t.push(yt+bt(ft,pt,f)+gt):0===wt?t.push(yt+gt):1===wt&&t.push(yt+bt(ft,pt,f)+gt)}t=0===wt?t.join(" Tj\nT* "):t.join(" Tj\n"),t+=" Tj\n";var Bt="BT\n/";return Bt+=ht+" "+nt+" Tf\n",Bt+=_(nt*v)+" TL\n",Bt+=Xe+"\n",Bt+=w,Bt+=t,Z(Bt+="ET"),h[ht]=!0,p};var Ce=d.__private__.clip=d.clip=function(t){return Z("evenodd"===t?"W*":"W"),this};d.clipEvenOdd=function(){return Ce("evenodd")},d.__private__.discardPath=d.discardPath=function(){return Z("n"),this};var _e=d.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(t)&&(e=!0),e};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(t){return _e(t)&&(c=t),this};var xe=d.__private__.getStyle=d.getStyle=function(t){var e=c;switch(t){case"D":case"S":e="S";break;case"F":e="f";break;case"FD":case"DF":e="B";break;case"f":case"f*":case"B":case"B*":e=t}return e},Fe=d.close=function(){return Z("h"),this};d.stroke=function(){return Z("S"),this},d.fill=function(t){return Se("f",t),this},d.fillEvenOdd=function(t){return Se("f*",t),this},d.fillStroke=function(t){return Se("B",t),this},d.fillStrokeEvenOdd=function(t){return Se("B*",t),this};var Se=function(t,e){"object"===(0,X.A)(e)?Ie(e,t):Z(t)},Ee=function(t){null===t||b===y&&void 0===t||(t=xe(t),Z(t))};function Ue(t,e,n,r,A){var i=new ui(e||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,A||this.matrix);i.stream=this.stream;var o=t+"$$"+this.cloneIndex+++"$$";return Pt(o,i),i}var Ie=function(t,e){var n=vt[t.key],r=bt[n];if(r instanceof li)Z("q"),Z(Qe(e)),r.gState&&d.setGState(r.gState),Z(t.matrix.toString()+" cm"),Z("/"+n+" sh"),Z("Q");else if(r instanceof ui){var A=new Lt(1,0,0,-1,0,fn());t.matrix&&(A=A.multiply(t.matrix||Mt),n=Ue.call(r,t.key,t.boundingBox,t.xStep,t.yStep,A).id),Z("q"),Z("/Pattern cs"),Z("/"+n+" scn"),r.gState&&d.setGState(r.gState),Z(e),Z("Q")}},Qe=function(t){switch(t){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Le=d.moveTo=function(t,e){return Z(_(U(t))+" "+_(I(e))+" m"),this},ke=d.lineTo=function(t,e){return Z(_(U(t))+" "+_(I(e))+" l"),this},Me=d.curveTo=function(t,e,n,r,A,i){return Z([_(U(t)),_(I(e)),_(U(n)),_(I(r)),_(U(A)),_(I(i)),"c"].join(" ")),this};d.__private__.line=d.line=function(t,e,n,r,A){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!_e(A))throw new Error("Invalid arguments passed to jsPDF.line");return b===w?this.lines([[n-t,r-e]],t,e,[1,1],A||"S"):this.lines([[n-t,r-e]],t,e,[1,1]).stroke()},d.__private__.lines=d.lines=function(t,e,n,r,A,i){var o,s,a,c,l,u,h,d,f,p,g,m;if("number"==typeof t&&(m=n,n=e,e=t,t=m),r=r||[1,1],i=i||!1,isNaN(e)||isNaN(n)||!Array.isArray(t)||!Array.isArray(r)||!_e(A)||"boolean"!=typeof i)throw new Error("Invalid arguments passed to jsPDF.lines");for(Le(e,n),o=r[0],s=r[1],c=t.length,p=e,g=n,a=0;a<c;a++)2===(l=t[a]).length?(p=l[0]*o+p,g=l[1]*s+g,ke(p,g)):(u=l[0]*o+p,h=l[1]*s+g,d=l[2]*o+p,f=l[3]*s+g,p=l[4]*o+p,g=l[5]*s+g,Me(u,h,d,f,p,g));return i&&Fe(),Ee(A),this},d.path=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.c;switch(n.op){case"m":Le(r[0],r[1]);break;case"l":ke(r[0],r[1]);break;case"c":Me.apply(this,r);break;case"h":Fe()}}return this},d.__private__.rect=d.rect=function(t,e,n,r,A){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!_e(A))throw new Error("Invalid arguments passed to jsPDF.rect");return b===w&&(r=-r),Z([_(U(t)),_(I(e)),_(U(n)),_(U(r)),"re"].join(" ")),Ee(A),this},d.__private__.triangle=d.triangle=function(t,e,n,r,A,i,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(A)||isNaN(i)||!_e(o))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-t,r-e],[A-n,i-r],[t-A,e-i]],t,e,[1,1],o,!0),this},d.__private__.roundedRect=d.roundedRect=function(t,e,n,r,A,i,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(A)||isNaN(i)||!_e(o))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return A=Math.min(A,.5*n),i=Math.min(i,.5*r),this.lines([[n-2*A,0],[A*s,0,A,i-i*s,A,i],[0,r-2*i],[0,i*s,-A*s,i,-A,i],[2*A-n,0],[-A*s,0,-A,-i*s,-A,-i],[0,2*i-r],[0,-i*s,A*s,-i,A,-i]],t+A,e,[1,1],o,!0),this},d.__private__.ellipse=d.ellipse=function(t,e,n,r,A){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!_e(A))throw new Error("Invalid arguments passed to jsPDF.ellipse");var i=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*r;return Le(t+n,e),Me(t+n,e-o,t+i,e-r,t,e-r),Me(t-i,e-r,t-n,e-o,t-n,e),Me(t-n,e+o,t-i,e+r,t,e+r),Me(t+i,e+r,t+n,e+o,t+n,e),Ee(A),this},d.__private__.circle=d.circle=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||!_e(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,n,n,r)},d.setFont=function(t,e,n){return n&&(e=C(e,n)),ht=ce(t,e,{disableWarning:!1}),this};var Pe=d.__private__.getFont=d.getFont=function(){return mt[ce.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var t,e,n={};for(t in wt)if(wt.hasOwnProperty(t))for(e in n[t]=[],wt[t])wt[t].hasOwnProperty(e)&&n[t].push(e);return n},d.addFont=function(t,e,n,r,A){var i=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==i.indexOf(arguments[3])?A=arguments[3]:arguments[3]&&-1==i.indexOf(arguments[3])&&(n=C(n,r)),ne.call(this,t,e,n,A=A||"Identity-H")};var Te,Ne=t.lineWidth||.200025,De=d.__private__.getLineWidth=d.getLineWidth=function(){return Ne},Oe=d.__private__.setLineWidth=d.setLineWidth=function(t){return Ne=t,Z(_(U(t))+" w"),this};d.__private__.setLineDash=hi.API.setLineDash=hi.API.setLineDashPattern=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map(function(t){return _(U(t))}).join(" "),e=_(U(e)),Z("["+t+"] "+e+" d"),this};var He=d.__private__.getLineHeight=d.getLineHeight=function(){return nt*Te};d.__private__.getLineHeight=d.getLineHeight=function(){return nt*Te};var Re=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(Te=t),this},je=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Te};Re(t.lineHeight);var Ke=d.__private__.getHorizontalCoordinate=function(t){return U(t)},qe=d.__private__.getVerticalCoordinate=function(t){return b===y?t:Ft[O].mediaBox.topRightY-Ft[O].mediaBox.bottomLeftY-U(t)},Ge=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(t){return _(Ke(t))},We=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(t){return _(qe(t))},Ve=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Kt(Ve)},d.__private__.setStrokeColor=d.setDrawColor=function(t,e,n,r){return Ve=qt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),Z(Ve),this};var ze=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Kt(ze)},d.__private__.setFillColor=d.setFillColor=function(t,e,n,r){return ze=qt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),Z(ze),this};var Xe=t.textColor||"0 g",Je=d.__private__.getTextColor=d.getTextColor=function(){return Kt(Xe)};d.__private__.setTextColor=d.setTextColor=function(t,e,n,r){return Xe=qt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Ye=t.charSpace,Ze=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Ye||0)};d.__private__.setCharSpace=d.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ye=t,this};var $e=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(t){var e=d.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $e=e,Z(e+" J"),this};var tn=0;d.__private__.setLineJoin=d.setLineJoin=function(t){var e=d.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tn=e,Z(e+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(_(U(t))+" M"),this},d.GState=ai,d.setGState=function(t){(t="string"==typeof t?Bt[Ct[t]]:en(null,t)).equals(_t)||(Z("/"+t.id+" gs"),_t=t)};var en=function(t,e){if(!t||!Ct[t]){var n=!1;for(var r in Bt)if(Bt.hasOwnProperty(r)&&Bt[r].equals(e)){n=!0;break}if(n)e=Bt[r];else{var A="GS"+(Object.keys(Bt).length+1).toString(10);Bt[A]=e,e.id=A}return t&&(Ct[t]=e.id),St.publish("addGState",e),e}};d.addGState=function(t,e){return en(t,e),this},d.saveGraphicsState=function(){return Z("q"),yt.push({key:ht,size:nt,color:Xe}),this},d.restoreGraphicsState=function(){Z("Q");var t=yt.pop();return ht=t.key,nt=t.size,Xe=t.color,_t=null,this},d.setCurrentTransformationMatrix=function(t){return Z(t.toString()+" cm"),this},d.comment=function(t){return Z("#"+t),this};var nn=function(t,e){var n=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var r=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var A="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return A},set:function(t){A=t.toString()}}),this},rn=function(t,e,n,r){nn.call(this,t,e),this.type="rect";var A=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return A},set:function(t){isNaN(t)||(A=parseFloat(t))}});var i=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}}),this},An=function(){this.page=xt,this.currentPage=O,this.pages=V.slice(0),this.pagesContext=Ft.slice(0),this.x=ft,this.y=pt,this.matrix=gt,this.width=an(O),this.height=ln(O),this.outputDestination=J,this.id="",this.objectNumber=-1};An.prototype.restore=function(){xt=this.page,O=this.currentPage,Ft=this.pagesContext,V=this.pages,ft=this.x,pt=this.y,gt=this.matrix,cn(O,this.width),un(O,this.height),J=this.outputDestination};var on=function(t,e,n,r,A){Qt.push(new An),xt=O=0,V=[],ft=t,pt=e,gt=A,Ae([n,r])};for(var sn in d.beginFormObject=function(t,e,n,r,A){return on(t,e,n,r,A),this},d.endFormObject=function(t){return function(t){if(It[t])Qt.pop().restore();else{var e=new An,n="Xo"+(Object.keys(Ut).length+1).toString(10);e.id=n,It[t]=n,Ut[n]=e,St.publish("addFormObject",e),Qt.pop().restore()}}(t),this},d.doFormObject=function(t,e){var n=Ut[It[t]];return Z("q"),Z(e.toString()+" cm"),Z("/"+n.id+" Do"),Z("Q"),this},d.getFormObject=function(t){var e=Ut[It[t]];return{x:e.x,y:e.y,width:e.width,height:e.height,matrix:e.matrix}},d.save=function(t,e){return t=t||"generated.pdf",(e=e||{}).returnPromise=e.returnPromise||!1,!1===e.returnPromise?(OA(ge(pe()),t),"function"==typeof OA.unload&&kA.setTimeout&&setTimeout(OA.unload,911),this):new Promise(function(e,n){try{var r=OA(ge(pe()),t);"function"==typeof OA.unload&&kA.setTimeout&&setTimeout(OA.unload,911),e(r)}catch(t){n(t.message)}})},hi.API)hi.API.hasOwnProperty(sn)&&("events"===sn&&hi.API.events.length?function(t,e){var n,r,A;for(A=e.length-1;-1!==A;A--)n=e[A][0],r=e[A][1],t.subscribe.apply(t,[n].concat("function"==typeof r?[r]:r))}(St,hi.API.events):d[sn]=hi.API[sn]);function an(t){return Ft[t].mediaBox.topRightX-Ft[t].mediaBox.bottomLeftX}function cn(t,e){Ft[t].mediaBox.topRightX=e+Ft[t].mediaBox.bottomLeftX}function ln(t){return Ft[t].mediaBox.topRightY-Ft[t].mediaBox.bottomLeftY}function un(t,e){Ft[t].mediaBox.topRightY=e+Ft[t].mediaBox.bottomLeftY}var hn=d.getPageWidth=function(t){return an(t=t||O)/dt},dn=d.setPageWidth=function(t,e){cn(t,e*dt)},fn=d.getPageHeight=function(t){return ln(t=t||O)/dt},pn=d.setPageHeight=function(t,e){un(t,e*dt)};return d.internal={pdfEscape:re,getStyle:xe,getFont:Pe,getFontSize:At,getCharSpace:Ze,getTextColor:Je,getLineHeight:He,getLineHeightFactor:je,getLineWidth:De,write:$,getHorizontalCoordinate:Ke,getVerticalCoordinate:qe,getCoordinateString:Ge,getVerticalCoordinateString:We,collections:{},newObject:Nt,newAdditionalObject:Ht,newObjectDeferred:Dt,newObjectDeferredBegin:Ot,getFilters:Gt,putStream:Wt,events:St,scaleFactor:dt,pageSize:{getWidth:function(){return hn(O)},setWidth:function(t){dn(O,t)},getHeight:function(){return fn(O)},setHeight:function(t){pn(O,t)}},encryptionOptions:l,encryption:ye,getEncryptor:function(t){return null!==l?ye.encryptor(t,0):function(t){return t}},output:me,getNumberOfPages:ae,pages:V,out:Z,f2:S,f3:E,getPageInfo:be,getPageInfoByObjId:ve,getCurrentPageInfo:Be,getPDFVersion:p,Point:nn,Rectangle:rn,Matrix:Lt,hasHotfix:we},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return hn(O)},set:function(t){dn(O,t)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return fn(O)},set:function(t){pn(O,t)},enumerable:!0,configurable:!0}),function(t){for(var e=0,n=et.length;e<n;e++){var r=ne.call(this,t[e][0],t[e][1],t[e][2],et[e][3],!0);!1===u&&(h[r]=!0);var A=t[e][0].split("-");ee({id:r,fontName:A[0],fontStyle:A[1]||""})}St.publish("addFonts",{fonts:mt,dictionary:wt})}.call(d,et),ht="F1",ie(A,n),St.publish("initialized"),d}ii.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ii.prototype.toHexString=function(t){return t.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ii.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},ii.prototype.processOwnerPassword=function(t,e){return ri(ti(e).substr(0,5),t)},ii.prototype.encryptor=function(t,e){var n=ti(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(t){return ri(n,t)}},ai.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||(0,X.A)(t)!==(0,X.A)(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e))return!1;if(this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return 0===r},hi.API={events:[]},hi.version="3.0.3";var di=hi.API,fi=1,pi=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gi=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mi=function(t){return t.toFixed(2)},wi=function(t){return t.toFixed(5)};di.__acroform__={};var yi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},bi=function(t){return t*fi},vi=function(t){var e=new Ni,n=Yi.internal.getHeight(t)||0,r=Yi.internal.getWidth(t)||0;return e.BBox=[0,0,Number(mi(r)),Number(mi(n))],e},Bi=di.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Ci=di.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},_i=di.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},xi=di.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _i(t,e-1)},Fi=di.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Bi(t,e-1)},Si=di.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ci(t,e-1)},Ei=di.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,A=t[0],i=t[1],o=t[2],s=t[3],a={};return a.lowerLeft_X=n(A)||0,a.lowerLeft_Y=r(i+s)||0,a.upperRight_X=n(A+o)||0,a.upperRight_Y=r(i)||0,[Number(mi(a.lowerLeft_X)),Number(mi(a.lowerLeft_Y)),Number(mi(a.upperRight_X)),Number(mi(a.upperRight_Y))]},Ui=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Ii(t,n),A=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+A+" "+mi(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=vi(t);return i.scope=t.scope,i.stream=e.join("\n"),i}},Ii=function(t,e){var n=0===t.fontSize?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},A=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");A=t.multiline?A.map(function(t){return t.split("\n")}):A.map(function(t){return[t]});var i=n,o=Yi.internal.getHeight(t)||0;o=o<0?-o:o;var s=Yi.internal.getWidth(t)||0;s=s<0?-s:s;var a=function(e,n,r){if(e+1<A.length){var i=n+" "+A[e+1][0];return Qi(i,t,r).width<=s-4}return!1};i++;t:for(;i>0;){e="",i--;var c,l,u=Qi("3",t,i).height,h=t.multiline?o-i:(o-u)/2,d=h+=2,f=0,p=0,g=0;if(i<=0){e="(...) Tj\n",e+="% Width of Text: "+Qi(e,t,i=12).width+", FieldWidth:"+s+"\n";break}for(var m="",w=0,y=0;y<A.length;y++)if(A.hasOwnProperty(y)){var b=!1;if(1!==A[y].length&&g!==A[y].length-1){if((u+2)*(w+2)+2>o)continue t;m+=A[y][g],b=!0,p=y,y--}else{m=" "==(m+=A[y][g]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var v=parseInt(y),B=a(v,m,i),C=y>=A.length-1;if(B&&!C){m+=" ",g=0;continue}if(B||C){if(C)p=v;else if(t.multiline&&(u+2)*(w+2)+2>o)continue t}else{if(!t.multiline)continue t;if((u+2)*(w+2)+2>o)continue t;p=v}}for(var _="",x=f;x<=p;x++){var F=A[x];if(t.multiline){if(x===p){_+=F[g]+" ",g=(g+1)%F.length;continue}if(x===f){_+=F[F.length-1]+" ";continue}}_+=F[0]+" "}switch(_=" "==_.substr(_.length-1)?_.substr(0,_.length-1):_,l=Qi(_,t,i).width,t.textAlign){case"right":c=s-l-2;break;case"center":c=(s-l)/2;break;default:c=2}e+=mi(c)+" "+mi(d)+" Td\n",e+="("+pi(_)+") Tj\n",e+=-mi(c)+" 0 Td\n",d=-(i+2),l=0,f=b?p:p+1,w++,m=""}break}return r.text=e,r.fontSize=i,r},Qi=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),A=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:A}},Li={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ki=function(t,e){var n={type:"reference",object:t};void 0===e.internal.getPageInfo(t.page).pageContext.annotations.find(function(t){return t.type===n.type&&t.object===n.object})&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Mi=di.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(t){return t};if(Array.isArray(t)){for(var A="[",i=0;i<t.length;i++)switch(0!==i&&(A+=" "),(0,X.A)(t[i])){case"boolean":case"number":case"object":A+=t[i].toString();break;case"string":"/"!==t[i].substr(0,1)?(void 0!==e&&n&&(r=n.internal.getEncryptor(e)),A+="("+pi(r(t[i].toString()))+")"):A+=t[i].toString()}return A+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Pi=function(t,e,n){var r=function(t){return t};return void 0!==e&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+pi(r(t))+")"},Ti=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ti.prototype.toString=function(){return this.objId+" 0 R"},Ti.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ti.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"scope"!=t&&"objId"!=t&&"_"!=t.substring(0,1)});for(var n in e)if(!1===Object.getOwnPropertyDescriptor(this,e[n]).configurable){var r=e[n],A=this[r];A&&(Array.isArray(A)?t.push({key:r,value:Mi(A,this.objId,this.scope)}):A instanceof Ti?(A.scope=this.scope,t.push({key:r,value:A.objId+" 0 R"})):"function"!=typeof A&&t.push({key:r,value:A}))}return t};var Ni=function(){Ti.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};yi(Ni,Ti);var Di=function(){Ti.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+pi(e(t))+")"}},set:function(e){t=e}})};yi(Di,Ti);var Oi=function t(){Ti.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(e,3))},set:function(t){!0===Boolean(t)?this.F=Fi(e,3):this.F=Si(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');n=t}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(t){r=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(t){r[0]=t}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(t){r[1]=t}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(t){r[2]=t}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(t){r[3]=t}});var A="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return A},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":A=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Vi)return;i="FieldObject"+t.FieldNum++}var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+pi(e(i))+")"},set:function(t){i=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(t){i=t}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(t){o=t}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){s=t}});var a=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return a},set:function(t){a=t}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/fi:c},set:function(t){c=t}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){l=t}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Vi||this instanceof Xi))return Pi(u,this.objId,this.scope)},set:function(t){t=t.toString(),u=t}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof qi==0?Pi(h,this.objId,this.scope):h},set:function(t){t=t.toString(),h=this instanceof qi==0?"("===t.substr(0,1)?gi(t.substr(1,t.length-2)):gi(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof qi==1?gi(h.substr(1,h.length-1)):h},set:function(t){t=t.toString(),h=this instanceof qi==1?"/"+t:t}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(t){this.V=t}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof qi==0?Pi(d,this.objId,this.scope):d},set:function(t){t=t.toString(),d=this instanceof qi==0?"("===t.substr(0,1)?gi(t.substr(1,t.length-2)):gi(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof qi==1?gi(d.substr(1,d.length-1)):d},set:function(t){t=t.toString(),d=this instanceof qi==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(t){t=Boolean(t),p=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(t){f=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,1))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,1):this.Ff=Si(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,2))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,2):this.Ff=Si(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,3))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,3):this.Ff=Si(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');g=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t;switch(g){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};yi(Oi,Ti);var Hi=function(){Oi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Mi(e,this.objId,this.scope)},set:function(t){var n,r;r=[],"string"==typeof(n=t)&&(r=function(t,e,n){n||(n=1);for(var r,A=[];r=e.exec(t);)A.push(r[n]);return A}(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,18))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,18):this.Ff=Si(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,19))},set:function(t){!0===this.combo&&(!0===Boolean(t)?this.Ff=Fi(this.Ff,19):this.Ff=Si(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=Fi(this.Ff,20),e.sort()):this.Ff=Si(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,22))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,22):this.Ff=Si(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,27))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,27):this.Ff=Si(this.Ff,27)}}),this.hasAppearanceStream=!1};yi(Hi,Oi);var Ri=function(){Hi.call(this),this.fontName="helvetica",this.combo=!1};yi(Ri,Hi);var ji=function(){Ri.call(this),this.combo=!0};yi(ji,Ri);var Ki=function(){ji.call(this),this.edit=!0};yi(Ki,ji);var qi=function(){Oi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,15))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,15):this.Ff=Si(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,16))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,16):this.Ff=Si(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,17))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,17):this.Ff=Si(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,26):this.Ff=Si(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var n,r=[];for(n in r.push("<<"),e)r.push("/"+n+" ("+pi(t(e[n]))+")");return r.push(">>"),r.join("\n")}},set:function(t){"object"===(0,X.A)(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};yi(qi,Oi);var Gi=function(){qi.call(this),this.pushButton=!0};yi(Gi,qi);var Wi=function(){qi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};yi(Wi,qi);var Vi=function(){var t,e;Oi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(t){e=t}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};this.scope&&(t=this.scope.internal.getEncryptor(this.objId));var e,n=[];for(e in n.push("<<"),r)n.push("/"+e+" ("+pi(t(r[e]))+")");return n.push(">>"),n.join("\n")},set:function(t){"object"===(0,X.A)(t)&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){"string"==typeof t&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Yi.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};yi(Vi,Oi),Wi.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Wi.prototype.createOption=function(t){var e=new Vi;return e.Parent=this,e.optionName=t,this.Kids.push(e),to.call(this.scope,e),e};var zi=function(){qi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Yi.CheckBox.createAppearanceStream()};yi(zi,qi);var Xi=function(){Oi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,13))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,13):this.Ff=Si(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,21))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,21):this.Ff=Si(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,24))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,24):this.Ff=Si(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,25))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,25):this.Ff=Si(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,26):this.Ff=Si(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};yi(Xi,Oi);var Ji=function(){Xi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(xi(this.Ff,14))},set:function(t){!0===Boolean(t)?this.Ff=Fi(this.Ff,14):this.Ff=Si(this.Ff,14)}}),this.password=!0};yi(Ji,Xi);var Yi={CheckBox:{createAppearanceStream:function(){return{N:{On:Yi.CheckBox.YesNormal},D:{On:Yi.CheckBox.YesPushDown,Off:Yi.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=vi(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,A=t.scope.__private__.encodeColorString(t.color),i=Ii(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+mi(Yi.internal.getWidth(t))+" "+mi(Yi.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+mi(i.fontSize)+" Tf "+A),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join("\n"),e},YesNormal:function(t){var e=vi(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),A=[],i=Yi.internal.getHeight(t),o=Yi.internal.getWidth(t),s=Ii(t,t.caption);return A.push("1 g"),A.push("0 0 "+mi(o)+" "+mi(i)+" re"),A.push("f"),A.push("q"),A.push("0 0 1 rg"),A.push("0 0 "+mi(o-1)+" "+mi(i-1)+" re"),A.push("W"),A.push("n"),A.push("0 g"),A.push("BT"),A.push("/"+n+" "+mi(s.fontSize)+" Tf "+r),A.push(s.text),A.push("ET"),A.push("Q"),e.stream=A.join("\n"),e},OffPushDown:function(t){var e=vi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+mi(Yi.internal.getWidth(t))+" "+mi(Yi.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Yi.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Yi.RadioButton.Circle.YesNormal,e.D[t]=Yi.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=vi(t);e.scope=t.scope;var n=[],r=Yi.internal.getWidth(t)<=Yi.internal.getHeight(t)?Yi.internal.getWidth(t)/4:Yi.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var A=Yi.internal.Bezier_C,i=Number((r*A).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+wi(Yi.internal.getWidth(t)/2)+" "+wi(Yi.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=vi(t);e.scope=t.scope;var n=[],r=Yi.internal.getWidth(t)<=Yi.internal.getHeight(t)?Yi.internal.getWidth(t)/4:Yi.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var A=Number((2*r).toFixed(5)),i=Number((A*Yi.internal.Bezier_C).toFixed(5)),o=Number((r*Yi.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+wi(Yi.internal.getWidth(t)/2)+" "+wi(Yi.internal.getHeight(t)/2)+" cm"),n.push(A+" 0 m"),n.push(A+" "+i+" "+i+" "+A+" 0 "+A+" c"),n.push("-"+i+" "+A+" -"+A+" "+i+" -"+A+" 0 c"),n.push("-"+A+" -"+i+" -"+i+" -"+A+" 0 -"+A+" c"),n.push(i+" -"+A+" "+A+" -"+i+" "+A+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+wi(Yi.internal.getWidth(t)/2)+" "+wi(Yi.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=vi(t);e.scope=t.scope;var n=[],r=Yi.internal.getWidth(t)<=Yi.internal.getHeight(t)?Yi.internal.getWidth(t)/4:Yi.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var A=Number((2*r).toFixed(5)),i=Number((A*Yi.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+wi(Yi.internal.getWidth(t)/2)+" "+wi(Yi.internal.getHeight(t)/2)+" cm"),n.push(A+" 0 m"),n.push(A+" "+i+" "+i+" "+A+" 0 "+A+" c"),n.push("-"+i+" "+A+" -"+A+" "+i+" -"+A+" 0 c"),n.push("-"+A+" -"+i+" -"+i+" -"+A+" 0 -"+A+" c"),n.push(i+" -"+A+" "+A+" -"+i+" "+A+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Yi.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Yi.RadioButton.Cross.YesNormal,e.D[t]=Yi.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=vi(t);e.scope=t.scope;var n=[],r=Yi.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+mi(Yi.internal.getWidth(t)-2)+" "+mi(Yi.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(mi(r.x1.x)+" "+mi(r.x1.y)+" m"),n.push(mi(r.x2.x)+" "+mi(r.x2.y)+" l"),n.push(mi(r.x4.x)+" "+mi(r.x4.y)+" m"),n.push(mi(r.x3.x)+" "+mi(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=vi(t);e.scope=t.scope;var n=Yi.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+mi(Yi.internal.getWidth(t))+" "+mi(Yi.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+mi(Yi.internal.getWidth(t)-2)+" "+mi(Yi.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(mi(n.x1.x)+" "+mi(n.x1.y)+" m"),r.push(mi(n.x2.x)+" "+mi(n.x2.y)+" l"),r.push(mi(n.x4.x)+" "+mi(n.x4.y)+" m"),r.push(mi(n.x3.x)+" "+mi(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=vi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+mi(Yi.internal.getWidth(t))+" "+mi(Yi.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Yi.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Yi.internal.getWidth(t),n=Yi.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Yi.internal.getWidth=function(t){var e=0;return"object"===(0,X.A)(t)&&(e=bi(t.Rect[2])),e},Yi.internal.getHeight=function(t){var e=0;return"object"===(0,X.A)(t)&&(e=bi(t.Rect[3])),e};var Zi,$i,to=di.addField=function(t){if(function(t,e){if(e.scope=t,void 0!==t.internal&&(void 0===t.internal.acroformPlugin||!1===t.internal.acroformPlugin.isInitialized)){if(Oi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Li)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fi=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Di,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){var e;(e=t).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),t.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];r.objId=void 0,r.hasAnnotation&&ki(r,t)}}(t)}),t.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(t)}),t.internal.events.subscribe("postPutPages",function(e){!function(t,e){var n=!t;for(var r in t||(e.internal.newObjectDeferredBegin(e.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),e.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||e.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(r)){var A=t[r],i=[],o=A.Rect;if(A.Rect&&(A.Rect=Ei(A.Rect,e)),e.internal.newObjectDeferredBegin(A.objId,!0),A.DA=Yi.createDefaultAppearanceStream(A),"object"===(0,X.A)(A)&&"function"==typeof A.getKeyValueListForStream&&(i=A.getKeyValueListForStream()),A.Rect=o,A.hasAppearanceStream&&!A.appearanceStreamContent){var s=Ui(A);i.push({key:"AP",value:"<</N "+s+">>"}),e.internal.acroformPlugin.xForms.push(s)}if(A.appearanceStreamContent){var a="";for(var c in A.appearanceStreamContent)if(A.appearanceStreamContent.hasOwnProperty(c)){var l=A.appearanceStreamContent[c];if(a+="/"+c+" ",a+="<<",Object.keys(l).length>=1||Array.isArray(l)){for(var r in l)if(l.hasOwnProperty(r)){var u=l[r];"function"==typeof u&&(u=u.call(e,A)),a+="/"+r+" "+u+" ",e.internal.acroformPlugin.xForms.indexOf(u)>=0||e.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=l)&&(u=u.call(e,A)),a+="/"+r+" "+u,e.internal.acroformPlugin.xForms.indexOf(u)>=0||e.internal.acroformPlugin.xForms.push(u);a+=">>"}i.push({key:"AP",value:"<<\n"+a+">>"})}e.internal.putStream({additionalKeyValues:i,objectId:A.objId}),e.internal.out("endobj")}n&&function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,A=t[n];e.internal.newObjectDeferredBegin(A.objId,!0),"object"===(0,X.A)(A)&&"function"==typeof A.putStream&&A.putStream(),delete t[r]}}(e.internal.acroformPlugin.xForms,e)}(e,t)}),t.internal.acroformPlugin.isInitialized=!0}}(this,t),!(t instanceof Oi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};function eo(t){return t.reduce(function(t,e,n){return t[e]=n,t},{})}di.AcroFormChoiceField=Hi,di.AcroFormListBox=Ri,di.AcroFormComboBox=ji,di.AcroFormEditBox=Ki,di.AcroFormButton=qi,di.AcroFormPushButton=Gi,di.AcroFormRadioButton=Wi,di.AcroFormCheckBox=zi,di.AcroFormTextField=Xi,di.AcroFormPasswordField=Ji,di.AcroFormAppearance=Yi,di.AcroForm={ChoiceField:Hi,ListBox:Ri,ComboBox:ji,EditBox:Ki,Button:qi,PushButton:Gi,RadioButton:Wi,CheckBox:zi,TextField:Xi,PasswordField:Ji,Appearance:Yi},hi.AcroForm={ChoiceField:Hi,ListBox:Ri,ComboBox:ji,EditBox:Ki,Button:qi,PushButton:Gi,RadioButton:Wi,CheckBox:zi,TextField:Xi,PasswordField:Ji,Appearance:Yi},hi.AcroForm,function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},A=t.__addimage__.getImageFileTypeByImageData=function(t,e){var A,i,o,s,a,c=n;if("RGBA"===(e=e||n)||void 0!==t.data&&t.data instanceof Uint8ClampedArray&&"height"in t&&"width"in t)return"RGBA";if(B(t))for(a in r)for(o=r[a],A=0;A<o.length;A+=1){for(s=!0,i=0;i<o[A].length;i+=1)if(void 0!==o[A][i]&&o[A][i]!==t[i]){s=!1;break}if(!0===s){c=a;break}}else for(a in r)for(o=r[a],A=0;A<o.length;A+=1){for(s=!0,i=0;i<o[A].length;i+=1)if(void 0!==o[A][i]&&o[A][i]!==t.charCodeAt(i)){s=!1;break}if(!0===s){c=a;break}}return c===n&&e!==n&&(c=e),c},i=function t(e){for(var n=this.internal.write,r=this.internal.putStream,A=(0,this.internal.getFilters)();-1!==A.indexOf("FlateEncode");)A.splice(A.indexOf("FlateEncode"),1);e.objectId=this.internal.newObject();var i=[];if(i.push({key:"Type",value:"/XObject"}),i.push({key:"Subtype",value:"/Image"}),i.push({key:"Width",value:e.width}),i.push({key:"Height",value:e.height}),e.colorSpace===m.INDEXED?i.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.palette.length/3-1)+" "+("sMask"in e&&void 0!==e.sMask?e.objectId+2:e.objectId+1)+" 0 R]"}):(i.push({key:"ColorSpace",value:"/"+e.colorSpace}),e.colorSpace===m.DEVICE_CMYK&&i.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),i.push({key:"BitsPerComponent",value:e.bitsPerComponent}),"decodeParameters"in e&&void 0!==e.decodeParameters&&i.push({key:"DecodeParms",value:"<<"+e.decodeParameters+">>"}),"transparency"in e&&Array.isArray(e.transparency)&&e.transparency.length>0){for(var o="",s=0,a=e.transparency.length;s<a;s++)o+=e.transparency[s]+" "+e.transparency[s]+" ";i.push({key:"Mask",value:"["+o+"]"})}void 0!==e.sMask&&i.push({key:"SMask",value:e.objectId+1+" 0 R"});var c=void 0!==e.filter?["/"+e.filter]:void 0;if(r({data:e.data,additionalKeyValues:i,alreadyAppliedFilters:c,objectId:e.objectId}),n("endobj"),"sMask"in e&&void 0!==e.sMask){var l,u=null!==(l=e.sMaskBitsPerComponent)&&void 0!==l?l:e.bitsPerComponent,h={width:e.width,height:e.height,colorSpace:"DeviceGray",bitsPerComponent:u,data:e.sMask};"filter"in e&&(h.decodeParameters="/Predictor ".concat(e.predictor," /Colors 1 /BitsPerComponent ").concat(u," /Columns ").concat(e.width),h.filter=e.filter),t.call(this,h)}if(e.colorSpace===m.INDEXED){var d=this.internal.newObject();r({data:_(new Uint8Array(e.palette)),objectId:d}),n("endobj")}},o=function(){var t=this.internal.collections[e+"images"];for(var n in t)i.call(this,t[n])},s=function(){var t,n=this.internal.collections[e+"images"],r=this.internal.write;for(var A in n)r("/I"+(t=n[A]).index,t.objectId,"0","R")},a=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var t=this.internal.collections[e+"images"];return a.call(this),t},l=function(){return Object.keys(this.internal.collections[e+"images"]).length},u=function(e){return"function"==typeof t["process"+e.toUpperCase()]},h=function(t){return"object"===(0,X.A)(t)&&1===t.nodeType},d=function(e,n){if("IMG"===e.nodeName&&e.hasAttribute("src")){var r=""+e.getAttribute("src");if(0===r.indexOf("data:image/"))return RA(unescape(r).split("base64,").pop());var A=t.loadFile(r,!0);if(void 0!==A)return A}if("CANVAS"===e.nodeName){if(0===e.width||0===e.height)throw new Error("Given canvas must have data. Canvas width: "+e.width+", height: "+e.height);var i;switch(n){case"PNG":i="image/png";break;case"WEBP":i="image/webp";break;default:i="image/jpeg"}return RA(e.toDataURL(i,1).split("base64,").pop())}},f=function(t){var n=this.internal.collections[e+"images"];if(n)for(var r in n)if(t===n[r].alias)return n[r]},p=function(t,e,n){return t||e||(t=-96,e=-96),t<0&&(t=-1*n.width*72/t/this.internal.scaleFactor),e<0&&(e=-1*n.height*72/e/this.internal.scaleFactor),0===t&&(t=e*n.width/n.height),0===e&&(e=t*n.height/n.width),[t,e]},g=function(t,e,n,r,A,i){var o=p.call(this,n,r,A),s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=c.call(this);if(n=o[0],r=o[1],l[A.index]=A,i){i*=Math.PI/180;var u=Math.cos(i),h=Math.sin(i),d=function(t){return t.toFixed(4)},f=[d(u),d(h),d(-1*h),d(u),0,0,"cm"]}this.internal.write("q"),i?(this.internal.write([1,"0","0",1,s(t),a(e+r),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([s(n),"0","0",s(r),"0","0","cm"].join(" "))):this.internal.write([s(n),"0","0",s(r),s(t),a(e+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+A.index+" Do"),this.internal.write("Q")},m=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(t){var e,n,r=0;if("string"==typeof t)for(n=t.length,e=0;e<n;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;else if(B(t))for(n=t.byteLength/2,e=0;e<n;e++)r=(r<<5)-r+t[e],r|=0;return r},b=t.__addimage__.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(t.substr(-2))&&(e=!1),e},v=t.__addimage__.extractImageFromDataUrl=function(t){if(null==t)return null;if(!(t=t.trim()).startsWith("data:"))return null;var e=t.indexOf(",");return e<0?null:t.substring(0,e).trim().endsWith("base64")?t.substring(e+1):null};t.__addimage__.isArrayBuffer=function(t){return t instanceof ArrayBuffer};var B=t.__addimage__.isArrayBufferView=function(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array},C=t.__addimage__.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n},_=t.__addimage__.arrayBufferToBinaryString=function(t){for(var e="",n=B(t)?t:new Uint8Array(t),r=0;r<n.length;r+=8192)e+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return e};t.addImage=function(){var t,e,r,A,i,o,s,c,l;if("number"==typeof arguments[1]?(e=n,r=arguments[1],A=arguments[2],i=arguments[3],o=arguments[4],s=arguments[5],c=arguments[6],l=arguments[7]):(e=arguments[1],r=arguments[2],A=arguments[3],i=arguments[4],o=arguments[5],s=arguments[6],c=arguments[7],l=arguments[8]),"object"===(0,X.A)(t=arguments[0])&&!h(t)&&"imageData"in t){var u=t;t=u.imageData,e=u.format||e||n,r=u.x||r||0,A=u.y||A||0,i=u.w||u.width||i,o=u.h||u.height||o,s=u.alias||s,c=u.compression||c,l=u.rotation||u.angle||l}var d=this.internal.getFilters();if(void 0===c&&-1!==d.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(A))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var f=x.call(this,t,e,s,c);return g.call(this,r,A,i,o,f,l),this};var x=function(e,r,i,o){var s,a,c;if("string"==typeof e&&A(e)===n){e=unescape(e);var p=F(e,!1);(""!==p||void 0!==(p=t.loadFile(e,!0)))&&(e=p)}if(h(e)&&(e=d(e,r)),r=A(e,r),!u(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=i)||0===c.length)&&(i=function(t){return"string"==typeof t||B(t)?y(t):B(t.data)?y(t.data):null}(e)),(s=f.call(this,i))||(e instanceof Uint8Array||"RGBA"===r||(a=e,e=C(e)),s=this["process"+r.toUpperCase()](e,l.call(this),i,function(e){return e&&"string"==typeof e&&(e=e.toUpperCase()),e in t.image_compression?e:w.NONE}(o),a)),!s)throw new Error("An unknown error occurred whilst processing the image.");return s},F=t.__addimage__.convertBase64ToBinaryString=function(t,e){e="boolean"!=typeof e||e;var n,r="";if("string"==typeof t){var A;n=null!==(A=v(t))&&void 0!==A?A:t;try{r=RA(n)}catch(t){if(e)throw b(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+t.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};t.getImageProperties=function(e){var r,i,o="";if(h(e)&&(e=d(e)),"string"==typeof e&&A(e)===n&&(""===(o=F(e,!1))&&(o=t.loadFile(e)||""),e=o),i=A(e),!u(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(e instanceof Uint8Array||(e=C(e)),!(r=this["process"+i.toUpperCase()](e)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=i,r}}(hi.API),Zi=hi.API,$i=function(t){if(void 0!==t&&""!=t)return!0},hi.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),Zi.events.push(["putPage",function(t){for(var e,n,r,A=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(t.objId),s=t.pageContext.annotations,a=!1,c=0;c<s.length&&!a;c++)switch((e=s[c]).type){case"link":($i(e.options.url)||$i(e.options.pageNumber))&&(a=!0);break;case"reference":case"text":case"freetext":a=!0}if(0!=a){this.internal.write("/Annots [");for(var l=0;l<s.length;l++){e=s[l];var u=this.internal.pdfEscape,h=this.internal.getEncryptor(t.objId);switch(e.type){case"reference":this.internal.write(" "+e.object.objId+" 0 R ");break;case"text":var d=this.internal.newAdditionalObject(),f=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(d.objId),g=e.title||"Note";r="<</Type /Annot /Subtype /Text "+(n="/Rect ["+A(e.bounds.x)+" "+i(e.bounds.y+e.bounds.h)+" "+A(e.bounds.x+e.bounds.w)+" "+i(e.bounds.y)+"] ")+"/Contents ("+u(p(e.contents))+")",r+=" /Popup "+f.objId+" 0 R",r+=" /P "+o.objId+" 0 R",r+=" /T ("+u(p(g))+") >>",d.content=r;var m=d.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+A(e.bounds.x+30)+" "+i(e.bounds.y+e.bounds.h)+" "+A(e.bounds.x+e.bounds.w+30)+" "+i(e.bounds.y)+"] ")+" /Parent "+m,e.open&&(r+=" /Open true"),r+=" >>",f.content=r,this.internal.write(d.objId,"0 R",f.objId,"0 R");break;case"freetext":n="/Rect ["+A(e.bounds.x)+" "+i(e.bounds.y)+" "+A(e.bounds.x+e.bounds.w)+" "+i(e.bounds.y+e.bounds.h)+"] ";var w=e.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+u(h(e.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(e.options.name){var y=this.annotations._nameMap[e.options.name];e.options.pageNumber=y.page,e.options.top=y.y}else e.options.top||(e.options.top=0);if(n="/Rect ["+e.finalBounds.x+" "+e.finalBounds.y+" "+e.finalBounds.w+" "+e.finalBounds.h+"] ",r="",e.options.url)r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+u(h(e.options.url))+") >>";else if(e.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(e.options.pageNumber).objId+" 0 R",e.options.magFactor=e.options.magFactor||"XYZ",e.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+e.options.top+"]";break;case"FitV":e.options.left=e.options.left||0,r+=" /FitV "+e.options.left+"]";break;default:var b=i(e.options.top);e.options.left=e.options.left||0,void 0===e.options.zoom&&(e.options.zoom=0),r+=" /XYZ "+e.options.left+" "+b+" "+e.options.zoom+"]"}""!=r&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),Zi.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},Zi.link=function(t,e,n,r,A){var i=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;i.pageContext.annotations.push({finalBounds:{x:o(t),y:s(e),w:o(t+n),h:s(e+r)},options:A,type:"link"})},Zi.textWithLink=function(t,e,n,r){var A,i,o=this.getTextWidth(t),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){i=r.maxWidth;var a=this.splitTextToSize(t,i).length;A=Math.ceil(s*a)}else i=o,A=s;return this.text(t,e,n,r),n+=.2*s,"center"===r.align&&(e-=o/2),"right"===r.align&&(e-=o),this.link(e,n-s,i,A,r),o},Zi.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},A=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},o=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},s=t.__arabicParser__.isArabicEndLetter=function(t){return o(t)&&i(t)&&e[t.charCodeAt(0)].length<=2},a=t.__arabicParser__.isArabicAlfLetter=function(t){return o(t)&&A.indexOf(t.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return o(t)&&i(t)&&e[t.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(t){return o(t)&&i(t)&&e[t.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(t){return o(t)&&i(t)&&e[t.charCodeAt(0)].length>=3};var l=t.__arabicParser__.arabicLetterHasMedialForm=function(t){return o(t)&&i(t)&&4==e[t.charCodeAt(0)].length},u=t.__arabicParser__.resolveLigatures=function(t){var e=0,r=n,A="",i=0;for(e=0;e<t.length;e+=1)void 0!==r[t.charCodeAt(e)]?(i++,"number"==typeof(r=r[t.charCodeAt(e)])&&(A+=String.fromCharCode(r),r=n,i=0),e===t.length-1&&(r=n,A+=t.charAt(e-(i-1)),e-=i-1,i=0)):(r=n,A+=t.charAt(e-i),e-=i,i=0);return A};t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==r[t.charCodeAt(0)]};var h=t.__arabicParser__.getCorrectForm=function(t,e,n){return o(t)?!1===i(t)?-1:!c(t)||!o(e)&&!o(n)||!o(n)&&s(e)||s(t)&&!o(e)||s(t)&&a(e)||s(t)&&s(e)?0:l(t)&&o(e)&&!s(e)&&o(n)&&c(n)?3:s(t)||!o(n)?1:2:-1},d=function(t){var n=0,r=0,A=0,i="",s="",a="",c=(t=t||"").split("\\s+"),l=[];for(n=0;n<c.length;n+=1){for(l.push(""),r=0;r<c[n].length;r+=1)i=c[n][r],s=c[n][r-1],a=c[n][r+1],o(i)?(A=h(i,s,a),l[n]+=-1!==A?String.fromCharCode(e[i.charCodeAt(0)][A]):i):l[n]+=i;l[n]=u(l[n])}return l.join(" ")},f=t.__arabicParser__.processArabic=t.processArabic=function(){var t,e="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(e)){var r=0;for(n=[],r=0;r<e.length;r+=1)Array.isArray(e[r])?n.push([d(e[r][0]),e[r][1],e[r][2]]):n.push([d(e[r])]);t=n}else t=d(e);return"string"==typeof arguments[0]?t:(arguments[0].text=t,arguments[0])};t.events.push(["preProcessText",f])}(hi.API),hi.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform","javascript"===t.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(t){n=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(t){r=t}});var A={};Object.defineProperty(this,"style",{get:function(){return A},set:function(t){A=t}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,e){var n;if("2d"!==(t=t||"2d"))return null;for(n in e)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=e[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(hi.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),A.call(this))},A=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var t=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var e=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(t){n=t}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(t){r=t}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(t){A=t}});var i=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return i},set:function(t){i=t}});var o=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return o},set:function(t){o=t}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(t){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof t?t:void 0,this},t.getTextDimensions=function(t,e){r.call(this);var n=(e=e||{}).fontSize||this.getFontSize(),A=e.font||this.getFont(),i=e.scaleFactor||this.internal.scaleFactor,o=0,s=0,a=0,c=this;if(!Array.isArray(t)&&"string"!=typeof t){if("number"!=typeof t)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");t=String(t)}var l=e.maxWidth;l>0?"string"==typeof t?t=this.splitTextToSize(t,l):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(t,e){return t.concat(c.splitTextToSize(e,l))},[])):t=Array.isArray(t)?t:[t];for(var u=0;u<t.length;u++)o<(a=this.getStringUnitWidth(t[u],{font:A})*n)&&(o=a);return 0!==o&&(s=t.length),{w:o/=i,h:Math.max((s*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/i,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var t=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(t.left,t.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var t;t=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var A=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,s=this.internal.__cell__.margins||e,a=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==A.lineNumber&&(A.lineNumber===t.lineNumber?(t.x=(A.x||0)+(A.width||0),t.y=A.y||0):A.y+A.height+t.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),t.y=s.top,c&&a&&(this.printHeaderRow(t.lineNumber,!0),t.y+=a[0].height)):t.y=A.y+A.height||t.y),void 0!==t.text[0]&&(this.rect(t.x,t.y,t.width,t.height,!0===n?"FD":void 0),"right"===t.align?this.text(t.text,t.x+t.width-o,t.y+o,{align:"right",baseline:"top"}):"center"===t.align?this.text(t.text,t.x+t.width/2,t.y+o,{align:"center",baseline:"top",maxWidth:t.width-o-o}):this.text(t.text,t.x+o,t.y+o,{align:"left",baseline:"top",maxWidth:t.width-o-o})),this.internal.__cell__.lastCell=t,this};t.table=function(t,n,a,c,l){if(r.call(this),!a)throw new Error("No data for PDF table.");var u,h,d,f,p=[],g=[],m=[],w={},y={},b=[],v=[],B=(l=l||{}).autoSize||!1,C=!1!==l.printHeaders,_=l.css&&void 0!==l.css["font-size"]?16*l.css["font-size"]:l.fontSize||12,x=l.margins||Object.assign({width:this.getPageWidth()},e),F="number"==typeof l.padding?l.padding:3,S=l.headerBackgroundColor||"#c8c8c8",E=l.headerTextColor||"#000";if(A.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=_,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=S,this.internal.__cell__.headerTextColor=E,this.setFontSize(_),null==c)g=p=Object.keys(a[0]),m=p.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,X.A)(c[0]))for(p=c.map(function(t){return t.name}),g=c.map(function(t){return t.prompt||t.name||""}),m=c.map(function(t){return t.align||"left"}),u=0;u<c.length;u+=1)y[c[u].name]=.7499990551181103*c[u].width;else Array.isArray(c)&&"string"==typeof c[0]&&(g=p=c,m=p.map(function(){return"left"}));if(B||Array.isArray(c)&&"string"==typeof c[0])for(u=0;u<p.length;u+=1){for(w[f=p[u]]=a.map(function(t){return t[f]}),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(g[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=w[f],this.setFont(void 0,"normal"),d=0;d<h.length;d+=1)b.push(this.getTextDimensions(h[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[f]=Math.max.apply(null,b)+F+F,b=[]}if(C){var U={};for(u=0;u<p.length;u+=1)U[p[u]]={},U[p[u]].text=g[u],U[p[u]].align=m[u];var I=s.call(this,U,y);v=p.map(function(e){return new i(t,n,y[e],I,U[e].text,void 0,U[e].align)}),this.setTableHeaderRow(v),this.printHeaderRow(1,!1)}var Q=c.reduce(function(t,e){return t[e.name]=e.align,t},{});for(u=0;u<a.length;u+=1){"rowStart"in l&&l.rowStart instanceof Function&&l.rowStart({row:u,data:a[u]},this);var L=s.call(this,a[u],y);for(d=0;d<p.length;d+=1){var k=a[u][p[d]];"cellStart"in l&&l.cellStart instanceof Function&&l.cellStart({row:u,col:d,data:k},this),o.call(this,new i(t,n,y[p[d]],L,k,u+2,Q[p[d]]))}}return this.internal.__cell__.table_x=t,this.internal.__cell__.table_y=n,this};var s=function(t,e){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(t).map(function(r){var A=t[r];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,e[r]-n-n)},this).map(function(t){return this.getLineHeightFactor()*t.length*r/A+n+n},this).reduce(function(t,e){return Math.max(t,e)},0)};t.setTableHeaderRow=function(t){r.call(this),this.internal.__cell__.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var s=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(s[0],s[1],s[2],s[3],void 0,-1)}this.setFont(void 0,"bold");for(var a=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){A=this.internal.__cell__.tableHeaderRow[c].clone(),e&&(A.y=this.internal.__cell__.margins.top||0,a.push(A)),A.lineNumber=t;var l=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,A),this.setTextColor(l)}a.length>0&&this.setTableHeaderRow(a),this.setFont(void 0,"normal"),n=!1}}(hi.API);var no={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ro=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ao=eo(ro),io=[100,200,300,400,500,600,700,800,900],oo=eo(io);function so(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(t){return no[t=t||"normal"]?t:"normal"}(t.style),r=function(t){return t?"number"==typeof t?t>=100&&t<=900&&t%100==0?t:400:/^\d00$/.test(t)?parseInt(t):"bold"===t?700:400:400}(t.weight),A=function(t){return"number"==typeof Ao[t=t||"normal"]?t:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:A,src:t.src||[],ref:t.ref||{name:e,style:[A,n,r].join(" ")}}}function ao(t,e,n,r){var A;for(A=n;A>=0&&A<e.length;A+=r)if(t[e[A]])return t[e[A]];for(A=n;A>=0&&A<e.length;A-=r)if(t[e[A]])return t[e[A]]}var co={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lo={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function uo(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ho(t){return t.trimLeft()}function fo(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function po(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],t.substring(e[0].length)]}var go,mo,wo,yo,bo,vo,Bo,Co,_o=["times"];function xo(t,e,n,r,A){var i=4,o=Eo;switch(A){case hi.API.image_compression.FAST:i=1,o=So;break;case hi.API.image_compression.MEDIUM:i=6,o=Uo;break;case hi.API.image_compression.SLOW:i=9,o=Io}t=function(t,e,n,r){for(var A,i=t.length/e,o=new Uint8Array(t.length+i),s=[Fo,So,Eo,Uo,Io],a=0;a<i;a+=1){var c=a*e,l=t.subarray(c,c+e);if(r)o.set(r(l,n,A),c+a);else{for(var u=s.length,h=[],d=0;d<u;d+=1)h[d]=s[d](l,n,A);var f=Lo(h.concat());o.set(h[f],c+a)}A=l}return o}(t,e,Math.ceil(n*r/8),o);var s=It(t,{level:i});return hi.API.__addimage__.arrayBufferToBinaryString(s)}function Fo(t){var e=Array.apply([],t);return e.unshift(0),e}function So(t,e){var n=t.length,r=[];r[0]=1;for(var A=0;A<n;A+=1){var i=t[A-e]||0;r[A+1]=t[A]-i+256&255}return r}function Eo(t,e,n){var r=t.length,A=[];A[0]=2;for(var i=0;i<r;i+=1){var o=n&&n[i]||0;A[i+1]=t[i]-o+256&255}return A}function Uo(t,e,n){var r=t.length,A=[];A[0]=3;for(var i=0;i<r;i+=1){var o=t[i-e]||0,s=n&&n[i]||0;A[i+1]=t[i]+256-(o+s>>>1)&255}return A}function Io(t,e,n){var r=t.length,A=[];A[0]=4;for(var i=0;i<r;i+=1){var o=Qo(t[i-e]||0,n&&n[i]||0,n&&n[i-e]||0);A[i+1]=t[i]-o+256&255}return A}function Qo(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),A=Math.abs(t-n),i=Math.abs(t+e-n-n);return r<=A&&r<=i?t:A<=i?e:n}function Lo(t){var e=t.map(function(t){return t.reduce(function(t,e){return t+Math.abs(e)},0)});return e.indexOf(Math.min.apply(null,e))}function ko(t,e,n){var r=e*n,A=Math.floor(r/8),i=16-(r-8*A+n),o=(1<<n)-1;return Po(t,A)>>i&o}function Mo(t,e,n,r){var A=n*r,i=Math.floor(A/8),o=16-(A-8*i+r),s=(1<<r)-1,a=(e&s)<<o;!function(t,e,n){if(e+1<t.byteLength)t.setUint16(e,n,!1);else{var r=n>>8&255;t.setUint8(e,r)}}(t,i,Po(t,i)&~(s<<o)&65535|a)}function Po(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function To(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,A=t[e++],i=A>>7,o=1<<1+(7&A);t[e++],t[e++];var s=null,a=null;i&&(s=e,a=o,e+=3*o);var c=!0,l=[],u=0,h=null,d=0,f=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,f=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(0===S)break;e+=S}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var p=t[e++];u=t[e++]|t[e++]<<8,h=t[e++],1&p||(h=null),d=p>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(0===S)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++],v=b>>6&1,B=1<<1+(7&b),C=s,_=a,x=!1;b>>7&&(x=!0,C=e,_=B,e+=3*B);var F=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(0===S)break;e+=S}l.push({x:g,y:m,width:w,height:y,has_local_palette:x,palette_offset:C,palette_size:_,data_offset:F,data_length:e-F,transparent_index:h,interlaced:!!v,delay:u,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return f},this.frameInfo=function(t){if(t<0||t>=l.length)throw new Error("Frame index out of range.");return l[t]},this.decodeAndBlitFrameBGRA=function(e,r){var A=this.frameInfo(e),i=A.width*A.height,o=new Uint8Array(i);No(t,A.data_offset,o,i);var s=A.palette_offset,a=A.transparent_index;null===a&&(a=256);var c=A.width,l=n-c,u=c,h=4*(A.y*n+A.x),d=4*((A.y+A.height)*n+A.x),f=h,p=4*l;!0===A.interlaced&&(p+=4*n*7);for(var g=8,m=0,w=o.length;m<w;++m){var y=o[m];if(0===u&&(u=c,(f+=p)>=d&&(p=4*l+4*n*(g-1),f=h+(c+l)*(g<<1),g>>=1)),y===a)f+=4;else{var b=t[s+3*y],v=t[s+3*y+1],B=t[s+3*y+2];r[f++]=B,r[f++]=v,r[f++]=b,r[f++]=255}--u}},this.decodeAndBlitFrameRGBA=function(e,r){var A=this.frameInfo(e),i=A.width*A.height,o=new Uint8Array(i);No(t,A.data_offset,o,i);var s=A.palette_offset,a=A.transparent_index;null===a&&(a=256);var c=A.width,l=n-c,u=c,h=4*(A.y*n+A.x),d=4*((A.y+A.height)*n+A.x),f=h,p=4*l;!0===A.interlaced&&(p+=4*n*7);for(var g=8,m=0,w=o.length;m<w;++m){var y=o[m];if(0===u&&(u=c,(f+=p)>=d&&(p=4*l+4*n*(g-1),f=h+(c+l)*(g<<1),g>>=1)),y===a)f+=4;else{var b=t[s+3*y],v=t[s+3*y+1],B=t[s+3*y+2];r[f++]=b,r[f++]=v,r[f++]=B,r[f++]=255}--u}}}function No(t,e,n,r){for(var A=t[e++],i=1<<A,o=i+1,s=o+1,a=A+1,c=(1<<a)-1,l=0,u=0,h=0,d=t[e++],f=new Int32Array(4096),p=null;;){for(;l<16&&0!==d;)u|=t[e++]<<l,l+=8,1===d?d=t[e++]:--d;if(l<a)break;var g=u&c;if(u>>=a,l-=a,g!==i){if(g===o)break;for(var m=g<s?g:p,w=0,y=m;y>i;)y=f[y]>>8,++w;var b=y;if(h+w+(m!==g?1:0)>r)return void PA.log("Warning, gif stream longer than expected.");n[h++]=b;var v=h+=w;for(m!==g&&(n[h++]=b),y=m;w--;)y=f[y],n[--v]=255&y,y>>=8;null!==p&&s<4096&&(f[s++]=p<<8|b,s>=c+1&&a<12&&(++a,c=c<<1|1)),p=g}else s=o+1,c=(1<<(a=A+1))-1,p=null}return h!==r&&PA.log("Warning, gif stream shorter than expected."),n}function Do(t){var e,n,r,A,i,o=Math.floor,s=new Array(64),a=new Array(64),c=new Array(64),l=new Array(64),u=new Array(65535),h=new Array(65535),d=new Array(64),f=new Array(64),p=[],g=0,m=7,w=new Array(64),y=new Array(64),b=new Array(64),v=new Array(256),B=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],x=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function L(t,e){for(var n=0,r=0,A=new Array,i=1;i<=16;i++){for(var o=1;o<=t[i];o++)A[e[r]]=[],A[e[r]][0]=n,A[e[r]][1]=i,r++,n++;n*=2}return A}function k(t){for(var e=t[0],n=t[1]-1;n>=0;)e&1<<n&&(g|=1<<m),n--,--m<0&&(255==g?(M(255),M(0)):M(g),m=7,g=0)}function M(t){p.push(t)}function P(t){M(t>>8&255),M(255&t)}function T(t,e,n,r,A){for(var i,o=A[0],s=A[240],a=function(t,e){var n,r,A,i,o,s,a,c,l,u,h=0;for(l=0;l<8;++l){n=t[h],r=t[h+1],A=t[h+2],i=t[h+3],o=t[h+4],s=t[h+5],a=t[h+6];var f=n+(c=t[h+7]),p=n-c,g=r+a,m=r-a,w=A+s,y=A-s,b=i+o,v=i-o,B=f+b,C=f-b,_=g+w,x=g-w;t[h]=B+_,t[h+4]=B-_;var F=.707106781*(x+C);t[h+2]=C+F,t[h+6]=C-F;var S=.382683433*((B=v+y)-(x=m+p)),E=.5411961*B+S,U=1.306562965*x+S,I=.707106781*(_=y+m),Q=p+I,L=p-I;t[h+5]=L+E,t[h+3]=L-E,t[h+1]=Q+U,t[h+7]=Q-U,h+=8}for(h=0,l=0;l<8;++l){n=t[h],r=t[h+8],A=t[h+16],i=t[h+24],o=t[h+32],s=t[h+40],a=t[h+48];var k=n+(c=t[h+56]),M=n-c,P=r+a,T=r-a,N=A+s,D=A-s,O=i+o,H=i-o,R=k+O,j=k-O,K=P+N,q=P-N;t[h]=R+K,t[h+32]=R-K;var G=.707106781*(q+j);t[h+16]=j+G,t[h+48]=j-G;var W=.382683433*((R=H+D)-(q=T+M)),V=.5411961*R+W,z=1.306562965*q+W,X=.707106781*(K=D+T),J=M+X,Y=M-X;t[h+40]=Y+V,t[h+24]=Y-V,t[h+8]=J+z,t[h+56]=J-z,h++}for(l=0;l<64;++l)u=t[l]*e[l],d[l]=u>0?u+.5|0:u-.5|0;return d}(t,e),c=0;c<64;++c)f[C[c]]=a[c];var l=f[0]-n;n=f[0],0==l?k(r[0]):(k(r[h[i=32767+l]]),k(u[i]));for(var p=63;p>0&&0==f[p];)p--;if(0==p)return k(o),n;for(var g,m=1;m<=p;){for(var w=m;0==f[m]&&m<=p;)++m;var y=m-w;if(y>=16){g=y>>4;for(var b=1;b<=g;++b)k(s);y&=15}i=32767+f[m],k(A[(y<<4)+h[i]]),k(u[i]),m++}return 63!=p&&k(o),n}function N(t){t=Math.min(Math.max(t,1),100),i!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=o((e[n]*t+50)/100);r=Math.min(Math.max(r,1),255),s[C[n]]=r}for(var A=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var u=o((A[i]*t+50)/100);u=Math.min(Math.max(u,1),255),a[C[i]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,f=0;f<8;f++)for(var p=0;p<8;p++)c[d]=1/(s[C[d]]*h[f]*h[p]*8),l[d]=1/(a[C[d]]*h[f]*h[p]*8),d++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),i=t)}this.encode=function(t,i){i&&N(i),p=new Array,g=0,m=7,P(65496),P(65504),P(16),M(74),M(70),M(73),M(70),M(0),M(1),M(1),M(0),P(1),P(1),M(0),M(0),function(){P(65499),P(132),M(0);for(var t=0;t<64;t++)M(s[t]);M(1);for(var e=0;e<64;e++)M(a[e])}(),function(t,e){P(65472),P(17),M(8),P(e),P(t),M(3),M(1),M(17),M(0),M(2),M(17),M(1),M(3),M(17),M(1)}(t.width,t.height),function(){P(65476),P(418),M(0);for(var t=0;t<16;t++)M(_[t+1]);for(var e=0;e<=11;e++)M(x[e]);M(16);for(var n=0;n<16;n++)M(F[n+1]);for(var r=0;r<=161;r++)M(S[r]);M(1);for(var A=0;A<16;A++)M(E[A+1]);for(var i=0;i<=11;i++)M(U[i]);M(17);for(var o=0;o<16;o++)M(I[o+1]);for(var s=0;s<=161;s++)M(Q[s])}(),P(65498),P(12),M(3),M(1),M(0),M(2),M(17),M(3),M(17),M(0),M(63),M(0);var o=0,u=0,h=0;g=0,m=7,this.encode.displayName="_encode_";for(var d,f,v,C,L,D,O,H,R,j=t.data,K=t.width,q=t.height,G=4*K,W=0;W<q;){for(d=0;d<G;){for(L=G*W+d,O=-1,H=0,R=0;R<64;R++)D=L+(H=R>>3)*G+(O=4*(7&R)),W+H>=q&&(D-=G*(W+1+H-q)),d+O>=G&&(D-=d+O-G+4),f=j[D++],v=j[D++],C=j[D++],w[R]=(B[f]+B[v+256|0]+B[C+512|0]>>16)-128,y[R]=(B[f+768|0]+B[v+1024|0]+B[C+1280|0]>>16)-128,b[R]=(B[f+1280|0]+B[v+1536|0]+B[C+1792|0]>>16)-128;o=T(w,c,o,e,r),u=T(y,l,u,n,A),h=T(b,l,h,n,A),d+=32}W+=8}if(m>=0){var V=[];V[1]=m+1,V[0]=(1<<m+1)-1,k(V)}return P(65497),new Uint8Array(p)},t=t||50,function(){for(var t=String.fromCharCode,e=0;e<256;e++)v[e]=t(e)}(),e=L(_,x),n=L(E,U),r=L(F,S),A=L(I,Q),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var r=t;r<e;r++)h[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var A=-(e-1);A<=-t;A++)h[32767+A]=n,u[32767+A]=[],u[32767+A][1]=n,u[32767+A][0]=e-1+A;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)B[t]=19595*t,B[t+256|0]=38470*t,B[t+512|0]=7471*t+32768,B[t+768|0]=-11059*t,B[t+1024|0]=-21709*t,B[t+1280|0]=32768*t+8421375,B[t+1536|0]=-27439*t,B[t+1792|0]=-5329*t}(),N(t)}function Oo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ho(t){function e(t){if(!t)throw Error("assert :P")}function n(t,e,n){for(var r=0;4>r;r++)if(t[e+r]!=n.charCodeAt(r))return!0;return!1}function r(t,e,n,r,A){for(var i=0;i<A;i++)t[e+i]=n[r+i]}function A(t,e,n,r){for(var A=0;A<r;A++)t[e+A]=n}function i(t){return new Int32Array(t)}function o(t,e){for(var n=[],r=0;r<t;r++)n.push(new e);return n}function s(t,e){var n=[];return function t(n,r,A){for(var i=A[r],o=0;o<i&&(n.push(A.length>r+1?[]:new e),!(A.length<r+1));o++)t(n[o],r+1,A)}(n,0,t),n}var a=function(){var t=this;function a(t,e){for(var n=1<<e-1>>>0;t&n;)n>>>=1;return n?(t&n-1)+n:t}function c(t,n,r,A,i){e(!(A%r));do{t[n+(A-=r)]=i}while(0<A)}function l(t,n,r,A,o){if(e(2328>=o),512>=o)var s=i(512);else if(null==(s=i(o)))return 0;return function(t,n,r,A,o,s){var l,h,d=n,f=1<<r,p=i(16),g=i(16);for(e(0!=o),e(null!=A),e(null!=t),e(0<r),h=0;h<o;++h){if(15<A[h])return 0;++p[A[h]]}if(p[0]==o)return 0;for(g[1]=0,l=1;15>l;++l){if(p[l]>1<<l)return 0;g[l+1]=g[l]+p[l]}for(h=0;h<o;++h)l=A[h],0<A[h]&&(s[g[l]++]=h);if(1==g[15])return(A=new u).g=0,A.value=s[0],c(t,d,1,f,A),f;var m,w=-1,y=f-1,b=0,v=1,B=1,C=1<<r;for(h=0,l=1,o=2;l<=r;++l,o<<=1){if(v+=B<<=1,0>(B-=p[l]))return 0;for(;0<p[l];--p[l])(A=new u).g=l,A.value=s[h++],c(t,d+b,o,C,A),b=a(b,l)}for(l=r+1,o=2;15>=l;++l,o<<=1){if(v+=B<<=1,0>(B-=p[l]))return 0;for(;0<p[l];--p[l]){if(A=new u,(b&y)!=w){for(d+=C,m=1<<(w=l)-r;15>w&&!(0>=(m-=p[w]));)++w,m<<=1;f+=C=1<<(m=w-r),t[n+(w=b&y)].g=m+r,t[n+w].value=d-n-w}A.g=l-r,A.value=s[h++],c(t,d+(b>>r),o,C,A),b=a(b,l)}}return v!=2*g[15]-1?0:f}(t,n,r,A,o,s)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function d(){this.G=o(5,u),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Dn,h)}function f(t,n,r,A){e(null!=t),e(null!=n),e(2147483648>A),t.Ca=254,t.I=0,t.b=-8,t.Ka=0,t.oa=n,t.pa=r,t.Jd=n,t.Yc=r+A,t.Zc=4<=A?r+A-4+1:r,F(t)}function p(t,e){for(var n=0;0<e--;)n|=E(t,128)<<e;return n}function g(t,e){var n=p(t,e);return S(t)?-n:n}function m(t,n,r,A){var i,o=0;for(e(null!=t),e(null!=n),e(4294967288>A),t.Sb=A,t.Ra=0,t.u=0,t.h=0,4<A&&(A=4),i=0;i<A;++i)o+=n[r+i]<<8*i;t.Ra=o,t.bb=A,t.oa=n,t.pa=r}function w(t){for(;8<=t.u&&t.bb<t.Sb;)t.Ra>>>=8,t.Ra+=t.oa[t.pa+t.bb]<<Rn-8>>>0,++t.bb,t.u-=8;C(t)&&(t.h=1,t.u=0)}function y(t,n){if(e(0<=n),!t.h&&n<=Hn){var r=B(t)&On[n];return t.u+=n,w(t),r}return t.h=1,t.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function v(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(t){return t.Ra>>>(t.u&Rn-1)>>>0}function C(t){return e(t.bb<=t.Sb),t.h||t.bb==t.Sb&&t.u>Rn}function _(t,e){t.u=e,t.h=C(t)}function x(t){t.u>=jn&&(e(t.u>=jn),w(t))}function F(t){e(null!=t&&null!=t.oa),t.pa<t.Zc?(t.I=(t.oa[t.pa++]|t.I<<8)>>>0,t.b+=8):(e(null!=t&&null!=t.oa),t.pa<t.Yc?(t.b+=8,t.I=t.oa[t.pa++]|t.I<<8):t.Ka?t.b=0:(t.I<<=8,t.b+=8,t.Ka=1))}function S(t){return p(t,1)}function E(t,e){var n=t.Ca;0>t.b&&F(t);var r=t.b,A=n*e>>>8,i=(t.I>>>r>A)+0;for(i?(n-=A,t.I-=A+1<<r>>>0):n=A+1,r=n,A=0;256<=r;)A+=8,r>>=8;return r=7^A+Kn[r],t.b-=r,t.Ca=(n<<r)-1,i}function U(t,e,n){t[e+0]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n}function I(t,e){return t[e+0]|t[e+1]<<8}function Q(t,e){return I(t,e)|t[e+2]<<16}function L(t,e){return I(t,e)|I(t,e+2)<<16}function k(t,n){var r=1<<n;return e(null!=t),e(0<n),t.X=i(r),null==t.X?0:(t.Mb=32-n,t.Xa=n,1)}function M(t,n){e(null!=t),e(null!=n),e(t.Xa==n.Xa),r(n.X,0,t.X,0,1<<n.Xa)}function P(){this.X=[],this.Xa=this.Mb=0}function T(t,n,r,A){e(null!=r),e(null!=A);var i=r[0],o=A[0];return 0==i&&(i=(t*o+n/2)/n),0==o&&(o=(n*i+t/2)/t),0>=i||0>=o?0:(r[0]=i,A[0]=o,1)}function N(t,e){return t+(1<<e)-1>>>e}function D(t,e){return((4278255360&t)+(4278255360&e)>>>0&4278255360)+((16711935&t)+(16711935&e)>>>0&16711935)>>>0}function O(e,n){t[n]=function(n,r,A,i,o,s,a){var c;for(c=0;c<o;++c){var l=t[e](s[a+c-1],A,i+c);s[a+c]=D(n[r+c],l)}}}function H(){this.ud=this.hd=this.jd=0}function R(t,e){return((4278124286&(t^e))>>>1)+(t&e)>>>0}function j(t){return 0<=t&&256>t?t:0>t?0:255<t?255:void 0}function K(t,e){return j(t+(t-e+.5>>1))}function q(t,e,n){return Math.abs(e-n)-Math.abs(t-n)}function G(t,e,n,r,A,i,o){for(r=i[o-1],n=0;n<A;++n)i[o+n]=r=D(t[e+n],r)}function W(t,e,n,r,A){var i;for(i=0;i<n;++i){var o=t[e+i],s=o>>8&255,a=16711935&(a=(a=16711935&o)+((s<<16)+s));r[A+i]=(4278255360&o)+a>>>0}}function V(t,e){e.jd=255&t,e.hd=t>>8&255,e.ud=t>>16&255}function z(t,e,n,r,A,i){var o;for(o=0;o<r;++o){var s=e[n+o],a=s>>>8,c=s,l=255&(l=(l=s>>>16)+((t.jd<<24>>24)*(a<<24>>24)>>>5));c=255&(c=(c+=(t.hd<<24>>24)*(a<<24>>24)>>>5)+((t.ud<<24>>24)*(l<<24>>24)>>>5)),A[i+o]=(4278255360&s)+(l<<16)+c}}function X(e,n,r,A,i){t[n]=function(t,e,n,r,o,s,a,c,l){for(r=a;r<c;++r)for(a=0;a<l;++a)o[s++]=i(n[A(t[e++])])},t[e]=function(e,n,o,s,a,c,l){var u=8>>e.b,h=e.Ea,d=e.K[0],f=e.w;if(8>u)for(e=(1<<e.b)-1,f=(1<<u)-1;n<o;++n){var p,g=0;for(p=0;p<h;++p)p&e||(g=A(s[a++])),c[l++]=i(d[g&f]),g>>=u}else t["VP8LMapColor"+r](s,a,d,f,c,l,n,o,h)}}function J(t,e,n,r,A){for(n=e+n;e<n;){var i=t[e++];r[A++]=i>>16&255,r[A++]=i>>8&255,r[A++]=255&i}}function Y(t,e,n,r,A){for(n=e+n;e<n;){var i=t[e++];r[A++]=i>>16&255,r[A++]=i>>8&255,r[A++]=255&i,r[A++]=i>>24&255}}function Z(t,e,n,r,A){for(n=e+n;e<n;){var i=(o=t[e++])>>16&240|o>>12&15,o=240&o|o>>28&15;r[A++]=i,r[A++]=o}}function $(t,e,n,r,A){for(n=e+n;e<n;){var i=(o=t[e++])>>16&248|o>>13&7,o=o>>5&224|o>>3&31;r[A++]=i,r[A++]=o}}function tt(t,e,n,r,A){for(n=e+n;e<n;){var i=t[e++];r[A++]=255&i,r[A++]=i>>8&255,r[A++]=i>>16&255}}function et(t,e,n,A,i,o){if(0==o)for(n=e+n;e<n;)U(A,((o=t[e++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),i+=32;else r(A,i,t,e,n)}function nt(e,n){t[n][0]=t[e+"0"],t[n][1]=t[e+"1"],t[n][2]=t[e+"2"],t[n][3]=t[e+"3"],t[n][4]=t[e+"4"],t[n][5]=t[e+"5"],t[n][6]=t[e+"6"],t[n][7]=t[e+"7"],t[n][8]=t[e+"8"],t[n][9]=t[e+"9"],t[n][10]=t[e+"10"],t[n][11]=t[e+"11"],t[n][12]=t[e+"12"],t[n][13]=t[e+"13"],t[n][14]=t[e+"0"],t[n][15]=t[e+"0"]}function rt(t){return t==jr||t==Kr||t==qr||t==Gr}function At(){this.eb=[],this.size=this.A=this.fb=0}function it(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ot(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new At,this.f.kb=new it,this.sd=null}function st(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function at(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(t){return alert("todo:WebPSamplerProcessPlane"),t.T}function lt(t,e){var n=t.T,A=e.ba.f.RGBA,i=A.eb,o=A.fb+t.ka*A.A,s=gA[e.ba.S],a=t.y,c=t.O,l=t.f,u=t.N,h=t.ea,d=t.W,f=e.cc,p=e.dc,g=e.Mc,m=e.Nc,w=t.ka,y=t.ka+t.T,b=t.U,v=b+1>>1;for(0==w?s(a,c,null,null,l,u,h,d,l,u,h,d,i,o,null,null,b):(s(e.ec,e.fc,a,c,f,p,g,m,l,u,h,d,i,o-A.A,i,o,b),++n);w+2<y;w+=2)f=l,p=u,g=h,m=d,u+=t.Rc,d+=t.Rc,o+=2*A.A,s(a,(c+=2*t.fa)-t.fa,a,c,f,p,g,m,l,u,h,d,i,o-A.A,i,o,b);return c+=t.fa,t.j+y<t.o?(r(e.ec,e.fc,a,c,b),r(e.cc,e.dc,l,u,v),r(e.Mc,e.Nc,h,d,v),n--):1&y||s(a,c,null,null,l,u,h,d,l,u,h,d,i,o+A.A,null,null,b),n}function ut(t,n,r){var A=t.F,i=[t.J];if(null!=A){var o=t.U,s=n.ba.S,a=s==Or||s==qr;n=n.ba.f.RGBA;var c=[0],l=t.ka;c[0]=t.T,t.Kb&&(0==l?--c[0]:(--l,i[0]-=t.width),t.j+t.ka+t.T==t.o&&(c[0]=t.o-t.j-l));var u=n.eb;l=n.fb+l*n.A,t=_r(A,i[0],t.width,o,c,u,l+(a?0:3),n.A),e(r==c),t&&rt(s)&&Br(u,l,a,o,c,n.A)}return 0}function ht(t){var e=t.ma,n=e.ba.S,r=11>n,A=n==Tr||n==Dr||n==Or||n==Hr||12==n||rt(n);if(e.memory=null,e.Ib=null,e.Jb=null,e.Nd=null,!Pn(e.Oa,t,A?11:12))return 0;if(A&&rt(n)&&wn(),t.da)alert("todo:use_scaling");else{if(r){if(e.Ib=ct,t.Kb){if(n=t.U+1>>1,e.memory=i(t.U+2*n),null==e.memory)return 0;e.ec=e.memory,e.fc=0,e.cc=e.ec,e.dc=e.fc+t.U,e.Mc=e.cc,e.Nc=e.dc+n,e.Ib=lt,wn()}}else alert("todo:EmitYUV");A&&(e.Jb=ut,r&&gn())}if(r&&!IA){for(t=0;256>t;++t)QA[t]=89858*(t-128)+xA>>_A,MA[t]=-22014*(t-128)+xA,kA[t]=-45773*(t-128),LA[t]=113618*(t-128)+xA>>_A;for(t=FA;t<SA;++t)e=76283*(t-16)+xA>>_A,PA[t-FA]=Gt(e,255),TA[t-FA]=Gt(e+8>>4,15);IA=1}return 1}function dt(t){var n=t.ma,r=t.U,A=t.T;return e(!(1&t.ka)),0>=r||0>=A?0:(r=n.Ib(t,n),null!=n.Jb&&n.Jb(t,n,r),n.Dc+=r,1)}function ft(t){t.ma.memory=null}function pt(t,e,n,r){return 47!=y(t,8)?0:(e[0]=y(t,14)+1,n[0]=y(t,14)+1,r[0]=y(t,1),0!=y(t,3)?0:!t.h)}function gt(t,e){if(4>t)return t+1;var n=t-2>>1;return(2+(1&t)<<n)+y(e,n)+1}function mt(t,e){return 120<e?e-120:1<=(n=((n=Yr[e-1])>>4)*t+(8-(15&n)))?n:1;var n}function wt(t,e,n){var r=B(n),A=t[e+=255&r].g-8;return 0<A&&(_(n,n.u+8),r=B(n),e+=t[e].value,e+=r&(1<<A)-1),_(n,n.u+t[e].g),t[e].value}function yt(t,n,r){return r.g+=t.g,r.value+=t.value<<n>>>0,e(8>=r.g),t.g}function bt(t,n,r){var A=t.xc;return e((n=0==A?0:t.vc[t.md*(r>>A)+(n>>A)])<t.Wb),t.Ya[n]}function vt(t,n,A,i){var o=t.ab,s=t.c*n,a=t.C;n=a+n;var c=A,l=i;for(i=t.Ta,A=t.Ua;0<o--;){var u=t.gc[o],h=a,d=n,f=c,p=l,g=(l=i,c=A,u.Ea);switch(e(h<d),e(d<=u.nc),u.hc){case 2:Wn(f,p,(d-h)*g,l,c);break;case 0:var m=h,w=d,y=l,b=c,v=(F=u).Ea;0==m&&(qn(f,p,null,null,1,y,b),G(f,p+1,0,0,v-1,y,b+1),p+=v,b+=v,++m);for(var B=1<<F.b,C=B-1,_=N(v,F.b),x=F.K,F=F.w+(m>>F.b)*_;m<w;){var S=x,E=F,U=1;for(Gn(f,p,y,b-v,1,y,b);U<v;){var I=(U&~C)+B;I>v&&(I=v),(0,Yn[S[E++]>>8&15])(f,p+ +U,y,b+U-v,I-U,y,b+U),U=I}p+=v,b+=v,++m&C||(F+=_)}d!=u.nc&&r(l,c-g,l,c+(d-h-1)*g,g);break;case 1:for(g=f,w=p,v=(f=u.Ea)-(b=f&~(y=(p=1<<u.b)-1)),m=N(f,u.b),B=u.K,u=u.w+(h>>u.b)*m;h<d;){for(C=B,_=u,x=new H,F=w+b,S=w+f;w<F;)V(C[_++],x),Zn(x,g,w,p,l,c),w+=p,c+=p;w<S&&(V(C[_++],x),Zn(x,g,w,v,l,c),w+=v,c+=v),++h&y||(u+=m)}break;case 3:if(f==l&&p==c&&0<u.b){for(w=l,f=g=c+(d-h)*g-(b=(d-h)*N(u.Ea,u.b)),p=l,y=c,m=[],b=(v=b)-1;0<=b;--b)m[b]=p[y+b];for(b=v-1;0<=b;--b)w[f+b]=m[b];Vn(u,h,d,l,g,l,c)}else Vn(u,h,d,f,p,l,c)}c=i,l=A}l!=A&&r(i,A,c,l,s)}function Bt(t,n){var r=t.V,A=t.Ba+t.c*t.C,i=n-t.C;if(e(n<=t.l.o),e(16>=i),0<i){var o=t.l,s=t.Ta,a=t.Ua,c=o.width;if(vt(t,i,r,A),i=a=[a],e((r=t.C)<(A=n)),e(o.v<o.va),A>o.o&&(A=o.o),r<o.j){var l=o.j-r;r=o.j,i[0]+=l*c}if(r>=A?r=0:(i[0]+=4*o.v,o.ka=r-o.j,o.U=o.va-o.v,o.T=A-r,r=1),r){if(a=a[0],11>(r=t.ca).S){var u=r.f.RGBA,h=(A=r.S,i=o.U,o=o.T,l=u.eb,u.A),d=o;for(u=u.fb+t.Ma*u.A;0<d--;){var f=s,p=a,g=i,m=l,w=u;switch(A){case Pr:$n(f,p,g,m,w);break;case Tr:tr(f,p,g,m,w);break;case jr:tr(f,p,g,m,w),Br(m,w,0,g,1,0);break;case Nr:rr(f,p,g,m,w);break;case Dr:et(f,p,g,m,w,1);break;case Kr:et(f,p,g,m,w,1),Br(m,w,0,g,1,0);break;case Or:et(f,p,g,m,w,0);break;case qr:et(f,p,g,m,w,0),Br(m,w,1,g,1,0);break;case Hr:er(f,p,g,m,w);break;case Gr:er(f,p,g,m,w),Cr(m,w,g,1,0);break;case Rr:nr(f,p,g,m,w);break;default:e(0)}a+=c,u+=h}t.Ma+=o}else alert("todo:EmitRescaledRowsYUVA");e(t.Ma<=r.height)}}t.C=n,e(t.C<=t.i)}function Ct(t){var e;if(0<t.ua)return 0;for(e=0;e<t.Wb;++e){var n=t.Ya[e].G,r=t.Ya[e].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function _t(t,n,r,A,i,o){if(0!=t.Z){var s=t.qd,a=t.rd;for(e(null!=pA[t.Z]);n<r;++n)pA[t.Z](s,a,A,i,A,i,o),s=A,a=i,i+=o;t.qd=s,t.rd=a}}function xt(t,n){var r=t.l.ma,A=0==r.Z||1==r.Z?t.l.j:t.C;if(A=t.C<A?A:t.C,e(n<=t.l.o),n>A){var i=t.l.width,o=r.ca,s=r.tb+i*A,a=t.V,c=t.Ba+t.c*A,l=t.gc;e(1==t.ab),e(3==l[0].hc),Xn(l[0],A,n,a,c,o,s),_t(r,A,n,o,s,i)}t.C=t.Ma=n}function Ft(t,n,r,A,i,o,s){var a=t.$/A,c=t.$%A,l=t.m,u=t.s,h=r+t.$,d=h;i=r+A*i;var f=r+A*o,p=280+u.ua,g=t.Pb?a:16777216,m=0<u.ua?u.Wa:null,w=u.wc,y=h<f?bt(u,c,a):null;e(t.C<o),e(f<=i);var b=!1;t:for(;;){for(;b||h<f;){var v=0;if(a>=g){var F=h-r;e((g=t).Pb),g.wd=g.m,g.xd=F,0<g.s.ua&&M(g.s.Wa,g.s.vb),g=a+$r}if(c&w||(y=bt(u,c,a)),e(null!=y),y.Qb&&(n[h]=y.qb,b=!0),!b)if(x(l),y.jc){v=l,F=n;var S=h,E=y.pd[B(v)&Dn-1];e(y.jc),256>E.g?(_(v,v.u+E.g),F[S]=E.value,v=0):(_(v,v.u+E.g-256),e(256<=E.value),v=E.value),0==v&&(b=!0)}else v=wt(y.G[0],y.H[0],l);if(l.h)break;if(b||256>v){if(!b)if(y.nd)n[h]=(y.qb|v<<8)>>>0;else{if(x(l),b=wt(y.G[1],y.H[1],l),x(l),F=wt(y.G[2],y.H[2],l),S=wt(y.G[3],y.H[3],l),l.h)break;n[h]=(S<<24|b<<16|v<<8|F)>>>0}if(b=!1,++h,++c>=A&&(c=0,++a,null!=s&&a<=o&&!(a%16)&&s(t,a),null!=m))for(;d<h;)v=n[d++],m.X[(506832829*v&4294967295)>>>m.Mb]=v}else if(280>v){if(v=gt(v-256,l),F=wt(y.G[4],y.H[4],l),x(l),F=mt(A,F=gt(F,l)),l.h)break;if(h-r<F||i-h<v)break t;for(S=0;S<v;++S)n[h+S]=n[h+S-F];for(h+=v,c+=v;c>=A;)c-=A,++a,null!=s&&a<=o&&!(a%16)&&s(t,a);if(e(h<=i),c&w&&(y=bt(u,c,a)),null!=m)for(;d<h;)v=n[d++],m.X[(506832829*v&4294967295)>>>m.Mb]=v}else{if(!(v<p))break t;for(b=v-280,e(null!=m);d<h;)v=n[d++],m.X[(506832829*v&4294967295)>>>m.Mb]=v;v=h,e(!(b>>>(F=m).Xa)),n[v]=F.X[b],b=!0}b||e(l.h==C(l))}if(t.Pb&&l.h&&h<i)e(t.m.h),t.a=5,t.m=t.wd,t.$=t.xd,0<t.s.ua&&M(t.s.vb,t.s.Wa);else{if(l.h)break t;null!=s&&s(t,a>o?o:a),t.a=0,t.$=h-r}return 1}return t.a=3,0}function St(t){e(null!=t),t.vc=null,t.yc=null,t.Ya=null;var n=t.Wa;null!=n&&(n.X=null),t.vb=null,e(null!=t)}function Et(){var e=new on;return null==e?null:(e.a=0,e.xb=fA,nt("Predictor","VP8LPredictors"),nt("Predictor","VP8LPredictors_C"),nt("PredictorAdd","VP8LPredictorsAdd"),nt("PredictorAdd","VP8LPredictorsAdd_C"),Wn=W,Zn=z,$n=J,tr=Y,er=Z,nr=$,rr=tt,t.VP8LMapColor32b=zn,t.VP8LMapColor8b=Jn,e)}function Ut(t,n,r,s,a){var c=1,h=[t],f=[n],p=s.m,g=s.s,m=null,w=0;t:for(;;){if(r)for(;c&&y(p,1);){var b=h,v=f,C=s,F=1,S=C.m,E=C.gc[C.ab],U=y(S,2);if(C.Oc&1<<U)c=0;else{switch(C.Oc|=1<<U,E.hc=U,E.Ea=b[0],E.nc=v[0],E.K=[null],++C.ab,e(4>=C.ab),U){case 0:case 1:E.b=y(S,3)+2,F=Ut(N(E.Ea,E.b),N(E.nc,E.b),0,C,E.K),E.K=E.K[0];break;case 3:var I,Q=y(S,8)+1,L=16<Q?0:4<Q?1:2<Q?2:3;if(b[0]=N(E.Ea,L),E.b=L,I=F=Ut(Q,1,0,C,E.K)){var M,P=Q,T=E,O=1<<(8>>T.b),H=i(O);if(null==H)I=0;else{var R=T.K[0],j=T.w;for(H[0]=T.K[0][0],M=1;M<1*P;++M)H[M]=D(R[j+M],H[M-1]);for(;M<4*O;++M)H[M]=0;T.K[0]=null,T.K[0]=H,I=1}}F=I;break;case 2:break;default:e(0)}c=F}}if(h=h[0],f=f[0],c&&y(p,1)&&!(c=1<=(w=y(p,4))&&11>=w)){s.a=3;break t}var K;if(K=c)e:{var q,G,W,V=s,z=h,X=f,J=w,Y=r,Z=V.m,$=V.s,tt=[null],et=1,nt=0,rt=Zr[J];n:for(;;){if(Y&&y(Z,1)){var At=y(Z,3)+2,it=N(z,At),ot=N(X,At),st=it*ot;if(!Ut(it,ot,0,V,tt))break n;for(tt=tt[0],$.xc=At,q=0;q<st;++q){var at=tt[q]>>8&65535;tt[q]=at,at>=et&&(et=at+1)}}if(Z.h)break n;for(G=0;5>G;++G){var ct=zr[G];!G&&0<J&&(ct+=1<<J),nt<ct&&(nt=ct)}var lt=o(et*rt,u),ut=et,ht=o(ut,d);if(null==ht)var dt=null;else e(65536>=ut),dt=ht;var ft=i(nt);if(null==dt||null==ft||null==lt){V.a=1;break n}var pt=lt;for(q=W=0;q<et;++q){var gt=dt[q],mt=gt.G,wt=gt.H,bt=0,vt=1,Bt=0;for(G=0;5>G;++G){ct=zr[G],mt[G]=pt,wt[G]=W,!G&&0<J&&(ct+=1<<J);r:{var Ct,_t=ct,xt=V,Et=ft,It=pt,Qt=W,Lt=0,kt=xt.m,Mt=y(kt,1);if(A(Et,0,0,_t),Mt){var Pt=y(kt,1)+1,Tt=y(kt,1),Nt=y(kt,0==Tt?1:8);Et[Nt]=1,2==Pt&&(Et[Nt=y(kt,8)]=1);var Dt=1}else{var Ot=i(19),Ht=y(kt,4)+4;if(19<Ht){xt.a=3;var Rt=0;break r}for(Ct=0;Ct<Ht;++Ct)Ot[Jr[Ct]]=y(kt,3);var jt=void 0,Kt=void 0,qt=xt,Gt=Ot,Wt=_t,Vt=Et,zt=0,Xt=qt.m,Jt=8,Yt=o(128,u);A:for(;l(Yt,0,7,Gt,19);){if(y(Xt,1)){var Zt=2+2*y(Xt,3);if((jt=2+y(Xt,Zt))>Wt)break A}else jt=Wt;for(Kt=0;Kt<Wt&&jt--;){x(Xt);var $t=Yt[0+(127&B(Xt))];_(Xt,Xt.u+$t.g);var te=$t.value;if(16>te)Vt[Kt++]=te,0!=te&&(Jt=te);else{var ee=16==te,ne=te-16,re=Vr[ne],Ae=y(Xt,Wr[ne])+re;if(Kt+Ae>Wt)break A;for(var ie=ee?Jt:0;0<Ae--;)Vt[Kt++]=ie}}zt=1;break A}zt||(qt.a=3),Dt=zt}(Dt=Dt&&!kt.h)&&(Lt=l(It,Qt,8,Et,_t)),Dt&&0!=Lt?Rt=Lt:(xt.a=3,Rt=0)}if(0==Rt)break n;if(vt&&1==Xr[G]&&(vt=0==pt[W].g),bt+=pt[W].g,W+=Rt,3>=G){var oe,se=ft[0];for(oe=1;oe<ct;++oe)ft[oe]>se&&(se=ft[oe]);Bt+=se}}if(gt.nd=vt,gt.Qb=0,vt&&(gt.qb=(mt[3][wt[3]+0].value<<24|mt[1][wt[1]+0].value<<16|mt[2][wt[2]+0].value)>>>0,0==bt&&256>mt[0][wt[0]+0].value&&(gt.Qb=1,gt.qb+=mt[0][wt[0]+0].value<<8)),gt.jc=!gt.Qb&&6>Bt,gt.jc){var ae,ce=gt;for(ae=0;ae<Dn;++ae){var le=ae,ue=ce.pd[le],he=ce.G[0][ce.H[0]+le];256<=he.value?(ue.g=he.g+256,ue.value=he.value):(ue.g=0,ue.value=0,le>>=yt(he,8,ue),le>>=yt(ce.G[1][ce.H[1]+le],16,ue),le>>=yt(ce.G[2][ce.H[2]+le],0,ue),yt(ce.G[3][ce.H[3]+le],24,ue))}}}$.vc=tt,$.Wb=et,$.Ya=dt,$.yc=lt,K=1;break e}K=0}if(!(c=K)){s.a=3;break t}if(0<w){if(g.ua=1<<w,!k(g.Wa,w)){s.a=1,c=0;break t}}else g.ua=0;var de=s,fe=h,pe=f,ge=de.s,me=ge.xc;if(de.c=fe,de.i=pe,ge.md=N(fe,me),ge.wc=0==me?-1:(1<<me)-1,r){s.xb=dA;break t}if(null==(m=i(h*f))){s.a=1,c=0;break t}c=(c=Ft(s,m,0,h,f,f,null))&&!p.h;break t}return c?(null!=a?a[0]=m:(e(null==m),e(r)),s.$=0,r||St(g)):St(g),c}function It(t,n){var r=t.c*t.i,A=r+n+16*n;return e(t.c<=n),t.V=i(A),null==t.V?(t.Ta=null,t.Ua=0,t.a=1,0):(t.Ta=t.V,t.Ua=t.Ba+r+n,1)}function Qt(t,n){var r=t.C,A=n-r,i=t.V,o=t.Ba+t.c*r;for(e(n<=t.l.o);0<A;){var s=16<A?16:A,a=t.l.ma,c=t.l.width,l=c*s,u=a.ca,h=a.tb+c*r,d=t.Ta,f=t.Ua;vt(t,s,i,o),xr(d,f,u,h,l),_t(a,r,r+s,u,h,c),A-=s,i+=s*t.c,r+=s}e(r==n),t.C=t.Ma=n}function Lt(){this.ub=this.yd=this.td=this.Rb=0}function kt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Mt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Pt(){this.Yb=function(){var t=[];return function t(e,n,r){for(var A=r[n],i=0;i<A&&(e.push(r.length>n+1?[]:0),!(r.length<n+1));i++)t(e[i],n+1,r)}(t,0,[3,11]),t}()}function Tt(){this.jb=i(3),this.Wc=s([4,8],Pt),this.Xc=s([4,17],Pt)}function Nt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Dt(){this.ld=this.La=this.dd=this.tc=0}function Ot(){this.Na=this.la=0}function Ht(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Rt(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function jt(){this.uc=this.M=this.Nb=0,this.wa=Array(new Dt),this.Y=0,this.ya=Array(new Rt),this.aa=0,this.l=new Wt}function Kt(){this.y=i(16),this.f=i(8),this.ea=i(8)}function qt(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new Lt,this.Kc=new kt,this.ed=new Nt,this.Qa=new Mt,this.Ic=this.$c=this.Aa=0,this.D=new jt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,b),this.ia=0,this.pb=o(4,Ht),this.Pa=new Tt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Kt),this.Hd=0,this.rb=Array(new Ot),this.sb=0,this.wa=Array(new Dt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Rt),this.L=this.aa=0,this.gd=s([4,2],Dt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gt(t,e){return 0>t?0:t>e?e:t}function Wt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vt(){var t=new qt;return null!=t&&(t.a=0,t.sc="OK",t.cb=0,t.Xb=0,nA||(nA=Yt)),t}function zt(t,e,n){return 0==t.a&&(t.a=e,t.sc=n,t.cb=0),0}function Xt(t,e,n){return 3<=n&&157==t[e+0]&&1==t[e+1]&&42==t[e+2]}function Jt(t,n){if(null==t)return 0;if(t.a=0,t.sc="OK",null==n)return zt(t,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,i=n.w,o=n.ha;if(4>o)return zt(t,7,"Truncated header.");var s=r[i+0]|r[i+1]<<8|r[i+2]<<16,a=t.Od;if(a.Rb=!(1&s),a.td=s>>1&7,a.yd=s>>4&1,a.ub=s>>5,3<a.td)return zt(t,3,"Incorrect keyframe parameters.");if(!a.yd)return zt(t,4,"Frame not displayable.");i+=3,o-=3;var c=t.Kc;if(a.Rb){if(7>o)return zt(t,7,"cannot parse picture header");if(!Xt(r,i,o))return zt(t,3,"Bad code word");c.c=16383&(r[i+4]<<8|r[i+3]),c.Td=r[i+4]>>6,c.i=16383&(r[i+6]<<8|r[i+5]),c.Ud=r[i+6]>>6,i+=7,o-=7,t.za=c.c+15>>4,t.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,A((s=t.Pa).jb,0,255,s.jb.length),e(null!=(s=t.Qa)),s.Cb=0,s.Bb=0,s.Fb=1,A(s.Zb,0,0,s.Zb.length),A(s.Lb,0,0,s.Lb)}if(a.ub>o)return zt(t,7,"bad partition length");f(s=t.m,r,i,a.ub),i+=a.ub,o-=a.ub,a.Rb&&(c.Ld=S(s),c.Kd=S(s)),c=t.Qa;var l,u=t.Pa;if(e(null!=s),e(null!=c),c.Cb=S(s),c.Cb){if(c.Bb=S(s),S(s)){for(c.Fb=S(s),l=0;4>l;++l)c.Zb[l]=S(s)?g(s,7):0;for(l=0;4>l;++l)c.Lb[l]=S(s)?g(s,6):0}if(c.Bb)for(l=0;3>l;++l)u.jb[l]=S(s)?p(s,8):255}else c.Bb=0;if(s.Ka)return zt(t,3,"cannot parse segment header");if((c=t.ed).zd=S(s),c.Tb=p(s,6),c.wb=p(s,3),c.Pc=S(s),c.Pc&&S(s)){for(u=0;4>u;++u)S(s)&&(c.vd[u]=g(s,6));for(u=0;4>u;++u)S(s)&&(c.od[u]=g(s,6))}if(t.L=0==c.Tb?0:c.zd?1:2,s.Ka)return zt(t,3,"cannot parse filter header");var h=o;if(o=l=i,i=l+h,c=h,t.Xb=(1<<p(t.m,2))-1,h<3*(u=t.Xb))r=7;else{for(l+=3*u,c-=3*u,h=0;h<u;++h){var d=r[o+0]|r[o+1]<<8|r[o+2]<<16;d>c&&(d=c),f(t.Jc[+h],r,l,d),l+=d,c-=d,o+=3}f(t.Jc[+u],r,l,c),r=l<i?0:5}if(0!=r)return zt(t,r,"cannot parse partitions");for(r=p(l=t.m,7),o=S(l)?g(l,4):0,i=S(l)?g(l,4):0,c=S(l)?g(l,4):0,u=S(l)?g(l,4):0,l=S(l)?g(l,4):0,h=t.Qa,d=0;4>d;++d){if(h.Cb){var m=h.Zb[d];h.Fb||(m+=r)}else{if(0<d){t.pb[d]=t.pb[0];continue}m=r}var w=t.pb[d];w.Sc[0]=tA[Gt(m+o,127)],w.Sc[1]=eA[Gt(m+0,127)],w.Eb[0]=2*tA[Gt(m+i,127)],w.Eb[1]=101581*eA[Gt(m+c,127)]>>16,8>w.Eb[1]&&(w.Eb[1]=8),w.Qc[0]=tA[Gt(m+u,117)],w.Qc[1]=eA[Gt(m+l,127)],w.lc=m+l}if(!a.Rb)return zt(t,4,"Not a key frame.");for(S(s),a=t.Pa,r=0;4>r;++r){for(o=0;8>o;++o)for(i=0;3>i;++i)for(c=0;11>c;++c)u=E(s,aA[r][o][i][c])?p(s,8):oA[r][o][i][c],a.Wc[r][o].Yb[i][c]=u;for(o=0;17>o;++o)a.Xc[r][o]=a.Wc[r][cA[o]]}return t.kc=S(s),t.kc&&(t.Bd=p(s,8)),t.cb=1}function Yt(t,e,n,r,A,i,o){var s=e[A].Yb[n];for(n=0;16>A;++A){if(!E(t,s[n+0]))return A;for(;!E(t,s[n+1]);)if(s=e[++A].Yb[0],n=0,16==A)return 16;var a=e[A+1].Yb;if(E(t,s[n+2])){var c=t,l=0;if(E(c,(h=s)[(u=n)+3]))if(E(c,h[u+6])){for(s=0,u=2*(l=E(c,h[u+8]))+(h=E(c,h[u+9+l])),l=0,h=rA[u];h[s];++s)l+=l+E(c,h[s]);l+=3+(8<<u)}else E(c,h[u+7])?(l=7+2*E(c,165),l+=E(c,145)):l=5+E(c,159);else l=E(c,h[u+4])?3+E(c,h[u+5]):2;s=a[2]}else l=1,s=a[1];a=o+AA[A],0>(c=t).b&&F(c);var u,h=c.b,d=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=d,c.Ca|=1,c.I-=(u+1&d)<<h,i[a]=((l^d)-d)*r[(0<A)+0]}return 16}function Zt(t){var e=t.rb[t.sb-1];e.la=0,e.Na=0,A(t.zc,0,0,t.zc.length),t.ja=0}function $t(t,e,n,r,A){A=t[e+n+32*r]+(A>>3),t[e+n+32*r]=-256&A?0>A?0:255:A}function te(t,e,n,r,A,i){$t(t,e,0,n,r+A),$t(t,e,1,n,r+i),$t(t,e,2,n,r-i),$t(t,e,3,n,r-A)}function ee(t){return(20091*t>>16)+t}function ne(t,e,n,r){var A,o=0,s=i(16);for(A=0;4>A;++A){var a=t[e+0]+t[e+8],c=t[e+0]-t[e+8],l=(35468*t[e+4]>>16)-ee(t[e+12]),u=ee(t[e+4])+(35468*t[e+12]>>16);s[o+0]=a+u,s[o+1]=c+l,s[o+2]=c-l,s[o+3]=a-u,o+=4,e++}for(A=o=0;4>A;++A)a=(t=s[o+0]+4)+s[o+8],c=t-s[o+8],l=(35468*s[o+4]>>16)-ee(s[o+12]),$t(n,r,0,0,a+(u=ee(s[o+4])+(35468*s[o+12]>>16))),$t(n,r,1,0,c+l),$t(n,r,2,0,c-l),$t(n,r,3,0,a-u),o++,r+=32}function re(t,e,n,r){var A=t[e+0]+4,i=35468*t[e+4]>>16,o=ee(t[e+4]),s=35468*t[e+1]>>16;te(n,r,0,A+o,t=ee(t[e+1]),s),te(n,r,1,A+i,t,s),te(n,r,2,A-i,t,s),te(n,r,3,A-o,t,s)}function Ae(t,e,n,r,A){ne(t,e,n,r),A&&ne(t,e+16,n,r+4)}function ie(t,e,n,r){ir(t,e+0,n,r,1),ir(t,e+32,n,r+128,1)}function oe(t,e,n,r){var A;for(t=t[e+0]+4,A=0;4>A;++A)for(e=0;4>e;++e)$t(n,r,e,A,t)}function se(t,e,n,r){t[e+0]&&ar(t,e+0,n,r),t[e+16]&&ar(t,e+16,n,r+4),t[e+32]&&ar(t,e+32,n,r+128),t[e+48]&&ar(t,e+48,n,r+128+4)}function ae(t,e,n,r){var A,o=i(16);for(A=0;4>A;++A){var s=t[e+0+A]+t[e+12+A],a=t[e+4+A]+t[e+8+A],c=t[e+4+A]-t[e+8+A],l=t[e+0+A]-t[e+12+A];o[0+A]=s+a,o[8+A]=s-a,o[4+A]=l+c,o[12+A]=l-c}for(A=0;4>A;++A)s=(t=o[0+4*A]+3)+o[3+4*A],a=o[1+4*A]+o[2+4*A],c=o[1+4*A]-o[2+4*A],l=t-o[3+4*A],n[r+0]=s+a>>3,n[r+16]=l+c>>3,n[r+32]=s-a>>3,n[r+48]=l-c>>3,r+=64}function ce(t,e,n){var r,A=e-32,i=kr,o=255-t[A-1];for(r=0;r<n;++r){var s,a=i,c=o+t[e-1];for(s=0;s<n;++s)t[e+s]=a[c+t[A+s]];e+=32}}function le(t,e){ce(t,e,4)}function ue(t,e){ce(t,e,8)}function he(t,e){ce(t,e,16)}function de(t,e){var n;for(n=0;16>n;++n)r(t,e+32*n,t,e-32,16)}function fe(t,e){var n;for(n=16;0<n;--n)A(t,e,t[e-1],16),e+=32}function pe(t,e,n){var r;for(r=0;16>r;++r)A(e,n+32*r,t,16)}function ge(t,e){var n,r=16;for(n=0;16>n;++n)r+=t[e-1+32*n]+t[e+n-32];pe(r>>5,t,e)}function me(t,e){var n,r=8;for(n=0;16>n;++n)r+=t[e-1+32*n];pe(r>>4,t,e)}function we(t,e){var n,r=8;for(n=0;16>n;++n)r+=t[e+n-32];pe(r>>4,t,e)}function ye(t,e){pe(128,t,e)}function be(t,e,n){return t+2*e+n+2>>2}function ve(t,e){var n,A=e-32;for(A=new Uint8Array([be(t[A-1],t[A+0],t[A+1]),be(t[A+0],t[A+1],t[A+2]),be(t[A+1],t[A+2],t[A+3]),be(t[A+2],t[A+3],t[A+4])]),n=0;4>n;++n)r(t,e+32*n,A,0,A.length)}function Be(t,e){var n=t[e-1],r=t[e-1+32],A=t[e-1+64],i=t[e-1+96];U(t,e+0,16843009*be(t[e-1-32],n,r)),U(t,e+32,16843009*be(n,r,A)),U(t,e+64,16843009*be(r,A,i)),U(t,e+96,16843009*be(A,i,i))}function Ce(t,e){var n,r=4;for(n=0;4>n;++n)r+=t[e+n-32]+t[e-1+32*n];for(r>>=3,n=0;4>n;++n)A(t,e+32*n,r,4)}function _e(t,e){var n=t[e-1+0],r=t[e-1+32],A=t[e-1+64],i=t[e-1-32],o=t[e+0-32],s=t[e+1-32],a=t[e+2-32],c=t[e+3-32];t[e+0+96]=be(r,A,t[e-1+96]),t[e+1+96]=t[e+0+64]=be(n,r,A),t[e+2+96]=t[e+1+64]=t[e+0+32]=be(i,n,r),t[e+3+96]=t[e+2+64]=t[e+1+32]=t[e+0+0]=be(o,i,n),t[e+3+64]=t[e+2+32]=t[e+1+0]=be(s,o,i),t[e+3+32]=t[e+2+0]=be(a,s,o),t[e+3+0]=be(c,a,s)}function xe(t,e){var n=t[e+1-32],r=t[e+2-32],A=t[e+3-32],i=t[e+4-32],o=t[e+5-32],s=t[e+6-32],a=t[e+7-32];t[e+0+0]=be(t[e+0-32],n,r),t[e+1+0]=t[e+0+32]=be(n,r,A),t[e+2+0]=t[e+1+32]=t[e+0+64]=be(r,A,i),t[e+3+0]=t[e+2+32]=t[e+1+64]=t[e+0+96]=be(A,i,o),t[e+3+32]=t[e+2+64]=t[e+1+96]=be(i,o,s),t[e+3+64]=t[e+2+96]=be(o,s,a),t[e+3+96]=be(s,a,a)}function Fe(t,e){var n=t[e-1+0],r=t[e-1+32],A=t[e-1+64],i=t[e-1-32],o=t[e+0-32],s=t[e+1-32],a=t[e+2-32],c=t[e+3-32];t[e+0+0]=t[e+1+64]=i+o+1>>1,t[e+1+0]=t[e+2+64]=o+s+1>>1,t[e+2+0]=t[e+3+64]=s+a+1>>1,t[e+3+0]=a+c+1>>1,t[e+0+96]=be(A,r,n),t[e+0+64]=be(r,n,i),t[e+0+32]=t[e+1+96]=be(n,i,o),t[e+1+32]=t[e+2+96]=be(i,o,s),t[e+2+32]=t[e+3+96]=be(o,s,a),t[e+3+32]=be(s,a,c)}function Se(t,e){var n=t[e+0-32],r=t[e+1-32],A=t[e+2-32],i=t[e+3-32],o=t[e+4-32],s=t[e+5-32],a=t[e+6-32],c=t[e+7-32];t[e+0+0]=n+r+1>>1,t[e+1+0]=t[e+0+64]=r+A+1>>1,t[e+2+0]=t[e+1+64]=A+i+1>>1,t[e+3+0]=t[e+2+64]=i+o+1>>1,t[e+0+32]=be(n,r,A),t[e+1+32]=t[e+0+96]=be(r,A,i),t[e+2+32]=t[e+1+96]=be(A,i,o),t[e+3+32]=t[e+2+96]=be(i,o,s),t[e+3+64]=be(o,s,a),t[e+3+96]=be(s,a,c)}function Ee(t,e){var n=t[e-1+0],r=t[e-1+32],A=t[e-1+64],i=t[e-1+96];t[e+0+0]=n+r+1>>1,t[e+2+0]=t[e+0+32]=r+A+1>>1,t[e+2+32]=t[e+0+64]=A+i+1>>1,t[e+1+0]=be(n,r,A),t[e+3+0]=t[e+1+32]=be(r,A,i),t[e+3+32]=t[e+1+64]=be(A,i,i),t[e+3+64]=t[e+2+64]=t[e+0+96]=t[e+1+96]=t[e+2+96]=t[e+3+96]=i}function Ue(t,e){var n=t[e-1+0],r=t[e-1+32],A=t[e-1+64],i=t[e-1+96],o=t[e-1-32],s=t[e+0-32],a=t[e+1-32],c=t[e+2-32];t[e+0+0]=t[e+2+32]=n+o+1>>1,t[e+0+32]=t[e+2+64]=r+n+1>>1,t[e+0+64]=t[e+2+96]=A+r+1>>1,t[e+0+96]=i+A+1>>1,t[e+3+0]=be(s,a,c),t[e+2+0]=be(o,s,a),t[e+1+0]=t[e+3+32]=be(n,o,s),t[e+1+32]=t[e+3+64]=be(r,n,o),t[e+1+64]=t[e+3+96]=be(A,r,n),t[e+1+96]=be(i,A,r)}function Ie(t,e){var n;for(n=0;8>n;++n)r(t,e+32*n,t,e-32,8)}function Qe(t,e){var n;for(n=0;8>n;++n)A(t,e,t[e-1],8),e+=32}function Le(t,e,n){var r;for(r=0;8>r;++r)A(e,n+32*r,t,8)}function ke(t,e){var n,r=8;for(n=0;8>n;++n)r+=t[e+n-32]+t[e-1+32*n];Le(r>>4,t,e)}function Me(t,e){var n,r=4;for(n=0;8>n;++n)r+=t[e+n-32];Le(r>>3,t,e)}function Pe(t,e){var n,r=4;for(n=0;8>n;++n)r+=t[e-1+32*n];Le(r>>3,t,e)}function Te(t,e){Le(128,t,e)}function Ne(t,e,n){var r=t[e-n],A=t[e+0],i=3*(A-r)+Qr[1020+t[e-2*n]-t[e+n]],o=Lr[112+(i+4>>3)];t[e-n]=kr[255+r+Lr[112+(i+3>>3)]],t[e+0]=kr[255+A-o]}function De(t,e,n,r){var A=t[e+0],i=t[e+n];return Mr[255+t[e-2*n]-t[e-n]]>r||Mr[255+i-A]>r}function Oe(t,e,n,r){return 4*Mr[255+t[e-n]-t[e+0]]+Mr[255+t[e-2*n]-t[e+n]]<=r}function He(t,e,n,r,A){var i=t[e-3*n],o=t[e-2*n],s=t[e-n],a=t[e+0],c=t[e+n],l=t[e+2*n],u=t[e+3*n];return 4*Mr[255+s-a]+Mr[255+o-c]>r?0:Mr[255+t[e-4*n]-i]<=A&&Mr[255+i-o]<=A&&Mr[255+o-s]<=A&&Mr[255+u-l]<=A&&Mr[255+l-c]<=A&&Mr[255+c-a]<=A}function Re(t,e,n,r){var A=2*r+1;for(r=0;16>r;++r)Oe(t,e+r,n,A)&&Ne(t,e+r,n)}function je(t,e,n,r){var A=2*r+1;for(r=0;16>r;++r)Oe(t,e+r*n,1,A)&&Ne(t,e+r*n,1)}function Ke(t,e,n,r){var A;for(A=3;0<A;--A)Re(t,e+=4*n,n,r)}function qe(t,e,n,r){var A;for(A=3;0<A;--A)je(t,e+=4,n,r)}function Ge(t,e,n,r,A,i,o,s){for(i=2*i+1;0<A--;){if(He(t,e,n,i,o))if(De(t,e,n,s))Ne(t,e,n);else{var a=t,c=e,l=n,u=a[c-2*l],h=a[c-l],d=a[c+0],f=a[c+l],p=a[c+2*l],g=27*(w=Qr[1020+3*(d-h)+Qr[1020+u-f]])+63>>7,m=18*w+63>>7,w=9*w+63>>7;a[c-3*l]=kr[255+a[c-3*l]+w],a[c-2*l]=kr[255+u+m],a[c-l]=kr[255+h+g],a[c+0]=kr[255+d-g],a[c+l]=kr[255+f-m],a[c+2*l]=kr[255+p-w]}e+=r}}function We(t,e,n,r,A,i,o,s){for(i=2*i+1;0<A--;){if(He(t,e,n,i,o))if(De(t,e,n,s))Ne(t,e,n);else{var a=t,c=e,l=n,u=a[c-l],h=a[c+0],d=a[c+l],f=Lr[112+(4+(p=3*(h-u))>>3)],p=Lr[112+(p+3>>3)],g=f+1>>1;a[c-2*l]=kr[255+a[c-2*l]+g],a[c-l]=kr[255+u+p],a[c+0]=kr[255+h-f],a[c+l]=kr[255+d-g]}e+=r}}function Ve(t,e,n,r,A,i){Ge(t,e,n,1,16,r,A,i)}function ze(t,e,n,r,A,i){Ge(t,e,1,n,16,r,A,i)}function Xe(t,e,n,r,A,i){var o;for(o=3;0<o;--o)We(t,e+=4*n,n,1,16,r,A,i)}function Je(t,e,n,r,A,i){var o;for(o=3;0<o;--o)We(t,e+=4,1,n,16,r,A,i)}function Ye(t,e,n,r,A,i,o,s){Ge(t,e,A,1,8,i,o,s),Ge(n,r,A,1,8,i,o,s)}function Ze(t,e,n,r,A,i,o,s){Ge(t,e,1,A,8,i,o,s),Ge(n,r,1,A,8,i,o,s)}function $e(t,e,n,r,A,i,o,s){We(t,e+4*A,A,1,8,i,o,s),We(n,r+4*A,A,1,8,i,o,s)}function tn(t,e,n,r,A,i,o,s){We(t,e+4,1,A,8,i,o,s),We(n,r+4,1,A,8,i,o,s)}function en(){this.ba=new ot,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new at,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function An(){this.ua=0,this.Wa=new P,this.vb=new P,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new d,this.yc=new u}function on(){this.xb=this.a=0,this.l=new Wt,this.ca=new ot,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new v,this.Pb=0,this.wd=new v,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new An,this.ab=0,this.gc=o(4,rn),this.Oc=0}function sn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function an(t,e,n,r,A,i,o){for(t=null==t?0:t[e+0],e=0;e<o;++e)A[i+e]=t+n[r+e]&255,t=A[i+e]}function cn(t,e,n,r,A,i,o){var s;if(null==t)an(null,null,n,r,A,i,o);else for(s=0;s<o;++s)A[i+s]=t[e+s]+n[r+s]&255}function ln(t,e,n,r,A,i,o){if(null==t)an(null,null,n,r,A,i,o);else{var s,a=t[e+0],c=a,l=a;for(s=0;s<o;++s)c=l+(a=t[e+s])-c,l=n[r+s]+(-256&c?0>c?0:255:c)&255,c=a,A[i+s]=l}}function un(t,n,A,o){var s=n.width,a=n.o;if(e(null!=t&&null!=n),0>A||0>=o||A+o>a)return null;if(!t.Cc){if(null==t.ga){var c;if(t.ga=new sn,(c=null==t.ga)||(c=n.width*n.o,e(0==t.Gb.length),t.Gb=i(c),t.Uc=0,null==t.Gb?c=0:(t.mb=t.Gb,t.nb=t.Uc,t.rc=null,c=1),c=!c),!c){c=t.ga;var l=t.Fa,u=t.P,h=t.qc,d=t.mb,f=t.nb,p=u+1,g=h-1,w=c.l;if(e(null!=l&&null!=d&&null!=n),pA[0]=null,pA[1]=an,pA[2]=cn,pA[3]=ln,c.ca=d,c.tb=f,c.c=n.width,c.i=n.height,e(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&l[u+0],c.Z=l[u+0]>>2&3,c.Lc=l[u+0]>>4&3,u=l[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)n=0;else if(w.put=dt,w.ac=ht,w.bc=ft,w.ma=c,w.width=n.width,w.height=n.height,w.Da=n.Da,w.v=n.v,w.va=n.va,w.j=n.j,w.o=n.o,c.$a)t:{e(1==c.$a),n=Et();e:for(;;){if(null==n){n=0;break t}if(e(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,m(n.m,l,p,g),!Ut(c.c,c.i,1,n,null))break e;if(1==n.ab&&3==n.gc[0].hc&&Ct(n.s)?(c.ic=1,l=n.c*n.i,n.Ta=null,n.Ua=0,n.V=i(l),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=It(n,c.c)),!n)break e;n=1;break t}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=t.ga.Lc?t.Ga=0:o=a-A}e(null!=t.ga),e(A+o<=a);t:{if(n=(l=t.ga).c,a=l.l.o,0==l.$a){if(p=t.rc,g=t.Vc,w=t.Fa,u=t.P+1+A*n,h=t.mb,d=t.nb+A*n,e(u<=t.P+t.qc),0!=l.Z)for(e(null!=pA[l.Z]),c=0;c<o;++c)pA[l.Z](p,g,w,u,h,d,n),p=h,g=d,d+=n,u+=n;else for(c=0;c<o;++c)r(h,d,w,u,n),p=h,g=d,d+=n,u+=n;t.rc=p,t.Vc=g}else{if(e(null!=l.mc),n=A+o,e(null!=(c=l.mc)),e(n<=c.i),c.C>=n)n=1;else if(l.ic||gn(),l.ic){l=c.V,p=c.Ba,g=c.c;var y=c.i,b=(w=1,u=c.$/g,h=c.$%g,d=c.m,f=c.s,c.$),v=g*y,B=g*n,_=f.wc,F=b<B?bt(f,h,u):null;e(b<=v),e(n<=y),e(Ct(f));e:for(;;){for(;!d.h&&b<B;){if(h&_||(F=bt(f,h,u)),e(null!=F),x(d),256>(y=wt(F.G[0],F.H[0],d)))l[p+b]=y,++b,++h>=g&&(h=0,++u<=n&&!(u%16)&&xt(c,u));else{if(!(280>y)){w=0;break e}y=gt(y-256,d);var S,E=wt(F.G[4],F.H[4],d);if(x(d),!(b>=(E=mt(g,E=gt(E,d)))&&v-b>=y)){w=0;break e}for(S=0;S<y;++S)l[p+b+S]=l[p+b+S-E];for(b+=y,h+=y;h>=g;)h-=g,++u<=n&&!(u%16)&&xt(c,u);b<B&&h&_&&(F=bt(f,h,u))}e(d.h==C(d))}xt(c,u>n?n:u);break e}!w||d.h&&b<v?(w=0,c.a=d.h?5:3):c.$=b,n=w}else n=Ft(c,c.V,c.Ba,c.c,c.i,n,Qt);if(!n){o=0;break t}}A+o>=a&&(t.Cc=1),o=1}if(!o)return null;if(t.Cc&&(null!=(o=t.ga)&&(o.mc=null),t.ga=null,0<t.Ga))return alert("todo:WebPDequantizeLevels"),null}return t.nb+A*s}function hn(t,e,n,r,A,i){for(;0<A--;){var o,s=t,a=e+(n?1:0),c=t,l=e+(n?0:3);for(o=0;o<r;++o){var u=c[l+4*o];255!=u&&(u*=32897,s[a+4*o+0]=s[a+4*o+0]*u>>23,s[a+4*o+1]=s[a+4*o+1]*u>>23,s[a+4*o+2]=s[a+4*o+2]*u>>23)}e+=i}}function dn(t,e,n,r,A){for(;0<r--;){var i;for(i=0;i<n;++i){var o=t[e+2*i+0],s=15&(c=t[e+2*i+1]),a=4369*s,c=(240&c|c>>4)*a>>16;t[e+2*i+0]=(240&o|o>>4)*a>>16&240|(15&o|o<<4)*a>>16>>4&15,t[e+2*i+1]=240&c|s}e+=A}}function fn(t,e,n,r,A,i,o,s){var a,c,l=255;for(c=0;c<A;++c){for(a=0;a<r;++a){var u=t[e+a];i[o+4*a]=u,l&=u}e+=n,o+=s}return 255!=l}function pn(t,e,n,r,A){var i;for(i=0;i<A;++i)n[r+i]=t[e+i]>>8}function gn(){Br=hn,Cr=dn,_r=fn,xr=pn}function mn(n,r,A){t[n]=function(t,n,i,o,s,a,c,l,u,h,d,f,p,g,m,w,y){var b,v=y-1>>1,B=s[a+0]|c[l+0]<<16,C=u[h+0]|d[f+0]<<16;e(null!=t);var _=3*B+C+131074>>2;for(r(t[n+0],255&_,_>>16,p,g),null!=i&&(_=3*C+B+131074>>2,r(i[o+0],255&_,_>>16,m,w)),b=1;b<=v;++b){var x=s[a+b]|c[l+b]<<16,F=u[h+b]|d[f+b]<<16,S=B+x+C+F+524296,E=S+2*(x+C)>>3;_=E+B>>1,B=(S=S+2*(B+F)>>3)+x>>1,r(t[n+2*b-1],255&_,_>>16,p,g+(2*b-1)*A),r(t[n+2*b-0],255&B,B>>16,p,g+(2*b-0)*A),null!=i&&(_=S+C>>1,B=E+F>>1,r(i[o+2*b-1],255&_,_>>16,m,w+(2*b-1)*A),r(i[o+2*b+0],255&B,B>>16,m,w+(2*b+0)*A)),B=x,C=F}1&y||(_=3*B+C+131074>>2,r(t[n+y-1],255&_,_>>16,p,g+(y-1)*A),null!=i&&(_=3*C+B+131074>>2,r(i[o+y-1],255&_,_>>16,m,w+(y-1)*A)))}}function wn(){gA[Pr]=mA,gA[Tr]=yA,gA[Nr]=wA,gA[Dr]=bA,gA[Or]=vA,gA[Hr]=BA,gA[Rr]=CA,gA[jr]=yA,gA[Kr]=bA,gA[qr]=vA,gA[Gr]=BA}function yn(t){return t&~UA?0>t?0:255:t>>EA}function bn(t,e){return yn((19077*t>>8)+(26149*e>>8)-14234)}function vn(t,e,n){return yn((19077*t>>8)-(6419*e>>8)-(13320*n>>8)+8708)}function Bn(t,e){return yn((19077*t>>8)+(33050*e>>8)-17685)}function Cn(t,e,n,r,A){r[A+0]=bn(t,n),r[A+1]=vn(t,e,n),r[A+2]=Bn(t,e)}function _n(t,e,n,r,A){r[A+0]=Bn(t,e),r[A+1]=vn(t,e,n),r[A+2]=bn(t,n)}function xn(t,e,n,r,A){var i=vn(t,e,n);e=i<<3&224|Bn(t,e)>>3,r[A+0]=248&bn(t,n)|i>>5,r[A+1]=e}function Fn(t,e,n,r,A){var i=240&Bn(t,e)|15;r[A+0]=240&bn(t,n)|vn(t,e,n)>>4,r[A+1]=i}function Sn(t,e,n,r,A){r[A+0]=255,Cn(t,e,n,r,A+1)}function En(t,e,n,r,A){_n(t,e,n,r,A),r[A+3]=255}function Un(t,e,n,r,A){Cn(t,e,n,r,A),r[A+3]=255}function Gt(t,e){return 0>t?0:t>e?e:t}function In(e,n,r){t[e]=function(t,e,A,i,o,s,a,c,l){for(var u=c+(-2&l)*r;c!=u;)n(t[e+0],A[i+0],o[s+0],a,c),n(t[e+1],A[i+0],o[s+0],a,c+r),e+=2,++i,++s,c+=2*r;1&l&&n(t[e+0],A[i+0],o[s+0],a,c)}}function Qn(t,e,n){return 0==n?0==t?0==e?6:5:0==e?4:0:n}function Ln(t,e,n,r,A){switch(t>>>30){case 3:ir(e,n,r,A,0);break;case 2:or(e,n,r,A);break;case 1:ar(e,n,r,A)}}function kn(t,e){var n,i,o=e.M,s=e.Nb,a=t.oc,c=t.pc+40,l=t.oc,u=t.pc+584,h=t.oc,d=t.pc+600;for(n=0;16>n;++n)a[c+32*n-1]=129;for(n=0;8>n;++n)l[u+32*n-1]=129,h[d+32*n-1]=129;for(0<o?a[c-1-32]=l[u-1-32]=h[d-1-32]=129:(A(a,c-32-1,127,21),A(l,u-32-1,127,9),A(h,d-32-1,127,9)),i=0;i<t.za;++i){var f=e.ya[e.aa+i];if(0<i){for(n=-1;16>n;++n)r(a,c+32*n-4,a,c+32*n+12,4);for(n=-1;8>n;++n)r(l,u+32*n-4,l,u+32*n+4,4),r(h,d+32*n-4,h,d+32*n+4,4)}var p=t.Gd,g=t.Hd+i,m=f.ad,w=f.Hc;if(0<o&&(r(a,c-32,p[g].y,0,16),r(l,u-32,p[g].f,0,8),r(h,d-32,p[g].ea,0,8)),f.Za){var y=a,b=c-32+16;for(0<o&&(i>=t.za-1?A(y,b,p[g].y[15],4):r(y,b,p[g+1].y,0,4)),n=0;4>n;n++)y[b+128+n]=y[b+256+n]=y[b+384+n]=y[b+0+n];for(n=0;16>n;++n,w<<=2)y=a,b=c+NA[n],uA[f.Ob[n]](y,b),Ln(w,m,16*+n,y,b)}else if(y=Qn(i,o,f.Ob[0]),lA[y](a,c),0!=w)for(n=0;16>n;++n,w<<=2)Ln(w,m,16*+n,a,c+NA[n]);for(n=f.Gc,y=Qn(i,o,f.Dd),hA[y](l,u),hA[y](h,d),w=m,y=l,b=u,255&(f=0|n)&&(170&f?sr(w,256,y,b):cr(w,256,y,b)),f=h,w=d,255&(n>>=8)&&(170&n?sr(m,320,f,w):cr(m,320,f,w)),o<t.Ub-1&&(r(p[g].y,0,a,c+480,16),r(p[g].f,0,l,u+224,8),r(p[g].ea,0,h,d+224,8)),n=8*s*t.B,p=t.sa,g=t.ta+16*i+16*s*t.R,m=t.qa,f=t.ra+8*i+n,w=t.Ha,y=t.Ia+8*i+n,n=0;16>n;++n)r(p,g+n*t.R,a,c+32*n,16);for(n=0;8>n;++n)r(m,f+n*t.B,l,u+32*n,8),r(w,y+n*t.B,h,d+32*n,8)}}function Mn(t,r,A,i,o,s,a,c,l){var u=[0],h=[0],d=0,f=null!=l?l.kd:0,p=null!=l?l:new nn;if(null==t||12>A)return 7;p.data=t,p.w=r,p.ha=A,r=[r],A=[A],p.gb=[p.gb];t:{var g=r,w=A,y=p.gb;if(e(null!=t),e(null!=w),e(null!=y),y[0]=0,12<=w[0]&&!n(t,g[0],"RIFF")){if(n(t,g[0]+8,"WEBP")){y=3;break t}var b=L(t,g[0]+4);if(12>b||4294967286<b){y=3;break t}if(f&&b>w[0]-8){y=7;break t}y[0]=b,g[0]+=12,w[0]-=12}y=0}if(0!=y)return y;for(b=0<p.gb[0],A=A[0];;){t:{var B=t;w=r,y=A;var C=u,_=h,x=g=[0];if((E=d=[d])[0]=0,8>y[0])y=7;else{if(!n(B,w[0],"VP8X")){if(10!=L(B,w[0]+4)){y=3;break t}if(18>y[0]){y=7;break t}var F=L(B,w[0]+8),S=1+Q(B,w[0]+12);if(2147483648<=S*(B=1+Q(B,w[0]+15))){y=3;break t}null!=x&&(x[0]=F),null!=C&&(C[0]=S),null!=_&&(_[0]=B),w[0]+=18,y[0]-=18,E[0]=1}y=0}}if(d=d[0],g=g[0],0!=y)return y;if(w=!!(2&g),!b&&d)return 3;if(null!=s&&(s[0]=!!(16&g)),null!=a&&(a[0]=w),null!=c&&(c[0]=0),a=u[0],g=h[0],d&&w&&null==l){y=0;break}if(4>A){y=7;break}if(b&&d||!b&&!d&&!n(t,r[0],"ALPH")){A=[A],p.na=[p.na],p.P=[p.P],p.Sa=[p.Sa];t:{F=t,y=r,b=A;var E=p.gb;C=p.na,_=p.P,x=p.Sa,S=22,e(null!=F),e(null!=b),B=y[0];var U=b[0];for(e(null!=C),e(null!=x),C[0]=null,_[0]=null,x[0]=0;;){if(y[0]=B,b[0]=U,8>U){y=7;break t}var I=L(F,B+4);if(4294967286<I){y=3;break t}var k=8+I+1&-2;if(S+=k,0<E&&S>E){y=3;break t}if(!n(F,B,"VP8 ")||!n(F,B,"VP8L")){y=0;break t}if(U[0]<k){y=7;break t}n(F,B,"ALPH")||(C[0]=F,_[0]=B+8,x[0]=I),B+=k,U-=k}}if(A=A[0],p.na=p.na[0],p.P=p.P[0],p.Sa=p.Sa[0],0!=y)break}A=[A],p.Ja=[p.Ja],p.xa=[p.xa];t:if(E=t,y=r,b=A,C=p.gb[0],_=p.Ja,x=p.xa,F=y[0],B=!n(E,F,"VP8 "),S=!n(E,F,"VP8L"),e(null!=E),e(null!=b),e(null!=_),e(null!=x),8>b[0])y=7;else{if(B||S){if(E=L(E,F+4),12<=C&&E>C-12){y=3;break t}if(f&&E>b[0]-8){y=7;break t}_[0]=E,y[0]+=8,b[0]-=8,x[0]=S}else x[0]=5<=b[0]&&47==E[F+0]&&!(E[F+4]>>5),_[0]=b[0];y=0}if(A=A[0],p.Ja=p.Ja[0],p.xa=p.xa[0],r=r[0],0!=y)break;if(4294967286<p.Ja)return 3;if(null==c||w||(c[0]=p.xa?2:1),a=[a],g=[g],p.xa){if(5>A){y=7;break}c=a,f=g,w=s,null==t||5>A?t=0:5<=A&&47==t[r+0]&&!(t[r+4]>>5)?(b=[0],E=[0],C=[0],m(_=new v,t,r,A),pt(_,b,E,C)?(null!=c&&(c[0]=b[0]),null!=f&&(f[0]=E[0]),null!=w&&(w[0]=C[0]),t=1):t=0):t=0}else{if(10>A){y=7;break}c=g,null==t||10>A||!Xt(t,r+3,A-3)?t=0:(f=t[r+0]|t[r+1]<<8|t[r+2]<<16,w=16383&(t[r+7]<<8|t[r+6]),t=16383&(t[r+9]<<8|t[r+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=p.Ja||!w||!t?t=0:(a&&(a[0]=w),c&&(c[0]=t),t=1))}if(!t)return 3;if(a=a[0],g=g[0],d&&(u[0]!=a||h[0]!=g))return 3;null!=l&&(l[0]=p,l.offset=r-l.w,e(4294967286>r-l.w),e(l.offset==l.ha-A));break}return 0==y||7==y&&d&&null==l?(null!=s&&(s[0]|=null!=p.na&&0<p.na.length),null!=i&&(i[0]=a),null!=o&&(o[0]=g),0):y}function Pn(t,e,n){var r=e.width,A=e.height,i=0,o=0,s=r,a=A;if(e.Da=null!=t&&0<t.Da,e.Da&&(s=t.cd,a=t.bd,i=t.v,o=t.j,11>n||(i&=-2,o&=-2),0>i||0>o||0>=s||0>=a||i+s>r||o+a>A))return 0;if(e.v=i,e.j=o,e.va=i+s,e.o=o+a,e.U=s,e.T=a,e.da=null!=t&&0<t.da,e.da){if(!T(s,a,n=[t.ib],i=[t.hb]))return 0;e.ib=n[0],e.hb=i[0]}return e.ob=null!=t&&t.ob,e.Kb=null==t||!t.Sd,e.da&&(e.ob=e.ib<3*r/4&&e.hb<3*A/4,e.Kb=0),1}function Tn(t){if(null==t)return 2;if(11>t.S){var e=t.f.RGBA;e.fb+=(t.height-1)*e.A,e.A=-e.A}else e=t.f.kb,t=t.height,e.O+=(t-1)*e.fa,e.fa=-e.fa,e.N+=(t-1>>1)*e.Ab,e.Ab=-e.Ab,e.W+=(t-1>>1)*e.Db,e.Db=-e.Db,null!=e.F&&(e.J+=(t-1)*e.lb,e.lb=-e.lb);return 0}function Nn(t,e,n,r){if(null==r||0>=t||0>=e)return 2;if(null!=n){if(n.Da){var A=n.cd,o=n.bd,s=-2&n.v,a=-2&n.j;if(0>s||0>a||0>=A||0>=o||s+A>t||a+o>e)return 2;t=A,e=o}if(n.da){if(!T(t,e,A=[n.ib],o=[n.hb]))return 2;t=A[0],e=o[0]}}r.width=t,r.height=e;t:{var c=r.width,l=r.height;if(t=r.S,0>=c||0>=l||!(t>=Pr&&13>t))t=2;else{if(0>=r.Rd&&null==r.sd){s=o=A=e=0;var u=(a=c*HA[t])*l;if(11>t||(o=(l+1)/2*(e=(c+1)/2),12==t&&(s=(A=c)*l)),null==(l=i(u+2*o+s))){t=1;break t}r.sd=l,11>t?((c=r.f.RGBA).eb=l,c.fb=0,c.A=a,c.size=u):((c=r.f.kb).y=l,c.O=0,c.fa=a,c.Fd=u,c.f=l,c.N=0+u,c.Ab=e,c.Cd=o,c.ea=l,c.W=0+u+o,c.Db=e,c.Ed=o,12==t&&(c.F=l,c.J=0+u+2*o),c.Tc=s,c.lb=A)}if(e=1,A=r.S,o=r.width,s=r.height,A>=Pr&&13>A)if(11>A)t=r.f.RGBA,e&=(a=Math.abs(t.A))*(s-1)+o<=t.size,e&=a>=o*HA[A],e&=null!=t.eb;else{t=r.f.kb,a=(o+1)/2,u=(s+1)/2,c=Math.abs(t.fa),l=Math.abs(t.Ab);var h=Math.abs(t.Db),d=Math.abs(t.lb),f=d*(s-1)+o;e&=c*(s-1)+o<=t.Fd,e&=l*(u-1)+a<=t.Cd,e=(e&=h*(u-1)+a<=t.Ed)&c>=o&l>=a&h>=a,e&=null!=t.y,e&=null!=t.f,e&=null!=t.ea,12==A&&(e&=d>=o,e&=f<=t.Tc,e&=null!=t.F)}else e=0;t=e?0:2}}return 0!=t||null!=n&&n.fd&&(t=Tn(r)),t}var Dn=64,On=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hn=24,Rn=32,jn=8,Kn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];O("Predictor0","PredictorAdd0"),t.Predictor0=function(){return 4278190080},t.Predictor1=function(t){return t},t.Predictor2=function(t,e,n){return e[n+0]},t.Predictor3=function(t,e,n){return e[n+1]},t.Predictor4=function(t,e,n){return e[n-1]},t.Predictor5=function(t,e,n){return R(R(t,e[n+1]),e[n+0])},t.Predictor6=function(t,e,n){return R(t,e[n-1])},t.Predictor7=function(t,e,n){return R(t,e[n+0])},t.Predictor8=function(t,e,n){return R(e[n-1],e[n+0])},t.Predictor9=function(t,e,n){return R(e[n+0],e[n+1])},t.Predictor10=function(t,e,n){return R(R(t,e[n-1]),R(e[n+0],e[n+1]))},t.Predictor11=function(t,e,n){var r=e[n+0];return 0>=q(r>>24&255,t>>24&255,(e=e[n-1])>>24&255)+q(r>>16&255,t>>16&255,e>>16&255)+q(r>>8&255,t>>8&255,e>>8&255)+q(255&r,255&t,255&e)?r:t},t.Predictor12=function(t,e,n){var r=e[n+0];return(j((t>>24&255)+(r>>24&255)-((e=e[n-1])>>24&255))<<24|j((t>>16&255)+(r>>16&255)-(e>>16&255))<<16|j((t>>8&255)+(r>>8&255)-(e>>8&255))<<8|j((255&t)+(255&r)-(255&e)))>>>0},t.Predictor13=function(t,e,n){var r=e[n-1];return(K((t=R(t,e[n+0]))>>24&255,r>>24&255)<<24|K(t>>16&255,r>>16&255)<<16|K(t>>8&255,r>>8&255)<<8|K(255&t,255&r))>>>0};var qn=t.PredictorAdd0;t.PredictorAdd1=G,O("Predictor2","PredictorAdd2"),O("Predictor3","PredictorAdd3"),O("Predictor4","PredictorAdd4"),O("Predictor5","PredictorAdd5"),O("Predictor6","PredictorAdd6"),O("Predictor7","PredictorAdd7"),O("Predictor8","PredictorAdd8"),O("Predictor9","PredictorAdd9"),O("Predictor10","PredictorAdd10"),O("Predictor11","PredictorAdd11"),O("Predictor12","PredictorAdd12"),O("Predictor13","PredictorAdd13");var Gn=t.PredictorAdd2;X("ColorIndexInverseTransform","MapARGB","32b",function(t){return t>>8&255},function(t){return t}),X("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(t){return t},function(t){return t>>8&255});var Wn,Vn=t.ColorIndexInverseTransform,zn=t.MapARGB,Xn=t.VP8LColorIndexInverseTransformAlpha,Jn=t.MapAlpha,Yn=t.VP8LPredictorsAdd=[];Yn.length=16,(t.VP8LPredictors=[]).length=16,(t.VP8LPredictorsAdd_C=[]).length=16,(t.VP8LPredictors_C=[]).length=16;var Zn,$n,tr,er,nr,rr,Ar,ir,or,sr,ar,cr,lr,ur,hr,dr,fr,pr,gr,mr,wr,yr,br,vr,Br,Cr,_r,xr,Fr=i(511),Sr=i(2041),Er=i(225),Ur=i(767),Ir=0,Qr=Sr,Lr=Er,kr=Ur,Mr=Fr,Pr=0,Tr=1,Nr=2,Dr=3,Or=4,Hr=5,Rr=6,jr=7,Kr=8,qr=9,Gr=10,Wr=[2,3,7],Vr=[3,3,11],zr=[280,256,256,256,40],Xr=[0,1,1,1,0],Jr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Yr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$r=8,tA=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],eA=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],nA=null,rA=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],AA=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],iA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oA=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sA=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],aA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cA=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],lA=[],uA=[],hA=[],dA=1,fA=2,pA=[],gA=[];mn("UpsampleRgbLinePair",Cn,3),mn("UpsampleBgrLinePair",_n,3),mn("UpsampleRgbaLinePair",Un,4),mn("UpsampleBgraLinePair",En,4),mn("UpsampleArgbLinePair",Sn,4),mn("UpsampleRgba4444LinePair",Fn,2),mn("UpsampleRgb565LinePair",xn,2);var mA=t.UpsampleRgbLinePair,wA=t.UpsampleBgrLinePair,yA=t.UpsampleRgbaLinePair,bA=t.UpsampleBgraLinePair,vA=t.UpsampleArgbLinePair,BA=t.UpsampleRgba4444LinePair,CA=t.UpsampleRgb565LinePair,_A=16,xA=1<<_A-1,FA=-227,SA=482,EA=6,UA=(256<<EA)-1,IA=0,QA=i(256),LA=i(256),kA=i(256),MA=i(256),PA=i(SA-FA),TA=i(SA-FA);In("YuvToRgbRow",Cn,3),In("YuvToBgrRow",_n,3),In("YuvToRgbaRow",Un,4),In("YuvToBgraRow",En,4),In("YuvToArgbRow",Sn,4),In("YuvToRgba4444Row",Fn,2),In("YuvToRgb565Row",xn,2);var NA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],DA=[0,2,8],OA=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(t,n,s,a,c){var l=Tr,u=new en,h=new ot;u.ba=h,h.S=l,h.width=[h.width],h.height=[h.height];var d=h.width,f=h.height,p=new st;if(null==p||null==t)var g=2;else e(null!=p),g=Mn(t,n,s,p.width,p.height,p.Pd,p.Qd,p.format,null);if(0!=g?d=0:(null!=d&&(d[0]=p.width[0]),null!=f&&(f[0]=p.height[0]),d=1),d){h.width=h.width[0],h.height=h.height[0],null!=a&&(a[0]=h.width),null!=c&&(c[0]=h.height);t:{if(a=new Wt,(c=new nn).data=t,c.w=n,c.ha=s,c.kd=1,n=[0],e(null!=c),(0==(t=Mn(c.data,c.w,c.ha,null,null,null,n,null,c))||7==t)&&n[0]&&(t=4),0==(n=t)){if(e(null!=u),a.data=c.data,a.w=c.w+c.offset,a.ha=c.ha-c.offset,a.put=dt,a.ac=ht,a.bc=ft,a.ma=u,c.xa){if(null==(t=Et())){u=1;break t}if(function(t,n){var r=[0],A=[0],i=[0];e:for(;;){if(null==t)return 0;if(null==n)return t.a=2,0;if(t.l=n,t.a=0,m(t.m,n.data,n.w,n.ha),!pt(t.m,r,A,i)){t.a=3;break e}if(t.xb=fA,n.width=r[0],n.height=A[0],!Ut(r[0],A[0],1,t,null))break e;return 1}return e(0!=t.a),0}(t,a)){if(a=0==(n=Nn(a.width,a.height,u.Oa,u.ba))){e:{a=t;n:for(;;){if(null==a){a=0;break e}if(e(null!=a.s.yc),e(null!=a.s.Ya),e(0<a.s.Wb),e(null!=(s=a.l)),e(null!=(c=s.ma)),0!=a.xb){if(a.ca=c.ba,a.tb=c.tb,e(null!=a.ca),!Pn(c.Oa,s,Dr)){a.a=2;break n}if(!It(a,s.width))break n;if(s.da)break n;if((s.da||rt(a.ca.S))&&gn(),11>a.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=a.ca.f.kb.F&&gn()),a.Pb&&0<a.s.ua&&null==a.s.vb.X&&!k(a.s.vb,a.s.Wa.Xa)){a.a=1;break n}a.xb=0}if(!Ft(a,a.V,a.Ba,a.c,a.i,s.o,Bt))break n;c.Dc=a.Ma,a=1;break e}e(0!=a.a),a=0}a=!a}a&&(n=t.a)}else n=t.a}else{if(null==(t=new Vt)){u=1;break t}if(t.Fa=c.na,t.P=c.P,t.qc=c.Sa,Jt(t,a)){if(0==(n=Nn(a.width,a.height,u.Oa,u.ba))){if(t.Aa=0,s=u.Oa,e(null!=(c=t)),null!=s){if(0<(d=0>(d=s.Md)?0:100<d?255:255*d/100)){for(f=p=0;4>f;++f)12>(g=c.pb[f]).lc&&(g.ia=d*OA[0>g.lc?0:g.lc]>>3),p|=g.ia;p&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=s.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(t,n){if(null==t)return 0;if(null==n)return zt(t,2,"NULL VP8Io parameter in VP8Decode().");if(!t.cb&&!Jt(t,n))return 0;if(e(t.cb),null==n.ac||n.ac(n)){n.ob&&(t.L=0);var s=DA[t.L];if(2==t.L?(t.yb=0,t.zb=0):(t.yb=n.v-s>>4,t.zb=n.j-s>>4,0>t.yb&&(t.yb=0),0>t.zb&&(t.zb=0)),t.Va=n.o+15+s>>4,t.Hb=n.va+15+s>>4,t.Hb>t.za&&(t.Hb=t.za),t.Va>t.Ub&&(t.Va=t.Ub),0<t.L){var a=t.ed;for(s=0;4>s;++s){var c;if(t.Qa.Cb){var l=t.Qa.Lb[s];t.Qa.Fb||(l+=a.Tb)}else l=a.Tb;for(c=0;1>=c;++c){var u=t.gd[s][c],h=l;if(a.Pc&&(h+=a.vd[0],c&&(h+=a.od[0])),0<(h=0>h?0:63<h?63:h)){var d=h;0<a.wb&&(d=4<a.wb?d>>2:d>>1)>9-a.wb&&(d=9-a.wb),1>d&&(d=1),u.dd=d,u.tc=2*h+d,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}s=0}else zt(t,6,"Frame setup failed"),s=t.a;if(s=0==s){if(s){t.$c=0,0<t.Aa||(t.Ic=1);e:{s=t.Ic,a=4*(d=t.za);var f=32*d,p=d+1,g=0<t.L?d*(0<t.Aa?2:1):0,m=(2==t.Aa?2:1)*d;if((u=a+832+(c=3*(16*s+DA[t.L])/2*f)+(l=null!=t.Fa&&0<t.Fa.length?t.Kc.c*t.Kc.i:0))!=u)s=0;else{if(u>t.Vb){if(t.Vb=0,t.Ec=i(u),t.Fc=0,null==t.Ec){s=zt(t,1,"no memory during frame initialization.");break e}t.Vb=u}u=t.Ec,h=t.Fc,t.Ac=u,t.Bc=h,h+=a,t.Gd=o(f,Kt),t.Hd=0,t.rb=o(p+1,Ot),t.sb=1,t.wa=g?o(g,Dt):null,t.Y=0,t.D.Nb=0,t.D.wa=t.wa,t.D.Y=t.Y,0<t.Aa&&(t.D.Y+=d),e(!0),t.oc=u,t.pc=h,h+=832,t.ya=o(m,Rt),t.aa=0,t.D.ya=t.ya,t.D.aa=t.aa,2==t.Aa&&(t.D.aa+=d),t.R=16*d,t.B=8*d,d=(f=DA[t.L])*t.R,f=f/2*t.B,t.sa=u,t.ta=h+d,t.qa=t.sa,t.ra=t.ta+16*s*t.R+f,t.Ha=t.qa,t.Ia=t.ra+8*s*t.B+f,t.$c=0,h+=c,t.mb=l?u:null,t.nb=l?h:null,e(h+l<=t.Fc+t.Vb),Zt(t),A(t.Ac,t.Bc,0,a),s=1}}if(s){if(n.ka=0,n.y=t.sa,n.O=t.ta,n.f=t.qa,n.N=t.ra,n.ea=t.Ha,n.Vd=t.Ia,n.fa=t.R,n.Rc=t.B,n.F=null,n.J=0,!Ir){for(s=-255;255>=s;++s)Fr[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)Sr[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)Er[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)Ur[255+s]=0>s?0:255<s?255:s;Ir=1}Ar=ae,ir=Ae,sr=ie,ar=oe,cr=se,or=re,lr=Ve,ur=ze,hr=Ye,dr=Ze,fr=Xe,pr=Je,gr=$e,mr=tn,wr=Re,yr=je,br=Ke,vr=qe,uA[0]=Ce,uA[1]=le,uA[2]=ve,uA[3]=Be,uA[4]=_e,uA[5]=Fe,uA[6]=xe,uA[7]=Se,uA[8]=Ue,uA[9]=Ee,lA[0]=ge,lA[1]=he,lA[2]=de,lA[3]=fe,lA[4]=me,lA[5]=we,lA[6]=ye,hA[0]=ke,hA[1]=ue,hA[2]=Ie,hA[3]=Qe,hA[4]=Pe,hA[5]=Me,hA[6]=Te,s=1}else s=0}s&&(s=function(t,n){for(t.M=0;t.M<t.Va;++t.M){var o,s=t.Jc[t.M&t.Xb],a=t.m,c=t;for(o=0;o<c.za;++o){var l=a,u=c,h=u.Ac,d=u.Bc+4*o,f=u.zc,p=u.ya[u.aa+o];if(u.Qa.Bb?p.$b=E(l,u.Pa.jb[0])?2+E(l,u.Pa.jb[2]):E(l,u.Pa.jb[1]):p.$b=0,u.kc&&(p.Ad=E(l,u.Bd)),p.Za=!E(l,145)+0,p.Za){var g=p.Ob,m=0;for(u=0;4>u;++u){var w,y=f[0+u];for(w=0;4>w;++w){y=sA[h[d+w]][y];for(var b=iA[E(l,y[0])];0<b;)b=iA[2*b+E(l,y[b])];y=-b,h[d+w]=y}r(g,m,h,d,4),m+=4,f[0+u]=y}}else y=E(l,156)?E(l,128)?1:3:E(l,163)?2:0,p.Ob[0]=y,A(h,d,y,4),A(f,0,y,4);p.Dd=E(l,142)?E(l,114)?E(l,183)?1:3:2:0}if(c.m.Ka)return zt(t,7,"Premature end-of-partition0 encountered.");for(;t.ja<t.za;++t.ja){if(c=s,l=(a=t).rb[a.sb-1],h=a.rb[a.sb+a.ja],o=a.ya[a.aa+a.ja],d=a.kc?o.Ad:0)l.la=h.la=0,o.Za||(l.Na=h.Na=0),o.Hc=0,o.Gc=0,o.ia=0;else{var v,B;if(l=h,h=c,d=a.Pa.Xc,f=a.ya[a.aa+a.ja],p=a.pb[f.$b],u=f.ad,g=0,m=a.rb[a.sb-1],y=w=0,A(u,g,0,384),f.Za)var C=0,_=d[3];else{b=i(16);var x=l.Na+m.Na;if(x=nA(h,d[1],x,p.Eb,0,b,0),l.Na=m.Na=(0<x)+0,1<x)Ar(b,0,u,g);else{var F=b[0]+3>>3;for(b=0;256>b;b+=16)u[g+b]=F}C=1,_=d[0]}var S=15&l.la,U=15&m.la;for(b=0;4>b;++b){var I=1&U;for(F=B=0;4>F;++F)S=S>>1|(I=(x=nA(h,_,x=I+(1&S),p.Sc,C,u,g))>C)<<7,B=B<<2|(3<x?3:1<x?2:0!=u[g+0]),g+=16;S>>=4,U=U>>1|I<<7,w=(w<<8|B)>>>0}for(_=S,C=U>>4,v=0;4>v;v+=2){for(B=0,S=l.la>>4+v,U=m.la>>4+v,b=0;2>b;++b){for(I=1&U,F=0;2>F;++F)x=I+(1&S),S=S>>1|(I=0<(x=nA(h,d[2],x,p.Qc,0,u,g)))<<3,B=B<<2|(3<x?3:1<x?2:0!=u[g+0]),g+=16;S>>=2,U=U>>1|I<<5}y|=B<<4*v,_|=S<<4<<v,C|=(240&U)<<v}l.la=_,m.la=C,f.Hc=w,f.Gc=y,f.ia=43690&y?0:p.ia,d=!(w|y)}if(0<a.L&&(a.wa[a.Y+a.ja]=a.gd[o.$b][o.Za],a.wa[a.Y+a.ja].La|=!d),c.Ka)return zt(t,7,"Premature end-of-file encountered.")}if(Zt(t),a=n,c=1,o=(s=t).D,l=0<s.L&&s.M>=s.zb&&s.M<=s.Va,0==s.Aa)e:{if(o.M=s.M,o.uc=l,kn(s,o),c=1,o=(B=s.D).Nb,l=(y=DA[s.L])*s.R,h=y/2*s.B,b=16*o*s.R,F=8*o*s.B,d=s.sa,f=s.ta-l+b,p=s.qa,u=s.ra-h+F,g=s.Ha,m=s.Ia-h+F,U=0==(S=B.M),w=S>=s.Va-1,2==s.Aa&&kn(s,B),B.uc)for(I=(x=s).D.M,e(x.D.uc),B=x.yb;B<x.Hb;++B){C=B,_=I;var Q=(L=(R=x).D).Nb;v=R.R;var L=L.wa[L.Y+C],k=R.sa,M=R.ta+16*Q*v+16*C,P=L.dd,T=L.tc;if(0!=T)if(e(3<=T),1==R.L)0<C&&yr(k,M,v,T+4),L.La&&vr(k,M,v,T),0<_&&wr(k,M,v,T+4),L.La&&br(k,M,v,T);else{var N=R.B,D=R.qa,O=R.ra+8*Q*N+8*C,H=R.Ha,R=R.Ia+8*Q*N+8*C;Q=L.ld,0<C&&(ur(k,M,v,T+4,P,Q),dr(D,O,H,R,N,T+4,P,Q)),L.La&&(pr(k,M,v,T,P,Q),mr(D,O,H,R,N,T,P,Q)),0<_&&(lr(k,M,v,T+4,P,Q),hr(D,O,H,R,N,T+4,P,Q)),L.La&&(fr(k,M,v,T,P,Q),gr(D,O,H,R,N,T,P,Q))}}if(s.ia&&alert("todo:DitherRow"),null!=a.put){if(B=16*S,S=16*(S+1),U?(a.y=s.sa,a.O=s.ta+b,a.f=s.qa,a.N=s.ra+F,a.ea=s.Ha,a.W=s.Ia+F):(B-=y,a.y=d,a.O=f,a.f=p,a.N=u,a.ea=g,a.W=m),w||(S-=y),S>a.o&&(S=a.o),a.F=null,a.J=null,null!=s.Fa&&0<s.Fa.length&&B<S&&(a.J=un(s,a,B,S-B),a.F=s.mb,null==a.F&&0==a.F.length)){c=zt(s,3,"Could not decode alpha data.");break e}B<a.j&&(y=a.j-B,B=a.j,e(!(1&y)),a.O+=s.R*y,a.N+=s.B*(y>>1),a.W+=s.B*(y>>1),null!=a.F&&(a.J+=a.width*y)),B<S&&(a.O+=a.v,a.N+=a.v>>1,a.W+=a.v>>1,null!=a.F&&(a.J+=a.v),a.ka=B-a.j,a.U=a.va-a.v,a.T=S-B,c=a.put(a))}o+1!=s.Ic||w||(r(s.sa,s.ta-l,d,f+16*s.R,l),r(s.qa,s.ra-h,p,u+8*s.B,h),r(s.Ha,s.Ia-h,g,m+8*s.B,h))}if(!c)return zt(t,6,"Output aborted.")}return 1}(t,n)),null!=n.bc&&n.bc(n),s&=1}return s?(t.cb=0,s):0})(t,a)||(n=t.a)}}else n=t.a}0==n&&null!=u.Oa&&u.Oa.fd&&(n=Tn(u.ba))}u=n}l=0!=u?null:11>l?h.f.RGBA.eb:h.f.kb.y}else l=null;return l};var HA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(t,e){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(t[e++]);return n}function l(t,e){return t[e+0]|t[e+1]<<8}function u(t,e){return(t[e+0]|t[e+1]<<8|t[e+2]<<16)>>>0}function h(t,e){return(t[e+0]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}new a;var d=[0],f=[0],p=[],g=new a,m=t,w=function(t,e){var n={},r=0,A=!1,i=0,o=0;if(n.frames=[],!function(t,e){for(var n=0;n<4;n++)if(t[e+n]!="RIFF".charCodeAt(n))return!0;return!1}(t,e)){for(h(t,e+=4),e+=8;e<t.length;){var s=c(t,e),a=h(t,e+=4);e+=4;var d=a+(1&a);switch(s){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=A?o:e-8,g.src_size=i+a+8,r++,A&&(A=!1,i=0,o=0);break;case"VP8X":(g=n.header={}).feature_flags=t[e];var f=e+4;g.canvas_width=1+u(t,f),f+=3,g.canvas_height=1+u(t,f),f+=3;break;case"ALPH":A=!0,i=d+8,o=e-8;break;case"ANIM":(g=n.header).bgcolor=h(t,e),f=e+4,g.loop_count=l(t,f),f+=2;break;case"ANMF":var p,g;(g=n.frames[r]={}).offset_x=2*u(t,e),e+=3,g.offset_y=2*u(t,e),e+=3,g.width=1+u(t,e),e+=3,g.height=1+u(t,e),e+=3,g.duration=u(t,e),e+=3,p=t[e++],g.dispose=1&p,g.blend=p>>1&1}"ANMF"!=s&&(e+=d)}return n}}(m,0);w.response=m,w.rgbaoutput=!0,w.dataurl=!1;var y=w.header?w.header:null,b=w.frames?w.frames:null;if(y){y.loop_counter=y.loop_count,d=[y.canvas_height],f=[y.canvas_width];for(var v=0;v<b.length&&0!=b[v].blend;v++);}var B=b[0],C=g.WebPDecodeRGBA(m,B.src_off,B.src_size,f,d);B.rgba=C,B.imgwidth=f[0],B.imgheight=d[0];for(var _=0;_<f[0]*d[0]*4;_++)p[_]=C[_];return this.width=f,this.height=d,this.data=p,this}!function(t){var e,n,r,A,i,o,s,a,c,l=function(t){return t=t||{},this.isStrokeTransparent=t.isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new a,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new o,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new o,this.lineDashOffset=t.lineDashOffset||0,this.lineDash=t.lineDash||[],this.margin=t.margin||[0,0,0,0],this.prevPageLastElemOffset=t.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new u(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,A=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,a=this.internal.Matrix,c=new l}]);var u=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var e=t;Object.defineProperty(this,"pdf",{get:function(){return e}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(t){n=Boolean(t)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(t){r=Boolean(t)}});var A=0;Object.defineProperty(this,"posX",{get:function(){return A},set:function(t){isNaN(t)||(A=t)}});var i=0;Object.defineProperty(this,"posY",{get:function(){return i},set:function(t){isNaN(t)||(i=t)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(t){var e;"number"==typeof t?e=[t,t,t,t]:((e=new Array(4))[0]=t[0],e[1]=t.length>=2?t[1]:e[0],e[2]=t.length>=3?t[2]:e[0],e[3]=t.length>=4?t[3]:e[1]),c.margin=e}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(t){o=t}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(t){s=t}});var a=[];Object.defineProperty(this,"pageBreaks",{get:function(){return a},set:function(t){a=t}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(t){t instanceof l&&(c=t)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(t){c.path=t}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(t){u=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=h(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=h(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):(e.a,this.pdf.setDrawColor(e.r,e.g,e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}});var d=null,f=null;Object.defineProperty(this,"fontFaces",{get:function(){return f},set:function(t){d=null,f=t}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var n=e[1];e[2];var r=e[3],A=e[4];e[5];var i=e[6],o=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(A)[2];A="px"===o?Math.floor(parseFloat(A)*this.pdf.internal.scaleFactor):"em"===o?Math.floor(parseFloat(A)*this.pdf.getFontSize()):Math.floor(parseFloat(A)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(A);var s=function(t){var e,n,r=[],A=t.trim();if(""===A)return _o;if(A in lo)return[lo[A]];for(;""!==A;){switch(n=null,e=(A=ho(A)).charAt(0)){case'"':case"'":n=fo(A.substring(1),e);break;default:n=po(A)}if(null===n)return _o;if(r.push(n[0]),""!==(A=ho(n[1]))&&","!==A.charAt(0))return _o;A=A.replace(/^,/,"")}return r}(i);if(this.fontFaces){var a=function(t,e){if(null===d){var n=function(t){var e=[];return Object.keys(t).forEach(function(n){t[n].forEach(function(t){var r=null;switch(t){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:t},e.push(r))})}),e}(t.getFontList());d=function(t){for(var e={},n=0;n<t.length;++n){var r=so(t[n]),A=r.family,i=r.stretch,o=r.style,s=r.weight;e[A]=e[A]||{},e[A][i]=e[A][i]||{},e[A][i][o]=e[A][i][o]||{},e[A][i][o][s]=r}return e}(n.concat(e))}return d}(this.pdf,this.fontFaces),c=s.map(function(t){return{family:t,stretch:"normal",weight:r,style:n}}),l=function(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",A=Object.assign({},co,n.genericFontFamilies||{}),i=null,o=null,s=0;s<e.length;++s)if(A[(i=so(e[s])).family]&&(i.family=A[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+uo(i)+"' and default family '"+r+"'.");if(o=function(t,e){if(e[t])return e[t];var n=Ao[t],r=n<=Ao.normal?-1:1,A=ao(e,ro,n,r);if(!A)throw new Error("Could not find a matching font-stretch value for "+t);return A}(i.stretch,o),o=function(t,e){if(e[t])return e[t];for(var n=no[t],r=0;r<n.length;++r)if(e[n[r]])return e[n[r]];throw new Error("Could not find a matching font-style for "+t)}(i.style,o),!(o=function(t,e){if(e[t])return e[t];if(400===t&&e[500])return e[500];if(500===t&&e[400])return e[400];var n=oo[t],r=ao(e,io,n,t<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+t);return r}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+uo(i)+"'.");return o}(a,c);this.pdf.setFont(l.ref.name,l.ref.style)}else{var u="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(u="bold"),"italic"===n&&(u+="italic"),0===u.length&&(u="normal");for(var h="",f={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},p=0;p<s.length;p++){if(void 0!==this.pdf.internal.getFont(s[p],u,{noFallback:!0,disableWarning:!0})){h=s[p];break}if("bolditalic"===u&&void 0!==this.pdf.internal.getFont(s[p],"bold",{noFallback:!0,disableWarning:!0}))h=s[p],u="bold";else if(void 0!==this.pdf.internal.getFont(s[p],"normal",{noFallback:!0,disableWarning:!0})){h=s[p],u="normal";break}}if(""===h)for(var g=0;g<s.length;g++)if(f[s[g]]){h=f[s[g]];break}h=""===h?"Times":h,this.pdf.setFont(h,u)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(t){this.ctx.lineDashOffset=t,N.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(t){this.ctx.lineDash=t,N.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};u.prototype.setLineDash=function(t){this.lineDash=t},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){b.call(this,"fill",!1)},u.prototype.stroke=function(){b.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw PA.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new o(t,e));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(t,e)},u.prototype.closePath=function(){var t=new o(0,0),e=0;for(e=this.path.length-1;-1!==e;e--)if("begin"===this.path[e].type&&"object"===(0,X.A)(this.path[e+1])&&"number"==typeof this.path[e+1].x){t=new o(this.path[e+1].x,this.path[e+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(t.x,t.y)},u.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw PA.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new o(t,e));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},u.prototype.quadraticCurveTo=function(t,e,n,r){if(isNaN(n)||isNaN(r)||isNaN(t)||isNaN(e))throw PA.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var A=this.ctx.transform.applyToPoint(new o(n,r)),i=this.ctx.transform.applyToPoint(new o(t,e));this.path.push({type:"qct",x1:i.x,y1:i.y,x:A.x,y:A.y}),this.ctx.lastPoint=new o(A.x,A.y)},u.prototype.bezierCurveTo=function(t,e,n,r,A,i){if(isNaN(A)||isNaN(i)||isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw PA.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new o(A,i)),a=this.ctx.transform.applyToPoint(new o(t,e)),c=this.ctx.transform.applyToPoint(new o(n,r));this.path.push({type:"bct",x1:a.x,y1:a.y,x2:c.x,y2:c.y,x:s.x,y:s.y}),this.ctx.lastPoint=new o(s.x,s.y)},u.prototype.arc=function(t,e,n,r,A,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(A))throw PA.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(i=Boolean(i),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new o(t,e));t=s.x,e=s.y;var a=this.ctx.transform.applyToPoint(new o(0,n)),c=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt(Math.pow(a.x-c.x,2)+Math.pow(a.y-c.y,2))}Math.abs(A-r)>=2*Math.PI&&(r=0,A=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:n,startAngle:r,endAngle:A,counterclockwise:i})},u.prototype.arcTo=function(t,e,n,r,A){throw new Error("arcTo not implemented.")},u.prototype.rect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw PA.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.lineTo(t+n,e),this.lineTo(t,e)},u.prototype.fillRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw PA.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var A={};"butt"!==this.lineCap&&(A.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(A.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,n,r),this.fill(),A.hasOwnProperty("lineCap")&&(this.lineCap=A.lineCap),A.hasOwnProperty("lineJoin")&&(this.lineJoin=A.lineJoin)}},u.prototype.strokeRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw PA.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(t,e,n,r),this.stroke())},u.prototype.clearRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw PA.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,n,r))},u.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new l(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(t){var e,n,r,A;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))e=0,n=0,r=0,A=0;else{var i=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==i)e=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),A=1;else if(null!==(i=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(t)))e=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),A=parseFloat(i[4]);else{if(A=1,"string"==typeof t&&"#"!==t.charAt(0)){var o=new HA(t);t=o.ok?o.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,n=t.substring(2,3),n+=n,r=t.substring(3,4),r+=r):(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7)),e=parseInt(e,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:e,g:n,b:r,a:A,style:t}},d=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw PA.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!d.call(this)){var A=M(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;E.call(this,{text:t,x:e,y:n,scale:i,angle:A,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw PA.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){r=isNaN(r)?void 0:r;var A=M(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;E.call(this,{text:t,x:e,y:n,scale:i,renderingMode:"stroke",angle:A,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(t){if("string"!=typeof t)throw PA.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,n=this.pdf.internal.scaleFactor,r=e.internal.getFontSize(),A=e.getStringUnitWidth(t)*r/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this}({width:A*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw PA.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new a(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(t){if(isNaN(t))throw PA.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new a(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},u.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw PA.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new a(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(t,e,n,r,A,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(A)||isNaN(i))throw PA.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var o=new a(t,e,n,r,A,i);this.ctx.transform=this.ctx.transform.multiply(o)},u.prototype.setTransform=function(t,e,n,r,A,i){t=isNaN(t)?1:t,e=isNaN(e)?0:e,n=isNaN(n)?0:n,r=isNaN(r)?1:r,A=isNaN(A)?0:A,i=isNaN(i)?0:i,this.ctx.transform=new a(t,e,n,r,A,i)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(t,e,n,r,A,i,o,c,l){var u=this.pdf.getImageProperties(t),h=1,d=1,f=1,m=1;void 0!==r&&void 0!==c&&(f=c/r,m=l/A,h=u.width/r*c/r,d=u.height/A*l/A),void 0===i&&(i=e,o=n,e=0,n=0),void 0!==r&&void 0===c&&(c=r,l=A),void 0===r&&void 0===c&&(c=u.width,l=u.height);for(var b,B=this.ctx.transform.decompose(),C=M(B.rotate.shx),_=new a,x=(_=(_=(_=_.multiply(B.translate)).multiply(B.skew)).multiply(B.scale)).applyToRectangle(new s(i-e*f,o-n*m,r*h,A*d)),F=g.call(this,x),S=[],E=0;E<F.length;E+=1)-1===S.indexOf(F[E])&&S.push(F[E]);if(y(S),this.autoPaging)for(var U=S[0],I=S[S.length-1],Q=U;Q<I+1;Q++){this.pdf.setPage(Q);var L=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],k=1===Q?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],T=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],N=1===Q?0:P+(Q-2)*T;if(0!==this.ctx.clip_path.length){var D=this.path;b=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(b,this.posX+this.margin[3],-N+k+this.ctx.prevPageLastElemOffset),v.call(this,"fill",!0),this.path=D}var O=JSON.parse(JSON.stringify(x));O=w([O],this.posX+this.margin[3],-N+k+this.ctx.prevPageLastElemOffset)[0];var H=(Q>U||Q<I)&&p.call(this);H&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,T,null).clip().discardPath()),this.pdf.addImage(t,"JPEG",O.x,O.y,O.w,O.h,null,null,C),H&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(t,"JPEG",x.x,x.y,x.w,x.h,null,null,C)};var g=function(t,e,n){var r=[];e=e||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var A=this.posY+this.ctx.prevPageLastElemOffset;switch(t.type){default:case"mt":case"lt":r.push(Math.floor((t.y+A)/n)+1);break;case"arc":r.push(Math.floor((t.y+A-t.radius)/n)+1),r.push(Math.floor((t.y+A+t.radius)/n)+1);break;case"qct":var i=P(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);r.push(Math.floor((i.y+A)/n)+1),r.push(Math.floor((i.y+i.h+A)/n)+1);break;case"bct":var o=T(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);r.push(Math.floor((o.y+A)/n)+1),r.push(Math.floor((o.y+o.h+A)/n)+1);break;case"rect":r.push(Math.floor((t.y+A)/n)+1),r.push(Math.floor((t.y+t.h+A)/n)+1)}for(var s=0;s<r.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<r[s];)m.call(this);return r},m=function(){var t=this.fillStyle,e=this.strokeStyle,n=this.font,r=this.lineCap,A=this.lineWidth,i=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=n,this.lineCap=r,this.lineWidth=A,this.lineJoin=i},w=function(t,e,n){for(var r=0;r<t.length;r++)switch(t[r].type){case"bct":t[r].x2+=e,t[r].y2+=n;case"qct":t[r].x1+=e,t[r].y1+=n;default:t[r].x+=e,t[r].y+=n}return t},y=function(t){return t.sort(function(t,e){return t-e})},b=function(t,e){for(var n,r,A=this.fillStyle,i=this.strokeStyle,o=this.lineCap,s=this.lineWidth,a=Math.abs(s*this.ctx.transform.scaleX),c=this.lineJoin,l=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],d=0;d<u.length;d++)if(void 0!==u[d].x)for(var f=g.call(this,u[d]),b=0;b<f.length;b+=1)-1===h.indexOf(f[b])&&h.push(f[b]);for(var B=0;B<h.length;B++)for(;this.pdf.internal.getNumberOfPages()<h[B];)m.call(this);if(y(h),this.autoPaging)for(var C=h[0],_=h[h.length-1],x=C;x<_+1;x++){this.pdf.setPage(x),this.fillStyle=A,this.strokeStyle=i,this.lineCap=o,this.lineWidth=a,this.lineJoin=c;var F=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],S=1===x?this.posY+this.margin[0]:this.margin[0],E=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],U=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],I=1===x?0:E+(x-2)*U;if(0!==this.ctx.clip_path.length){var Q=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(n,this.posX+this.margin[3],-I+S+this.ctx.prevPageLastElemOffset),v.call(this,t,!0),this.path=Q}if(r=JSON.parse(JSON.stringify(l)),this.path=w(r,this.posX+this.margin[3],-I+S+this.ctx.prevPageLastElemOffset),!1===e||0===x){var L=(x>C||x<_)&&p.call(this);L&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],F,U,null).clip().discardPath()),v.call(this,t,e),L&&this.pdf.restoreGraphicsState()}this.lineWidth=s}else this.lineWidth=a,v.call(this,t,e),this.lineWidth=s;this.path=l},v=function(t,e){if(("stroke"!==t||e||!f.call(this))&&("stroke"===t||e||!d.call(this))){for(var n,r,A=[],i=this.path,o=0;o<i.length;o++){var s=i[o];switch(s.type){case"begin":A.push({begin:!0});break;case"close":A.push({close:!0});break;case"mt":A.push({start:s,deltas:[],abs:[]});break;case"lt":var a=A.length;if(i[o-1]&&!isNaN(i[o-1].x)&&(n=[s.x-i[o-1].x,s.y-i[o-1].y],a>0))for(;a>=0;a--)if(!0!==A[a-1].close&&!0!==A[a-1].begin){A[a-1].deltas.push(n),A[a-1].abs.push(s);break}break;case"bct":n=[s.x1-i[o-1].x,s.y1-i[o-1].y,s.x2-i[o-1].x,s.y2-i[o-1].y,s.x-i[o-1].x,s.y-i[o-1].y],A[A.length-1].deltas.push(n);break;case"qct":var c=i[o-1].x+2/3*(s.x1-i[o-1].x),l=i[o-1].y+2/3*(s.y1-i[o-1].y),u=s.x+2/3*(s.x1-s.x),h=s.y+2/3*(s.y1-s.y),p=s.x,g=s.y;n=[c-i[o-1].x,l-i[o-1].y,u-i[o-1].x,h-i[o-1].y,p-i[o-1].x,g-i[o-1].y],A[A.length-1].deltas.push(n);break;case"arc":A.push({deltas:[],abs:[],arc:!0}),Array.isArray(A[A.length-1].abs)&&A[A.length-1].abs.push(s)}}r=e?null:"stroke"===t?"stroke":"fill";for(var m=!1,w=0;w<A.length;w++)if(A[w].arc)for(var y=A[w].abs,b=0;b<y.length;b++){var v=y[b];"arc"===v.type?_.call(this,v.x,v.y,v.radius,v.startAngle,v.endAngle,v.counterclockwise,void 0,e,!m):U.call(this,v.x,v.y),m=!0}else if(!0===A[w].close)this.pdf.internal.out("h"),m=!1;else if(!0!==A[w].begin){var B=A[w].start.x,C=A[w].start.y;I.call(this,A[w].deltas,B,C),m=!0}r&&x.call(this,r),e&&F.call(this)}},B=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-n;case"top":return t+e-n;case"hanging":return t+e-2*n;case"middle":return t+e/2-n;default:return t}},C=function(t){return t+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(t,e,n,r,A,i,o,s,a){for(var c=L.call(this,n,r,A,i),l=0;l<c.length;l++){var u=c[l];0===l&&(a?S.call(this,u.x1+t,u.y1+e):U.call(this,u.x1+t,u.y1+e)),Q.call(this,t,e,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}s?F.call(this):x.call(this,o)},x=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(t,e){this.pdf.internal.out(n(t)+" "+r(e)+" m")},E=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;default:e="left"}var n=this.pdf.getTextDimensions(t.text),r=B.call(this,t.y),A=C.call(this,r)-n.h,i=this.ctx.transform.applyToPoint(new o(t.x,r)),c=this.ctx.transform.decompose(),l=new a;l=(l=(l=l.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var u,h,d,f=this.ctx.transform.applyToRectangle(new s(t.x,r,n.w,n.h)),m=l.applyToRectangle(new s(t.x,A,n.w,n.h)),b=g.call(this,m),_=[],x=0;x<b.length;x+=1)-1===_.indexOf(b[x])&&_.push(b[x]);if(y(_),this.autoPaging)for(var F=_[0],S=_[_.length-1],E=F;E<S+1;E++){this.pdf.setPage(E);var U=1===E?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Q=this.pdf.internal.pageSize.height-this.margin[2],L=Q-this.margin[0],k=this.pdf.internal.pageSize.width-this.margin[1],M=k-this.margin[3],P=1===E?0:I+(E-2)*L;if(0!==this.ctx.clip_path.length){var T=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(u,this.posX+this.margin[3],-1*P+U),v.call(this,"fill",!0),this.path=T}var N=w([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-P+U+this.ctx.prevPageLastElemOffset)[0];t.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*t.scale),d=this.lineWidth,this.lineWidth=d*t.scale);var D="text"!==this.autoPaging;if(D||N.y+N.h<=Q){if(D||N.y>=U&&N.x<=k){var O=D?t.text:this.pdf.splitTextToSize(t.text,t.maxWidth||k-N.x)[0],H=w([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-P+U+this.ctx.prevPageLastElemOffset)[0],R=D&&(E>F||E<S)&&p.call(this);R&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],M,L,null).clip().discardPath()),this.pdf.text(O,H.x,H.y,{angle:t.angle,align:e,renderingMode:t.renderingMode}),R&&this.pdf.restoreGraphicsState()}}else N.y<Q&&(this.ctx.prevPageLastElemOffset+=Q-N.y);t.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=d)}else t.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*t.scale),d=this.lineWidth,this.lineWidth=d*t.scale),this.pdf.text(t.text,i.x+this.posX,i.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),t.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=d)},U=function(t,e,A,i){A=A||0,i=i||0,this.pdf.internal.out(n(t+A)+" "+r(e+i)+" l")},I=function(t,e,n){return this.pdf.lines(t,e,n,null,null)},Q=function(t,n,r,o,s,a,c,l){this.pdf.internal.out([e(A(r+t)),e(i(o+n)),e(A(s+t)),e(i(a+n)),e(A(c+t)),e(i(l+n)),"c"].join(" "))},L=function(t,e,n,r){for(var A=2*Math.PI,i=Math.PI/2;e>n;)e-=A;var o=Math.abs(n-e);o<A&&r&&(o=A-o);for(var s=[],a=r?-1:1,c=e;o>1e-5;){var l=c+a*Math.min(o,i);s.push(k.call(this,t,c,l)),o-=Math.abs(l-c),c=l}return s},k=function(t,e,n){var r=(n-e)/2,A=t*Math.cos(r),i=t*Math.sin(r),o=A,s=-i,a=o*o+s*s,c=a+o*A+s*i,l=4/3*(Math.sqrt(2*a*c)-c)/(o*i-s*A),u=o-l*s,h=s+l*o,d=u,f=-h,p=r+e,g=Math.cos(p),m=Math.sin(p);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:u*g-h*m,y2:u*m+h*g,x3:d*g-f*m,y3:d*m+f*g,x4:t*Math.cos(n),y4:t*Math.sin(n)}},M=function(t){return 180*t/Math.PI},P=function(t,e,n,r,A,i){var o=t+.5*(n-t),a=e+.5*(r-e),c=A+.5*(n-A),l=i+.5*(r-i),u=Math.min(t,A,o,c),h=Math.max(t,A,o,c),d=Math.min(e,i,a,l),f=Math.max(e,i,a,l);return new s(u,d,h-u,f-d)},T=function(t,e,n,r,A,i,o,a){var c,l,u,h,d,f,p,g,m,w,y,b,v,B,C=n-t,_=r-e,x=A-n,F=i-r,S=o-A,E=a-i;for(l=0;l<41;l++)m=(p=(u=t+(c=l/40)*C)+c*((d=n+c*x)-u))+c*(d+c*(A+c*S-d)-p),w=(g=(h=e+c*_)+c*((f=r+c*F)-h))+c*(f+c*(i+c*E-f)-g),0==l?(y=m,b=w,v=m,B=w):(y=Math.min(y,m),b=Math.min(b,w),v=Math.max(v,m),B=Math.max(B,w));return new s(Math.round(y),Math.round(b),Math.round(v-y),Math.round(B-b))},N=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var t,e,n=(t=this.ctx.lineDash,e=this.ctx.lineDashOffset,JSON.stringify({lineDash:t,lineDashOffset:e}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(hi.API),function(t){var e=function(t){var e,n,r,A,i,o,s,a,c,l;for(/[^\x00-\xFF]/.test(t),n=[],r=0,A=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;A>r;r+=4)0!==(i=(t.charCodeAt(r)<<24)+(t.charCodeAt(r+1)<<16)+(t.charCodeAt(r+2)<<8)+t.charCodeAt(r+3))?(o=(i=((i=((i=((i=(i-(l=i%85))/85)-(c=i%85))/85)-(a=i%85))/85)-(s=i%85))/85)%85,n.push(o+33,s+33,a+33,c+33,l+33)):n.push(122);return function(t,e){for(var n=e;n>0;n--)t.pop()}(n,e.length),String.fromCharCode.apply(String,n)+"~>"},n=function(t){var e,n,r,A,i,o=String,s="length",a=255,c="charCodeAt",l="slice",u="replace";for(t[l](-2),t=t[l](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],A=0,i=(t+=e="uuuuu"[l](t[s]%5||5))[s];i>A;A+=5)n=52200625*(t[c](A)-33)+614125*(t[c](A+1)-33)+7225*(t[c](A+2)-33)+85*(t[c](A+3)-33)+(t[c](A+4)-33),r.push(a&n>>24,a&n>>16,a&n>>8,a&n);return function(t,e){for(var n=e;n>0;n--)t.pop()}(r,e[s]),o.fromCharCode.apply(o,r)},r=function(t){return t.split("").map(function(t){return("0"+t.charCodeAt().toString(16)).slice(-2)}).join("")+">"},A=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var n="",r=0;r<t.length;r+=2)n+=String.fromCharCode("0x"+(t[r]+t[r+1]));return n},i=function(t){for(var e=new Uint8Array(t.length),n=t.length;n--;)e[n]=t.charCodeAt(n);return(e=It(e)).reduce(function(t,e){return t+String.fromCharCode(e)},"")};t.processDataByFilters=function(t,o){var s=0,a=t||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":a=n(a),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=e(a),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=A(a),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=r(a),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=i(a),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:a,reverseChain:c.reverse().join(" ")}}}(hi.API),function(t){t.loadFile=function(t,e,n){return function(t,e,n){e=!1!==e,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(t,e,n){var r=new XMLHttpRequest,A=0,i=function(t){var e=t.length,n=[],r=String.fromCharCode;for(A=0;A<e;A+=1)n.push(r(255&t.charCodeAt(A)));return n.join("")};if(r.open("GET",t,!e),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(r.onload=function(){200===r.status?n(i(this.responseText)):n(void 0)}),r.send(null),e&&200===r.status)return i(r.responseText)}(t,e,n)}catch(t){}return r}(t,e,n)},t.loadImageFile=t.loadFile}(hi.API),function(t){function e(){return(kA.html2canvas?Promise.resolve(kA.html2canvas):Promise.resolve().then(n.t.bind(n,354,23))).catch(function(t){return Promise.reject(new Error("Could not load html2canvas: "+t))}).then(function(t){return t.default?t.default:t})}function r(){return(kA.DOMPurify?Promise.resolve(kA.DOMPurify):n.e(418).then(n.bind(n,9418))).catch(function(t){return Promise.reject(new Error("Could not load dompurify: "+t))}).then(function(t){return t.default?t.default:t})}var A=function(t){var e=(0,X.A)(t);return"undefined"===e?"undefined":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===e?"object":"unknown"},i=function(t,e){var n=document.createElement(t);for(var r in e.className&&(n.className=e.className),e.innerHTML&&e.dompurify&&(n.innerHTML=e.dompurify.sanitize(e.innerHTML)),e.style)n.style[r]=e.style[r];return n},o=function t(e,n){for(var r=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),A=e.firstChild;A;A=A.nextSibling)!0!==n&&1===A.nodeType&&"SCRIPT"===A.nodeName||r.appendChild(t(A,n));return 1===e.nodeType&&("CANVAS"===e.nodeName?(r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(r.value=e.value),r.addEventListener("load",function(){r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft},!0)),r},s=function t(e){var n=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),r=t.convert(Promise.resolve(),n);return(r=r.setProgress(1,t,1,[t])).set(e)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(t,e){return t.__proto__=e||s.prototype,t},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(t,e){return this.then(function(){switch(e=e||function(t){switch(A(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(t),e){case"string":return this.then(r).then(function(e){return this.set({src:i("div",{innerHTML:t,dompurify:e})})});case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}})},s.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var t={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},e=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(e).then(function(t){var e=Object.assign({},this.opt.html2canvas);return delete e.onrendered,t(this.prop.container,e)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(e).then(function(t){var e=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,e.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,e.context2d.posX=this.opt.x,e.context2d.posY=this.opt.y,e.context2d.margin=this.opt.margin,e.context2d.fontFaces=n,n)for(var i=0;i<n.length;++i){var o=n[i],s=o.src.find(function(t){return"truetype"===t.format});s&&e.addFont(s.url,o.ref.name,o.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=0==A.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,e.context2d.save(!0),t(this.prop.container,A)}).then(function(t){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(t,e,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},s.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(t,e)})},s.prototype.outputImg=function(t){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}})},s.prototype.save=function(t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(t){if("object"!==A(t))return this;var e=Object.keys(t||{}).map(function(e){if(e in s.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}},this);return this.then(function(){return this.thenList(e)})},s.prototype.get=function(t,e){return this.then(function(){var n=t in s.template.prop?this.prop[t]:this.opt[t];return e?e(n):n})},s.prototype.setMargin=function(t){return this.then(function(){switch(A(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t}).then(this.setPageSize)},s.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then(function(){(t=t||hi.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t})},s.prototype.setProgress=function(t,e,n,r){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(t,e,n,r){return this.setProgress(t?this.progress.val+t:null,e||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},s.prototype.then=function(t,e){var n=this;return this.thenCore(t,e,function(t,e){return n.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,function(e){return n.updateProgress(null,t),e}).then(t,e).then(function(t){return n.updateProgress(1),t})})},s.prototype.thenCore=function(t,e,n){n=n||Promise.prototype.then;var r=this;t&&(t=t.bind(r)),e&&(e=e.bind(r));var A=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:s.convert(Object.assign({},r),Promise.prototype),i=n.call(A,t,e);return s.convert(i,r.__proto__)},s.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},s.prototype.thenList=function(t){var e=this;return t.forEach(function(t){e=e.thenCore(t)}),e},s.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return s.convert(e,this)},s.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},s.prototype.error=function(t){return this.then(function(){throw new Error(t)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,hi.getPageSize=function(t,e,n){if("object"===(0,X.A)(t)){var r=t;t=r.orientation,e=r.unit||e,n=r.format||n}e=e||"mm",n=n||"a4",t=(""+(t||"P")).toLowerCase();var A,i=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(e){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+e}var s,a=0,c=0;if(o.hasOwnProperty(i))a=o[i][1]/A,c=o[i][0]/A;else try{a=n[1],c=n[0]}catch(t){throw new Error("Invalid format: "+n)}if("p"===t||"portrait"===t)t="p",c>a&&(s=c,c=a,a=s);else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",a>c&&(s=c,c=a,a=s)}return{width:c,height:a,unit:e,k:A,orientation:t}},t.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this,e.fontFaces=e.fontFaces?e.fontFaces.map(so):null;var n=new s(e);return e.worker?n:n.from(t).doCallback()}}(hi.API),hi.API.addJS=function(t){return wo=t,this.internal.events.subscribe("postPutResources",function(){go=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(go+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mo=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+wo+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==go&&void 0!==mo&&this.internal.out("/Names <</JavaScript "+go+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),A=0;A<r.length;A++){var i=r[A],o=n.exec(i);if(null!=o){var s=o[1];t.internal.newObjectDeferredBegin(s,!1)}t.internal.write(i)}if(this.outline.createNamedDestinations){var a=this.internal.pages.length,c=[];for(A=0;A<a;A++){var l=t.internal.newObject();c.push(l);var u=t.internal.getPageInfo(A+1);t.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),A=0;A<c.length;A++)t.internal.write("(page_"+(A+1)+")"+c[A]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,n){var r={title:e,options:n,children:[]};return null==t&&(t=this.root),t.children.push(r),r},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var n=0;n<e.children.length;n++)this.genIds_r(e.children[n])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<e.children.length;r++){var A=e.children[r];this.objStart(A),this.line("/Title "+this.makeString(A.title)),this.line("/Parent "+this.makeRef(e)),r>0&&this.line("/Prev "+this.makeRef(e.children[r-1])),r<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[r+1])),A.children.length>0&&(this.line("/First "+this.makeRef(A.children[0])),this.line("/Last "+this.makeRef(A.children[A.children.length-1])));var i=this.count=this.count_r({count:0},A);if(i>0&&this.line("/Count "+i),A.options&&A.options.pageNumber){var o=t.internal.getPageInfo(A.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var s=0;s<e.children.length;s++)this.renderItems(e.children[s])},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var n=0;n<e.children.length;n++)t.count++,this.count_r(t,e.children[n]);return t.count}}])}(hi.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(t,n,r,A,i,o){var s,a=this.decode.DCT_DECODE,c=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=i||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,s=function(t){for(var n,r=256*t.charCodeAt(4)+t.charCodeAt(5),A=t.length,i={width:0,height:0,numcomponents:1},o=4;o<A;o+=2){if(o+=r,-1!==e.indexOf(t.charCodeAt(o+1))){n=256*t.charCodeAt(o+5)+t.charCodeAt(o+6),i={width:256*t.charCodeAt(o+7)+t.charCodeAt(o+8),height:n,numcomponents:t.charCodeAt(o+9)};break}r=256*t.charCodeAt(o+2)+t.charCodeAt(o+3)}return i}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),s.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:t,width:s.width,height:s.height,colorSpace:o,bitsPerComponent:8,filter:a,index:n,alias:r}}return c}}(hi.API),hi.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var A,i=new QA(t,{checkCrc:!0}).decode(),o=i.width,s=i.height,a=i.channels,c=i.palette,l=i.depth;A=c&&1===a?function(t){for(var e=t.width,n=t.height,r=t.data,A=t.palette,i=t.depth,o=!1,s=[],a=[],c=void 0,l=!1,u=0,h=0;h<A.length;h++){var d=kt(A[h],4),f=d[0],p=d[1],g=d[2],m=d[3];s.push(f,p,g),null!=m&&(0===m?(u++,a.length<1&&a.push(h)):m<255&&(l=!0))}if(l||u>1){o=!0,a=void 0;var w=e*n;c=new Uint8Array(w);for(var y=new DataView(r.buffer),b=0;b<w;b++){var v=kt(A[ko(y,b,i)],4)[3];c[b]=v}}else 0===u&&(a=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:o?8:void 0,colorBytes:r,alphaBytes:c,needSMask:o,palette:s,mask:a}}(i):2===a||4===a?function(t){for(var e=t.data,n=t.width,r=t.height,A=t.channels,i=t.depth,o=2===A?"DeviceGray":"DeviceRGB",s=A-1,a=n*r,c=s,l=a*c,u=1*a,h=Math.ceil(l*i/8),d=Math.ceil(u*i/8),f=new Uint8Array(h),p=new Uint8Array(d),g=new DataView(e.buffer),m=new DataView(f.buffer),w=new DataView(p.buffer),y=!1,b=0;b<a;b++){for(var v=b*A,B=0;B<c;B++)Mo(m,ko(g,v+B,i),b*c+B,i);var C=ko(g,v+c,i);C<(1<<i)-1&&(y=!0),Mo(w,C,1*b,i)}return{colorSpace:o,colorsPerPixel:s,sMaskBitsPerComponent:y?i:void 0,colorBytes:f,alphaBytes:p,needSMask:y}}(i):function(t){var e=t.data,n=1===t.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:e instanceof Uint16Array?function(t){for(var e=t.length,n=new Uint8Array(2*e),r=new DataView(n.buffer,n.byteOffset,n.byteLength),A=0;A<e;A++)r.setUint16(2*A,t[A],!1);return n}(e):e,needSMask:!1}}(i);var u,h,d,f=A,p=f.colorSpace,g=f.colorsPerPixel,m=f.sMaskBitsPerComponent,w=f.colorBytes,y=f.alphaBytes,b=f.needSMask,v=f.palette,B=f.mask,C=null;return r!==hi.API.image_compression.NONE?(C=function(t){var e;switch(t){case hi.API.image_compression.FAST:e=11;break;case hi.API.image_compression.MEDIUM:e=13;break;case hi.API.image_compression.SLOW:e=14;break;default:e=12}return e}(r),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(C," /Colors ").concat(g," /BitsPerComponent ").concat(l," /Columns ").concat(o),t=xo(w,Math.ceil(o*g*l/8),g,l,r),b&&(d=xo(y,Math.ceil(o*m/8),1,m,r))):(u=void 0,h=void 0,t=w,b&&(d=y)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:n,data:t,index:e,filter:u,decodeParameters:h,transparency:B,palette:v,sMask:d,predictor:C,width:o,height:s,bitsPerComponent:l,sMaskBitsPerComponent:m,colorSpace:p}}},function(t){t.processGIF89A=function(e,n,r,A){var i=new To(e),o=i.width,s=i.height,a=[];i.decodeAndBlitFrameRGBA(0,a);var c={data:a,width:o,height:s},l=new Do(100).encode(c,100);return t.processJPEG.call(this,l,n,r,A)},t.processGIF87A=t.processGIF89A}(hi.API),Oo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:A,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Oo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(t){PA.log("bit decode error:"+t)}},Oo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,A=0;A<e;A++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*A*4,s=0;s<8&&8*A+s<this.width;s++){var a=this.palette[i>>7-s&1];this.data[o+4*s]=a.blue,this.data[o+4*s+1]=a.green,this.data[o+4*s+2]=a.red,this.data[o+4*s+3]=255}0!==n&&(this.pos+=4-n)}},Oo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,A=0;A<t;A++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*A*4,s=i>>4,a=15&i,c=this.palette[s];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*A+1>=this.width)break;c=this.palette[a],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==e&&(this.pos+=4-e)}},Oo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var A=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(A<this.palette.length){var o=this.palette[A];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}0!==t&&(this.pos+=4-t)}},Oo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,A=0;A<this.width;A++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,s=(i>>5&e)/e*255|0,a=(i>>10&e)/e*255|0,c=i>>15?255:0,l=r*this.width*4+4*A;this.data[l]=a,this.data[l+1]=s,this.data[l+2]=o,this.data[l+3]=c}this.pos+=t}},Oo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var A=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,l=A*this.width*4+4*i;this.data[l]=c,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=255}this.pos+=t}},Oo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=i,this.data[o+1]=A,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Oo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=i,this.data[s+1]=A,this.data[s+2]=r,this.data[s+3]=o}},Oo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,A){var i=new Oo(e,!1),o=i.width,s=i.height,a={data:i.getData(),width:o,height:s},c=new Do(100).encode(a,100);return t.processJPEG.call(this,c,n,r,A)}}(hi.API),Ho.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,A){var i=new Ho(e),o=i.width,s=i.height,a={data:i.getData(),width:o,height:s},c=new Do(100).encode(a,100);return t.processJPEG.call(this,c,n,r,A)}}(hi.API),hi.API.processRGBA=function(t,e,n){for(var r=t.data,A=r.length,i=new Uint8Array(A/4*3),o=new Uint8Array(A/4),s=0,a=0,c=0;c<A;c+=4){var l=r[c],u=r[c+1],h=r[c+2],d=r[c+3];i[s++]=l,i[s++]=u,i[s++]=h,o[a++]=d}var f=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:f,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},hi.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},yo=hi.API,bo=yo.getCharWidthsArray=function(t,e){var n,r,A=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:A.metadata.Unicode.widths,a=s.fof?s.fof:1,c=e.kerning?e.kerning:A.metadata.Unicode.kerning,l=c.fof?c.fof:1,u=!1!==e.doKerning,h=0,d=t.length,f=0,p=s[0]||a,g=[];for(n=0;n<d;n++)r=t.charCodeAt(n),"function"==typeof A.metadata.widthOfString?g.push((A.metadata.widthOfGlyph(A.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(h=u&&"object"===(0,X.A)(c[r])&&!isNaN(parseInt(c[r][f],10))?c[r][f]/l:0,g.push((s[r]||p)/a+h)),f=r;return g},vo=yo.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),A=e.charSpace||this.internal.getCharSpace();return yo.processArabic&&(t=yo.processArabic(t)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,n,A)/n:bo.apply(this,arguments).reduce(function(t,e){return t+e},0)},Bo=function(t,e,n,r){for(var A=[],i=0,o=t.length,s=0;i!==o&&s+e[i]<n;)s+=e[i],i++;A.push(t.slice(0,i));var a=i;for(s=0;i!==o;)s+e[i]>r&&(A.push(t.slice(a,i)),s=0,a=i),s+=e[i],i++;return a!==i&&A.push(t.slice(a,i)),A},Co=function(t,e,n){n||(n={});var r,A,i,o,s,a,c,l=[],u=[l],h=n.textIndent||0,d=0,f=0,p=t.split(" "),g=bo.apply(this,[" ",n])[0];if(a=-1===n.lineIndent?p[0].length+2:n.lineIndent||0){var m=Array(a).join(" "),w=[];p.map(function(t){(t=t.split(/\s*\n/)).length>1?w=w.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):w.push(t[0])}),p=w,a=vo.apply(this,[m,n])}for(i=0,o=p.length;i<o;i++){var y=0;if(r=p[i],a&&"\n"==r[0]&&(r=r.substr(1),y=1),h+d+(f=(A=bo.apply(this,[r,n])).reduce(function(t,e){return t+e},0))>e||y){if(f>e){for(s=Bo.apply(this,[r,A,e-(h+d),e]),l.push(s.shift()),l=[s.pop()];s.length;)u.push([s.shift()]);f=A.slice(r.length-(l[0]?l[0].length:0)).reduce(function(t,e){return t+e},0)}else l=[r];u.push(l),h=f+a,d=g}else l.push(r),h+=d+f,d=g}return c=a?function(t,e){return(e?m:"")+t.join(" ")}:function(t){return t.join(" ")},u.map(c)},yo.splitTextToSize=function(t,e,n){var r,A=(n=n||{}).fontSize||this.internal.getFontSize(),i=function(t){if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var e=this.internal.getFont(t.fontName,t.fontStyle),n="Unicode";return e.metadata[n]?{widths:e.metadata[n].widths||{0:1},kerning:e.metadata[n].kerning||{}}:{font:e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/A;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/A:0,i.lineIndent=n.lineIndent;var s,a,c=[];for(s=0,a=r.length;s<a;s++)c=c.concat(Co.apply(this,[r[s],o,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},A={},i=0;i<16;i++)r[n[i]]=e[i],A[e[i]]=n[i];var o=function(t){return"0x"+parseInt(t,10).toString(16)},s=t.__fontmetrics__.compress=function(t){var e,n,r,i,a=["{"];for(var c in t){if(e=t[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=o(c).slice(2)).slice(0,-1)+A[n.slice(-1)]),"number"==typeof e)e<0?(r=o(e).slice(3),i="-"):(r=o(e).slice(2),i=""),r=i+r.slice(0,-1)+A[r.slice(-1)];else{if("object"!==(0,X.A)(e))throw new Error("Don't know what to do with value type "+(0,X.A)(e)+".");r=s(e)}a.push(n+r)}return a.push("}"),a.join("")},a=t.__fontmetrics__.uncompress=function(t){if("string"!=typeof t)throw new Error("Invalid argument passed to uncompress.");for(var e,n,A,i,o={},s=1,a=o,c=[],l="",u="",h=t.length-1,d=1;d<h;d+=1)"'"==(i=t[d])?e?(A=e.join(""),e=void 0):e=[]:e?e.push(i):"{"==i?(c.push([a,A]),a={},A=void 0):"}"==i?((n=c.pop())[0][n[1]]=a,A=void 0,a=n[0]):"-"==i?s=-1:void 0===A?r.hasOwnProperty(i)?(l+=r[i],A=parseInt(l,16)*s,s=1,l=""):l+=i:r.hasOwnProperty(i)?(u+=r[i],a[A]=parseInt(u,16)*s,s=1,A=void 0,u=""):u+=i;return o},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(t){var e=t.font,n=u.Unicode[e.postScriptName];n&&(e.metadata.Unicode={},e.metadata.Unicode.widths=n.widths,e.metadata.Unicode.kerning=n.kerning);var r=l.Unicode[e.postScriptName];r&&(e.metadata.Unicode.encoding=r,e.encoding=r.codePages[0])}])}(hi.API),function(t){var e=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n};t.API.events.push(["addFont",function(n){var r=void 0,A=n.font,i=n.instance;if(!A.isStandardFont){if(void 0===i)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+A.postScriptName+"').");if("string"!=typeof(r=!1===i.existsFileInVFS(A.postScriptName)?i.loadFile(A.postScriptName):i.getFileFromVFS(A.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+A.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?e(r):e(RA(r)),n.metadata=t.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(A,r)}}])}(hi),hi.API.addSvgAsImage=function(t,e,r,A,i,o,s,a){if(isNaN(e)||isNaN(r))throw PA.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(A)||isNaN(i))throw PA.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=A,c.height=i;var l=c.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(kA.canvg?Promise.resolve(kA.canvg):n.e(661).then(n.bind(n,661))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t}).then(function(e){return e.fromString(l,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(t){return t.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),e,r,A,i,s,a)})},hi.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var A=0;A<this.internal.pages[r].length;A++)this.internal.pages[r][A]=this.internal.pages[r][A].replace(e,n);return this},hi.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,A,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),a=[],c=0,l=0,u=0;function h(t,e){var n,r=!1;for(n=0;n<t.length;n+=1)t[n]===e&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var d=s.length;for(u=0;u<d;u+=1)n[s[u]].value=n[s[u]].defaultValue,n[s[u]].explicitSet=!1}if("object"===(0,X.A)(t))for(A in t)if(i=t[A],h(s,A)&&void 0!==i){if("boolean"===n[A].type&&"boolean"==typeof i)n[A].value=i;else if("name"===n[A].type&&h(n[A].valueSet,i))n[A].value=i;else if("integer"===n[A].type&&Number.isInteger(i))n[A].value=i;else if("array"===n[A].type){for(c=0;c<i.length;c+=1)if(r=!0,1===i[c].length&&"number"==typeof i[c][0])a.push(String(i[c]-1));else if(i[c].length>1){for(l=0;l<i[c].length;l+=1)"number"!=typeof i[c][l]&&(r=!1);!0===r&&a.push([i[c][0]-1,i[c][1]-1].join(" "))}n[A].value="["+a.join(" ")+"]"}else n[A].value=n[A].defaultValue;n[A].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var t,e=[];for(t in n)!0===n[t].explicitSet&&("name"===n[t].type?e.push("/"+t+" /"+n[t].value):e.push("/"+t+" "+n[t].value));0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(t)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),A=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),i=unescape(encodeURIComponent("</x:xmpmeta>")),o=n.length+r.length+A.length+e.length+i.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(e+n+r+A+i),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(t,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:t,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(hi.API),function(t){var e=t.API,n=e.pdfEscape16=function(t,e){for(var n,r=e.metadata.Unicode.widths,A=["","0","00","000","0000"],i=[""],o=0,s=t.length;o<s;++o){if(n=e.metadata.characterToGlyph(t.charCodeAt(o)),e.metadata.glyIdsUsed.push(n),e.metadata.toUnicode[n]=t.charCodeAt(o),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(e.metadata.widthOfGlyph(n),10)])),"0"==n)return i.join("");n=n.toString(16),i.push(A[4-n.length],n)}return i.join("")},r=function(t){var e,n,r,A,i,o,s;for(i="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],o=0,s=(n=Object.keys(t).sort(function(t,e){return t-e})).length;o<s;o++)e=n[o],r.length>=100&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==t[e]&&null!==t[e]&&"function"==typeof t[e].toString&&(A=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),r.push("<"+e+"><"+A+">"));return r.length&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),i+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(e){!function(e){var n=e.font,A=e.out,i=e.newObject,o=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"Identity-H"===n.encoding){for(var s=n.metadata.Unicode.widths,a=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",l=0;l<a.length;l++)c+=String.fromCharCode(a[l]);var u=i();o({data:c,addLength1:!0,objectId:u}),A("endobj");var h=i();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),A("endobj");var d=i();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+oi(n.fontName)),A("/FontFile2 "+u+" 0 R"),A("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),A("/Flags "+n.metadata.flags),A("/StemV "+n.metadata.stemV),A("/ItalicAngle "+n.metadata.italicAngle),A("/Ascent "+n.metadata.ascender),A("/Descent "+n.metadata.decender),A("/CapHeight "+n.metadata.capHeight),A(">>"),A("endobj");var f=i();A("<<"),A("/Type /Font"),A("/BaseFont /"+oi(n.fontName)),A("/FontDescriptor "+d+" 0 R"),A("/W "+t.API.PDFObject.convert(s)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+n.encoding+")"),A(">>"),A(">>"),A("endobj"),n.objectNumber=i(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+h+" 0 R"),A("/BaseFont /"+oi(n.fontName)),A("/Encoding /"+n.encoding),A("/DescendantFonts ["+f+" 0 R]"),A(">>"),A("endobj"),n.isAlreadyPutted=!0}}(e)}]),e.events.push(["putFont",function(e){!function(e){var n=e.font,A=e.out,i=e.newObject,o=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var s=n.metadata.rawData,a="",c=0;c<s.length;c++)a+=String.fromCharCode(s[c]);var l=i();o({data:a,addLength1:!0,objectId:l}),A("endobj");var u=i();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),A("endobj");var h=i();A("<<"),A("/Descent "+n.metadata.decender),A("/CapHeight "+n.metadata.capHeight),A("/StemV "+n.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+l+" 0 R"),A("/Flags 96"),A("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),A("/FontName /"+oi(n.fontName)),A("/ItalicAngle "+n.metadata.italicAngle),A("/Ascent "+n.metadata.ascender),A(">>"),A("endobj"),n.objectNumber=i();for(var d=0;d<n.metadata.hmtx.widths.length;d++)n.metadata.hmtx.widths[d]=parseInt(n.metadata.hmtx.widths[d]*(1e3/n.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+oi(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),A("endobj"),n.isAlreadyPutted=!0}}(e)}]);var A=function(t){var e,r=t.text||"",A=t.x,i=t.y,o=t.options||{},s=t.mutex||{},a=s.pdfEscape,c=s.activeFontKey,l=s.fonts,u=c,h="",d=0,f="",p=l[u].encoding;if("Identity-H"!==l[u].encoding)return{text:r,x:A,y:i,options:o,mutex:s};for(f=r,u=c,Array.isArray(r)&&(f=r[0]),d=0;d<f.length;d+=1)l[u].metadata.hasOwnProperty("cmap")&&(e=l[u].metadata.cmap.unicode.codeMap[f[d].charCodeAt(0)]),e||f[d].charCodeAt(0)<256&&l[u].metadata.hasOwnProperty("Unicode")?h+=f[d]:h+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===p?g=a(h,u).split("").map(function(t){return t.charCodeAt(0).toString(16)}).join(""):"Identity-H"===p&&(g=n(h,l[u])),s.isHex=!0,{text:g,x:A,y:i,options:o,mutex:s}};e.events.push(["postProcessText",function(t){var e=t.text||"",n=[],r={text:e,x:t.x,y:t.y,options:t.options,mutex:t.mutex};if(Array.isArray(e)){var i=0;for(i=0;i<e.length;i+=1)Array.isArray(e[i])&&3===e[i].length?n.push([A(Object.assign({},r,{text:e[i][0]})).text,e[i][1],e[i][2]]):n.push(A(Object.assign({},r,{text:e[i]})).text);t.text=n}else t.text=A(Object.assign({},r,{text:e})).text}])}(hi),function(t){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},t.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},t.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(hi.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var n,r,A,i,o,s,a,c=e,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},d={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","ยซ","ยป","ยซ","โน","โบ","โน","โ","โ","โ","โฝ","โพ","โฝ","โ","โ","โ","โค","โฅ","โค","โฉ","โช","โฉ","๏น","๏น","๏น","๏น","๏น","๏น","๏น","๏น","๏น","๏นค","๏นฅ","๏นค"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,m=0;this.__bidiEngine__={};var w=function(t){var e=t.charCodeAt(),n=e>>8,r=d[n];return void 0!==r?c[256*r+(255&e)]:252===n||253===n?"AL":p.test(n)?"L":8===n?"R":"N"},y=function(t){for(var e,n=0;n<t.length;n++){if("L"===(e=w(t.charAt(n))))return!1;if("R"===e)return!0}return!1},b=function(t,e,o,s){var a,c,l,u,h=e[s];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":s<1||s+1>=e.length||"EN"!==(a=o[s-1])&&"AN"!==a||"EN"!==(c=e[s+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===a?c:"N";break;case"ES":h="EN"===(a=s>0?o[s-1]:"B")&&s+1<e.length&&"EN"===e[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===o[s-1]){h="EN";break}if(g){h="N";break}for(l=s+1,u=e.length;l<u&&"ET"===e[l];)l++;h=l<u&&"EN"===e[l]?"EN":"N";break;case"NSM":if(A&&!i){for(u=e.length,l=s+1;l<u&&"NSM"===e[l];)l++;if(l<u){var d=t[s],f=d>=1425&&d<=2303||64286===d;if(a=e[l],f&&("R"===a||"AL"===a)){h="R";break}}}h=s<1||"B"===(a=e[s-1])?"N":o[s-1];break;case"B":g=!1,n=!0,h=m;break;case"S":r=!0,h="N"}return h},v=function(t,e,n){var r=t.split("");return n&&B(r,n,{hiLevel:m}),r.reverse(),e&&e.reverse(),r.join("")},B=function(t,e,A){var i,o,s,a,c,d=-1,f=t.length,p=0,y=[],v=m?u:l,B=[];for(g=!1,n=!1,r=!1,o=0;o<f;o++)B[o]=w(t[o]);for(s=0;s<f;s++){if(c=p,y[s]=b(t,B,y,s),i=240&(p=v[c][h[y[s]]]),p&=15,e[s]=a=v[p][5],i>0)if(16===i){for(o=d;o<s;o++)e[o]=1;d=-1}else d=-1;if(v[p][6])-1===d&&(d=s);else if(d>-1){for(o=d;o<s;o++)e[o]=a;d=-1}"B"===B[s]&&(e[s]=0),A.hiLevel|=a}r&&function(t,e,n){for(var r=0;r<n;r++)if("S"===t[r]){e[r]=m;for(var A=r-1;A>=0&&"WS"===t[A];A--)e[A]=m}}(B,e,f)},C=function(t,e,r,A,i){if(!(i.hiLevel<t)){if(1===t&&1===m&&!n)return e.reverse(),void(r&&r.reverse());for(var o,s,a,c,l=e.length,u=0;u<l;){if(A[u]>=t){for(a=u+1;a<l&&A[a]>=t;)a++;for(c=u,s=a-1;c<s;c++,s--)o=e[c],e[c]=e[s],e[s]=o,r&&(o=r[c],r[c]=r[s],r[s]=o);u=a}u++}}},_=function(t,e,n){var r=t.split(""),A={hiLevel:m};return n||(n=[]),B(r,n,A),function(t,e,n){if(0!==n.hiLevel&&a)for(var r,A=0;A<t.length;A++)1===e[A]&&(r=f.indexOf(t[A]))>=0&&(t[A]=f[r+1])}(r,n,A),C(2,r,e,n,A),C(1,r,e,n,A),r.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,n){if(function(t,e){if(e)for(var n=0;n<t.length;n++)e[n]=n;void 0===i&&(i=y(t)),void 0===s&&(s=y(t))}(t,e),A||!o||s)if(A&&o&&i^s)m=i?1:0,t=v(t,e,n);else if(!A&&o&&s)m=i?1:0,t=_(t,e,n),t=v(t,e);else if(!A||i||o||s){if(A&&!o&&i^s)t=v(t,e),i?(m=0,t=_(t,e,n)):(m=1,t=_(t,e,n),t=v(t,e));else if(A&&i&&!o&&s)m=1,t=_(t,e,n),t=v(t,e);else if(!A&&!o&&i^s){var r=a;i?(m=1,t=_(t,e,n),m=0,a=!1,t=_(t,e,n),a=r):(m=0,t=_(t,e,n),t=v(t,e),m=1,a=!1,t=_(t,e,n),a=r,t=v(t,e))}}else m=0,t=_(t,e,n);else m=i?1:0,t=_(t,e,n);return t},this.__bidiEngine__.setOptions=function(t){t&&(A=t.isInputVisual,o=t.isOutputVisual,i=t.isInputRtl,s=t.isOutputRtl,a=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text;t.x,t.y;var r=t.options||{};t.mutex,r.lang;var A=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(e)){var i=0;for(A=[],i=0;i<e.length;i+=1)"[object Array]"===Object.prototype.toString.call(e[i])?A.push([n.doBidiReorder(e[i][0]),e[i][1],e[i][2]]):A.push([n.doBidiReorder(e[i])]);t.text=A}else t.text=n.doBidiReorder(e);n.setOptions({isInputVisual:!0})}])}(hi),hi.API.TTFFont=function(){function t(t){var e;if(this.rawData=t,e=this.contents=new jo(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new ss(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Ko(this.contents),this.head=new Wo(this),this.name=new $o(this),this.cmap=new zo(this),this.toUnicode={},this.hhea=new Xo(this),this.maxp=new ts(this),this.hmtx=new es(this),this.post=new Yo(this),this.os2=new Jo(this),this.loca=new os(this),this.glyf=new rs(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,n,r,A;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var e,n,r,A;for(A=[],e=0,n=(r=this.bbox).length;e<n;e++)t=r[e],A.push(Math.round(t*this.scaleFactor));return A}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(A=this.familyClass)||2===A||3===A||4===A||5===A||7===A,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,n){var r,A,i,o;for(i=0,A=0,o=(t=""+t).length;0<=o?A<o:A>o;A=0<=o?++A:--A)r=t.charCodeAt(A),i+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return i*(e/1e3)},t.prototype.lineHeight=function(t,e){var n;return null==e&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},t}();var Ro,jo=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(t){var e,n,r;for(r=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,n,r,A,i,o,s;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),A=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^A)+65536*(255^i)+256*(255^o)+(255^s)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*A+65536*i+256*o+s},t.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},t.prototype.write=function(t){var e,n,r,A;for(A=[],n=0,r=t.length;n<r;n++)e=t[n],A.push(this.writeByte(e));return A},t}(),Ko=function(){var t;function e(t){var e,n,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return e.prototype.encode=function(e){var n,r,A,i,o,s,a,c,l,u,h,d,f;for(f in h=Object.keys(e).length,s=Math.log(2),l=16*Math.floor(Math.log(h)/s),i=Math.floor(l/s),c=16*h-l,(r=new jo).writeInt(this.scalarType),r.writeShort(h),r.writeShort(l),r.writeShort(i),r.writeShort(c),A=16*h,a=r.pos+A,o=null,d=[],e)for(u=e[f],r.writeString(f),r.writeInt(t(u)),r.writeInt(a),r.writeInt(u.length),d=d.concat(u),"head"===f&&(o=a),a+=u.length;a%4;)d.push(0),a++;return r.write(d),n=2981146554-t(r.data),r.pos=o+8,r.writeUInt32(n),r.data},t=function(t){var e,n,r,A;for(t=ns.call(t);t.length%4;)t.push(0);for(r=new jo(t),n=0,e=0,A=t.length;e<A;e=e+=4)n+=r.readUInt32();return 4294967295&n},e}(),qo={}.hasOwnProperty,Go=function(t,e){for(var n in e)qo.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Ro=function(){function t(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Wo=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Ro),t.prototype.tag="head",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},t.prototype.encode=function(t){var e;return(e=new jo).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},t}(),Vo=function(){function t(t,e){var n,r,A,i,o,s,a,c,l,u,h,d,f,p,g,m,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),l=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=t.readByte();break;case 4:for(h=t.readUInt16(),u=h/2,t.pos+=6,A=function(){var e,n;for(n=[],s=e=0;0<=u?e<u:e>u;s=0<=u?++e:--e)n.push(t.readUInt16());return n}(),t.pos+=2,f=function(){var e,n;for(n=[],s=e=0;0<=u?e<u:e>u;s=0<=u?++e:--e)n.push(t.readUInt16());return n}(),a=function(){var e,n;for(n=[],s=e=0;0<=u?e<u:e>u;s=0<=u?++e:--e)n.push(t.readUInt16());return n}(),c=function(){var e,n;for(n=[],s=e=0;0<=u?e<u:e>u;s=0<=u?++e:--e)n.push(t.readUInt16());return n}(),r=(this.length-t.pos+this.offset)/2,o=function(){var e,n;for(n=[],s=e=0;0<=r?e<r:e>r;s=0<=r?++e:--e)n.push(t.readUInt16());return n}(),s=g=0,w=A.length;g<w;s=++g)for(p=A[s],n=m=d=f[s];d<=p?m<=p:m>=p;n=d<=p?++m:--m)0===c[s]?i=n+a[s]:0!==(i=o[c[s]/2+(n-d)-(u-s)]||0)&&(i+=a[s]),this.codeMap[n]=65535&i}t.pos=l}return t.encode=function(t,e){var n,r,A,i,o,s,a,c,l,u,h,d,f,p,g,m,w,y,b,v,B,C,_,x,F,S,E,U,I,Q,L,k,M,P,T,N,D,O,H,R,j,K,q,G,W,V;switch(U=new jo,i=Object.keys(t).sort(function(t,e){return t-e}),e){case"macroman":for(f=0,p=function(){var t=[];for(d=0;d<256;++d)t.push(0);return t}(),m={0:0},A={},I=0,M=i.length;I<M;I++)null==m[q=t[r=i[I]]]&&(m[q]=++f),A[r]={old:t[r],new:m[t[r]]},p[r]=m[t[r]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(p),{charMap:A,subtable:U.data,maxGlyphID:f+1};case"unicode":for(S=[],l=[],w=0,m={},n={},g=a=null,Q=0,P=i.length;Q<P;Q++)null==m[b=t[r=i[Q]]]&&(m[b]=++w),n[r]={old:b,new:m[b]},o=m[b]-r,null!=g&&o===a||(g&&l.push(g),S.push(r),a=o),g=r;for(g&&l.push(g),l.push(65535),S.push(65535),x=2*(_=S.length),C=2*Math.pow(Math.log(_)/Math.LN2,2),u=Math.log(C/2)/Math.LN2,B=2*_-C,s=[],v=[],h=[],d=L=0,T=S.length;L<T;d=++L){if(F=S[d],c=l[d],65535===F){s.push(0),v.push(0);break}if(F-(E=n[F].new)>=32768)for(s.push(0),v.push(2*(h.length+_-d)),r=k=F;F<=c?k<=c:k>=c;r=F<=c?++k:--k)h.push(n[r].new);else s.push(E-F),v.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*_+2*h.length),U.writeUInt16(0),U.writeUInt16(x),U.writeUInt16(C),U.writeUInt16(u),U.writeUInt16(B),j=0,N=l.length;j<N;j++)r=l[j],U.writeUInt16(r);for(U.writeUInt16(0),K=0,D=S.length;K<D;K++)r=S[K],U.writeUInt16(r);for(G=0,O=s.length;G<O;G++)o=s[G],U.writeUInt16(o);for(W=0,H=v.length;W<H;W++)y=v[W],U.writeUInt16(y);for(V=0,R=h.length;V<R;V++)f=h[V],U.writeUInt16(f);return{charMap:n,subtable:U.data,maxGlyphID:w+1}}},t}(),zo=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Ro),t.prototype.tag="cmap",t.prototype.parse=function(t){var e,n,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)e=new Vo(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},t.encode=function(t,e){var n,r;return null==e&&(e="macroman"),n=Vo.encode(t,e),(r=new jo).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},t}(),Xo=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Ro),t.prototype.tag="hhea",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},t}(),Jo=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Ro),t.prototype.tag="OS/2",t.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n}(),this.charRange=function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,n;for(n=[],e=0;e<2;e=++e)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},t}(),Yo=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Ro),t.prototype.tag="post",t.prototype.parse=function(t){var e,n,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var A;for(n=t.readUInt16(),this.glyphNameIndex=[],A=0;0<=n?A<n:A>n;A=0<=n?++A:--A)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)e=t.readByte(),r.push(this.names.push(t.readString(e)));return r;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=function(){var e,n,r;for(r=[],A=e=0,n=this.file.maxp.numGlyphs;0<=n?e<n:e>n;A=0<=n?++e:--e)r.push(t.readUInt32());return r}.call(this)}},t}(),Zo=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$o=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Ro),t.prototype.tag="name",t.prototype.parse=function(t){var e,n,r,A,i,o,s,a,c,l,u;for(t.pos=this.offset,t.readShort(),e=t.readShort(),o=t.readShort(),n=[],A=0;0<=e?A<e:A>e;A=0<=e?++A:--A)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(s={},A=c=0,l=n.length;c<l;A=++c)r=n[A],t.pos=r.offset,a=t.readString(r.length),i=new Zo(a,r),null==s[u=r.nameID]&&(s[u]=[]),s[r.nameID].push(i);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(t){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},t}(),ts=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Ro),t.prototype.tag="maxp",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},t}(),es=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Ro),t.prototype.tag="hmtx",t.prototype.parse=function(t){var e,n,r,A,i,o,s;for(t.pos=this.offset,this.metrics=[],e=0,o=this.file.hhea.numberOfMetrics;0<=o?e<o:e>o;e=0<=o?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,A;for(A=[],e=n=0;0<=r?n<r:n>r;e=0<=r?++n:--n)A.push(t.readInt16());return A}(),this.widths=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.metrics).length;t<e;t++)A=n[t],r.push(A.advance);return r}.call(this),n=this.widths[this.widths.length-1],s=[],e=i=0;0<=r?i<r:i>r;e=0<=r?++i:--i)s.push(this.widths.push(n));return s},t.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},t}(),ns=[].slice,rs=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Ro),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(t){var e,n,r,A,i,o,s,a,c,l;return t in this.cache?this.cache[t]:(A=this.file.loca,e=this.file.contents,n=A.indexOf(t),0===(r=A.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+n,i=(o=new jo(e.read(r))).readShort(),a=o.readShort(),l=o.readShort(),s=o.readShort(),c=o.readShort(),this.cache[t]=-1===i?new is(o,a,l,s,c):new As(o,i,a,l,s,c),this.cache[t]))},t.prototype.encode=function(t,e,n){var r,A,i,o,s;for(i=[],A=[],o=0,s=e.length;o<s;o++)r=t[e[o]],A.push(i.length),r&&(i=i.concat(r.encode(n)));return A.push(i.length),{table:i,offsets:A}},t}(),As=function(){function t(t,e,n,r,A,i){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=A,this.yMax=i,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),is=function(){function t(t,e,n,r,A){var i,o;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=A,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return t.prototype.encode=function(){var t,e,n;for(e=new jo(ns.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},t}(),os=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Go(t,Ro),t.prototype.tag="loca",t.prototype.parse=function(t){var e,n;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=0===e?function(){var e,r;for(r=[],n=0,e=this.length;n<e;n+=2)r.push(2*t.readUInt16());return r}.call(this):function(){var e,r;for(r=[],n=0,e=this.length;n<e;n+=4)r.push(t.readUInt32());return r}.call(this)},t.prototype.indexOf=function(t){return this.offsets[t]},t.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},t.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),r=0,A=0,i=0;i<n.length;++i)if(n[i]=r,A<e.length&&e[A]==i){++A,n[i]=r;var o=this.offsets[i],s=this.offsets[i+1]-o;s>0&&(r+=s)}for(var a=new Array(4*n.length),c=0;c<n.length;++c)a[4*c+3]=255&n[c],a[4*c+2]=(65280&n[c])>>8,a[4*c+1]=(16711680&n[c])>>16,a[4*c]=(4278190080&n[c])>>24;return a},t}(),ss=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,n,r,A;for(e in r=this.font.cmap.tables[0].codeMap,t={},A=this.subset)n=A[e],t[e]=r[n];return t},t.prototype.glyphsFor=function(t){var e,n,r,A,i,o,s;for(r={},i=0,o=t.length;i<o;i++)r[A=t[i]]=this.font.glyf.glyphFor(A);for(A in e=[],r)(null!=(n=r[A])?n.compound:void 0)&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(A in s=this.glyphsFor(e))n=s[A],r[A]=n;return r},t.prototype.encode=function(t,e){var n,r,A,i,o,s,a,c,l,u,h,d,f,p,g;for(r in n=zo.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),h={0:0},g=n.charMap)h[(s=g[r]).old]=s.new;for(d in u=n.maxGlyphID,i)d in h||(h[d]=u++);return c=function(t){var e,n;for(e in n={},t)n[t[e]]=e;return n}(h),l=Object.keys(c).sort(function(t,e){return t-e}),f=function(){var t,e,n;for(n=[],t=0,e=l.length;t<e;t++)o=l[t],n.push(c[o]);return n}(),A=this.font.glyf.encode(i,f,h),a=this.font.loca.encode(A.offsets,f),p={cmap:this.font.cmap.raw(),glyf:A.table,loca:a,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},t}();hi.API.PDFObject=function(){var t;function e(){}return t=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},e.convert=function(n){var r,A,i,o;if(Array.isArray(n))return"["+function(){var t,A,i;for(i=[],t=0,A=n.length;t<A;t++)r=n[t],i.push(e.convert(r));return i}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(A in i=["<<"],n)o=n[A],i.push("/"+A+" "+e.convert(o));return i.push(">>"),i.join("\n")}return""+n},e}();var as=n(4119),cs=function(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})},ls=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},us=function(){function t(){}return t.init=function(){document.getElementById("exportPng").onclick=t.exportPng,document.getElementById("exportPdf").onclick=t.exportPdf,document.getElementById("exportTikz").onclick=function(){var e=document.getElementById("exportCode");e.hidden=!1;var n=t.getTikzCode();e.value=n,as.u.copy(n,"tikz code")}},t.exportPng=function(){return cs(this,void 0,void 0,function(){var e,n;return ls(this,function(r){switch(r.label){case 0:return i.J.hideAndRemove(),Q.P.setForExportPng(),[4,t.getCanvasBoard()];case 1:return e=r.sent(),n=t.extractFromCanvas(e,0,u.q.width),I.e.downloadDataURL(document.getElementById("exportPngName").value+".png",n.toDataURL()),Q.P.restoreForUse(),[2]}})})},t.extractFromCanvas=function(t,e,n){var r=document.createElement("canvas"),A=Q.P.getWindowHeight();console.log(t.height),r.height=A,r.width=n;var i=t.height/A;return r.getContext("2d").drawImage(t,e*i,0,n*i,A*i,0,0,n,A),r},t.getCanvasBoard=function(){for(var t=document.getElementsByTagName("mjx-assistive-mml"),e=0;e<t.length;e++)t[e].style.opacity="0.0";var n=document.getElementById("content");return new Promise(function(t){z()(n).then(function(e){return t(e)})})},t.getTikzCode=function(){var t,e,n="\\begin{tikzpicture}[scale=1]\n",r=function(t){return Math.round(100*t)/100};try{for(var A=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(u.q.timeline.actions),i=A.next();!i.done;i=A.next()){var o=i.value;if(o instanceof d.J){var s=o.getMainColor();n+="\\draw"+("white"==s?"":"[".concat(s,"]"))+" "+o.points.map(function(t){return"(".concat(r(.01*t.x),", ").concat(r(.01*-t.y),")")}).join("--")+";\n"}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=A.return)&&e.call(A)}finally{if(t)throw t.error}}return n+"\\end{tikzpicture}"},t.exportPdf=function(){return cs(this,void 0,void 0,function(){var e,n,r,A,o,s,c,l,h,d,f,p;return ls(this,function(g){switch(g.label){case 0:return console.log("export in PDF starting..."),e=u.q.timeline.isSeveralSlides(),a.r.show(e?"pdf export: there are several slides, it is a presentation. We make one slide on page in the PDF":"pdf export: there are no slides. We split the board in pieces, there may be several pages."),i.J.hideAndRemove(),Q.P.setForExportPng(),n=u.q.timeline.getCurrentIndex(),[4,u.q.timeline.setCurrentIndex(0)];case 1:g.sent(),r=new hi({orientation:"landscape",unit:"px",format:[Q.P.getWindowWidth(),Q.P.getWindowHeight()]}),A=function(t){r.addImage(t,"png",0,0,r.internal.pageSize.getWidth(),r.internal.pageSize.getHeight(),"","FAST")},o=!0,s=Math.max(u.q.width,Q.P.getWindowWidth()),c=1,g.label=2;case 2:return u.q.timeline.isEnd()?[3,5]:(e&&a.r.show("pdf export: treating slide n. ".concat(c)),console.log(e?"treating next slide...":"pdf export: beginning of the process"),[4,u.q.timeline.nextPausedFrame()]);case 3:return g.sent(),[4,t.getCanvasBoard()];case 4:if(l=g.sent(),e)p=t.extractFromCanvas(l,0,s),o||r.addPage(),A(p);else for(h=Math.floor(u.q.width/(2*Q.P.getWindowWidth())),d=0;d<u.q.width;d+=Q.P.getWindowWidth())f=Math.floor(d/Q.P.getWindowWidth())+1,a.r.show("pdf export: treating panels nยฐ ".concat(f," and ").concat(f+1,"}/").concat(h)),o||r.addPage(),p=t.extractFromCanvas(l,d,Q.P.getWindowWidth()),A(p),o=!1;return o=!1,c++,[3,2];case 5:return r.output("pdfobjectnewwindow",{filename:document.getElementById("exportPngName").value+".pdf"}),u.q.timeline.setCurrentIndex(n),Q.P.restoreForUse(),[2]}})})},t}(),hs=n(8944),ds=n(3116),fs=n(8538);function ps(){return document.getElementById("canvas")}function gs(){return document.getElementById("canvasBackground")}function ms(){return document.getElementById("container")}p.init(),window.onload=function(){try{setInterval(function(){document.body.scrollLeft=0,document.body.scrollTop=0},1e3),h.$.init(),fs.f.init(),T.$.init(),Q.P.init(),O.init(),M._.init(),I.e.init(),us.init(),u.q.init(),H.W.init(),y.S.init(),L.M.init(),k.d.init(),m.init(),A.H.init(),w.P.init(),P.M.init(),c.f.init(),b.s.init(),U.loadMagnets(),l.A.init(),j.e.init(),s.d.init(),hs.N.init(),A.H.init(),ds.r.init(),u.q.reset(),q.w.init(),r.S.init(),Array.from(document.getElementsByTagName("helpbutton")).map(function(t){return t.onclick=function(t){alert(t.target.title)}}),document.getElementById("buttonMenu").onclick=H.W.toggle,document.getElementById("buttonColors").onclick=function(t){c.f.changeColor(),t.stopPropagation()},document.getElementById("buttonChalk").onclick=c.f.switchDrawEraser,document.getElementById("buttonEraser").onclick=c.f.switchDrawEraser,document.getElementById("buttonTools").onclick=function(t){c.f.toolmenu.show({x:h.$.me.x,y:h.$.me.y}),t.stopPropagation()},document.getElementById("buttonText").onclick=function(){return o.h.addMagnetText(h.$.me.x,h.$.me.y)},document.getElementById("buttonDivide").onclick=function(){return y.S.execute("divideScreen",[h.$.me.userID,Q.P.getXMiddle()])},document.getElementById("buttonLeft").onclick=w.P.leftPreviousPage,document.getElementById("buttonRight").onclick=w.P.rightNextPage,document.getElementById("buttonMap").onclick=function(){return Q.P.toggleMinimap()},document.getElementById("buttonCancel").onclick=function(){return u.q.cancel(h.$.me.userID)},document.getElementById("buttonRedo").onclick=function(){return u.q.redo(h.$.me.userID)},document.getElementById("buttonAskQuestion").onclick=k.d.askQuestion,document.onkeydown=W.onKeyDown,document.onkeyup=W.onKeyUp,document.getElementById("canvasBackground").onpointermove=function(){console.log("mousemove on the background should not occur")},window.addEventListener("click",function(){r.S.hideMenu(),b.s.hideMenu()}),e=!0,n=!1,d=!0,f=!1,setInterval(function(){e=!0,d=document.hasFocus()},100),document.getElementById("canvas").oncontextmenu=function(t){t.preventDefault()},document.getElementById("canvas").onpointerdown=function(t){if(t.preventDefault(),d){n=!0;var e=2==t.button;f=!1;var r=c.f.getMagnetBackgroundUnderCursor(h.$.me.x,h.$.me.y);if(console.log(r),e){if(r)return b.s.showMenu(t.pageX+1,t.pageY+1),void(n=!1);h.$.me.isToolDraw?(f=!0,y.S.execute("switchEraser",[h.$.me.userID])):f=!1}window.ismousedown=!0,y.S.execute("mousedown",[h.$.me.userID,t])}},document.getElementById("canvas").onpointermove=function(t){t.preventDefault();var r={x:t.offsetX,y:t.offsetY};window.point=r,j.S.onmousemove(r),(n&&h.$.me.canWrite||e)&&(y.S.execute("mousemove",[h.$.me.userID,t]),e=!1)},document.getElementById("canvas").onpointerup=function(t){t.preventDefault(),n=!1,window.ismousedown=!1,y.S.execute("mouseup",[h.$.me.userID,t]),f&&y.S.execute("switchDraw",[h.$.me.userID])},document.getElementById("canvas").onpointerleave=function(t){t.preventDefault(),n=!1,window.ismousedown=!1,y.S.execute("mouseup",[h.$.me.userID,t])},R.k.addTouchEvents(document.getElementById("canvas")),document.getElementById("controls").onclick=i.J.hide,document.getElementById("animationToolBar").onclick=i.J.hide;var t=new URL(document.location.href).searchParams;null!=t.get("load")&&null==t.get("id")&&I.e.loadTableaunoirFileFromURL(t.get("load"))}catch(t){console.error(t.stack),a.r.error("Problem in loading Tableaunoir... please try to clean the cache of your browser.")}var e,n,d,f},window.Menu=H.W},4059:(t,e,n)=>{"use strict";n.d(e,{M:()=>s});var r=n(2079),A=n(2520),i=n.n(A),o=n(2521),s=function(){function t(){}return t.init=function(){var e=document.getElementById("backgroundCustomColor"),n=document.getElementById("checkboxBackgroundGradient"),A=document.getElementById("inputBackgroundColor"),i=document.getElementById("inputBackgroundColor2"),o=function(){e.hidden=!1;var t=n.checked?"linear-gradient(".concat(A.value,", ").concat(i.value,")"):A.value;r.S.execute("setBackgroundColor",[t])};n.oninput=function(){document.getElementById("backgroundIfGradient").hidden=!n.checked,o()},A.oninput=o,i.oninput=o,n.checked=!1,e.hidden=!0,document.getElementById("content").style.background="black";var s=new URL(document.location.href).searchParams;null!=s.get("bg")&&null==s.get("id")?t.switchTo(s.get("bg")):t.switchTo("black");var a=function(t){return function(){e.hidden=!0,r.S.execute("setBackgroundColor",[t])}};document.getElementById("whiteBoardSwitch").onclick=a("white"),document.getElementById("blackBoardSwitch").onclick=a("black"),document.getElementById("greenBoardSwitch").onclick=a("darkgreen"),document.getElementById("customBoardSwitch").onclick=o},t.switchTo=function(e){var n=t.currentBackgroundTexture;t.currentBackgroundTexture=e,console.log("previous background color was "+n),console.log("switch to "+e+"board"),document.getElementById(e+"BoardSwitch")&&document.getElementById(e+"BoardSwitch").classList.add("buttonselected"),document.getElementById("backgroundSnapshotBackgroundColor").style.background=e,n!=e&&(document.getElementById(n+"BoardSwitch")&&document.getElementById(n+"BoardSwitch").classList.remove("buttonselected"),"white"==e&&"white"==o.$.me.color?r.S.execute("setCurrentColor",[o.$.me.userID,"black"]):"black"==e&&"black"==o.$.me.color&&r.S.execute("setCurrentColor",[o.$.me.userID,"white"]),document.getElementById("content").style.background=e)},t.getBackgroundTexture=function(){return this.currentBackgroundTexture},t.getDefaultChalkColor=function(){return function(t){if(t.startsWith("linear-gradient")){var e=t.substring(16,t.length-1).split(",").map(function(t){return t.trim()});return i()(e[0]).isLight()&&i()(e[1]).isLight()}return i()(t).isLight()}(t.getBackgroundTexture())?"black":"white"},t.currentBackgroundTexture="black",t}()},4119:(t,e,n)=>{"use strict";n.d(e,{u:()=>A});var r=n(1024),A=function(){function t(){}return t.copy=function(t,e){navigator.clipboard.writeText(t),r.r.show(e+" copied!")},t}()},4416:(t,e,n)=>{"use strict";n.d(e,{J:()=>y});var r,A=n(6179),i=n(9486),o=n(6014),s=n(3002),a=n(3981),c=n(3116),l=n(3242),u=n(4711),h=n(8538),d=n(1187),f=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})},g=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},m=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,A,i=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(t){A={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(A)throw A.error}}return o},w=function(t,e,n){if(n||2===arguments.length)for(var r,A=0,i=e.length;A<i;A++)!r&&A in e||(r||(r=Array.prototype.slice.call(e,0,A)),r[A]=e[A]);return t.concat(r||Array.prototype.slice.call(e))},y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alreadyDrawnSth=!1,e.points=[],e.svgLines=void 0,e}return f(e,t),Object.defineProperty(e.prototype,"xMin",{get:function(){return Math.min.apply(Math,w([],m(this.points.map(function(t){return t.x})),!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"xMax",{get:function(){return Math.max.apply(Math,w([],m(this.points.map(function(t){return t.x})),!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yMin",{get:function(){return Math.min.apply(Math,w([],m(this.points.map(function(t){return t.y})),!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yMax",{get:function(){return Math.max.apply(Math,w([],m(this.points.map(function(t){return t.y})),!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"xMean",{get:function(){return this.points.map(function(t){return t.x}).reduce(function(t,e){return t+e},0)/this.points.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yMean",{get:function(){return this.points.map(function(t){return t.y}).reduce(function(t,e){return t+e},0)/this.points.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rect",{get:function(){return{x1:this.xMin,y1:this.yMin,x2:this.xMax,y2:this.yMax}},enumerable:!1,configurable:!0}),e.prototype.setInteractiveGraphInformation=function(t,e,n,r){this.magnet1id=t,this.magnet2id=e,this.magnet1point=n,this.magnet2point=r,this.isDirectlyUndoable=!0},e.prototype.isAlmostLine=function(){for(var t=this.points[0],e=this.points[this.points.length-1],n=Math.atan2(e.y-t.y,e.x-t.x),r=1;r<this.points.length;r++){var A=this.points[r];if(Math.abs(A.y-t.y)+Math.abs(A.x-t.x)>16){var i=Math.atan2(A.y-t.y,A.x-t.x);if(Math.abs(n-i)>.15)return}}return{angle:n}},e.prototype.serializeData=function(){return this.magnet1id?{type:"freedrawinteractivegraph",userid:this.userid,points:this.points,magnet1id:this.magnet1id,magnet2id:this.magnet2id,magnet1point:this.magnet1point,magnet2point:this.magnet2point}:{type:"freedraw",userid:this.userid,points:this.points}},e.prototype.isInteractive=function(){return null!=this.magnet1id},e.prototype.addPoint=function(t){if(t.x=o.V.numberRound(t.x),t.y=o.V.numberRound(t.y),this.points.length>0){var e=this.points[this.points.length-1];if(Math.abs(t.x-e.x)<1&&Math.abs(t.y-e.y)<1)return!1}return this.points.push(t),(Math.abs(t.x-this.points[0].x)>1||Math.abs(t.y-this.points[0].y)>1)&&(this.alreadyDrawnSth=!0),!0},e.prototype.computeSVGLines=function(){this.svgLines=[];for(var t=0;t<this.points.length-1;t++){var e=this.points[t],n=this.points[t+1];this.svgLines.push(i.p.addSVGLine(e.x,e.y,n.x,n.y,e.pressure,e.color))}this.isDirectlyUndoable=!0,A.O.freeDraw(this.svgLines,this.magnet1id,this.magnet2id,this.magnet1point,this.magnet2point)},e.prototype.smoothifyOnePass=function(){var t=[];t.push(this.points[0]);for(var e=function(e){var r=n.points[e],A=n.points[e+1];if(Math.abs(r.x-A.x)>5||Math.abs(r.y-A.y)>5){var i=function(e,n){t.push({x:o.V.numberRound(e*r.x+n*A.x),y:o.V.numberRound(e*r.y+n*A.y),pressure:o.V.numberRound(e*r.pressure+n*A.pressure),color:r.color})};i(.85,.15),i(.15,.85)}else t.push(r)},n=this,r=0;r<this.points.length-1;r++)e(r);t.push(this.points[this.points.length-1]),this.points=t},e.prototype.simplify=function(){var t=this;function e(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}function n(t,n,r){var A=e(n,r);if(0==A)return e(t,n);var i=((t.x-n.x)*(r.x-n.x)+(t.y-n.y)*(r.y-n.y))/A;return i=Math.max(0,Math.min(1,i)),e(t,{x:n.x+i*(r.x-n.x),y:n.y+i*(r.y-n.y)})}var r=function(e,A){for(var i=0,o=0,s=e;s<A;s++){var a=n(t.points[s],t.points[e],t.points[A]);a>i&&(o=s,i=a)}if(i>1){var c=r(e,o),l=r(o,A);return c.concat(l.slice(1))}return[t.points[e],t.points[A]]};this.points=r(0,this.points.length-1),this.points.length>=2&&(this.points[this.points.length-1].pressure=this.points[this.points.length-2].pressure)},e.prototype.postTreatement=function(){this.simplify()},e.prototype.getMainColor=function(){return this.points[0].color},e.prototype.setColor=function(t){var e,n;try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.points),A=r.next();!A.done;A=r.next())A.value.color=t}catch(t){e={error:t}}finally{try{A&&!A.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}this._overviewImage=void 0},e.prototype.undo=function(){return p(this,void 0,void 0,function(){return g(this,function(t){return this.isInteractive()&&this.svgLines&&this.svgLines.forEach(function(t){return t.remove()}),[2]})})},e.prototype.redo=function(){return p(this,void 0,void 0,function(){var t;return g(this,function(e){if(this.isInteractive())this.computeSVGLines();else for(this.alreadyDrawnSth||s.H.drawDot((0,a.dX)().getContext("2d"),this.points[0].x,this.points[0].y,this.points[0].color),t=1;t<this.points.length;t++)s.H.drawLine((0,a.dX)().getContext("2d"),this.points[t-1].x,this.points[t-1].y,this.points[t].x,this.points[t].y,this.points[t].pressure,this.points[t].color);return[2]})})},e.prototype.redoAnimated=function(){return p(this,void 0,void 0,function(){var t,e;return g(this,function(n){switch(n.label){case 0:return this.isInteractive()?[4,this.redo()]:[3,2];case 1:return n.sent(),[3,7];case 2:this.alreadyDrawnSth||s.H.drawDot((0,a.dX)().getContext("2d"),this.points[0].x,this.points[0].y,this.points[0].color),u._.isRunning&&l.v.mousedown(.5*Math.random()+.2),t=1,n.label=3;case 3:return t<this.points.length?(e=Math.abs(this.points[t-1].x-this.points[t].x)+Math.abs(this.points[t-1].y-this.points[t].y),h.f.isParticules&&u._.isRunning&&Math.random()<.03*e&&d.i.start(this.points[t-1].x,this.points[t-1].y,this.points[t].pressure,this.points[t].color,1),u._.isRunning&&l.v.mousemove(e),s.H.drawLine((0,a.dX)().getContext("2d"),this.points[t-1].x,this.points[t-1].y,this.points[t].x,this.points[t].y,this.points[t].pressure,this.points[t].color),[4,this.delay()]):[3,6];case 4:n.sent(),n.label=5;case 5:return t++,[3,3];case 6:l.v.mouseup(),n.label=7;case 7:return[2]}})})},e.prototype.createOverviewImage=function(){var t=function(){var t=document.createElement("canvas");return t.width=24,t.height=24,t}(),e=t.getContext("2d");this.alreadyDrawnSth||s.H.drawDot(e,t.width/2,t.height/2,this.points[0].color);for(var n=this.xMin,r=this.xMax,A=this.yMin,i=this.yMax,o=r-n<t.width?1:t.width/(r-n),a=i-A<t.height?1:t.height/(i-A),c=Math.min(o,a),l=(r-n)*c<t.width?(t.width-(r-n)*c)/2:0,u=(i-A)*c<t.height?(t.height-(i-A)*c)/2:0,h=function(t){return l+(t-n)*c},d=function(t){return u+(t-A)*c},f=1;f<this.points.length;f++)s.H.drawLine(e,h(this.points[f-1].x),d(this.points[f-1].y),h(this.points[f].x),d(this.points[f].y),this.points[f].pressure*c,this.points[f].color);return"url("+t.toDataURL()+")"},Object.defineProperty(e.prototype,"contour",{get:function(){return this.points},enumerable:!1,configurable:!0}),e}(c.r)},4711:(t,e,n)=>{"use strict";n.d(e,{_:()=>r});var r=function(){function t(){}return t.delay=function(e){return n=this,r=void 0,i=function(){var n;return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(r){switch(r.label){case 0:return t._mustEnd?[2]:e>=(n=10)?[4,t.waitFor(e)]:[3,2];case 1:r.sent(),r.label=2;case 2:return e>0?t.delayCounter>n/e?[4,t.waitFor(e)]:[3,4]:[3,5];case 3:r.sent(),t.delayCounter=0,r.label=4;case 4:t.delayCounter++,r.label=5;case 5:return[2]}})},new((A=void 0)||(A=Promise))(function(t,e){function o(t){try{a(i.next(t))}catch(t){e(t)}}function s(t){try{a(i.throw(t))}catch(t){e(t)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof A?n:new A(function(t){t(n)})).then(o,s)}a((i=i.apply(n,r||[])).next())});var n,r,A,i},t.waitFor=function(t){return new Promise(function(e){setTimeout(e,t)})},t.begin=function(){t._mustEnd=!1},t.end=function(){t._mustEnd=!0},t.ensureEnd=function(){if(!t._mustEnd)return t._mustEnd=!0,new Promise(function(t){setTimeout(t,100)})},Object.defineProperty(t,"isRunning",{get:function(){return!t._mustEnd},enumerable:!1,configurable:!0}),t.delayCounter=0,t._mustEnd=!0,t}()},4755:(t,e,n)=>{"use strict";n.d(e,{E:()=>c});var r,A=n(3116),i=n(1024),o=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})},a=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=function(t){function e(e,n,r){var A=t.call(this,e)||this;return A.magnetid=n,A.destination=r,A.isDirectlyUndoable=!0,A}return o(e,t),Object.defineProperty(e.prototype,"xMax",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"magnetswitchbackgroundforeground",userid:this.userid,magnetid:this.magnetid,destination:this.destination}},e.prototype.createOverviewImage=function(){return"url(img/icons/magnetMove.svg)"},e.prototype.do=function(t){console.log(this.magnetid);var e=document.getElementById(this.magnetid);""==e.style.zIndex&&(e.style.zIndex="1");var n=parseInt(e.style.zIndex);n*t>0||(e.classList.remove("magnetToForeground"),e.classList.remove("magnetToBackground"),t<0?e.classList.add("magnetToBackground"):e.classList.add("magnetToForeground"),e.style.zIndex=-n+"",t*parseInt(e.style.zIndex)>0||(i.r.error("errur in switching background and foreground"),console.trace("action magnet switch : ".concat(t," and ").concat(n," and ").concat(e.style.zIndex))))},e.prototype.redo=function(){return s(this,void 0,void 0,function(){return a(this,function(t){return this.do(this.destination),[2]})})},e.prototype.undo=function(){return s(this,void 0,void 0,function(){return a(this,function(t){return this.do(-this.destination),[2]})})},e}(A.r)},4973:(t,e,n)=>{"use strict";n.d(e,{I:()=>r});var r=function(){}},5298:(t,e,n)=>{"use strict";n.d(e,{H:()=>A});var r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,A,i=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(t){A={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(A)throw A.error}}return o},A=function(){function t(){this.heap=[null],this.priority=[null],this.indices={}}return t.prototype.hash=function(t){return t.x+"_"+t.y},t.prototype.getIndexOfElement=function(t){return this.indices[this.hash(t)]},t.prototype.swap=function(t,e){var n,A,i;n=r([e,t],2),this.indices[this.hash(this.heap[t])]=n[0],this.indices[this.hash(this.heap[e])]=n[1],A=r([this.heap[e],this.heap[t]],2),this.heap[t]=A[0],this.heap[e]=A[1],i=r([this.priority[e],this.priority[t]],2),this.priority[t]=i[0],this.priority[e]=i[1]},t.prototype.insert=function(t,e){if(this.indices[this.hash(t)])this.decrease(t,e);else{this.heap.push(t),this.priority.push(e);var n=this.heap.length-1;this.indices[this.hash(t)]=n,this.bubbleup(n)}},t.prototype.bubbleup=function(t){if(t>1){var e=Math.floor(t/2);this.priority[e]>this.priority[t]&&(this.swap(e,t),this.bubbleup(e))}},t.prototype.bubbledown=function(t){var e=2*t;if(!(e>=this.priority.length)){var n=2*t+1,r=t,A=this.priority[t];n<this.priority.length&&this.priority[n]<A&&(A=this.priority[n],r=n),this.priority[e]<A&&(A=this.priority[e],r=e),t<r&&(this.swap(t,r),this.bubbledown(r))}},t.prototype.remove=function(){var t=this.heap[1];if(this.indices[this.hash(t)]=void 0,2==this.heap.length)this.heap=[null],this.priority=[null];else{var e=this.heap.length-1;this.heap[1]=this.heap[e],this.priority[1]=this.priority[e],this.heap.splice(this.heap.length-1),this.priority.splice(this.priority.length-1),this.indices[this.hash(this.heap[1])]=1,this.bubbledown(1)}return t},t.prototype.decrease=function(t,e){var n=this.indices[this.hash(t)];if(this.priority[n]<e)throw"non-decreasing!";this.priority[n]=e,this.bubbleup(n)},t.prototype.isEmpty=function(){return this.heap.length<=1},t}()},5306:(t,e,n)=>{"use strict";n.d(e,{d:()=>o});var r=n(8922),A=n(2079),i=n(2521),o=function(){function t(){}return t.generateID=function(){return"d"+Math.random()},t.init=function(){document.getElementById("questions").hidden=!0},t.askQuestion=function(){var e=prompt("Type your question/comment:");null!=e&&""!=(e=e.trim())&&A.S.execute("questionAdd",[i.$.me.userID,t.generateID(),e])},t.removeQuestion=function(t){document.getElementById(t).remove(),0==document.getElementById("questions").children.length&&(document.getElementById("questions").hidden=!0)},t.addQuestion=function(t,e,n){var o=document.createElement("div");o.classList.add("question"),o.id=e,o.innerHTML=r.D.getUserImage(t).outerHTML+n,o.onclick=function(){i.$.me.canWrite&&A.S.execute("questionRemove",[o.id])},document.getElementById("questions").appendChild(o),document.getElementById("questions").hidden=!1},t}()},5659:(t,e,n)=>{const r=n(8156),A={};for(const t of Object.keys(r))A[r[t]]=t;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=i;for(const t of Object.keys(i)){if(!("channels"in i[t]))throw new Error("missing channels property: "+t);if(!("labels"in i[t]))throw new Error("missing channel labels property: "+t);if(i[t].labels.length!==i[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=i[t];delete i[t].channels,delete i[t].labels,Object.defineProperty(i[t],"channels",{value:e}),Object.defineProperty(i[t],"labels",{value:n})}function o(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}i.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,A=Math.min(e,n,r),i=Math.max(e,n,r),o=i-A;let s,a;i===A?s=0:e===i?s=(n-r)/o:n===i?s=2+(r-e)/o:r===i&&(s=4+(e-n)/o),s=Math.min(60*s,360),s<0&&(s+=360);const c=(A+i)/2;return a=i===A?0:c<=.5?o/(i+A):o/(2-i-A),[s,100*a,100*c]},i.rgb.hsv=function(t){let e,n,r,A,i;const o=t[0]/255,s=t[1]/255,a=t[2]/255,c=Math.max(o,s,a),l=c-Math.min(o,s,a),u=function(t){return(c-t)/6/l+.5};return 0===l?(A=0,i=0):(i=l/c,e=u(o),n=u(s),r=u(a),o===c?A=r-n:s===c?A=1/3+e-r:a===c&&(A=2/3+n-e),A<0?A+=1:A>1&&(A-=1)),[360*A,100*i,100*c]},i.rgb.hwb=function(t){const e=t[0],n=t[1];let r=t[2];const A=i.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[A,100*o,100*r]},i.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,A=Math.min(1-e,1-n,1-r);return[100*((1-e-A)/(1-A)||0),100*((1-n-A)/(1-A)||0),100*((1-r-A)/(1-A)||0),100*A]},i.rgb.keyword=function(t){const e=A[t];if(e)return e;let n,i=1/0;for(const e of Object.keys(r)){const A=o(t,r[e]);A<i&&(i=A,n=e)}return n},i.keyword.rgb=function(t){return r[t]},i.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;return e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,[100*(.4124*e+.3576*n+.1805*r),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},i.rgb.lab=function(t){const e=i.rgb.xyz(t);let n=e[0],r=e[1],A=e[2];return n/=95.047,r/=100,A/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,A=A>.008856?A**(1/3):7.787*A+16/116,[116*r-16,500*(n-r),200*(r-A)]},i.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;let A,i,o;if(0===n)return o=255*r,[o,o,o];A=r<.5?r*(1+n):r+n-r*n;const s=2*r-A,a=[0,0,0];for(let t=0;t<3;t++)i=e+1/3*-(t-1),i<0&&i++,i>1&&i--,o=6*i<1?s+6*(A-s)*i:2*i<1?A:3*i<2?s+(A-s)*(2/3-i)*6:s,a[t]=255*o;return a},i.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,r=t[2]/100,A=n;const i=Math.max(r,.01);return r*=2,n*=r<=1?r:2-r,A*=i<=1?i:2-i,[e,100*(0===r?2*A/(i+A):2*n/(r+n)),(r+n)/2*100]},i.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let r=t[2]/100;const A=Math.floor(e)%6,i=e-Math.floor(e),o=255*r*(1-n),s=255*r*(1-n*i),a=255*r*(1-n*(1-i));switch(r*=255,A){case 0:return[r,a,o];case 1:return[s,r,o];case 2:return[o,r,a];case 3:return[o,s,r];case 4:return[a,o,r];case 5:return[r,o,s]}},i.hsv.hsl=function(t){const e=t[0],n=t[1]/100,r=t[2]/100,A=Math.max(r,.01);let i,o;o=(2-n)*r;const s=(2-n)*A;return i=n*A,i/=s<=1?s:2-s,i=i||0,o/=2,[e,100*i,100*o]},i.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,r=t[2]/100;const A=n+r;let i;A>1&&(n/=A,r/=A);const o=Math.floor(6*e),s=1-r;i=6*e-o,1&o&&(i=1-i);const a=n+i*(s-n);let c,l,u;switch(o){default:case 6:case 0:c=s,l=a,u=n;break;case 1:c=a,l=s,u=n;break;case 2:c=n,l=s,u=a;break;case 3:c=n,l=a,u=s;break;case 4:c=a,l=n,u=s;break;case 5:c=s,l=n,u=a}return[255*c,255*l,255*u]},i.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,A=t[3]/100;return[255*(1-Math.min(1,e*(1-A)+A)),255*(1-Math.min(1,n*(1-A)+A)),255*(1-Math.min(1,r*(1-A)+A))]},i.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100;let A,i,o;return A=3.2406*e+-1.5372*n+-.4986*r,i=-.9689*e+1.8758*n+.0415*r,o=.0557*e+-.204*n+1.057*r,A=A>.0031308?1.055*A**(1/2.4)-.055:12.92*A,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,A=Math.min(Math.max(0,A),1),i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),[255*A,255*i,255*o]},i.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];return e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,[116*n-16,500*(e-n),200*(n-r)]},i.lab.xyz=function(t){let e,n,r;n=(t[0]+16)/116,e=t[1]/500+n,r=n-t[2]/200;const A=n**3,i=e**3,o=r**3;return n=A>.008856?A:(n-16/116)/7.787,e=i>.008856?i:(e-16/116)/7.787,r=o>.008856?o:(r-16/116)/7.787,e*=95.047,n*=100,r*=108.883,[e,n,r]},i.lab.lch=function(t){const e=t[0],n=t[1],r=t[2];let A;return A=360*Math.atan2(r,n)/2/Math.PI,A<0&&(A+=360),[e,Math.sqrt(n*n+r*r),A]},i.lch.lab=function(t){const e=t[0],n=t[1],r=t[2]/360*2*Math.PI;return[e,n*Math.cos(r),n*Math.sin(r)]},i.rgb.ansi16=function(t,e=null){const[n,r,A]=t;let o=null===e?i.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),0===o)return 30;let s=30+(Math.round(A/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===o&&(s+=60),s},i.hsv.ansi16=function(t){return i.rgb.ansi16(i.hsv.rgb(t),t[2])},i.rgb.ansi256=function(t){const e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},i.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},i.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;return t-=16,[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},i.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},i.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];3===e[0].length&&(n=n.split("").map(t=>t+t).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},i.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,A=Math.max(Math.max(e,n),r),i=Math.min(Math.min(e,n),r),o=A-i;let s,a;return s=o<1?i/(1-o):0,a=o<=0?0:A===e?(n-r)/o%6:A===n?2+(r-e)/o:4+(e-n)/o,a/=6,a%=1,[360*a,100*o,100*s]},i.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n);let A=0;return r<1&&(A=(n-.5*r)/(1-r)),[t[0],100*r,100*A]},i.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=e*n;let A=0;return r<1&&(A=(n-r)/(1-r)),[t[0],100*r,100*A]},i.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];const A=[0,0,0],i=e%1*6,o=i%1,s=1-o;let a=0;switch(Math.floor(i)){case 0:A[0]=1,A[1]=o,A[2]=0;break;case 1:A[0]=s,A[1]=1,A[2]=0;break;case 2:A[0]=0,A[1]=1,A[2]=o;break;case 3:A[0]=0,A[1]=s,A[2]=1;break;case 4:A[0]=o,A[1]=0,A[2]=1;break;default:A[0]=1,A[1]=0,A[2]=s}return a=(1-n)*r,[255*(n*A[0]+a),255*(n*A[1]+a),255*(n*A[2]+a)]},i.hcg.hsv=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);let r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},i.hcg.hsl=function(t){const e=t[1]/100,n=t[2]/100*(1-e)+.5*e;let r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},i.hcg.hwb=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},i.hwb.hcg=function(t){const e=t[1]/100,n=1-t[2]/100,r=n-e;let A=0;return r<1&&(A=(n-r)/(1-r)),[t[0],100*r,100*A]},i.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},i.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},i.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},i.gray.hsl=function(t){return[0,0,t[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(t){return[0,100,t[0]]},i.gray.cmyk=function(t){return[0,0,0,t[0]]},i.gray.lab=function(t){return[t[0],0,0]},i.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},i.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},5757:(t,e,n)=>{"use strict";n.d(e,{E:()=>a});var r,A=n(3116),i=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=function(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})},s=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.magnetid=n,r.isDirectlyUndoable=!0,r}return i(e,t),Object.defineProperty(e.prototype,"xMax",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"magnetdelete",userid:this.userid,magnetid:this.magnetid}},e.prototype.createOverviewImage=function(){return"url(img/icons/E262.svg)"},e.prototype.undo=function(){return o(this,void 0,void 0,function(){var t;return s(this,function(e){return(t=document.getElementById(this.magnetid))&&(t.style.visibility="visible"),[2]})})},e.prototype.redo=function(){return o(this,void 0,void 0,function(){var t;return s(this,function(e){return(t=document.getElementById(this.magnetid))&&(t.style.visibility="hidden"),[2]})})},e}(A.r)},6014:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});var r=function(){function t(){}return t.distance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.norm=function(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))},t.normalize=function(e){var n=t.norm(e);return{x:e.x/n,y:e.y/n}},t.angle=function(t,e){return Math.atan2(t.y,t.x)-Math.atan2(e.y,e.x)},t.polar=function(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}},t.middle=function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},t.numberRound=function(t){return Math.round(10*t)/10},t.getNewCoordinates=function(e,n,r){var A={x:r.x-n.x,y:r.y-n.y},i=t.distance(n,e),o={x:e.x-n.x,y:e.y-n.y},s=t.angle(o,A);return{x:i*Math.cos(s),y:i*Math.sin(s)}},t}()},6043:(t,e,n)=>{"use strict";n.d(e,{e:()=>w});var r=n(3778),A=n(7917),i=n(2521),o=n(2326),s=n(1024),a=n(2079),c=n(6179),l=n(6060),u=n(3981),h=n(3289),d=n(2204),f=n(9969),p=n(4059),g=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},m=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w=function(){function t(){}return t.loadFromLocalStorage=function(){var e=a.S.getTableauNoirID();localStorage[e]&&t.loadJSON(JSON.parse(localStorage[e]))},t.saveLocalStorage=function(){var e=a.S.getTableauNoirID();localStorage[e]=t.getTableauNoirString()},t.init=function(){function e(t){var e;return g(this,function(n){switch(n.label){case 0:if(!t.dataTransfer.items)return[3,6];e=0,n.label=1;case 1:return e<t.dataTransfer.items.length?(console.log(e),"file"!==t.dataTransfer.items[e].kind?[3,3]:[4,t.dataTransfer.items[e].getAsFile()]):[3,5];case 2:return n.sent(),[3,4];case 3:t.dataTransfer.items[e].getAsString(function(t){console.log(t)}),n.label=4;case 4:return e++,[3,1];case 5:return[3,10];case 6:e=0,n.label=7;case 7:return e<t.dataTransfer.files.length?[4,t.dataTransfer.items[e].getAsFile()]:[3,10];case 8:n.sent(),n.label=9;case 9:return e++,[3,7];case 10:return[2]}})}document.getElementById("file").onchange=function(){t.loadFile(this.files[0])},document.getElementById("save").onclick=t.save,document.body.ondragover=function(t){t.preventDefault()},document.body.ondrop=function(n){var r,A;console.log("drop!"),n.preventDefault();var i=n.dataTransfer.getData("text/plain"),o=n.clientX,a=n.clientY;if(i){var c=new Image;c.style.left=o+"px",c.style.top=a+"px",c.src=i,h.s.addMagnet(c)}else if("error"==function(t){var n,r,A=!1,i=!1,o=0;try{for(var s=m(e(t)),a=s.next();!a.done;a=s.next()){var c=a.value;console.log(c),c.name.endsWith(".tableaunoir")?A=!0:!!(c.name.endsWith(".png")||c.name.endsWith(".jpg")||c.name.endsWith(".gif")||c.name.endsWith(".svg"))||(i=!0),o++}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i||A&&o>1?"error":A?"tableaunoir":"images"}(n))s.r.error("Impossible to drop these kind of files");else{try{for(var l=m(e(n)),u=l.next();!u.done;u=l.next()){var d=u.value;t.loadFile(d,o,a)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(A=l.return)&&A.call(l)}finally{if(r)throw r.error}}n.preventDefault()}}},t.loadFile=function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=0),t){var r=new FileReader;r.onerror=function(){},t.name.endsWith(".tableaunoir")?(r.readAsText(t,"UTF-8"),r.onload=function(t){var e=t.target.result;a.S.execute("loadBoard",[e])},A.w.is&&A.w.setFilename(t.path)):(console.log("adding a magnet image"),console.log(t),r.readAsDataURL(t),r.onerror=function(){return s.r.error("problem in loading image")},r.onload=function(t){var r=new Image;r.src=t.target.result,r.style.left=l.P.getWindowLeft()+e+"px",r.style.top=n+"px",h.s.addMagnet(r)}),f.W.hide()}},t.fetchImageFromFile=function(t,e){var n=new FileReader;n.onerror=function(){},n.readAsDataURL(t),n.onload=function(t){var n=new Image;n.src=t.target.result,n.onload=function(){return e(n)}}},t.fetchFromFile=function(t,e){var n=new FileReader;n.onerror=function(){},n.readAsDataURL(t),n.onload=function(t){e(t.target.result)}},t.loadJSON=function(t){if(console.log("loadJSON"),d.q.reset(),t.background&&p.M.switchTo(t.background),t.width&&((0,u.dX)().width=t.width,(0,u.dX)().height=t.height),t.canvasDataURL&&(console.log("canvas format!"),d.q.load(t.canvasDataURL)),document.getElementById("documentPanel").innerHTML=t.backgroundLayer?t.backgroundLayer:"",t.actions&&d.q.timeline.load(t.actions,t.t),t.magnets){document.getElementById("magnets").innerHTML=t.magnets;for(var e=document.getElementById("magnets").children,n=function(t){d.q.timeline.actions.find(function(n){return n instanceof o.z&&n.magnet.id==e[t].id})||d.q.addAction(new o.z(i.$.me.userID,e[t]))},A=0;A<e.length;A++)n(A)}t.svg&&(document.getElementById("svg").innerHTML=t.svg),document.getElementById("script").innerHTML=t.script?t.script:"",c.O.reset(),h.s.installMagnets(),r.S.update()},t.loadTableaunoirFileFromURL=function(e){return n=this,r=void 0,i=function(){var n;return g(this,function(r){switch(r.label){case 0:return[4,fetch(e)];case 1:return[4,r.sent().json()];case 2:return n=r.sent(),t.loadJSON(n),[2]}})},new((A=void 0)||(A=Promise))(function(t,e){function o(t){try{a(i.next(t))}catch(t){e(t)}}function s(t){try{a(i.throw(t))}catch(t){e(t)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof A?n:new A(function(t){t(n)})).then(o,s)}a((i=i.apply(n,r||[])).next())});var n,r,A,i},t.getTableauNoirObject=function(){var t=document.getElementById("documentPanel").innerHTML,e=document.getElementById("script").value;return{background:p.M.getBackgroundTexture(),backgroundLayer:t,width:(0,u.dX)().width,height:(0,u.dX)().height,actions:d.q.timeline.serialize(),t:d.q.timeline.getCurrentIndex(),script:e}},t.getTableauNoirString=function(){return JSON.stringify(t.getTableauNoirObject(),null,1)},t.save=function(){t.download(document.getElementById("name").value+".tableaunoir",t.getTableauNoirString())},t.download=function(e,n){t.downloadDataURL(e,"data:text/plain;charset=utf-8,"+encodeURIComponent(n))},t.downloadDataURL=function(t,e){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},t}();window.LoadSave=w},6060:(t,e,n)=>{"use strict";n.d(e,{P:()=>c});var r=n(2204),A=n(130),i=n(328),o=n(3981),s=n(7071),a=n(1024),c=function(){function t(){}return Object.defineProperty(t,"isMinimap",{get:function(){return t.isminimap},enumerable:!1,configurable:!0}),t.toggleMinimap=function(){t.isMinimap?t.normal():t.isMinimapNeeded()?t.minimap():a.r.error("You already see the full board.")},t.scrollQuantityPage=function(){var e=2*window.screen.availWidth,n=t.getWindowWidth()/2;return Math.min(n,e)},t.isCalibratedHalfPage=function(){var e=(0,o.My)().scrollLeft;return Math.abs(t.correctRound(e)-e)<2},t.correctOnLeft=function(e){return Math.floor(e/t.scrollQuantityPage())*t.scrollQuantityPage()},t.correctRound=function(e){return Math.round(e/t.scrollQuantityPage())*t.scrollQuantityPage()},t.correctOnRight=function(e){return Math.ceil((e+1)/t.scrollQuantityPage())*t.scrollQuantityPage()},t.getXMiddle=function(){return t.correctRound(document.getElementById("container").scrollLeft)+t.getWindowWidth()/2},t.getWindowLeft=function(){return document.getElementById("container").scrollLeft},t.getWindowRight=function(){return document.getElementById("container").scrollLeft+t.getWindowWidth()},t.init=function(){console.log("Layout.init()");var e=(0,o.dX)(),n=(0,o.Di)();t.initWorWT(),e.height=t.STANDARDHEIGHT,e.width=t.STANDARDWIDTH,n.height=t.STANDARDHEIGHT,n.width=t.STANDARDWIDTH,i.x.boolean({name:"horizontalScrollbar",defaultValue:!1,onChange:function(t){(0,o.My)().style.overflowX=t?"scroll":"hidden"}}),window.addEventListener("resize",t.layout)},t.normal=function(){document.getElementById("buttonMap").classList.remove("buttonselected");var e=document.getElementById("content");e.style.transition=t.TRANSITION,e.style.top="0px",t.initWorWT(),(0,o.dX)().style.pointerEvents="auto",document.getElementById("viewport").hidden=!0;var n=document.getElementById("newviewport");n.hidden=!0,A.P.setScroll(parseInt(n.style.left)),e.style.transition="";var r=document.getElementById("board");r.onmousemove=void 0,r.onmouseup=void 0,r.onmouseleave=void 0,r.onmouseenter=void 0},t.isMinimapNeeded=function(){return r.q.width>=t.getWindowWidth()},t.minimap=function(){if(t.isMinimapNeeded()){document.getElementById("buttonMap").classList.add("buttonselected"),console.log("minimap"),document.getElementById("content").style.transition=t.TRANSITION,t.isminimap=!0,(0,o.dX)().style.pointerEvents="none";var e=t.getWindowLeft();A.P.setScroll(0);var n=r.q.width;if(console.log(n),n>1.5*t.getWindowWidth()){var i=document.getElementById("viewport");i.hidden=!1,i.style.left=e+"px",i.style.top="0px",i.style.width=t.getWindowWidth()+"px",i.style.height=t.getWindowHeight()+"px";var s=document.getElementById("newviewport");s.hidden=!1,s.style.left=e+"px",s.style.top="0px",s.style.width=t.getWindowWidth()+"px",s.style.height=t.getWindowHeight()+"px";var a=document.getElementById("board");a.onmousemove=function(t){var e=t.offsetX-parseInt(i.style.width)/2;e<0&&(e=0),e=Math.min(e,(0,o.dX)().width-parseInt(i.style.width)),s.style.left=e+"px"},a.onmouseup=function(){t.normal()},a.onmouseleave=function(){s.hidden=!0,i.hidden=!0},a.onmouseenter=function(){s.hidden=!1,i.hidden=!1}}t.getWindowHeight=function(){return t.STANDARDHEIGHT},t.getWindowWidth=function(){return window.innerWidth*t.getZoom()},t.getZoom=function(){return r.q.width/window.innerWidth>1?r.q.width/window.innerWidth:1},t.layout()}},t.isTactileDevice=function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/iPAD/i)||navigator.userAgent.match(/IPAD/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)},t.initWorWT=function(){t.isminimap=!1;var e=document.getElementById("content");t.getWindowHeight=function(){return t.STANDARDHEIGHT},t.getWindowWidth=function(){return window.innerWidth*t.getZoom()},t.getZoom=function(){s.M.getToolbar();var n=window.innerHeight;return e.style.top="0px",t.STANDARDHEIGHT/n},t.layout()},t.layout=function(){console.log("resize");var e=t.getZoom(),n=document.getElementById("content");if(n.style.width=window.innerWidth*e+"px",n.style.transform="scale(".concat(1/t.getZoom(),")"),this.isMinimap){var r=t.STANDARDHEIGHT/e,A=(window.innerHeight-r)/2;n.style.top=A+"px"}},t.setForExportPng=function(){t.saveValueForContainerScrollleft=(0,o.My)().scrollLeft,(0,o.My)().scrollLeft=0;var e=document.getElementById("content"),n=document.getElementById("board");e.style.width=(0,o.dX)().width+"px",e.style.height=(0,o.dX)().height+"px",n.style.width=(0,o.dX)().width+"px",n.style.height=(0,o.dX)().height+"px",e.style.transition="",e.style.transform="scale(1)"},t.restoreForUse=function(){document.getElementById("content").style.transition="",t.layout(),(0,o.My)().scrollLeft=t.saveValueForContainerScrollleft},t.STANDARDHEIGHT=1e3,t.STANDARDWIDTH=3e3,t.getWindowHeight=function(){return t.STANDARDHEIGHT},t.TRANSITION="all 350ms ease-out",t.saveValueForContainerScrollleft=0,t}();window.Layout=c},6145:(t,e,n)=>{"use strict";n.d(e,{M:()=>s});var r,A=n(3116),i=n(4711),o=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"xMax",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"wait",userid:this.userid,delay:100}},e.prototype.redo=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){switch(t.label){case 0:return[4,i._.delay(100)];case 1:return t.sent(),[2]}})},new((n=void 0)||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())});var t,e,n,r},e.prototype.createOverviewImage=function(){return"url(img/icons/E0AB.svg)"},e}(A.r)},6179:(t,e,n)=>{"use strict";n.d(e,{O:()=>i});var r=n(6014),A=n(3289),i=function(){function t(){}return t.line=function(e){var n=e.dataset.magnet1id,i=e.dataset.magnet2id;n&&i&&(n==i?t.constraints.push(function(){var t=document.getElementById(n);if(null==t)return e.remove(),!1;var r=A.s.getMagnetCenter(t),i=function(t,e){return{x:r.x+t,y:r.y+e}},o=i(parseFloat(e.dataset.refx1),parseFloat(e.dataset.refy1)),s=i(parseFloat(e.dataset.refx2),parseFloat(e.dataset.refy2));return e.setAttributeNS(null,"x1",""+o.x),e.setAttributeNS(null,"y1",""+o.y),e.setAttributeNS(null,"x2",""+s.x),e.setAttributeNS(null,"y2",""+s.y),!0}):t.constraints.push(function(){var t=document.getElementById(n),o=document.getElementById(i);if(null==t||null==o)return e.remove(),!1;var s=A.s.getMagnetCenter(t),a=A.s.getMagnetCenter(o),c=function(t){return Math.min(t.clientHeight,t.clientWidth)},l=c(t),u=c(o),h=parseFloat(e.dataset.refd),d=r.V.distance(s,a),f=function(t,e){var n,A,i=r.V.normalize({x:a.x-s.x,y:a.y-s.y}),o=-i.y,c=i.x;return n=t<l?t:t>h-u?d-(h-t):l+(t-l)/(h-l-u)*(d-l-u),A=e,{x:s.x+i.x*n+o*A,y:s.y+i.y*n+c*A}},p=f(parseFloat(e.dataset.refx1),parseFloat(e.dataset.refy1)),g=f(parseFloat(e.dataset.refx2),parseFloat(e.dataset.refy2));return e.setAttributeNS(null,"x1",""+p.x),e.setAttributeNS(null,"y1",""+p.y),e.setAttributeNS(null,"x2",""+g.x),e.setAttributeNS(null,"y2",""+g.y),!0}))},t.freeDraw=function(e,n,A,i,o){var s,a,c,l=n==A?1:r.V.distance(i,o);c=n==A?function(t){return{x:t.x-i.x,y:t.y-i.y}}:function(t){return r.V.getNewCoordinates(t,i,o)};try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),h=u.next();!h.done;h=u.next()){var d=h.value,f={x:parseFloat(d.getAttributeNS(null,"x1")),y:parseFloat(d.getAttributeNS(null,"y1"))},p={x:parseFloat(d.getAttributeNS(null,"x2")),y:parseFloat(d.getAttributeNS(null,"y2"))},g=c(f),m=c(p);d.dataset.magnet1id=n,d.dataset.magnet2id=A,d.dataset.refd=""+l,d.dataset.refx1=""+g.x,d.dataset.refy1=""+g.y,d.dataset.refx2=""+m.x,d.dataset.refy2=""+m.y,t.line(d)}}catch(t){s={error:t}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(s)throw s.error}}},t.update=function(){for(var e=0;e<t.constraints.length;)t.constraints[e]()?e++:t.constraints.splice(e,1)},t.reset=function(){var e=document.getElementsByTagName("line");t.constraints=[];for(var n=0;n<e.length;n++)t.line(e[n])},t.constraints=[],t}()},6195:t=>{t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},6252:(t,e,n)=>{"use strict";n.d(e,{J:()=>A});var r=n(6060),A=function(){function t(t){void 0===t&&(t=!1);var e=this;this.container=document.createElement("div"),this.buttons=[],this.radius=128,this.buttonWidth=64,this.container.classList.add("CircularMenu"),this.container.classList.add("CircularMenuHide"),this.container.innerHTML="",t?document.getElementById("board").appendChild(this.container):setTimeout(function(){return document.getElementById("board").appendChild(e.container)},1e3)}return t.prototype.clear=function(){this.container.innerHTML="",this.buttons=[]},t.prototype.addButton=function(t){this.buttons.push(t),this.container.appendChild(t),t.onmousedown=function(t){t.preventDefault()},t.classList.add("paletteColorButton")},t.prototype.addButtonImage=function(t){var e=t.src,n=t.title,r=t.onclick,A=new Image;A.src=e,A.title=n,this.addButton(A),A.onclick=r},t.prototype.layout=function(){for(var t=0;t<this.buttons.length;t++){var e=this.buttons[t],n=this.buttons.length<=8?this.radius:this.radius+48*t/8,r=this.buttons.length<=8?-Math.PI/2+2*Math.PI*t/this.buttons.length:-Math.PI/2+2*Math.PI*Math.pow(t,.8)/8;e.style.top=n*Math.sin(r)-22+"px",e.style.left=n*Math.cos(r)-16+"px"}},t.prototype.show=function(e){t.hide(),t.allHidden=!1,window.innerWidth<=768?(e.y=r.P.STANDARDHEIGHT/2,e.x=r.P.getWindowLeft()+r.P.getWindowWidth()/2,this.radius=300):(e.y=Math.min(r.P.STANDARDHEIGHT-this.radius-this.buttonWidth,Math.max(e.y,this.radius+32+this.buttonWidth)),e.x=Math.max(e.x,this.radius+32+this.buttonWidth),this.radius=128),this.container.style.left=e.x+"px",this.container.style.top=e.y+"px",this.container.hidden=!1,this.container.classList.remove("CircularMenuHide"),this.container.classList.add("CircularMenuShow")},t.hide=function(){if(!t.allHidden){for(var e=document.getElementsByClassName("CircularMenu"),n=0;n<e.length;n++)e[n].classList.remove("CircularMenuShow"),e[n].classList.add("CircularMenuHide");t.allHidden=!0}},t.hideAndRemove=function(){for(var e=document.getElementsByClassName("CircularMenu"),n=0;n<e.length;n++)e[n].classList.remove("CircularMenuShow"),e[n].classList.add("CircularMenuHide"),e[n].hidden=!0;t.allHidden=!0},t.prototype.hide=function(){this.container.classList.remove("CircularMenuShow"),this.container.classList.add("CircularMenuHide")},t.isShown=function(){return document.getElementsByClassName("CircularMenuShow").length>0},t.allHidden=!0,t}()},6361:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>S,e:()=>Script});var _MinHeap__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5298),_magnetManager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3289),_UserManager__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2521),_share__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2079),__generator=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},__values=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PixelGraph=function(){function t(){}return t.prototype.getNeighbors=function(t){function e(t){return __generator(this,function(e){switch(e.label){case 0:return S.isPixel(t)?[3,2]:[4,t];case 1:e.sent(),e.label=2;case 2:return[2]}})}var n,r,A,i;return __generator(this,function(o){switch(o.label){case 0:return n={x:t.x,y:t.y-1},r={x:t.x,y:t.y+1},A={x:t.x-1,y:t.y},i={x:t.x+1,y:t.y},[5,__values(e(r))];case 1:return o.sent(),[5,__values(e(n))];case 2:return o.sent(),[5,__values(e(A))];case 3:return o.sent(),[5,__values(e(i))];case 4:return o.sent(),[5,__values(e({x:t.x-1,y:t.y-1}))];case 5:return o.sent(),[5,__values(e({x:t.x-1,y:t.y+1}))];case 6:return o.sent(),[5,__values(e({x:t.x+1,y:t.y+1}))];case 7:return o.sent(),[5,__values(e({x:t.x+1,y:t.y-1}))];case 8:return o.sent(),[2]}})},t.prototype.getEdgesToNeighbors=function(t){function e(e){return __generator(this,function(n){switch(n.label){case 0:return S.isPixel(e)?[3,2]:[4,{node:e,weight:o(t,e)}];case 1:n.sent(),n.label=2;case 2:return[2]}})}var n,r,A,i,o;return __generator(this,function(s){switch(s.label){case 0:return n={x:t.x,y:t.y-1},r={x:t.x,y:t.y+1},A={x:t.x-1,y:t.y},i={x:t.x+1,y:t.y},o=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},[5,__values(e(r))];case 1:return s.sent(),[5,__values(e(n))];case 2:return s.sent(),[5,__values(e(A))];case 3:return s.sent(),[5,__values(e(i))];case 4:return s.sent(),[5,__values(e({x:t.x-1,y:t.y-1}))];case 5:return s.sent(),[5,__values(e({x:t.x-1,y:t.y+1}))];case 6:return s.sent(),[5,__values(e({x:t.x+1,y:t.y+1}))];case 7:return s.sent(),[5,__values(e({x:t.x+1,y:t.y-1}))];case 8:return s.sent(),[2]}})},t}();window.MinHeap=_MinHeap__WEBPACK_IMPORTED_MODULE_0__.H,window.PixelGraph=PixelGraph;var S=function(){function t(){}return t.boardReset=function(){_share__WEBPACK_IMPORTED_MODULE_3__.S.execute("boardReset",[])},t.newOscillator=function(){t.audioCtx||(t.audioCtx=new window.AudioContext);var e=t.audioCtx.createOscillator();return e.type="sawtooth",e.frequency.value=440,e.connect(t.audioCtx.destination),e},t.setFrequency=function(t,e){t.frequency.value=e},t.shake=function(t){t.classList.add("shake"),setTimeout(function(){t.classList.remove("shake")},500)},t.playNote=function(e,n){t.audioCtx||(t.audioCtx=new window.AudioContext);var r=t.audioCtx.createOscillator();r.type="triangle",r.frequency.value=e,r.connect(t.audioCtx.destination),r.start(),setTimeout(function(){r.stop()},n)},t.magnetSetText=function(t,e){t.innerHTML=e},t.round1=function(t){return Math.round(10*t)/10},t.setColor=function(t){_share__WEBPACK_IMPORTED_MODULE_3__.S.execute("setCurrentColor",[_UserManager__WEBPACK_IMPORTED_MODULE_2__.$.me.userID,t])},t.magnetMove=function(t,e,n){_share__WEBPACK_IMPORTED_MODULE_3__.S.execute("magnetMove",[t.id,e-t.offsetWidth/2,n-t.offsetHeight/2])},t.magnetCenter=function(t){return _magnetManager__WEBPACK_IMPORTED_MODULE_1__.s.getMagnetCenter(t)},t.magnetMiddleBottom=function(t){return _magnetManager__WEBPACK_IMPORTED_MODULE_1__.s.getMagnetMiddleButton(t)},t.getMagnets=function(){for(var t=_magnetManager__WEBPACK_IMPORTED_MODULE_1__.s.getMagnets(),e=[],n=0;n<t.length;n++)e.push(t[n]);return e},t.inRectangle=function(t,e){var n=t.x,r=t.y,A=e.x1,i=e.y1,o=e.x2,s=e.y2;return A<=n&&n<=o&&i<=r&&r<=s},t.magnetDrawingUnder=function(t,e,n){for(var r=document.getElementById("canvas").getContext("2d").getImageData(e-16,n-16,32,32),A=0;A<=r.data.length-1;A++)if(r.data[A]>8)return!0;return!1},t.getPixel=function(t){var e=t.x,n=t.y,r=document.getElementById("canvas").getContext("2d").getImageData(e,n,1,1);return"rgba("+[r.data[0],r.data[1],r.data[2],r.data[3]].join(",")+")"},t.setPixel=function(t,e){var n=t.x,r=t.y,A=document.getElementById("canvas").getContext("2d");A.fillStyle=e,A.globalCompositeOperation="source-over",A.globalAlpha=1,A.fillRect(n,r,1,1)},t.clearPixel=function(t){var e=t.x,n=t.y,r=document.getElementById("canvas").getContext("2d");r.globalCompositeOperation="destination-out",r.fillStyle="rgba(".concat(255,",").concat(255,",").concat(255,",").concat(1,")"),r.fillRect(e,n,1,1)},t.isPixel=function(t){var e=t.x,n=t.y;return document.getElementById("canvas").getContext("2d").getImageData(e,n,1,1).data[3]>128},Object.defineProperty(t,"nbUpdatePerCycle",{set:function(t){if(!(1<=t&&t<=1e3))throw"the number of update per cycle should be between 1 and 1000";Script.nbUpdatePerCycle=t},enumerable:!1,configurable:!0}),t.stop=function(){Script.stop()},t.onmagnetmousedown=function(){},t.onmousemove=function(){},t.onkey=function(){},t.onupdate=function(){},t.onmagnetmove=function(){},t}();window.S=S;var Script=function(){function Script(){}return Script.init=function(){document.getElementById("script").onkeydown=function(){},document.getElementById("buttonScriptRun").onclick=Script.toggle},Script.toggle=function(){Script.isRun?(document.getElementById("buttonScriptRun").innerHTML="โท",Script.stop()):(document.getElementById("buttonScriptRun").innerHTML="โก",Script.run())},Script.run=function(){Script.isRun=!0;var step=function(){for(var t=0;t<Script.nbUpdatePerCycle;t++)S.onupdate();Script.isRun&&requestAnimationFrame(step)};eval(document.getElementById("script").value),step()},Script.stop=function(){Script.isRun=!1,S.onkey=function(){},S.onmousemove=function(){},S.onupdate=function(){},S.onmagnetmousedown=function(){},S.onmagnetmove=function(){}},Script.nbUpdatePerCycle=1,Script.isRun=!1,Script}();window.Script=Script},6459:(t,e,n)=>{"use strict";n.d(e,{i:()=>s,x:()=>a});var r=n(2521),A=n(9855),i=n(2204),o=n(6179),s=function(){function t(){}return t.start=function(e){var n=document.getElementById(e),r=parseFloat(n.style.left),A=parseFloat(n.style.top);t.magnetIDToPoints[e]=[{x:r,y:A}]},t.move=function(e,n,r){var A=document.getElementById(e);a.update(A,n,r),o.O.update(),t.magnetIDToPoints[e]&&t.magnetIDToPoints[e].push({x:n,y:r})},t.stop=function(e){console.log("number of points in the movement of magnet: ".concat(t.magnetIDToPoints[e].length)),t.magnetIDToPoints[e].length>0&&i.q.addAction(new A._(r.$.me.userID,e,t.magnetIDToPoints[e])),delete t.magnetIDToPoints[e]},t.magnetIDToPoints={},t}(),a=function(){function t(){}return t.update=function(e,n,r){var A=parseFloat(e.style.left),i=parseFloat(e.style.top);e.classList.contains("car")?t.carUpdate(e,n,r,A,i):t.simpleUpdate(e,n,r)},t.simpleUpdate=function(t,e,n){t.style.top=n+"px",t.style.left=e+"px"},t.carUpdate=function(e,n,r,A,i){t.simpleUpdate(e,n,r);var o=Math.atan2(r-i,n-A);Math.abs(t.previousAngle-o)<=.1&&(e.style.transform="rotate(".concat(o,"rad)")),t.previousAngle=o},t.previousAngle=0,t}()},6671:()=>{},6843:(t,e,n)=>{"use strict";n.d(e,{E:()=>s});var r,A=n(3002),i=n(3116),o=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"xMax",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"clear",userid:this.userid}},e.prototype.redo=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){return A.H.clear(),document.getElementById("svg").innerHTML="",document.getElementById("magnets").innerHTML="",[2]})},new((n=void 0)||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())});var t,e,n,r},e.prototype.createOverviewImage=function(){return"url(img/icons/supererase.svg)"},e}(i.r)},7071:(t,e,n)=>{"use strict";n.d(e,{M:()=>s});var r=n(3778),A=n(6060),i=n(1024),o=n(328),s=function(){function t(){}return t.isHidden=function(){return"none"==t.getToolbar().style.display},t.init=function(){if(document.getElementById("buttonMovieMode").onclick=r.S.toggle,document.getElementById("hiddenToolbar").onclick=t.hideHiddenToolbarMessage,A.P.isTactileDevice())try{document.getElementById("inputToolbar").hidden=!0;for(var e=document.getElementsByClassName("keyboardkeyhelp"),n=0;n<e.length;n++)e[n].hidden=!0}catch(t){i.r.error("Error in loading the toolbar. You can however use Tableaunoir.")}o.x.boolean({name:"toolbar",defaultValue:!0,onChange:function(e){A.P.isTactileDevice()?t.getToolbar().style.display=void 0:t.getToolbar().style.display=e?"":"none"}}),o.x.string({name:"toolbarPosition",defaultValue:"top",onChange:function(e){"left"==e&&(t.left=!0),"right"==e&&(t.right=!0),"bottom"==e&&(t.bottom=!0),"top"==e&&(t.top=!0)}}),t.helpButtonDivide()},t.removeTopBottomEtc=function(){var e=t.getToolbar();e.classList.remove("toolbarTop"),e.classList.remove("toolbarBottom"),e.classList.remove("toolbarLeft"),e.classList.remove("toolbarRight")},t.setOrientationClass=function(e,n){e&&(t.removeTopBottomEtc(),t.getToolbar().classList.add(n),A.P.layout())},Object.defineProperty(t,"top",{get:function(){return t.getToolbar().classList.contains("toolbarTop")},set:function(e){t.setOrientationClass(e,"toolbarTop")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"bottom",{get:function(){return t.getToolbar().classList.contains("toolbarBottom")},set:function(e){t.setOrientationClass(e,"toolbarBottom")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"left",{get:function(){return t.getToolbar().classList.contains("toolbarLeft")},set:function(e){t.setOrientationClass(e,"toolbarLeft")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"right",{get:function(){return t.getToolbar().classList.contains("toolbarRight")},set:function(e){t.setOrientationClass(e,"toolbarRight")},enumerable:!1,configurable:!0}),t.helpButtonDivide=function(){var t=document.createElement("div");t.className="divideLineHelp",document.getElementById("buttonDivide").onmouseenter=function(){t.style.left=A.P.getXMiddle()+"px",document.getElementById("board").prepend(t)},document.getElementById("buttonDivide").onmouseleave=function(){t.remove()}},t.getToolbar=function(){return document.getElementById("controls")},t.toggle=function(){var e=t.getToolbar();""==e.style.display?(e.style.display="none",t.showHiddenToolbarMessage()):(t.hideHiddenToolbarMessage(),e.style.display=""),A.P.layout()},t.hideHiddenToolbarMessage=function(){document.getElementById("hiddenToolbar").hidden=!0},t.showHiddenToolbarMessage=function(){document.getElementById("hiddenToolbar").hidden=!1,t.timerHiddenToolbarMessage&&clearTimeout(t.timerHiddenToolbarMessage),t.timerHiddenToolbarMessage=setTimeout(t.hideHiddenToolbarMessage,3e3)},t.timerHiddenToolbarMessage=void 0,t}()},7360:(t,e,n)=>{"use strict";n.d(e,{l:()=>r});var r=function(){function t(){}return t.isInsidePolygon=function(t,e){for(var n=t.x,r=t.y,A=!1,i=0,o=e.length-1;i<e.length;o=i++){var s=e[i].x,a=e[i].y,c=e[o].x,l=e[o].y;a>r!=l>r&&n<(c-s)*(r-a)/(l-a)+s&&(A=!A)}return A},t.clipPathToPoints=function(t){var e,n,r=[],A=t.substr(8,t.length-8-1);try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(A.split(",")),o=i.next();!o.done;o=i.next()){var s=o.value.trim().split(" ");r.push({x:parseInt(s[0]),y:parseInt(s[1])})}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.clipPathChangeSize=function(e,n){return""==e?"":t.pointsToClipPath(t.clipPathToPoints(e).map(function(t){return{x:Math.round(t.x*n),y:Math.round(t.y*n)}}))},t.pointsToClipPath=function(t){return"polygon("+t.map(function(t){return"".concat(t.x,"px ").concat(t.y,"px")}).join(", ")+")"},t.almostSameListOfPoints=function(t,e){return console.log("sameListOfPoints"),console.log(t),console.log(e),t.length===e.length&&t.every(function(t,n){return Math.abs(t.x-e[n].x)<2&&Math.abs(t.y-e[n].y)<2})},t}()},7492:()=>{},7640:()=>{},7696:(t,e,n)=>{"use strict";n.d(e,{r:()=>c});var r,A=n(7360),i=n(3116),o=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})},a=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=function(t){function e(e,n,r){var A=t.call(this,e)||this;return A.magnetid=n,A.ratio=r,A.isDirectlyUndoable=!0,A}return o(e,t),Object.defineProperty(e.prototype,"xMax",{get:function(){var t=document.getElementById(this.magnetid),e=t?t.offsetWidth:0;return(t?t.offsetLeft:0)+e},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"magnetchangesizeratio",userid:this.userid,magnetid:this.magnetid,ratio:this.ratio}},e.prototype.magnetChangeSize=function(t){var e=document.getElementById(this.magnetid);e&&(e.style.width||(e.style.width=e.clientWidth+"px"),e.style.clipPath=A.l.clipPathChangeSize(e.style.clipPath,t),e.style.width=parseInt(e.style.width)*t+"px")},e.prototype.redo=function(){return s(this,void 0,void 0,function(){return a(this,function(t){return this.magnetChangeSize(this.ratio),[2]})})},e.prototype.undo=function(){return s(this,void 0,void 0,function(){return a(this,function(t){return this.magnetChangeSize(1/this.ratio),[2]})})},e.prototype.createOverviewImage=function(){return"url(img/icons/resize.svg)"},e}(i.r)},7917:(t,e,n)=>{"use strict";n.d(e,{w:()=>i});var r=n(2079),A=n(6043),i=function(){function t(){}return t.setFilename=function(e){t.is&&n(261).ipcRenderer.send("filename",e)},t.init=function(){try{var e=n(261).ipcRenderer;e.on("new",function(){return r.S.execute("boardReset",[])}),e.on("open",function(t,e){r.S.execute("loadBoard",[e])}),e.on("save",function(){return e.send("save",A.e.getTableauNoirString())}),console.log("Desktop version of Tableaunoir"),t._desktop=!0}catch(e){console.log(e),console.log("Because of the previous error, we deduce that this is the Web version of Tableaunoir"),t._desktop=!1,window.onbeforeunload=function(){return"If you leave Tableaunoir, you will lose any unsaved changes."}}},Object.defineProperty(t,"is",{get:function(){return t._desktop},enumerable:!1,configurable:!0}),t._desktop=!0,t}()},8156:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8451:(t,e,n)=>{"use strict";n.d(e,{e:()=>s});var r,A=n(3981),i=n(3116),o=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n,r,A){var i=t.call(this,e)||this;return i.x=r,i.y=A,i.canvasImg=void 0,i._magnet=n.cloneNode(!0),i}return o(e,t),Object.defineProperty(e.prototype,"xMax",{get:function(){return this.x+this._magnet.clientWidth},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"printmagnet",userid:this.userid,magnet:this._magnet.outerHTML,x:this.x,y:this.y}},Object.defineProperty(e.prototype,"magnet",{get:function(){return this._magnet},enumerable:!1,configurable:!0}),e.prototype.createOverviewImage=function(){return"url(img/icons/stamp.svg)"},e.prototype.redo=function(){var t=this;return new Promise(function(e){var n=(0,A.dX)().getContext("2d");if(t._magnet instanceof HTMLImageElement){var r=t._magnet,i=function(){var A,i;n.globalCompositeOperation="source-over",n.globalAlpha=.9,n.save();var o=r.style.clipPath;if(""!=o){var s=r.style.clipPath.substr(8,o.length-8-1);n.beginPath();var a=!0;try{for(var c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s.split(",")),l=c.next();!l.done;l=c.next()){var u=l.value.trim().split(" ");a?n.moveTo(t.x+parseInt(u[0]),t.y+parseInt(u[1])):n.lineTo(t.x+parseInt(u[0]),t.y+parseInt(u[1])),a=!1}}catch(t){A={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(A)throw A.error}}n.closePath(),n.clip()}var h=r.style.width?parseInt(r.style.width):r.width,d=r.height*h/r.width;if(n.translate(t.x+h/2,t.y+d/2),""!=r.style.transform&&r.style.transform.startsWith("rotate(")&&r.style.transform.endsWith("rad)")){var f=r.style.transform.split("("),p=parseFloat(f[1]);n.rotate(p)}n.filter=r.style.filter,n.drawImage(r,-h/2,-d/2,h,d),n.filter="none",n.restore(),e()};console.log("printing magnet. img.complete = "+r.complete),r.complete?i():r.onload=i}})},e}(i.r)},8507:(t,e,n)=>{const r=n(5659);function A(t,e){return function(n){return e(t(n))}}function i(t,e){const n=[e[t].parent,t];let i=r[e[t].parent][t],o=e[t].parent;for(;e[o].parent;)n.unshift(e[o].parent),i=A(r[e[o].parent][o],i),o=e[o].parent;return i.conversion=n,i}t.exports=function(t){const e=function(t){const e=function(){const t={},e=Object.keys(r);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;){const t=n.pop(),A=Object.keys(r[t]);for(let r=A.length,i=0;i<r;i++){const r=A[i],o=e[r];-1===o.distance&&(o.distance=e[t].distance+1,o.parent=t,n.unshift(r))}}return e}(t),n={},A=Object.keys(e);for(let t=A.length,r=0;r<t;r++){const t=A[r];null!==e[t].parent&&(n[t]=i(t,e))}return n}},8513:(t,e,n)=>{"use strict";n.d(e,{Q:()=>r});var r=function(){function t(){}return t.highlight=function(t){t.classList.add("magnetHighlight")},t.unhighlightAll=function(){for(var e=document.getElementsByClassName("magnetHighlight"),n=0;n<e.length;n++)t.unhighlight(e[n])},t.unhighlight=function(t){t.classList.remove("magnetHighlight")},t}()},8538:(t,e,n)=>{"use strict";n.d(e,{f:()=>A});var r=n(328),A=function(){function t(){}return Object.defineProperty(t,"isSmoothing",{get:function(){return t._isSmoothing},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isParticules",{get:function(){return t._isParticules},enumerable:!1,configurable:!0}),t.init=function(){r.x.boolean({name:"smoothing",defaultValue:!0,onChange:function(e){t._isSmoothing=e}}),r.x.boolean({name:"particulesEffect",defaultValue:!1,onChange:function(e){t._isParticules=e}})},t._isSmoothing=!1,t._isParticules=!1,t}()},8574:(t,e,n)=>{"use strict";n.d(e,{d:()=>o});var r=n(2079),A=n(6060),i=n(3002),o=function(){function t(){}return t.init=function(){document.getElementById("buttonNoBackground").onclick=function(){r.S.execute("backgroundClear",[])},document.getElementById("buttonMusicScore").onclick=function(){r.S.execute("backgroundMusicScore",[])},document.getElementById("buttonGrid").onclick=function(){r.S.execute("backgroundGrid",[])},document.getElementById("buttonSeyes").onclick=function(){r.S.execute("backgroundSeyes",[])}},Object.defineProperty(t,"is",{get:function(){return null!=t.dataURL},enumerable:!1,configurable:!0}),t.set=function(e){document.getElementById("documentPanel").style.backgroundImage=null==e?"":"url("+e+")",t.dataURL=e},t._createCanvas=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n},t.clear=function(){t.set(void 0)},t.grid=function(){var e="rgb(50, 50, 50)",n=A.P.getWindowHeight(),r=t._createCanvas(n/18,n/18);i.H.drawLine(r.getContext("2d"),0,0,0,r.width,.1,e),i.H.drawLine(r.getContext("2d"),0,0,r.width,0,.1,e),t.set(r.toDataURL())},t.seyes=function(){var e,n,r="rgba(96, 96, 255, 0.8)",o=A.P.getWindowHeight(),s=t._createCanvas(o/18,o/18),a=s.getContext("2d"),c=s.height;try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}([.25,.5,.75]),u=l.next();!u.done;u=l.next()){var h=u.value*c;i.H.drawLine(a,0,h,s.width,h,.05,"rgba(128, 168, 192, 0.6)")}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}i.H.drawLine(s.getContext("2d"),0,0,0,s.width,.2,r),i.H.drawLine(a,0,0,s.width,0,.2,r),t.set(s.toDataURL())},t.musicScore=function(){var e=t._createCanvas(2,s),n=2*A.P.getWindowWidth(),r=function(t){for(var r=-2;r<=2;r++){var A=t+r*l;i.H.drawLine(e.getContext("2d"),0,A,n,A,1,"rgb(128, 128, 255)")}};r(c-a),r(c+a),t.set(e.toDataURL())},t.musicScoreYToFrequency=function(t){var e=-(t-(t<c?c-a+l/2:c+a)+2*l/2)/l*2,n=e>=0?e%7:7+e%7,r=12*Math.floor(e/7)+[0,2,4,5,7,9,11][Math.floor(n)]+(n-Math.floor(n))*[2,2,1,2,2,2,1][Math.floor(n)];return(t<c?523.2511:195.9977)*Math.pow(2,r/12)},t.dataURL=void 0,t}();window.musicScoreYToFrequency=o.musicScoreYToFrequency;var s=A.P.getWindowHeight()-32,a=s/7,c=s/2,l=s/30},8611:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});var r=function(){function t(){}return t.addTouchEvents=function(e){e.ontouchstart=t._touchHandler,e.ontouchmove=t._touchHandler,e.ontouchend=t._touchHandler,e.ontouchcancel=t._touchHandler},t._touchHandler=function(t){var e=t.changedTouches[0],n="";switch(t.type){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;default:return}var r=document.createEvent("MouseEvent");r.initMouseEvent(n,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(r),t.preventDefault()},t}()},8696:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>MagnetTextManager});var _share__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2079),_magnetManager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3289),_UserManager__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2521),MagnetTextManager=function(){function MagnetTextManager(){}return MagnetTextManager.latexTypeSet=function(){try{eval("MathJax.typeset();")}catch(t){console.log("MathJaX not supported")}},MagnetTextManager.isTextMagnet=function(t){return t.classList.contains("magnetText")},MagnetTextManager.setColor=function(t,e){t.children[0].style.color=e},MagnetTextManager.getColor=function(t){return t.children[0].style.color},MagnetTextManager.setLaTEX=function(t,e){var n=t.children[0];t.dataset.type="LaTEX",t.dataset.code=e,n.contentEditable="false",n.innerHTML="\\[".concat(t.dataset.code,"\\]"),MagnetTextManager.latexTypeSet(),_share__WEBPACK_IMPORTED_MODULE_0__.S.isShared()&&_share__WEBPACK_IMPORTED_MODULE_0__.S.sendMagnetChanged(t)},MagnetTextManager.recognizeLaTEXCode=function(t){function e(t){var e=t.innerHTML;return e.startsWith("$")&&e.endsWith("$")?e.substring(1,e.length-1):e.startsWith("$")&&e.endsWith("$<br>")?e.substring(1,e.length-5):e.startsWith("\\[")&&e.endsWith("\\]")?e.substring(2,e.length-2):void 0}var n=t.children[0];return e(n)||(1==n.children.length?e(n.children[0]):void 0)},MagnetTextManager.maybeRecognizeLaTEX=function(t){var e=MagnetTextManager.recognizeLaTEXCode(t);null!=e?MagnetTextManager.setLaTEX(t,e):MagnetTextManager.latexTypeSet()},MagnetTextManager.installMagnetText=function(t){MagnetTextManager.maybeRecognizeLaTEX(t);var e=t.children[0];t.ondblclick=function(){if("LaTEX"==t.dataset.type){var e=prompt("Type the LaTEX code: (e.g. \\frac 1 2)",t.dataset.code);e&&MagnetTextManager.setLaTEX(t,e)}},e.onpointerdown=function(t){t.stopPropagation()},e.onpointermove=function(t){t.stopPropagation()},e.onpointerup=function(t){document.activeElement==e&&t.stopPropagation()},e.onkeydown=function(n){var r=function(t){e.style.fontSize=t+"px";for(var n=0;n<e.children.length;n++)e.children[n].style.fontSize=t+"px"};if("Escape"==n.key&&(e.blur(),MagnetTextManager.maybeRecognizeLaTEX(t),window.getSelection().removeAllRanges()),n.ctrlKey&&"="==n.key||n.ctrlKey&&"+"==n.key){var A=parseInt(e.style.fontSize);r(++A),n.preventDefault()}else n.ctrlKey&&"-"==n.key&&((A=parseInt(e.style.fontSize))>6&&A--,r(A),n.preventDefault());n.stopPropagation()},e.onkeyup=function(e){_share__WEBPACK_IMPORTED_MODULE_0__.S.execute("magnetChange",[_UserManager__WEBPACK_IMPORTED_MODULE_2__.$.me.userID,t.id,t.outerHTML]),e.stopPropagation()}},MagnetTextManager.addMagnetText=function(t,e){var n=document.createElement("div"),r=document.createElement("div");n.appendChild(r),r.innerHTML="type text",r.contentEditable="true",r.style.fontSize="24px",r.style.color=_UserManager__WEBPACK_IMPORTED_MODULE_2__.$.me.color,n.classList.add("magnetText"),n.style.left=t+"px",n.style.top=e+"px",_magnetManager__WEBPACK_IMPORTED_MODULE_1__.s.addMagnet(n),_share__WEBPACK_IMPORTED_MODULE_0__.S.isShared()&&_share__WEBPACK_IMPORTED_MODULE_0__.S.sendMagnetChanged(n),setTimeout(function(){return function(t){var e=document.getElementById(t).children[0];e.focus();var n=document.createRange(),r=window.getSelection();n.selectNodeContents(e),r.removeAllRanges(),r.addRange(n)}(n.id)},50)},MagnetTextManager}()},8854:(t,e,n)=>{var r=n(8156),A=n(9872),i=Object.hasOwnProperty,o=Object.create(null);for(var s in r)i.call(r,s)&&(o[r[s]]=s);var a=t.exports={to:{},get:{}};function c(t,e,n){return Math.min(Math.max(e,t),n)}function l(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}a.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=a.get.hsl(t),n="hsl";break;case"hwb":e=a.get.hwb(t),n="hwb";break;default:e=a.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},a.get.rgb=function(t){if(!t)return null;var e,n,A,o=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(A=e[2],e=e[1],n=0;n<3;n++){var s=2*n;o[n]=parseInt(e.slice(s,s+2),16)}A&&(o[3]=parseInt(A,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(A=(e=e[1])[3],n=0;n<3;n++)o[n]=parseInt(e[n]+e[n],16);A&&(o[3]=parseInt(A+A,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(e[n+1],0);e[4]&&(e[5]?o[3]=.01*parseFloat(e[4]):o[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:i.call(r,e[1])?((o=r[e[1]])[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?o[3]=.01*parseFloat(e[4]):o[3]=parseFloat(e[4]))}for(n=0;n<3;n++)o[n]=c(o[n],0,255);return o[3]=c(o[3],0,1),o},a.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},a.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},a.to.hex=function(){var t=A(arguments);return"#"+l(t[0])+l(t[1])+l(t[2])+(t[3]<1?l(Math.round(255*t[3])):"")},a.to.rgb=function(){var t=A(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},a.to.rgb.percent=function(){var t=A(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},a.to.hsl=function(){var t=A(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},a.to.hwb=function(){var t=A(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},a.to.keyword=function(t){return o[t.slice(0,3)]}},8922:(t,e,n)=>{"use strict";n.d(e,{D:()=>i});var r=n(2079),A=n(2521),i=function(){function t(){}return t.updateGUIUsers=function(){for(var e in document.getElementById("userList").innerHTML="",A.$.users)document.getElementById("userList").appendChild(t.createUserHTMLElement(e));t.updateNumberOfUsers()},t.updateNumberOfUsers=function(){r.S.isShared()&&(document.getElementById("numberOfUsers").innerHTML=t.getUserImage("u0").outerHTML+" ร "+A.$.getNumberOfUsers())},t.updateGUIUser=function(e){t.getUserHTMLElement(e)?document.getElementById("userList").replaceChild(t.createUserHTMLElement(e),t.getUserHTMLElement(e)):t.updateGUIUsers()},t.add=function(e){document.getElementById("userList").appendChild(t.createUserHTMLElement(e)),t.updateNumberOfUsers()},t.leave=function(e){t.getUserHTMLElement(e).remove(),t.updateNumberOfUsers()},t.getUserImage=function(e){var n=new Image,r=parseInt(e.substr(1));return isNaN(r)&&(r=0),n.draggable=!1,n.src="img/users/"+t.usersImageFileNames[r%t.usersImageFileNames.length],n.classList.add("userImage"),n},t.createRootImage=function(){var t=new Image;return t.src="img/users/1F451.svg",t.title="user with full privileges",t.style.width="32px",t},t.createCanWriteImage=function(t){var e=new Image;return e.src=A.$.users[t].canWrite?"img/users/270F.svg":"img/users/1F6AB.svg",e.title="writing permission",e.style.width="32px",!A.$.me.isRoot||A.$.users[t].isRoot&&t!=A.$.me.userID||(e.style.cursor="pointer",e.onclick=function(){r.S.execute("setUserCanWrite",[t,!A.$.users[t].canWrite])}),e},t.getUserHTMLElement=function(t){return document.getElementById("userElement"+t)},t.createUserHTMLElement=function(e){var n=document.createElement("div");n.id="userElement"+e,n.classList.add("user"),n.appendChild(t.getUserImage(e));var r=document.createElement("span");return r.innerHTML=A.$.users[e].name,n.appendChild(r),A.$.users[e].isRoot&&n.appendChild(t.createRootImage()),n.appendChild(this.createCanWriteImage(e)),e==A.$.me.userID&&n.classList.add("me"),n},t.usersImageFileNames=["1F9D1-200D-1F384.svg","1F9D9.svg","1F9DA-200D-2640-FE0F.svg","1F9DD.svg"],t}()},8944:(t,e,n)=>{"use strict";n.d(e,{N:()=>A});var r=n(328),A=function(){function t(t){this.xInit=0,this.yInit=0,this.x=0,this.y=0,this.isDrawing=!1,this.user=t}return t.init=function(){r.x.boolean({name:"cursorVisible",defaultValue:!0,onChange:function(e){t.cursorVisible=e,document.getElementById("canvas").style.cursor=t.cursorVisible?t.cursor:"none"}})},t.prototype.destructor=function(){},t.prototype.setToolCursorImage=function(e){t.cursor="url(".concat(e.data,") ").concat(e.x," ").concat(e.y,", auto"),document.getElementById("canvas").style.cursor=t.cursorVisible?t.cursor:"none"},t.prototype.updateCursor=function(){},t.cursorVisible=!0,t}()},9085:(t,e,n)=>{"use strict";n.d(e,{e:()=>s});var r,A=n(3116),i=n(3002),o=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.points=n,r}return o(e,t),Object.defineProperty(e.prototype,"xMax",{get:function(){return Math.max.apply(Math,function(t,e,n){if(n||2===arguments.length)for(var r,A=0,i=e.length;A<i;A++)!r&&A in e||(r||(r=Array.prototype.slice.call(e,0,A)),r[A]=e[A]);return t.concat(r||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,A,i=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(t){A={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(A)throw A.error}}return o}(this.points.map(function(t){return t.x})),!1))},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"clearzone",userid:this.userid,points:this.points}},e.prototype.redo=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){return i.H.clearPolygon(this.points),[2]})},new((n=void 0)||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())});var t,e,n,r},e.prototype.createOverviewImage=function(){return"url(img/icons/erase.svg)"},e}(A.r)},9136:(t,e,n)=>{"use strict";n.d(e,{f:()=>Q});var r,A=n(8696),i=n(9625),o=n(6060),s=n(1024),a=n(6361),c=n(3778),l=n(328),u=n(2079),h=n(2521),d=n(6252),f=n(1706),p=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(t){function e(){var e=t.call(this)||this;return e.addButtonImage({src:"img/icons/1F9F2.svg",title:"Magnetize the last drawn shape (Ctrl + X)",onclick:function(){f.R.magnetize(h.$.me.userID,!0),d.J.hide()}}),e.addButtonImage({src:"img/icons/free.svg",title:"Draw and write freely",onclick:function(){u.S.execute("switchDraw",[h.$.me.userID]),d.J.hide()}}),e.addButtonImage({src:"img/icons/line.svg",title:"Draw a line",onclick:function(){u.S.execute("switchLine",[h.$.me.userID]),d.J.hide()}}),e.addButtonImage({src:"img/icons/25AD.svg",title:"Draw a rectangle",onclick:function(){u.S.execute("switchRectangle",[h.$.me.userID]),d.J.hide()}}),e.addButtonImage({src:"img/icons/26AA.svg",title:"Draw an ellipse (via its bounding box)",onclick:function(){u.S.execute("switchEllipseByBorder",[h.$.me.userID]),d.J.hide()}}),e.addButtonImage({src:"img/icons/26AAcenter.svg",title:"Draw an ellipse (center then radius)",onclick:function(){u.S.execute("switchEllipseByCenter",[h.$.me.userID]),d.J.hide()}}),e.addButtonImage({src:"img/icons/arc.svg",title:"Draw arcs (with a compass)",onclick:function(){u.S.execute("switchArc",[h.$.me.userID]),d.J.hide()}}),e.addButtonImage({src:"img/icons/supererase.svg",title:"Clear all the board",onclick:function(){u.S.execute("boardClear",[h.$.me.userID]),d.J.hide()}}),e.layout(),e}return p(e,t),e}(d.J),m=n(2517),w=["white","yellow","orange","rgb(100, 172, 255)","Crimson","Plum","LimeGreen","black"],y=["white","#BBBBBB","#888888","#444444","black","#FFFF00","#FFBB00","#FF8800","#FF5500","#FF0000","#CC0000","#880000","#8800FF","#FF00FF","#FFAAFF","#FFCCFF","#0000FF","#0088FF","#00FFFF","#88FF88","#00FF00","#008800","#558800"],b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(t){function e(){var e=t.call(this)||this;return e.palettes={standard:w,crazy:y},e.colors=w,e.currentColorID=0,e.onchange=function(){},setTimeout(function(){return l.x.string({name:"palette",defaultValue:"standard",onChange:function(t){e.colors=e.palettes[t],e.currentColorID=0,e._createPalette()}})},1e3),e._createPalette(),e}return b(e,t),e.prototype._createPalette=function(){this.clear();for(var t=0;t<this.colors.length;t++)this.addButton(this._createColorButton(t));this.layout()},e.prototype.switchBlackAndWhite=function(){this.colors=this.colors.map(function(t){return"white"==t?"black":"black"==t?"white":t}),this._createPalette(),this.onchange()},e.prototype._createColorButton=function(t){var e=this,n=new Image;return n.src=m._.getCursorURL(this.colors[t]),n.classList.add("paletteColorButton"),n.style.borderColor=this.colors[t],n.onclick=function(){e.buttons[e.currentColorID]&&e.buttons[e.currentColorID].classList.remove("selected"),e.currentColorID=t,e.buttons[e.currentColorID].classList.add("selected"),d.J.hide(),e.onchange()},n},e.prototype.next=function(){this.buttons[this.currentColorID].classList.remove("selected"),this.currentColorID++,this.currentColorID=this.currentColorID%this.colors.length,this.buttons[this.currentColorID].classList.add("selected"),this.onchange()},e.prototype.previous=function(){this.buttons[this.currentColorID].classList.remove("selected"),this.currentColorID--,this.currentColorID<0&&(this.currentColorID=this.colors.length-1),this.buttons[this.currentColorID].classList.add("selected"),this.onchange()},e.prototype.show=function(e){t.prototype.show.call(this,e),this._createPalette()},e.prototype.getCurrentColor=function(){return this.colors[this.currentColorID]},e}(d.J),B=n(3289),C=n(2204),_=n(4416),x=n(9271),F=n(616),S=n(4973),E=n(2326),U=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(t){function e(e,n){var r=t.call(this)||this;return r.indices=e,r.newColor=n,r.previousColors=r.indices.map(function(t){return r.getColor(C.q.timeline.actions[t])}),r}return U(e,t),e.prototype.setColor=function(t,e){if(t instanceof E.z){if(A.h.isTextMagnet(t.magnet))return A.h.setColor(t.magnet,e)}else t instanceof _.J?t.setColor(e):t.color=e},e.prototype.getColor=function(t){return t instanceof E.z?A.h.isTextMagnet(t.magnet)?A.h.getColor(t.magnet):void 0:t instanceof _.J?t.getMainColor():t.color},e.prototype.undo=function(){for(var t in this.indices)this.setColor(C.q.timeline.actions[this.indices[t]],this.previousColors[t]);C.q.timeline.resetAndUpdate(),c.S.update()},e.prototype.redo=function(){return t=this,e=void 0,r=function(){var t;return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(e){for(t in this.indices)this.setColor(C.q.timeline.actions[this.indices[t]],this.newColor);return C.q.timeline.resetAndUpdate(),c.S.update(),[2]})},new((n=void 0)||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())});var t,e,n,r},e}(S.I),Q=function(){function t(){}return t.fill=function(){var t=B.s.getMagnetUnderCursor();if(t)t.style.backgroundColor=h.$.me.color;else{var e=C.q.timeline.getIndexLastActionByUser(h.$.me.userID),n=C.q.timeline.actions[e];null!=n&&(n instanceof _.J||n instanceof x.Q||n instanceof F.H)&&C.q.addAction(new i.W(h.$.me.userID,n.contour,h.$.me.color))}},t.pasteFromClipBoard=function(){try{navigator.clipboard.read().then(function(t){console.log(t[0]),console.log(t[0].types),console.log(t[0].getType("image/png")),t[0].getType("image/png").then(function(t){return function(t){var e=new FileReader;e.onload=function(t){var e,n;e=t.target.result,(n=new Image).src=e,n.style.left=o.P.getWindowLeft()+"px",n.style.top="0px",console.log(e),B.s.addMagnet(n)},e.readAsDataURL(t)}(t)})})}catch(t){s.r.error(t)}},t.init=function(){t.palette.onchange=function(){c.S.isSelection()&&C.q.executeOperation(new I(Array.from(c.S.selection.selection),t.palette.getCurrentColor())),h.$.me.isToolErase&&u.S.execute("switchDraw",[h.$.me.userID]),u.S.execute("setCurrentColor",[h.$.me.userID,t.palette.getCurrentColor()])},l.x.boolean({name:"paletteShowOnKey",defaultValue:!0,onChange:function(e){t.paletteShowOnKey=e}})},t.changeColor=function(e){void 0===e&&(e=!1),h.$.me.tool.isDrawing||!t.paletteShowOnKey&&e||t.palette.show({x:h.$.me.tool.x,y:h.$.me.tool.y}),t.palette.next()},t.previousColor=function(e){void 0===e&&(e=!1),h.$.me.tool.isDrawing||!t.paletteShowOnKey&&e||t.palette.show({x:h.$.me.tool.x,y:h.$.me.tool.y}),t.palette.previous()},t.switchDrawEraser=function(){h.$.me.isToolDraw?u.S.execute("switchEraser",[h.$.me.userID]):u.S.execute("switchDraw",[h.$.me.userID])},t.magnetChangeSize=function(t){var e=B.s.getMagnetUnderCursor();if(e&&!A.h.isTextMagnet(e)){var n=e.id;u.S.execute("magnetChangeSize",[h.$.me.userID,n,t])}},t.magnetIncreaseSize=function(){t.magnetChangeSize(1.1)},t.magnetDecreaseSize=function(){t.magnetChangeSize(.9)},t.getMagnetBackgroundUnderCursor=function(t,e){for(var n=function(t){var e=parseInt(t.style.left),n=parseInt(t.style.top);return{x1:e,y1:n,x2:e+t.clientWidth,y2:n+t.clientHeight}},r=B.s.getMagnets(),A=0;A<r.length;A++){var i=r[A];if("hidden"!=i.style.visibility&&a.S.inRectangle({x:t,y:e},n(i)))return i}},t.magnetSwitchBackgroundForeground=function(){var e=function(t){u.S.execute("magnetSwitchBackgroundForeground",[h.$.me.userID,t.id])},n=B.s.getMagnetUnderCursor(),r=h.$.me.x,A=h.$.me.y;if(console.log(r,A),null==n){var i=t.getMagnetBackgroundUnderCursor(r,A);i&&e(i)}else e(n),B.s.magnetUnderCursor=void 0},t.palette=new v,t.toolmenu=new g,t.paletteShowOnKey=!0,t}()},9271:(t,e,n)=>{"use strict";n.d(e,{Q:()=>s});var r,A=n(3002),i=n(3116),o=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n,r,A,i,o){var s=t.call(this,e)||this;return s.x1=n,s.y1=r,s.x2=A,s.y2=i,s.color=o,s}return o(e,t),Object.defineProperty(e.prototype,"xMax",{get:function(){return Math.max(this.x1,this.x2)},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"rectangle",userid:this.userid,x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,color:this.color}},e.prototype.createOverviewImage=function(){return"url(img/icons/25AD.svg)"},e.prototype.redo=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){return A.H.drawRectangle({x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2},this.color),[2]})},new((n=void 0)||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())});var t,e,n,r},Object.defineProperty(e.prototype,"contour",{get:function(){return[{x:this.x1,y:this.y1},{x:this.x2,y:this.y1},{x:this.x2,y:this.y2},{x:this.x1,y:this.y2},{x:this.x1,y:this.y1}]},enumerable:!1,configurable:!0}),e}(i.r)},9486:(t,e,n)=>{"use strict";n.d(e,{p:()=>m});var r,A=n(3289),i=n(2521),o=n(4416),s=n(2517),a=n(2204),c=n(1706),l=n(3002),u=n(8944),h=n(3242),d=n(8513),f=n(8538),p=n(1187),g=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=function(t){function e(e){var n=t.call(this,e)||this;return n.name="ToolDraw",n.lastDelineation=new c.R,n.guessMagnetConnection=new w,n.svgLines=[],n.pointIndex=0,n.user.isCurrentUser&&(document.getElementById("buttonEraser").hidden=!1,document.getElementById("buttonChalk").hidden=!0,n.setToolCursorImage(s._.getStyleCursor(n.user.color))),n}return g(e,t),e.prototype.mousedown=function(t){h.v.mousedown(t.pressure),this.pointIndex=0,this.svgLines=[],f.f.isParticules&&p.i.start(this.x,this.y,t.pressure,this.user.color),console.log("new action from user ".concat(this.user.userID)),this.action=new o.J(this.user.userID),this.action.addPoint({x:this.x,y:this.y,pressure:0,color:this.user.color})},e.addSVGLine=function(t,e,n,r,A,o){void 0===A&&(A=1),void 0===o&&(o=i.$.me.getCurrentColor());var s=document.createElementNS("http://www.w3.org/2000/svg","line");return s.setAttributeNS(null,"x1",""+t),s.setAttributeNS(null,"y1",""+e),s.setAttributeNS(null,"x2",""+n),s.setAttributeNS(null,"y2",""+r),s.setAttributeNS(null,"stroke",o),s.setAttributeNS(null,"stroke-width",""+l.H.lineWidth*(1+2*A)),s.setAttributeNS(null,"opacity",""+(.9+.1*A)),document.getElementById("svg").appendChild(s),s},e.prototype.mousemove=function(t){if(this.isDrawing){var n=t.offsetX,r=t.offsetY,A=Math.abs(n-this.x)+Math.abs(r-this.y);h.v.mousemove(A),f.f.isParticules&&Math.random()<.015*A&&p.i.start(this.x,this.y,t.pressure,this.user.color,1),this.action.addPoint({x:n,y:r,pressure:t.pressure,color:this.user.color})&&this.svgLines.push(e.addSVGLine(this.x,this.y,n,r,t.pressure,this.user.color)),d.Q.unhighlightAll(),t.shiftKey&&this.guessMagnetConnection.live(this.action)}else d.Q.unhighlightAll(),t.shiftKey&&this.updateMagnetPossibleConnection()},e.prototype.mouseup=function(t){var e,n;if(h.v.mouseup(),this.isDrawing){try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.svgLines),i=r.next();!i.done;i=r.next())i.value.remove()}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}if(this.svgLines=[],this.action.alreadyDrawnSth&&f.f.isSmoothing&&this.action.postTreatement(),this.guessMagnetConnection.live(this.action),d.Q.unhighlightAll(),this.guessMagnetConnection.hasConnections&&t.shiftKey){var o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,A,i=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(t){A={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(A)throw A.error}}return o}(this.guessMagnetConnection.pairMagnets,2),s=o[0],c=o[1];this.action.setInteractiveGraphInformation(s.id,c.id,A.s.getMagnetCenter(s),A.s.getMagnetCenter(c)),a.q.addAction(this.action)}else a.q.addAction(this.action)}},e.prototype.updateMagnetPossibleConnection=function(){if(this.isDrawing)this.guessMagnetConnection.live(this.action);else{var t=A.s.getMagnetNearPoint({x:this.user.x,y:this.user.y});t&&d.Q.highlight(t)}},e.prototype.updateNoMagnetPossibleConnection=function(){d.Q.unhighlightAll()},e.prototype.updateCursor=function(){this.user.isCurrentUser&&this.setToolCursorImage(s._.getStyleCursor(this.user.color))},e}(u.N),w=function(){function t(){this._magnet1=void 0,this._magnet2=void 0}return Object.defineProperty(t.prototype,"magnet1",{get:function(){return this._magnet1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"magnet2",{get:function(){return this._magnet2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasConnections",{get:function(){return this._magnet1||this._magnet2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pairMagnets",{get:function(){return[this._magnet1?this._magnet1:this._magnet2,this._magnet2?this._magnet2:this._magnet1]},enumerable:!1,configurable:!0}),t.prototype.live=function(t){var e=this;!function(){var n=A.s.getMagnetNearPoint(t.points[0]),r=A.s.getMagnetNearPoint(t.points[t.points.length-1]);if(null!=t.isAlmostLine()){if(n==e._magnet1&&null==r)return;if(r==e._magnet1&&null==n)return;if(n==e._magnet2&&null==r)return;if(r==e._magnet2&&null==n)return}e._magnet1=n,e._magnet2=r}(),d.Q.unhighlightAll(),this._magnet1&&d.Q.highlight(this._magnet1),this._magnet2&&d.Q.highlight(this._magnet2)},t}()},9625:(t,e,n)=>{"use strict";n.d(e,{W:()=>l});var r,A=n(3002),i=n(3981),o=n(3116),s=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,A,i=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(t){A={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(A)throw A.error}}return o},c=function(t,e,n){if(n||2===arguments.length)for(var r,A=0,i=e.length;A<i;A++)!r&&A in e||(r||(r=Array.prototype.slice.call(e,0,A)),r[A]=e[A]);return t.concat(r||Array.prototype.slice.call(e))},l=function(t){function e(e,n,r){var A=t.call(this,e)||this;return A.points=n,A.color=r,A}return s(e,t),Object.defineProperty(e.prototype,"xMin",{get:function(){return Math.min.apply(Math,c([],a(this.points.map(function(t){return t.x})),!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"xMax",{get:function(){return Math.max.apply(Math,c([],a(this.points.map(function(t){return t.x})),!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yMin",{get:function(){return Math.min.apply(Math,c([],a(this.points.map(function(t){return t.y})),!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yMax",{get:function(){return Math.max.apply(Math,c([],a(this.points.map(function(t){return t.y})),!1))},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"fill",userid:this.userid,points:this.points,color:this.color}},e.prototype.redo=function(){return t=this,e=void 0,r=function(){var t;return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(e){return t=(0,i.dX)().getContext("2d"),A.H.fill(t,this.points,this.color),[2]})},new((n=void 0)||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())});var t,e,n,r},e.prototype.createOverviewImage=function(){return"url(img/icons/1F58C.svg)"},e}(o.r)},9855:(t,e,n)=>{"use strict";n.d(e,{_:()=>h});var r,A=n(6179),i=n(3116),o=n(6459),s=n(3289),a=n(1024),c=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,r){return new(n||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())})},u=function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},h=function(t){function e(e,n,r){var A=t.call(this,e)||this;return A.magnetid=n,A.points=[],A.points=r,A.isDirectlyUndoable=!0,A}return c(e,t),Object.defineProperty(e.prototype,"xMax",{get:function(){var t=document.getElementById(this.magnetid),e=t?t.offsetWidth:0;return Math.max.apply(Math,function(t,e,n){if(n||2===arguments.length)for(var r,A=0,i=e.length;A<i;A++)!r&&A in e||(r||(r=Array.prototype.slice.call(e,0,A)),r[A]=e[A]);return t.concat(r||Array.prototype.slice.call(e))}([],function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,A,i=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(t){A={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(A)throw A.error}}return o}(this.points.map(function(t){return t.x})),!1))+e},enumerable:!1,configurable:!0}),e.prototype.serializeData=function(){return{type:"magnetmove",userid:this.userid,magnetid:this.magnetid,points:this.points}},e.prototype.createOverviewImage=function(){return"url(img/icons/magnetMove.svg)"},Object.defineProperty(e.prototype,"pointsCentered",{get:function(){var t=document.getElementById(this.magnetid);if(t){var e=t.offsetWidth/2,n=t.offsetHeight/2;return this.points.map(function(t){var r=t.x,A=t.y;return{x:r+e,y:A+n}})}return this.points},enumerable:!1,configurable:!0}),e.prototype.setPosition=function(t){var e=document.getElementById(this.magnetid);e&&(o.x.update(e,t.x,t.y),A.O.update())},e.prototype.check=function(){var t=document.getElementById(this.magnetid);null!=t&&"hidden"!=t.style.visibility||(a.r.show("Temporal paradox fixed!"),this.reassign())},e.prototype.reassign=function(){var t=this.points[0],e=s.s.getMagnetNearPoint(t);e&&(this.magnetid=e.id)},Object.defineProperty(e.prototype,"lastPoint",{get:function(){return this.points[this.points.length-1]},enumerable:!1,configurable:!0}),e.prototype.redo=function(){return l(this,void 0,void 0,function(){return u(this,function(t){return this.check(),this.setPosition(this.lastPoint),[2]})})},e.prototype.undo=function(){return l(this,void 0,void 0,function(){return u(this,function(t){return this.setPosition(this.points[0]),[2]})})},e.prototype.redoAnimated=function(){return l(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<this.points.length?(this.setPosition(this.points[t]),[4,this.delay()]):[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},e}(i.r)},9872:(t,e,n)=>{"use strict";var r=n(6195),A=Array.prototype.concat,i=Array.prototype.slice,o=t.exports=function(t){for(var e=[],n=0,o=t.length;n<o;n++){var s=t[n];r(s)?e=A.call(e,i.call(s)):e.push(s)}return e};o.wrap=function(t){return function(){return t(o(arguments))}}},9873:(t,e,n)=>{"use strict";n.d(e,{o:()=>s});var r,A=n(2204),i=n(4973),o=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this)||this;return n.indices=e,n.actionsTable=n.indices.map(function(t){return A.q.timeline.actions[t]}),n}return o(e,t),e.prototype.undo=function(){A.q.timeline.insertActions(this.indices,this.actionsTable)},e.prototype.redo=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,A,i,o={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(A=2&i[0]?r.return:i[0]?r.throw||((A=r.return)&&A.call(r),0):r.next)&&!(A=A.call(r,i[1])).done)return A;switch(r=0,A&&(i=[2&i[0],A.value]),i[0]){case 0:case 1:A=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((A=(A=o.trys).length>0&&A[A.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!A||i[1]>A[0]&&i[1]<A[3])){o.label=i[1];break}if(6===i[0]&&o.label<A[1]){o.label=A[1],A=i;break}if(A&&o.label<A[2]){o.label=A[2],o.ops.push(i);break}A[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=A=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){switch(t.label){case 0:return[4,A.q.timeline.deleteActions(this.indices)];case 1:return t.sent(),[2]}})},new((n=void 0)||(n=Promise))(function(A,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?A(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}a((r=r.apply(t,e||[])).next())});var t,e,n,r},e}(i.I)},9969:(t,e,n)=>{"use strict";n.d(e,{W:()=>r});var r=function(){function t(){}return t.init=function(){document.getElementById("defaultOpen").click()},t.openPage=function(t,e){for(var n=document.getElementsByClassName("tabcontent"),r=0;r<n.length;r++)n[r].style.display="none";var A=document.getElementsByClassName("tablink");for(r=0;r<A.length;r++)A[r].classList.remove("selected");document.getElementById(t).style.display="block",e.classList.add("selected")},t.toggle=function(){t.isShown()?t.hide():t.show()},t.getMenu=function(){return document.getElementById("menu")},t.hide=function(){t.getMenu().classList.remove("menuShow"),t.getMenu().classList.add("menuHide"),document.activeElement instanceof HTMLElement&&document.activeElement.blur()},t.show=function(){t.getMenu().classList.add("menuShow"),t.getMenu().classList.remove("menuHide")},t.openPageShare=function(){t.openPage("Share",document.getElementById("tabShare"))},t.openPageMyBoard=function(){t.openPage("MyBlackboard",document.getElementById("defaultOpen"))},t.isShown=function(){return t.getMenu().classList.contains("menuShow")},t}()}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},getProto=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,__webpack_require__.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var A=2&e&&t;("object"==typeof A||"function"==typeof A)&&!~leafPrototypes.indexOf(A);A=getProto(A))Object.getOwnPropertyNames(A).forEach(e=>r[e]=()=>t[e]);return r.default=()=>t,__webpack_require__.d(n,r),n},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.f={},__webpack_require__.e=t=>Promise.all(Object.keys(__webpack_require__.f).reduce((e,n)=>(__webpack_require__.f[n](t,e),e),[])),__webpack_require__.u=t=>t+".tableaunoir.js",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),inProgress={},__webpack_require__.l=(t,e,n,r)=>{if(inProgress[t])inProgress[t].push(e);else{var A,i;if(void 0!==n)for(var o=document.getElementsByTagName("script"),s=0;s<o.length;s++){var a=o[s];if(a.getAttribute("src")==t){A=a;break}}A||(i=!0,(A=document.createElement("script")).charset="utf-8",__webpack_require__.nc&&A.setAttribute("nonce",__webpack_require__.nc),A.src=t),inProgress[t]=[e];var c=(e,n)=>{A.onerror=A.onload=null,clearTimeout(l);var r=inProgress[t];if(delete inProgress[t],A.parentNode&&A.parentNode.removeChild(A),r&&r.forEach(t=>t(n)),e)return e(n)},l=setTimeout(c.bind(null,void 0,{type:"timeout",target:A}),12e4);A.onerror=c.bind(null,A.onerror),A.onload=c.bind(null,A.onload),i&&document.head.appendChild(A)}},__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;__webpack_require__.g.importScripts&&(t=__webpack_require__.g.location+"");var e=__webpack_require__.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=t})(),(()=>{var t={395:0};__webpack_require__.f.j=(e,n)=>{var r=__webpack_require__.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var A=new Promise((n,A)=>r=t[e]=[n,A]);n.push(r[2]=A);var i=__webpack_require__.p+__webpack_require__.u(e),o=new Error;__webpack_require__.l(i,n=>{if(__webpack_require__.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var A=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+e+" failed.\n("+A+": "+i+")",o.name="ChunkLoadError",o.type=A,o.request=i,r[1](o)}},"chunk-"+e,e)}};var e=(e,n)=>{var r,A,[i,o,s]=n,a=0;if(i.some(e=>0!==t[e])){for(r in o)__webpack_require__.o(o,r)&&(__webpack_require__.m[r]=o[r]);s&&s(__webpack_require__)}for(e&&e(n);a<i.length;a++)A=i[a],__webpack_require__.o(t,A)&&t[A]&&t[A][0](),t[A]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var __webpack_exports__=__webpack_require__(3981)})();
//# sourceMappingURL=tableaunoir.js.map