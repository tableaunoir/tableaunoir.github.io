(()=>{"use strict";var __webpack_modules__={986:(e,t,n)=>{n.d(t,{p:()=>a});var o=n(776),r=n(941),a=function(){function e(){}return e.init=function(){var t=function(t){e.leftHanded=t,t?localStorage.setItem("leftHanded","true"):localStorage.removeItem("leftHanded"),o.w.me.updateCursor(),r.v.hide()};document.getElementById("buttonLefthanded").onclick=function(){t(!0)},document.getElementById("buttonRighthanded").onclick=function(){t(!1)}},e.getStyleCursor=function(t){return{data:e.getCursorURL(t),x:e.leftHanded?32:0,y:0}},e.getCursorURL=function(t){var n=16,o=document.createElement("canvas");o.width=32,o.height=44;var r=o.getContext("2d");e.leftHanded&&r.transform(-1,0,0,1,32,0);var a=Math.atan2(44,32),i=a+.3,s=a-.3,c={x:n*Math.cos(i),y:n*Math.sin(i)},u={x:n*Math.cos(s),y:n*Math.sin(s)},l=34*Math.cos(a),d=34*Math.sin(a);return r.beginPath(),r.moveTo(0,0),r.lineTo(c.x,c.y),r.lineTo(c.x+l,c.y+d),r.lineTo(u.x+l,u.y+d),r.lineTo(u.x,u.y),r.lineTo(0,0),r.lineWidth=1,r.strokeStyle="black",r.stroke(),r.fillStyle=t,r.fill(),r.beginPath(),r.moveTo(n*Math.cos(i),n*Math.sin(i)),r.lineTo(n*Math.cos(s),n*Math.sin(s)),r.stroke(),o.toDataURL()},e.leftHanded=localStorage.getItem("leftHanded"),e}()},878:(e,t,n)=>{n.d(t,{$:()=>a});var o=n(634),r=n(776),a=function(){function e(){}return e.generateID=function(){return"d"+Math.random()},e.init=function(){document.getElementById("questions").hidden=!0},e.askQuestion=function(){var t=prompt("Type your question/comment:");null!=t&&""!=(t=t.trim())&&o.m.execute("questionAdd",[r.w.me.userID,e.generateID(),t])},e.removeQuestion=function(e){document.getElementById(e).remove(),0==document.getElementById("questions").children.length&&(document.getElementById("questions").hidden=!0)},e.addQuestion=function(e,t,n){var a=document.createElement("div");a.classList.add("question"),a.id=t,a.innerHTML=r.w.getUserImage(e).outerHTML+n,a.onclick=function(){r.w.me.canWrite&&o.m.execute("questionRemove",[a.id])},document.getElementById("questions").appendChild(a),document.getElementById("questions").hidden=!1},e}()},435:(e,t,n)=>{n.d(t,{u:()=>s});var o=n(640),r=n(776),a=n(17),i=n(514),s=function(){function e(){}return e.clearPolygon=function(e){var t=(0,a.o_)().getContext("2d");t.save(),t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=0,o=e;n<o.length;n++){var r=o[n];t.lineTo(r.x,r.y)}t.clip(),t.clearRect(0,0,i.A.getWindowWidth(),i.A.getWindowHeight()),t.restore(),t.globalCompositeOperation="source-over"},e.removeContour=function(e){var t=(0,a.o_)().getContext("2d");t.globalCompositeOperation="destination-out",t.strokeStyle="rgba(255, 255, 255, 1)",t.lineWidth=6,t.globalAlpha=1,t.moveTo(e[0].x,e[0].y);for(var n=0,o=e;n<o.length;n++){var r=o[n];t.lineTo(r.x,r.y)}t.stroke()},e.drawLine=function(e,t,n,o,a,i,s){void 0===i&&(i=1),void 0===s&&(s=r.w.me.getCurrentColor()),e.beginPath(),e.strokeStyle=s,e.globalCompositeOperation="source-over",e.globalAlpha=.9+.1*i,e.lineWidth=1.5+3*i,e.moveTo(t,n),e.lineTo(o,a),e.stroke(),e.closePath()},e.drawDot=function(e,t,n){var o=(0,a.o_)().getContext("2d");o.beginPath(),o.fillStyle=n,o.lineWidth=2.5,o.arc(e,t,2,0,2*Math.PI),o.fill(),o.closePath()},e.clearLine=function(e,t,n,o,r){void 0===r&&(r=10);var i=(0,a.o_)().getContext("2d");i.beginPath(),i.globalCompositeOperation="destination-out",i.strokeStyle="rgba(255,255,255,1)",i.lineWidth=r,i.moveTo(e,t),i.lineTo(n,o),i.lineCap="round",i.stroke(),i.closePath()},e.divideScreen=function(){console.log("divide the screen");var t=i.A.getXMiddle();e.drawLine((0,a.o_)().getContext("2d"),t,0,t,i.A.getWindowHeight(),1,o.s.getDefaultChalkColor()),o.s.saveCurrentScreen()},e}()},243:(e,t,n)=>{n.d(t,{B:()=>o});var o=function(){function e(){}return e.show=function(e,t){console.log("error: "+e),t&&console.log(t),document.getElementById("error").hidden=!1,document.getElementById("error").innerHTML=e;var n=function(){document.getElementById("error").hidden=!0};document.getElementById("error").onclick=n,setInterval(n,5e3)},e}()},514:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(17),r=function(){function e(){}return e.getXMiddle=function(){return document.getElementById("container").scrollLeft+e.getWindowWidth()/2},e.init=function(){console.log("Layout.init()"),e.initWorWT()},e.isTactileDevice=function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/iPAD/i)||navigator.userAgent.match(/IPAD/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)},e.initClassic=function(){var t=(0,o.o_)();t.width<4800&&(t.width=4800),t.height<1500&&(t.height=1500),e.getWindowWidth=function(){return window.innerWidth},e.getWindowHeight=function(){return window.innerHeight},e.getZoom=function(){return 1},e._resize()},e.initS=function(){var t=(0,o.o_)(),n=(0,o.kI)();t.height=e.STANDARDHEIGHT,t.width=4800,n.height=e.STANDARDHEIGHT,n.width=4800,window.addEventListener("resize",e._resize),e.getWindowHeight=function(){return e.STANDARDHEIGHT},e.getWindowWidth=function(){return window.innerWidth*e.getZoom()},e.getZoom=function(){return e.STANDARDHEIGHT/screen.height},e._resize()},e.initW=function(){var t=(0,o.o_)(),n=(0,o.kI)();t.height=e.STANDARDHEIGHT,t.width=4800,n.height=e.STANDARDHEIGHT,n.width=4800,window.addEventListener("resize",e._resize),e.getWindowHeight=function(){return e.STANDARDHEIGHT},e.getWindowWidth=function(){return window.innerWidth*e.getZoom()},e.getZoom=function(){var t=window.innerHeight;return e.STANDARDHEIGHT/t},e._resize()},e.initWorWT=function(){var t=(0,o.o_)(),n=(0,o.kI)(),r=document.getElementById("content");t.height=e.STANDARDHEIGHT,t.width=4800,n.height=e.STANDARDHEIGHT,n.width=4800,window.addEventListener("resize",e._resize),e.getWindowHeight=function(){return e.STANDARDHEIGHT},e.getWindowWidth=function(){return window.innerWidth*e.getZoom()},e.getZoom=function(){var t,n=document.getElementById("controls"),o=window.innerHeight-(n.hidden?0:n.clientHeight);return n.clientHeight<window.innerHeight/10?(t=window.innerHeight,r.style.position="absolute"):(t=o,r.style.position="relative"),e.STANDARDHEIGHT/t},e._resize()},e._resize=function(){console.log("resize");var t=e.getZoom(),n=document.getElementById("content");n.style.width=window.innerWidth*t+"px",n.style.transform="scale("+1/e.getZoom()+")"},e.STANDARDHEIGHT=1e3,e}()},941:(e,t,n)=>{n.d(t,{v:()=>o});var o=function(){function e(){}return e.init=function(){document.getElementById("defaultOpen").click()},e.openPage=function(e,t){var n,o,r;for(o=document.getElementsByClassName("tabcontent"),n=0;n<o.length;n++)o[n].style.display="none";for(r=document.getElementsByClassName("tablink"),n=0;n<r.length;n++)r[n].classList.remove("selected");document.getElementById(e).style.display="block",t.classList.add("selected")},e.toggle=function(){e.isShown()?e.hide():e.show()},e.getMenu=function(){return document.getElementById("menu")},e.hide=function(){e.getMenu().classList.remove("menuShow"),e.getMenu().classList.add("menuHide")},e.show=function(){e.getMenu().classList.add("menuShow"),e.getMenu().classList.remove("menuHide")},e.isShown=function(){return e.getMenu().classList.contains("menuShow")},e}()},574:(e,t,n)=>{n.d(t,{i:()=>u});var o=n(434),r=n(640),a=n(776),i=n(878),s=n(941),c=n(435),u=function(){function e(){}return e.mousedown=function(e,t){a.w.users[e].mousedown(t)},e.mousemove=function(e,t){null==a.w.users[e]&&console.log("why is "+e+" not declared?"),a.w.users[e].mousemove(t)},e.mouseup=function(e,t){a.w.users[e].mouseup(t)},e.setCurrentColor=function(e,t){a.w.users[e].setCurrentColor(t)},e.switchErase=function(e){a.w.users[e].switchErase()},e.switchChalk=function(e){a.w.users[e].switchChalk()},e.setUserCanWrite=function(e,t){a.w.users[e].setCanWrite(t)},e.magnetMove=function(e,t,n){t=parseInt(t),n=parseInt(n);var o=document.getElementById(e);o.style.top=n+"px",o.style.left=t+"px"},e.magnetsClear=function(){o._.clearMagnet()},e.magnetRemove=function(e){o._.magnetRemove(e)},e.magnetChange=function(e,t){document.getElementById(e).outerHTML=t},e.boardClear=function(){r.s._clear(),r.s.save(),s.v.hide()},e.questionAdd=function(e,t,n){i.$.addQuestion(e,t,n)},e.questionRemove=function(e){i.$.removeQuestion(e)},e.removeContour=function(e){c.u.removeContour(e)},e.clearPolygon=function(e){c.u.clearPolygon(e)},e.printMagnet=function(e){o._.printMagnet(document.getElementById(e))},e}()},945:(e,t,n)=>{n.d(t,{B:()=>o});var o=function(){function e(){}return e.addTouchEvents=function(t){t.ontouchstart=e._touchHandler,t.ontouchmove=e._touchHandler,t.ontouchend=e._touchHandler,t.ontouchcancel=e._touchHandler},e._touchHandler=function(e){var t=e.changedTouches[0],n="";switch(e.type){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;default:return}var o=document.createEvent("MouseEvent");o.initMouseEvent(n,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(o),e.preventDefault()},e}()},776:(e,t,n)=>{n.d(t,{w:()=>h});var o=n(640),r=n(17),a=n(435),i=n(434),s=n(514),c=function(){function e(){}return e.getStyleCursor=function(t){return void 0===t&&(t=20),t>128&&(t=128),{data:e.getCursorURL(t),x:t/2,y:t/2}},e.getCursorURL=function(e){var t=e/2,n=document.createElement("canvas");n.width=2*t,n.height=2*t;var r=n.getContext("2d");return r.beginPath(),r.arc(t,t,t,0,2*Math.PI),r.strokeStyle="black"==o.s.getBackgroundColor()?"white":"black",r.lineWidth=1,r.stroke(),r.fillStyle="black"==o.s.getBackgroundColor()?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",r.fill(),n.toDataURL()},e}(),u=n(634),l=function(){function e(){var e=this;this.points=[],this.lastpoints=[],this.maybeJustAPoint=!0,this._createMagnetFromImg=function(){var t=new Image,n=e._getRectangle();console.log(n),t.src=o.s.getDataURLOfRectangle(n),t.style.clipPath="polygon("+e.points.map((function(e){return e.x-n.x1+"px "+(e.y-n.y1)+"px"})).join(", ")+")",i._.addMagnet(t),t.style.left=n.x1+"px",t.style.top=n.y1+"px"}}return e.prototype.reset=function(){this.drawing=!0,this.lastpoints=this.points,this.points=[],this.maybeJustAPoint=!0},e.prototype.finish=function(){this.drawing=!1,this.removePolygon()},e.prototype.isDrawing=function(){return this.points.length>0},e.prototype.containsPolygonToMagnetize=function(){return this.points.length>0},e.prototype.drawPolygon=function(e){if(!document.getElementById("magnetCreationPolygon")){var t=document.createElementNS("http://www.w3.org/2000/svg","polyline");t.id="magnetCreationPolygon",document.getElementById("svg").appendChild(t),e.push(e[0]),t.setAttribute("points",e.map((function(e){return e.x+", "+e.y})).join(" "))}},e.prototype.removePolygon=function(){document.getElementById("magnetCreationPolygon")&&document.getElementById("svg").removeChild(document.getElementById("magnetCreationPolygon"))},e.prototype.addPoint=function(e){var t=this;this.points.push(e),this.isDot()&&this.dotInPreviousPolygon()?(this.drawPolygon(this.lastpoints),window.setTimeout((function(){t.drawing&&t.isDot()&&t.dotInPreviousPolygon()&&(t.removePolygon(),u.m.execute("removeContour",[t.points]),t.points=t.lastpoints,t.lastpoints=[],t.cutAndMagnetize())}),1e3)):this.removePolygon()},e.prototype.isDot=function(){if(!this.maybeJustAPoint)return!1;if(0==this.points.length)return!1;for(var e=0,t=this.points;e<t.length;e++){var n=t[e];if(Math.abs(n.x-this.points[0].x)>2&&Math.abs(n.y-this.points[0].y)>2)return this.maybeJustAPoint=!1,!1}return!0},e.inPolygon=function(e,t){for(var n=e.x,o=e.y,r=!1,a=0,i=t.length-1;a<t.length;i=a++){var s=t[a].x,c=t[a].y,u=t[i].x,l=t[i].y;c>o!=l>o&&n<(u-s)*(o-c)/(l-c)+s&&(r=!r)}return r},e.prototype.dotInPreviousPolygon=function(){return e.inPolygon(this.points[0],this.lastpoints)},e.prototype.erase=function(){this.isSuitable()&&(u.m.execute("removeContour",[this.points]),u.m.execute("clearPolygon",[this.points]),this.reset(),o.s.save())},e.prototype.cutAndMagnetize=function(){this.isSuitable()&&(u.m.execute("removeContour",[this.points]),this._createMagnetFromImg(),u.m.execute("clearPolygon",[this.points]),this.reset(),o.s.save())},e.prototype.copyAndMagnetize=function(){this.isSuitable()&&(u.m.execute("removeContour",[this.points]),this._createMagnetFromImg(),o.s.save())},e.prototype.isSuitable=function(){for(var e=0,t=this.points;e<t.length;e++){var n=t[e];if(Math.abs(n.x-this.points[0].x)>16&&Math.abs(n.x-this.points[0].x)>16)return!0}return!1},e.prototype._getRectangle=function(){for(var e=(0,r.o_)(),t={x1:e.width,y1:e.height,x2:0,y2:0},n=0,o=this.points;n<o.length;n++){var a=o[n];t.x1=Math.min(t.x1,a.x),t.y1=Math.min(t.y1,a.y),t.x2=Math.max(t.x2,a.x),t.y2=Math.max(t.y2,a.y)}return t},e}(),d=n(986),g=function(){function e(e){this.xInit=0,this.yInit=0,this.x=0,this.y=0,this.isDrawing=!1,this.alreadyDrawnSth=!1,this.eraseMode=!1,this.eraseModeBig=!1,this.lastDelineation=new l,this.canWrite=!0,this.eraseLineWidth=10,this.color="white",this.cursor=void 0,this.toolCursor=void 0,this.userID="0",this.cursor=document.createElement("div"),this.cursor.classList.add("cursor"),this.toolCursor=document.createElement("img"),this.toolCursor.classList.add("toolcursor"),e&&(this.cursor.hidden=!0),e||(this.toolCursor.hidden=!0),document.getElementById("cursors").appendChild(this.cursor),document.getElementById("cursors").appendChild(this.toolCursor),e&&this.setToolCursorImage(d.p.getStyleCursor(this.color))}return e.prototype.setUserID=function(e){this.userID=e},e.prototype.setCanWrite=function(e){this.canWrite=e},e.prototype.setToolCursorImage=function(e){document.getElementById("canvas").style.cursor="url("+e.data+") "+e.x+" "+e.y+", auto"},e.prototype.updateCursor=function(){this.isCurrentUser()&&this.setToolCursorImage(d.p.getStyleCursor(this.color))},e.prototype.destroy=function(){document.getElementById("cursors").removeChild(this.cursor),document.getElementById("cursors").removeChild(this.toolCursor)},e.prototype.setCurrentColor=function(e){this.color=e,this.updateCursor()},e.prototype.getCurrentColor=function(){return this.color},e.prototype.switchChalk=function(){this.eraseMode=!1,this.isCurrentUser()&&(this.updateCursor(),document.getElementById("buttonEraser").hidden=!1,document.getElementById("buttonChalk").hidden=!0)},e.prototype.isCurrentUser=function(){return this==h.me},e.prototype.switchErase=function(){this.eraseMode=!0,this.isCurrentUser()&&(r.DG.hide(),this.setToolCursorImage(c.getStyleCursor(this.eraseLineWidth)),document.getElementById("buttonEraser").hidden=!0,document.getElementById("buttonChalk").hidden=!1)},e.prototype.mousedown=function(e){i._.setInteractable(!1),document.activeElement.blur(),this.x=e.offsetX,this.y=e.offsetY,this.xInit=this.x,this.yInit=this.y,this.isDrawing=!0,this.eraseModeBig=!1,this.canWrite&&(this.eraseMode?a.u.clearLine(this.x,this.y,this.x,this.y,10):(this.lastDelineation.reset(),this.lastDelineation.addPoint({x:this.x,y:this.y}))),this.isCurrentUser()&&r.DG.hide()},e.prototype.mousemove=function(e){var t=e.offsetX,n=e.offsetY;this.isCurrentUser()||(this.cursor.style.left=t-8,this.cursor.style.top=n-8),this.canWrite&&this.isDrawing&&(r.DG.hide(),this.eraseMode?(this.eraseLineWidth=10+30*e.pressure,(Math.abs(this.x-this.xInit)>s.A.getWindowWidth()/4||Math.abs(this.y-this.yInit)>s.A.getWindowHeight()/4)&&(this.eraseModeBig=!0),this.eraseModeBig&&(this.eraseLineWidth=128),this.isCurrentUser()&&this.setToolCursorImage(c.getStyleCursor(this.eraseLineWidth)),a.u.clearLine(this.x,this.y,t,n,this.eraseLineWidth)):this.lastDelineation.isDrawing()&&(a.u.drawLine((0,r.o_)().getContext("2d"),this.x,this.y,t,n,e.pressure,this.color),this.lastDelineation.addPoint({x:t,y:n})),(Math.abs(this.x-this.xInit)>1||Math.abs(this.y-this.yInit)>1)&&(this.alreadyDrawnSth=!0)),this.eraseMode?(this.toolCursor.style.left=t-this.eraseLineWidth/2,this.toolCursor.style.top=n-this.eraseLineWidth/2):(this.toolCursor.style.left=t,this.toolCursor.style.top=n),this.x=t,this.y=n},e.prototype.mouseup=function(e){i._.setInteractable(!0),this.canWrite&&(this.lastDelineation.finish(),!this.isDrawing||this.eraseMode||this.alreadyDrawnSth||a.u.drawDot(this.x,this.y,this.color),this.isCurrentUser()&&this.eraseMode&&(this.eraseLineWidth=10,this.setToolCursorImage(c.getStyleCursor(this.eraseLineWidth))),o.s.saveCurrentScreen()),this.alreadyDrawnSth=!1,this.isDrawing=!1},e}(),h=function(){function e(){}return e.init=function(){e.me=new g(!0),e.users.root=e.me,e.me.setUserID("root")},e.isSmallestUserID=function(){var t="zzzzzzzzzzzzzzzz";for(var n in e.users)n<t&&(t=n);return e.me.userID==t},e.leave=function(t){e.users[t].destroy(),delete e.users[t],e.updateGUIUsers()},e.add=function(t){e.users[t]=new g(!1),e.updateGUIUsers()},e.setMyUserID=function(t){for(var n in e.users)e.users[n]==e.me&&delete e.users[n];e.users[t]=e.me,e.me.setUserID(t),e.updateGUIUsers()},e.getUserImage=function(t){var n=new Image,o=parseInt(t.substr(1));return n.src="img/users/"+e.usersImageFileNames[o%e.usersImageFileNames.length],n.classList.add("userImage"),n},e.userIdToDom=function(t){var n=e.getUserImage(t);return n.classList.add("user"),n.title="user "+t,n},e.getNumberOfUsers=function(){var t=0;for(var n in e.users)t++;return t},e.updateGUIUsers=function(){document.getElementById("users").innerHTML="",document.getElementById("users").innerHTML=e.getUserImage("u0").outerHTML+" Ã— "+e.getNumberOfUsers()},e.me=void 0,e.users={},e.usersImageFileNames=["1F9D1-200D-1F384.svg","1F9D9.svg","1F9DA-200D-2640-FE0F.svg","1F9DD.svg"],e}()},640:(e,t,n)=>{n.d(t,{s:()=>s});var o=n(17),r=n(634),a=n(514),i=function(){function e(){this.stack=[],this.currentIndex=-1,this.n=0}return e.prototype.clear=function(){this.stack=[],this.currentIndex=-1,this.n=0},e.prototype.push=function(e){this.currentIndex++,this.stack[this.currentIndex]=e,this.n=this.currentIndex+1},e.prototype.back=function(){return this.currentIndex<=0||this.currentIndex--,this.stack[this.currentIndex]},e.prototype.forward=function(){return this.currentIndex>=this.n-1||this.currentIndex++,this.stack[this.currentIndex]},e}(),s=function(){function e(){}return e.init=function(){document.getElementById("blackboardClear").onclick=function(){r.m.execute("boardClear",[])}},e.getBackgroundColor=function(){return document.getElementById("canvasBackground").style.backgroundColor},e._clear=function(){var t=(0,o.o_)();t.width=t.width,e.cancelStack.clear()},e.getDefaultChalkColor=function(){return"black"==document.getElementById("canvasBackground").style.backgroundColor?"white":"black"},e._createCanvasForRectangle=function(e){var t=document.createElement("canvas");return t.width=e.x2-e.x1,t.height=e.y2-e.y1,t.getContext("2d").drawImage((0,o.o_)(),e.x1,e.y1,e.x2-e.x1,e.y2-e.y1,0,0,e.x2-e.x1,e.y2-e.y1),t},e._toBlobOfRectangle=function(t,n){e._createCanvasForRectangle(t).toBlob(n)},e.getDataURLOfRectangle=function(t){return e._createCanvasForRectangle(t).toDataURL()},e.isCancelRedoActivated=function(){return!r.m.isShared()},e.save=function(){e.isCancelRedoActivated()&&(0,o.o_)().toBlob((function(t){console.log("save that blob: "+t),e.cancelStack.push(t)}))},e.getCurrentScreenRectangle=function(){var e=document.getElementById("container"),t=e.scrollLeft,n=e.scrollTop;return{x1:t,y1:n,x2:t+a.A.getWindowWidth(),y2:n+a.A.getWindowHeight()}},e.saveCurrentScreen=function(){e.save()},e.load=function(t){if(void 0===t&&(t=localStorage.getItem(r.m.getTableauNoirID())),null!=t){e._clear();try{var n=new Image;n.src=t,n.onload=function(){var t=(0,o.o_)();t.width=n.width,t.height=n.height,t.getContext("2d").drawImage(n,0,0),e.save(),console.log("loaded!")}}catch(e){}}else e._clear(),e.save()},e.loadWithoutSave=function(t){if(void 0===t&&(t=localStorage.getItem(e.boardName)),null!=t){e._clear();var n=new Image;n.src=t,n.onload=function(){var e=(0,o.o_)();e.width=n.width,e.height=n.height,e.getContext("2d").drawImage(n,0,0),console.log("loaded!")}}else e._clear()},e.scrollQuantity=function(){var e=a.A.getWindowWidth()/2;return Math.min(e,1500)},e.left=function(){var t=(0,o.ZO)(),n=t.scrollLeft-e.scrollQuantity();n<0?e.showPageNumber(0):(t.scrollTo({top:0,left:n,behavior:"smooth"}),e.showPageNumber(n))},e.right=function(){var t=(0,o.ZO)(),n=(0,o.o_)();if(t.scrollLeft>=2e4-a.A.getWindowWidth())t.scrollLeft=2e4-a.A.getWindowWidth();else{if(t.scrollLeft>=n.width-a.A.getWindowWidth()-e.scrollQuantity()&&e._rightExtendCanvasEnable){var r=new Image;r.src=n.toDataURL(),console.log("extension: canvas width "+n.width+" to "+(t.scrollLeft+a.A.getWindowWidth())),n.width=(n.width/e.scrollQuantity()+1)*e.scrollQuantity();var i=n.getContext("2d");i.globalCompositeOperation="source-over",i.globalAlpha=1,r.onload=function(){i.drawImage(r,0,0)},e._rightExtendCanvasEnable=!1,setTimeout((function(){e._rightExtendCanvasEnable=!0}),1e3)}var s=t.scrollLeft+e.scrollQuantity();t.scrollTo({top:0,left:s,behavior:"smooth"}),e.showPageNumber(s)}},e.showPageNumber=function(t){var n=document.getElementById("pageNumber"),r=(0,o.o_)(),a=(0,o.ZO)();n.classList.remove("pageNumberHidden"),n.classList.remove("pageNumber"),setTimeout((function(){var o=Math.round(t/e.scrollQuantity()),i=Math.round(r.width/e.scrollQuantity());a.scrollLeft=o*e.scrollQuantity(),n.innerHTML=o+1+"/"+i,n.classList.add("pageNumber")}),300)},e._loadCurrentCancellationStackData=function(e){var t=new Image,n=(0,o.o_)(),r=n.getContext("2d");r.globalCompositeOperation="source-over",r.globalAlpha=1,t.src=URL.createObjectURL(e),t.onload=function(){n.width=t.width,n.height=t.height,r.drawImage(t,0,0)}},e.cancel=function(){e.isCancelRedoActivated()&&e._loadCurrentCancellationStackData(e.cancelStack.back())},e.redo=function(){e.isCancelRedoActivated()&&e._loadCurrentCancellationStackData(e.cancelStack.forward())},e.boardName="0",e.cancelStack=new i,e._rightExtendCanvasEnable=!0,e}()},434:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>MagnetManager});var _main__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17),_share__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(634),_boardManager__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(640),_Layout__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(514),_Menu__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(941),_TouchScreen__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(945),_Drawing__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(435),MagnetManager=function(){function MagnetManager(){}return MagnetManager.init=function(){document.getElementById("clearMagnet").onclick=MagnetManager.clearMagnet,document.getElementById("magnetsArrange").onclick=MagnetManager.arrange,document.getElementById("magnetsCreateGraph").onclick=MagnetManager.drawGraph},MagnetManager.getMagnetUnderCursor=function(){return MagnetManager.magnetUnderCursor},MagnetManager.hasCurrentMagnet=function(){return null==MagnetManager.currentMagnet},MagnetManager.noCurrentMagnet=function(){MagnetManager.currentMagnet=void 0},MagnetManager.getCurrentMagnetID=function(){return MagnetManager.currentMagnet.id},MagnetManager.setInteractable=function(e){for(var t=e?"auto":"none",n=MagnetManager.getMagnets(),o=0;o<n.length;o++)n[o].style.pointerEvents=t},MagnetManager.getMagnets=function(){return document.getElementsByClassName("magnet")},MagnetManager.getYTopWhenNewMagnets=function(){return 64},MagnetManager.clearMagnet=function(){MagnetManager.currentMagnet=void 0,MagnetManager.magnetX=_boardManager__WEBPACK_IMPORTED_MODULE_2__.s.getCurrentScreenRectangle().x1,MagnetManager.magnetY=MagnetManager.getYTopWhenNewMagnets();for(var e=MagnetManager.getMagnets();e.length>0;)e[0].remove();_share__WEBPACK_IMPORTED_MODULE_1__.m.sendMagnets(),_Menu__WEBPACK_IMPORTED_MODULE_4__.v.hide()},MagnetManager.addMagnet=function(e,t){void 0===t&&(t=function(e){}),MagnetManager.magnetX>_boardManager__WEBPACK_IMPORTED_MODULE_2__.s.getCurrentScreenRectangle().x2-10&&(MagnetManager.magnetX=_boardManager__WEBPACK_IMPORTED_MODULE_2__.s.getCurrentScreenRectangle().x1,MagnetManager.magnetY+=64),e.id="m"+Math.random(),e.style.left=MagnetManager.magnetX+"px",e.style.top=MagnetManager.magnetY+"px",MagnetManager.magnetX+=64,MagnetManager.currentMagnet=e,e.classList.add("magnet"),document.getElementById("magnets").appendChild(e);var n=function(){_share__WEBPACK_IMPORTED_MODULE_1__.m.isShared()&&_share__WEBPACK_IMPORTED_MODULE_1__.m.sendNewMagnet(e),t(e)};"IMG"==e.tagName?e.addEventListener("load",n):n(),MagnetManager._installMagnet(e)},MagnetManager.arrange=function(){for(var e=MagnetManager.getMagnets(),t=function(t){for(var n=e[t],o=void 0,r=void 0,a=function(e,t,n){return parseInt(e.style.left)<=t&&parseInt(e.style.top)<=n&&t<=parseInt(e.style.left)+parseInt(e.clientWidth)&&n<=parseInt(e.style.top)+parseInt(e.clientHeight)},i=function(){for(var t=1e5,n=0;n<e.length;n++)t=Math.min(t,Math.abs(o-parseInt(e[n].style.left))+Math.abs(r-parseInt(e[n].style.top)));return t},s=function(){for(var t=0;t<e.length;t++)if(a(e[t],o,r)||a(e[t],o+n.clientWidth,r+n.clientHeight))return!0;return!1},c=_boardManager__WEBPACK_IMPORTED_MODULE_2__.s.getCurrentScreenRectangle(),u=function(){var e=0;do{o=c.x1+Math.random()*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getWindowWidth(),r=c.y1+3*Math.random()*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getWindowHeight()/4,o=Math.max(o,c.x1+32),r=Math.max(r,c.y1+32),o=Math.min(o,c.x2-n.clientWidth-32),r=Math.min(r,c.y2-n.clientHeight-32),e++}while(s()&&e<50)},l=0,d=0,g=void 0,h=void 0;l<30;)u(),d<i()&&(g=o,h=r,d=i()),l++;n.style.left=g,n.style.top=h},n=0;n<e.length;n++)t(n)},MagnetManager.getNodes=function(){for(var e=MagnetManager.getMagnets(),t=[],n=0;n<e.length;n++){var o=e[n];t.push({x:parseInt(o.style.left)+o.clientWidth/2,y:parseInt(o.style.top)+o.clientHeight/2})}return console.log(t),t},MagnetManager.drawGraph=function(){MagnetManager.arrange();for(var e=MagnetManager.getNodes(),t=(0,_main__WEBPACK_IMPORTED_MODULE_0__.o_)().getContext("2d"),n=[],o=0;o<e.length;o++){n[o]=[];for(var r=0;r<e.length;r++)n[o][r]=0}var a=function(t,o){for(var r=0;r<e.length;r++)for(var a=0;a<e.length;a++)if(n[r][a]&&(i=e[t].x,s=e[t].y,c=e[o].x,u=e[o].y,l=e[r].x,d=e[r].y,g=e[a].x,void 0,m=void 0,f=void 0,0!=(_=(c-i)*((h=e[a].y)-d)-(g-l)*(u-s))&&(m=((s-u)*(g-i)+(c-i)*(h-s))/_,0<(f=((h-d)*(g-i)+(l-g)*(h-s))/_)&&f<1&&0<m&&m<1)))return!0;var i,s,c,u,l,d,g,h,_,m,f;return!1};for(o=0;o<e.length;o++)for(r=0;r<e.length;r++)Math.abs(e[o].x-e[r].x)+Math.abs(e[o].y-e[r].y)<400&&!a(o,r)&&(n[o][r]=1,_Drawing__WEBPACK_IMPORTED_MODULE_6__.u.drawLine(t,e[o].x,e[o].y,e[r].x,e[r].y));_boardManager__WEBPACK_IMPORTED_MODULE_2__.s.save()},MagnetManager.installMagnets=function(){for(var magnets=MagnetManager.getMagnets(),i=0;i<magnets.length;i++)MagnetManager._installMagnet(magnets[i]);eval("MathJax.typeset();")},MagnetManager.setZIndex=function(e){var t=function(){e.style.zIndex=1e4-e.clientWidth};"IMG"==e.tagName?e.addEventListener("load",t):t()},MagnetManager.createCopyMagnet=function(e){return e.cloneNode(!0)},MagnetManager.makeDraggableElement=function(e){var t=0,n=0,o=0,r=0;e.addEventListener("pointerdown",(function(t){if(s=!0,MagnetManager.currentMagnet=t.target,t.ctrlKey){var n=MagnetManager.createCopyMagnet(e);MagnetManager.addMagnet(n),_share__WEBPACK_IMPORTED_MODULE_1__.m.execute("magnetMove",[n.id,e.style.left,e.style.top])}function l(e,t){return e.offsetLeft>t.offsetLeft&&e.offsetTop>t.offsetTop&&e.offsetLeft+e.clientWidth<t.offsetLeft+t.clientWidth&&e.offsetTop+e.clientHeight<t.offsetTop+t.clientHeight}var d=(0,_main__WEBPACK_IMPORTED_MODULE_0__.o_)();i=d.style.cursor,(t=t||window.event).preventDefault(),o=t.clientX*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getZoom(),r=t.clientY*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getZoom(),document.onpointerup=u,document.onmouseup=u,document.onpointermove=c;var g=MagnetManager.getMagnets();a=[];for(var h=0;h<g.length;h++)g[h]!=e&&l(g[h],e)&&a.push(g[h])})),_TouchScreen__WEBPACK_IMPORTED_MODULE_5__.B.addTouchEvents(e);var a=[],i=void 0,s=!0;function c(i){if(s){MagnetManager.currentMagnet=i.target,i.target.classList.add("magnetDrag"),(0,_main__WEBPACK_IMPORTED_MODULE_0__.o_)().style.cursor="none",(i=i||window.event).preventDefault(),t=o-i.clientX*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getZoom(),n=r-i.clientY*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getZoom(),o=i.clientX*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getZoom(),r=i.clientY*_Layout__WEBPACK_IMPORTED_MODULE_3__.A.getZoom(),_share__WEBPACK_IMPORTED_MODULE_1__.m.execute("magnetMove",[e.id,e.offsetLeft-t,e.offsetTop-n]);for(var c=0,u=a;c<u.length;c++){var l=u[c];_share__WEBPACK_IMPORTED_MODULE_1__.m.execute("magnetMove",[l.id,l.offsetLeft-t,l.offsetTop-n])}}}function u(e){if(s){s=!1,console.log("close drag");for(var t=MagnetManager.getMagnets(),n=0;n<t.length;n++)t[n].classList.remove("magnetDrag");(0,_main__WEBPACK_IMPORTED_MODULE_0__.o_)().style.cursor=i,document.onmouseup=null,document.onmousemove=null}}},MagnetManager._installMagnet=function(e){e.classList.contains("magnetText")&&MagnetManager.installMagnetText(e),MagnetManager.makeDraggableElement(e),MagnetManager.setZIndex(e),e.onmouseenter=function(){MagnetManager.magnetUnderCursor=e},e.onmouseleave=function(){MagnetManager.magnetUnderCursor=void 0}},MagnetManager.addMagnetImage=function(e,t){void 0===t&&(t=function(e){});var n=new Image;return n.src="img/magnets/"+e,n.classList.add("backgroundTransparent"),MagnetManager.addMagnet(n,t),n},MagnetManager.installMagnetText=function(element){var divText=element.children[0];divText.onpointerdown=function(e){e.stopPropagation()},divText.onpointermove=function(e){e.stopPropagation()},divText.onpointerup=function(e){e.stopPropagation()},divText.onkeydown=function(e){var setFontSize=function(e){divText.style.fontSize=e+"px";for(var t=0,n=divText.children;t<n.length;t++)n[t].style.fontSize=e+"px"};if("Escape"==e.key&&(divText.blur(),eval("MathJax.typeset();"),window.getSelection().removeAllRanges()),e.ctrlKey&&"="==e.key||e.ctrlKey&&"+"==e.key){var size=parseInt(divText.style.fontSize);size++,setFontSize(size),e.preventDefault()}else if(e.ctrlKey&&"-"==e.key){var size=parseInt(divText.style.fontSize);size>6&&size--,setFontSize(size),e.preventDefault()}e.stopPropagation()},divText.onkeyup=function(e){_share__WEBPACK_IMPORTED_MODULE_1__.m.isShared()&&_share__WEBPACK_IMPORTED_MODULE_1__.m.sendMagnetChanged(element),e.stopPropagation()}},MagnetManager.addMagnetText=function(e,t){var n=document.createElement("div"),o=document.createElement("div");n.appendChild(o),o.innerHTML="type text",o.contentEditable="true",o.style.fontSize="24px",n.classList.add("magnetText"),MagnetManager.addMagnet(n),n.style.left=e+"px",n.style.top=t+"px",o.focus(),_share__WEBPACK_IMPORTED_MODULE_1__.m.isShared()&&_share__WEBPACK_IMPORTED_MODULE_1__.m.sendMagnetChanged(n),document.execCommand("selectAll",!1,null)},MagnetManager.removeCurrentMagnet=function(){null!=MagnetManager.currentMagnet&&_share__WEBPACK_IMPORTED_MODULE_1__.m.execute("magnetRemove",[MagnetManager.currentMagnet.id])},MagnetManager.magnetRemove=function(e){document.getElementById(e).remove(),MagnetManager.currentMagnet,MagnetManager.magnetUnderCursor=void 0},MagnetManager.printMagnet=function(e){if(e instanceof Image){var t=(0,_main__WEBPACK_IMPORTED_MODULE_0__.o_)().getContext("2d"),n=parseInt(e.style.left),o=parseInt(e.style.top),r=e.style.clipPath;r=r.substr("polygon(".length,r.length-"polygon(".length-")".length),t.globalCompositeOperation="source-over",t.save(),t.beginPath();for(var a=!0,i=0,s=r.split(",");i<s.length;i++){var c=s[i],u=(c=c.trim()).split(" ");a?t.moveTo(n+parseInt(u[0]),o+parseInt(u[1])):t.lineTo(n+parseInt(u[0]),o+parseInt(u[1])),a=!1}t.closePath(),t.clip(),t.drawImage(e,n,o),t.restore(),_boardManager__WEBPACK_IMPORTED_MODULE_2__.s.save()}else console.log("the current image is not an image! Could not be printed!")},MagnetManager.magnetX=0,MagnetManager.magnetY=64,MagnetManager.currentMagnet=void 0,MagnetManager.magnetUnderCursor=void 0,MagnetManager}()},17:(e,t,n)=>{n.d(t,{o_:()=>D,kI:()=>b,ZO:()=>B,DG:()=>w});var o=n(986),r=function(){function e(){this.colors=["white","yellow","orange","rgb(100, 172, 255)","Crimson","Plum","LimeGreen"],this.buttons=[],this.currentColorID=0,this.onchange=function(){}}return e.prototype._createPalette=function(){for(var e=document.getElementById("palette"),t=0;t<this.colors.length;t++)this.buttons[t]=this._createColorButton(t),e.appendChild(this.buttons[t])},e.prototype.switchBlackAndWhite=function(){this.colors[0]="white"==this.colors[0]?"black":"white",this.onchange()},e.prototype._createColorButton=function(t){var n=this,r=new Image;r.src=o.p.getCursorURL(this.colors[t]),r.classList.add("paletteColorButton");var a=-Math.PI/2+2*Math.PI*t/this.colors.length;return r.style.top=e.radius*Math.sin(a)-22+"px",r.style.left=e.radius*Math.cos(a)-16+"px",r.style.borderColor=this.colors[t],r.onmousedown=function(e){e.preventDefault()},r.onclick=function(){n.buttons[n.currentColorID].classList.remove("selected"),n.currentColorID=t,n.buttons[n.currentColorID].classList.add("selected"),n.hide(),n.onchange()},r},e.prototype.next=function(){this.buttons[this.currentColorID].classList.remove("selected"),this.currentColorID++,this.currentColorID=this.currentColorID%this.colors.length,this.buttons[this.currentColorID].classList.add("selected"),this.onchange()},e.prototype.previous=function(){this.buttons[this.currentColorID].classList.remove("selected"),this.currentColorID--,this.currentColorID<0&&(this.currentColorID=this.colors.length-1),this.buttons[this.currentColorID].classList.add("selected"),this.onchange()},e.prototype.show=function(t){var n=document.getElementById("palette");n.innerHTML="",this._createPalette(),t.y=Math.max(t.y,e.radius+16+48),t.x=Math.max(t.x,e.radius+16+48),n.style.left=t.x+"px",n.style.top=t.y+"px",n.classList.remove("PaletteHide"),n.classList.add("PaletteShow")},e.prototype.hide=function(){var e=document.getElementById("palette");e.classList.remove("PaletteShow"),e.classList.add("PaletteHide")},e.prototype.isShown=function(){return document.getElementById("palette").classList.contains("PaletteShow")},e.prototype.getCurrentColor=function(){return this.colors[this.currentColorID]},e.radius=96,e}(),a=n(634),i=n(434),s=function(){function e(){}return e.createMagnet=function(e){var t=document.createElement("div");return t.innerHTML=e,t},e.magnetsClear=function(){a.m.execute("magnetsClear",[])},e.createMagnetGS_B=function(e){var t=document.createElement("div");return t.innerHTML=e,t.classList.add("GS_B"),t},e.magnetGS=function(){e.magnetsClear(),i._.addMagnet(e.createMagnet("1")),i._.addMagnet(e.createMagnet("2")),i._.addMagnet(e.createMagnet("3")),i._.addMagnet(e.createMagnetGS_B("1")),i._.addMagnet(e.createMagnetGS_B("2")),i._.addMagnet(e.createMagnetGS_B("3"))},e.createMagnetRainbow=function(t){var n=e.createMagnet(""+t);return n.style.backgroundColor=["rgb(139, 97, 195)","rgb(115, 97, 195)","rgb(93, 105, 214)","rgb(40, 167, 226)","rgb(40, 204, 226)","rgb(40, 226, 201)","rgb(40, 226, 148)","rgb(40, 226, 102)","rgb(130, 226, 40)","rgb(170, 226, 40)","rgb(223, 226, 40)","rgb(226, 183, 40)","rgb(226, 152, 40)","rgb(226, 124, 40)","rgb(226, 77, 40)","rgb(255, 0, 0)","rgb(144, 24, 24)"][t-1],n},e.magnetSorting=function(){i._.clearMagnet();for(var t=1;t<=17;t++)i._.addMagnet(e.createMagnetRainbow(t))},e.magnetBTrees=function(){i._.clearMagnet();for(var t=1;t<=17;t++)i._.addMagnet(e.createMagnetRainbow(t));for(t=1;t<=7;t++)i._.addMagnetImage("Btreenode.png")},e.magnetGraphNodes=function(){for(var t=0,n=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O"];t<n.length;t++){var o=n[t];i._.addMagnet(e.createMagnet(o))}},e.magnetFloydsAlgorithm=function(){i._.addMagnetImage("turtlerabbit/turtle.png"),i._.addMagnetImage("turtlerabbit/rabbit.png")},e.magnetGraphSimCity=function(){for(var e=0,t=["antenne.png","commerce.png","parking.png","tour.png","batimentplat.png","foursolaire.png","residence2.png","usine.png","building.png","gare.png","residencebleu.png","chateaudeau.png","nuclearplant.png","residence.png","citerne.png","parc.png","stade.png"];e<t.length;e++){var n=t[e];i._.addMagnetImage("simCityGraph/"+n)}},e.createTiling=function(e,t,n,o){var r="http://www.w3.org/2000/svg",a=document.createElement("div"),i=document.createElementNS(r,"svg");function s(e,t){var n=document.createElementNS(r,"path");return n.setAttributeNS(null,"stroke","#333333"),n.setAttributeNS(null,"stroke-width","10"),n.setAttributeNS(null,"stroke-linejoin","round"),n.setAttributeNS(null,"d",e),n.setAttributeNS(null,"fill",t),n.setAttributeNS(null,"opacity","1"),n}return i.setAttributeNS(null,"viewBox","0 0 100 100"),i.setAttributeNS(null,"width","100"),i.setAttributeNS(null,"height","100"),i.style.display="block",i.appendChild(s("M 50 50 L 0 0 L 0 100 Z",e)),i.appendChild(s("M 50 50 L 0 0 L 100 0 Z",t)),i.appendChild(s("M 50 50 L 100 0 L 100 100 Z",n)),i.appendChild(s("M 50, 50 L 100 100 L 0 100 Z",o)),a.appendChild(i),a.style.padding="0px",a},e.magnetTilings=function(){i._.clearMagnet(),i._.addMagnet(e.createTiling("yellow","red","green","red")),i._.addMagnet(e.createTiling("green","red","green","yellow")),i._.addMagnet(e.createTiling("green","red","green","yellow")),i._.addMagnet(e.createTiling("red","red","red","red")),i._.addMagnet(e.createTiling("red","yellow","red","green")),i._.addMagnet(e.createTiling("red","yellow","yellow","yellow")),i._.addMagnet(e.createTiling("green","red","green","yellow")),i._.addMagnet(e.createTiling("green","green","red","green")),i._.addMagnet(e.createTiling("red","yellow","red","green"))},e.magnetUnionFind=function(){i._.clearMagnet(),i._.addMagnetImage("unionfind0.png")},e.magnetGo=function(){i._.clearMagnet();var e=function(e,t){for(var n=function(n){i._.addMagnetImage("go/"+e+".png",(function(e){return a.m.execute("magnetMove",[e.id,t,10+5*n])}))},o=0;o<20;o++)n(o)};e("black",20),e("white",50),i._.addMagnetImage("go/goban.png",(function(e){return a.m.execute("magnetMove",[e.id,110,20])}))},e.register=function(t){document.getElementById(t).onclick=e[t]},e.loadMagnets=function(){e.register("magnetGS"),e.register("magnetSorting"),e.register("magnetBTrees"),e.register("magnetGraphNodes"),e.register("magnetTilings"),e.register("magnetUnionFind"),e.register("magnetGraphSimCity"),e.register("magnetFloydsAlgorithm"),e.register("magnetGo")},e}(),c=n(640),u=n(776),l=n(941),d=function(){function e(){}return e.init=function(){document.getElementById("file").onchange=function(t){e.loadFile(this.files[0])},document.getElementById("save").onclick=e.save,document.getElementById("exportPng").onclick=e.exportPng,document.body.ondragover=function(e){e.preventDefault()},document.body.ondrop=function(t){if(t.preventDefault(),t.dataTransfer.items){for(var n=0;n<t.dataTransfer.items.length;n++)if("file"===t.dataTransfer.items[n].kind){var o=t.dataTransfer.items[n].getAsFile();e.loadFile(o)}}else for(n=0;n<t.dataTransfer.files.length;n++)e.loadFile(o[n])}},e.loadFile=function(t){if(t){var n=new FileReader;n.onerror=function(e){},t.name.endsWith(".tableaunoir")?(n.readAsText(t,"UTF-8"),n.onload=function(t){e.loadJSON(JSON.parse(t.target.result))}):(n.readAsDataURL(t),n.onload=function(e){var t=new Image;t.src=e.target.result,i._.addMagnet(t)}),l.v.hide()}},e.fetchImageFromFile=function(e,t){var n=new FileReader;n.onerror=function(e){},n.readAsDataURL(e),n.onload=function(e){var n=new Image;n.src=e.target.result,n.onload=function(){return t(n)}}},e.loadJSON=function(e){c.s.load(e.canvasDataURL),document.getElementById("magnets").innerHTML=e.magnets,i._.installMagnets()},e.exportPng=function(){document.getElementById("content"),alert("to be implemented. Do screenshots.")},e.save=function(){var t={magnets:document.getElementById("magnets").innerHTML,canvasDataURL:D().toDataURL()};e.download(document.getElementById("name").value+".tableaunoir",JSON.stringify(t))},e.download=function(t,n){e.downloadDataURL(t,"data:text/plain;charset=utf-8,"+encodeURIComponent(n))},e.downloadDataURL=function(e,t){var n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},e}(),g=n(514),h=n(243),_=function(){function e(){}return e.init=function(){if(g.A.isTactileDevice())try{document.getElementById("buttonCloseControls").hidden=!0;for(var t=document.querySelectorAll("#controls > span"),n=0;n<t.length;n++)t[n].hidden=!0}catch(e){h.B.show("Error in loading the toolbar. You can however use Tableaunoir.")}e.helpButtonDivide(),e.helpForButtonCloseControls()},e.helpForButtonCloseControls=function(){document.getElementById("buttonCloseControls").onmouseenter=function(){e.getToolbar().style.opacity="0.5"},document.getElementById("buttonCloseControls").onmouseleave=function(){e.getToolbar().style.opacity="1"}},e.helpButtonDivide=function(){var e=document.createElement("div");e.className="divideLineHelp",document.getElementById("buttonDivide").onmouseenter=function(){e.style.left=""+g.A.getXMiddle(),document.getElementById("board").prepend(e)},document.getElementById("buttonDivide").onmouseleave=function(){e.remove()}},e.getToolbar=function(){return document.getElementById("controls")},e.toggle=function(){var t=e.getToolbar();t.hidden=!t.hidden,g.A._resize()},e}(),m=n(878),f=function(){function e(){}return e.init=function(){e.stylesheet=document.createElement("style"),e.stylesheet.setAttribute("type","text/css"),document.body?document.body.appendChild(e.stylesheet):document.head.appendChild(e.stylesheet)},e.update=function(){var t="\n";e.rules.forEach((function(e){t+=e.selector+" {"+e.property+":"+e.value+"; }\n"})),console.log(t),e.stylesheet.innerHTML=t},e.setRule=function(t,n,o){for(var r=0,a=e.rules;r<a.length;r++){var i=a[r];if(i.selector==t&&i.property==n)return i.value=o,void e.update()}e.rules.push({selector:t,property:n,value:o}),e.update()},e.rules=[],e}(),M=function(){function e(){}return e.init=function(){document.getElementById("canvasBackground").style.backgroundColor="black",document.getElementById("whiteBoardSwitch").onclick=e.switch,document.getElementById("blackBoardSwitch").onclick=e.switch},e.switch=function(){var t=document.getElementById("canvasBackground").style.backgroundColor,n="white"==t?"black":"white";document.getElementById(n+"BoardSwitch").hidden=!0,document.getElementById(t+"BoardSwitch").hidden=!1,console.log("previous background color was "+t),console.log("switch to "+n+"board"),w.switchBlackAndWhite(),document.getElementById("canvasBackground").style.backgroundColor=n,"black"==n?(f.setRule(".magnetText div","background-color","rgba(27, 27, 27, 0.9)"),f.setRule("div.magnetText","background-color","rgba(64, 64, 64, 0.9)"),f.setRule(".magnetText div","color","white")):(f.setRule(".magnetText div","background-color","rgba(247, 247, 247, 0.9)"),f.setRule("div.magnetText","background-color","rgba(227, 227, 227, 0.9)"),f.setRule(".magnetText div","color","black")),e._invertCanvas()},e._invertCanvas=function(){for(var e=D(),t=e.getContext("2d"),n=t.getImageData(0,0,e.width,e.height),o=n.data,r=0;r<o.length;r+=4)o[r]=255-o[r],o[r+1]=255-o[r+1],o[r+2]=255-o[r+2];t.putImageData(n,0,0)},e}(),y=n(435),p=function(){function e(){}return e.init=function(){document.getElementById("buttonNoBackground").onclick=function(){e.clear(),l.v.hide()},document.getElementById("buttonMusicScore").onclick=function(){e.musicScore(),l.v.hide()},document.getElementById("inputBackground").onchange=function(){d.fetchImageFromFile(this.files[0],(function(t){e.clear();var n=b(),o=g.A.getWindowHeight(),r=t.width*o/t.height,a=(g.A.getWindowWidth()-r)/2;console.log(t),n.getContext("2d").drawImage(t,a,0,r,o)}))}},e.clear=function(){var e=b();e.getContext("2d").clearRect(0,0,e.width,e.height)},e.musicScore=function(){e.clear();var t=g.A.getWindowHeight()-32,n=b(),o=2*g.A.getWindowWidth(),r=t/2,a=t/7,i=function(e){for(var r=t/30,a=-2;a<=2;a++){var i=e+a*r;y.u.drawLine(n.getContext("2d"),0,i,o,i,1,"rgb(128, 128, 255)")}};i(r-a),i(r+a),c.s.saveCurrentScreen()},e}(),v=function(){function e(){}return e.init=function(){try{e.translate()}catch(e){h.B.show(e)}},e.getLanguage=function(){return new URL(document.location).searchParams.get("lang")},e.fetchDictionary=function(){var t=e.getLanguage();return null==t?new Promise((function(){})):fetch("src/"+t+".json").then((function(e){return e.json()}))},e.translateElement=function(t,n){if(null!=t.children)if(null==t.title&&n[t.title]&&(t.title=n[t.title]),0==t.children.length)n[t.innerHTML]&&(t.innerHTML=n[t.innerHTML]);else for(var o in t.children)e.translateElement(t.children[o],n)},e.translateFromIDs=function(e){for(var t in e)if(t.startsWith("#")){var n=document.getElementById(t.substr(1));null==n&&console.log("Element "+t+" not found. I can translate.."),n.children.length>0&&console.log("I refuse to translate because the element has some children."),n.innerHTML=e[t]}},e.translate=function(){e.fetchDictionary().then((function(t){e.translateElement(document.getElementById("controls"),t),e.translateElement(document.getElementById("menu"),t),e.translateFromIDs(t)}))},e}(),E=n(945),I=n(574);window.onload=function(){try{if(setInterval((function(){document.body.scrollLeft=0,document.body.scrollTop=0}),1e3),C)return;u.w.init(),p.init(),g.A.init(),v.init(),o.p.init(),d.init(),c.s.init(),l.v.init(),a.m.init(),_.init(),m.$.init();var e=function(){if(null==i._.getMagnetUnderCursor())w.show({x:u.w.me.x,y:u.w.me.y}),w.next();else{var e=i._.getMagnetUnderCursor();e.style.backgroundColor=function(e){for(var t=0;t<S.length;t++)if(S[t]==e)return S[(t+1)%S.length];return S[0]}(e.style.backgroundColor)}},t=function(){u.w.me.eraseMode?a.m.execute("switchChalk",[u.w.me.userID]):a.m.execute("switchErase",[u.w.me.userID])};document.getElementById("buttonMenu").onclick=l.v.toggle,document.getElementById("buttonColors").onclick=e,document.getElementById("buttonChalk").onclick=t,document.getElementById("buttonEraser").onclick=t,document.getElementById("buttonText").onclick=function(){return i._.addMagnetText(u.w.me.x,u.w.me.y)},document.getElementById("buttonDivide").onclick=y.u.divideScreen,document.getElementById("buttonLeft").onclick=c.s.left,document.getElementById("buttonRight").onclick=c.s.right,document.getElementById("buttonCancel").onclick=c.s.cancel,document.getElementById("buttonRedo").onclick=c.s.redo,document.getElementById("buttonAskQuestion").onclick=m.$.askQuestion;for(var n=document.getElementById("controls").children,r=0;r<n.length;r++)n[r]instanceof HTMLButtonElement&&(n[r].onfocus=document.activeElement.blur);M.init(),w.onchange=function(){a.m.execute("switchChalk",[u.w.me.userID]),a.m.execute("setCurrentColor",[u.w.me.userID,w.getCurrentColor()])},document.onkeydown=function(n){"Backspace"!=n.key||document.activeElement instanceof HTMLInputElement||n.preventDefault(),"Escape"!=n.key&&"F1"!=n.key||(w.isShown()?w.hide():l.v.toggle()),l.v.isShown()||(n.ctrlKey||n.shiftKey||"c"!=n.key?!n.ctrlKey&&n.shiftKey&&"C"==n.key?function(){if(null==i._.getMagnetUnderCursor())u.w.me.eraseMode=!1,u.w.me.isDrawing||w.show({x:u.w.me.x,y:u.w.me.y}),w.previous();else{var e=i._.getMagnetUnderCursor();e.style.backgroundColor=function(e){for(var t=0;t<S.length;t++)if(S[t]==e)return S[(t-1)%S.length];return S[0]}(e.style.backgroundColor)}}():"Enter"==n.key&&w.isShown()?w.hide():"ArrowLeft"==n.key&&w.isShown()?w.previous():"ArrowRight"==n.key&&w.isShown()?w.next():"Enter"==n.key?(i._.addMagnetText(u.w.me.x,u.w.me.y),n.preventDefault()):"ArrowLeft"==n.key?c.s.left():"ArrowRight"==n.key?c.s.right():"d"==n.key?y.u.divideScreen():n.ctrlKey&&n.shiftKey&&"Z"==n.key||n.ctrlKey&&"y"==n.key?(c.s.redo(),n.preventDefault()):n.ctrlKey&&"z"==n.key?(c.s.cancel(),n.preventDefault()):"e"==n.key?t():"h"==n.key?_.toggle():n.ctrlKey&&"x"==n.key?(w.hide(),u.w.me.lastDelineation.containsPolygonToMagnetize()&&u.w.me.lastDelineation.cutAndMagnetize()):n.ctrlKey&&"c"==n.key?(w.hide(),u.w.me.lastDelineation.containsPolygonToMagnetize()&&u.w.me.lastDelineation.copyAndMagnetize()):n.ctrlKey&&"v"==n.key?(w.hide(),a.m.execute("printMagnet",[i._.getCurrentMagnetID()])):"m"==n.key?(w.hide(),u.w.me.lastDelineation.containsPolygonToMagnetize()?u.w.me.lastDelineation.cutAndMagnetize():(a.m.execute("printMagnet",[i._.getCurrentMagnetID()]),i._.removeCurrentMagnet())):"p"==n.key?(w.hide(),a.m.execute("printMagnet",[i._.getCurrentMagnetID()])):"Delete"!=n.key&&"x"!=n.key&&"Backspace"!=n.key||(w.hide(),i._.removeCurrentMagnet(),n.preventDefault()):e())},document.getElementById("canvas").onpointerdown=function(e){e.preventDefault(),a.m.execute("mousedown",[u.w.me.userID,e])},document.getElementById("canvasBackground").onpointermove=function(e){console.log("mousemove on the background should not occur")},document.getElementById("canvas").onpointermove=function(e){e.preventDefault(),a.m.execute("mousemove",[u.w.me.userID,e])},document.getElementById("canvas").onpointerup=function(e){e.preventDefault(),a.m.execute("mouseup",[u.w.me.userID,e])},document.getElementById("canvas").onpointerleave=function(e){e.preventDefault(),a.m.execute("mouseup",[u.w.me.userID,e])},E.B.addTouchEvents(document.getElementById("canvas")),i._.init(),s.loadMagnets(),c.s.load(),C=!0}catch(e){h.B.show(e),C=!1}},window.Menu=l.v,window.ShareEvent=I.i;var w=new r,C=!1;function D(){return document.getElementById("canvas")}function b(){return document.getElementById("canvasBackground")}function B(){return document.getElementById("container")}var S=["","rgb(255, 128, 0)","rgb(0, 128, 0)","rgb(192, 0, 0)","rgb(0, 0, 255)"]},634:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>Share});var _main__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17),_magnetManager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(434),_boardManager__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(640),_UserManager__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(776),_ErrorMessage__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(243),_ShareEvent__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(574),_config_json__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(269),Share=function(){function Share(){}return Share.tryConnect=function(e){null==Share.ws&&(Share.ws=new WebSocket(_config_json__WEBPACK_IMPORTED_MODULE_6__.f.I),Share.ws.binaryType="arraybuffer",Share.ws.onerror=function(){_ErrorMessage__WEBPACK_IMPORTED_MODULE_4__.B.show("Impossible to connect to the server.")},Share.ws.onopen=e,Share.ws.onmessage=function(e){console.log("I received the message: "),Share._treatReceivedMessage(JSON.parse(e.data))},document.getElementById("buttonAskQuestion").hidden=!1)},Share.isOnGitHub=function(){return window.location.origin.indexOf("github")>=0},Share.init=function(){document.getElementById("shareButton").onclick=function(){Share.isShared()||Share.share()},document.getElementById("buttonShare").onclick=function(){Share.isShared()?Share.copyShareUrl():Share.share()},document.getElementById("joinButton").onclick=function(){window.open(window.location,"_self")};var e=document.getElementById("sharePermissionWrite");e.onclick=function(){return Share.setCanWriteForAllExceptMeAndByDefault(e.checked)},Share.isOnGitHub()||(document.getElementById("ShareGithub").hidden=!0),Share.isSharedURL()&&Share.tryConnect((function(){try{Share.id=Share.getIDInSharedURL(),null!=Share.id&&(Share.join(Share.id),document.getElementById("shareUrl").value=document.location)}catch(e){Share.ws=void 0,Share.showConnectionError()}})),document.getElementById("buttonAskPrivilege").onclick=Share.askPrivilege,document.getElementById("buttonCopyShareUrl").onclick=Share.copyShareUrl},Share.askPrivilege=function(){var e=document.getElementById("passwordCandidate").value;Share.send({type:"askprivilege",password:e})},Share.copyShareUrl=function(){var e=document.getElementById("shareUrl").value;navigator.clipboard.writeText(e).then((function(){document.getElementById("shareUrlCopied").hidden=!1}),(function(){document.getElementById("shareUrlCopied").hidden=!1}))},Share.isShared=function(){return null!=Share.id},Share.showConnectionError=function(){Share.isOnGitHub()?_ErrorMessage__WEBPACK_IMPORTED_MODULE_4__.B.show("For sharing, first go to a deployed server. Go to menu/share for more information."):_ErrorMessage__WEBPACK_IMPORTED_MODULE_4__.B.show("Impossible to connect to the server")},Share.isRoot=function(){return document.getElementById("askPrivilege").hidden},Share.share=function(){try{var e=document.getElementById("password").value;Share.tryConnect((function(){return Share.send({type:"share",password:e})})),document.getElementById("shareInfo").hidden=!1,document.getElementById("buttonShare").innerHTML=document.getElementById("sharecopytext").innerHTML,document.getElementById("join").hidden=!0,""==e?Share.setCanWriteForAllExceptMeAndByDefault(!0):Share.setCanWriteForAllExceptMeAndByDefault(!1),Share.setRoot()}catch(e){Share.ws=void 0,Share.showConnectionError()}},Share._treatReceivedMessage=function(e){switch("fullCanvas"!=e.type&&"magnets"!=e.type&&"execute"!=e.type?console.log("Server -> me: "+JSON.stringify(e)):console.log("Server -> me: "+e.type),e.type){case"id":Share._setTableauID(e.id);break;case"youruserid":_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.setMyUserID(e.userid),document.getElementById("shareAndJoin").hidden=!0,document.getElementById("shareInfo").hidden=!1,document.getElementById("buttonShare").innerHTML=document.getElementById("sharecopytext").innerHTML;break;case"user":if(console.log("existing user: ",e.userid),e.userid==_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.me.userID)throw"oops... an already existing user has the same name than me";_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.add(e.userid);break;case"root":console.log("I am root."),Share.setRoot();break;case"accessdenied":_ErrorMessage__WEBPACK_IMPORTED_MODULE_4__.B.show("Access denied");break;case"join":console.log("a new user is joining: ",e.userid),_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.add(e.userid),_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.isSmallestUserID()&&(Share.sendFullCanvas(e.userid),Share.sendMagnets(e.userid),Share.execute("setUserCanWrite",[e.userid,Share.canWriteValueByDefault]));break;case"leave":_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.leave(e.userid);break;case"fullCanvas":_boardManager__WEBPACK_IMPORTED_MODULE_2__.s.loadWithoutSave(e.data);break;case"magnets":console.log(e.magnets),document.getElementById("magnets").innerHTML=e.magnets,_magnetManager__WEBPACK_IMPORTED_MODULE_1__._.installMagnets();break;case"magnetChanged":document.getElementById(e.magnetid).outerHTML=e.data,_magnetManager__WEBPACK_IMPORTED_MODULE_1__._.installMagnets();break;case"newmagnet":console.log("new magnet:"),document.getElementById("magnets").innerHTML=document.getElementById("magnets").innerHTML+e.data,_magnetManager__WEBPACK_IMPORTED_MODULE_1__._.installMagnets();break;case"execute":_ShareEvent__WEBPACK_IMPORTED_MODULE_5__.i[e.event].apply(_ShareEvent__WEBPACK_IMPORTED_MODULE_5__.i,e.params)}},Share.setRoot=function(){document.getElementById("askPrivilege").hidden=!0,document.getElementById("shareMode").hidden=!1},Share.send=function(e){e.id=Share.id,this.ws.send(JSON.stringify(e))},Share.sendFullCanvas=function(e){Share.send({type:"fullCanvas",data:(0,_main__WEBPACK_IMPORTED_MODULE_0__.o_)().toDataURL(),to:e})},Share.sendMagnets=function(e){Share.isShared()&&(e?Share.send({type:"magnets",magnets:document.getElementById("magnets").innerHTML,to:e}):Share.send({type:"magnets",magnets:document.getElementById("magnets").innerHTML}))},Share.sendNewMagnet=function(e){console.log("new magnet sent!"),Share.send({type:"newmagnet",data:e.outerHTML})},Share.sendMagnetChanged=function(e){Share.send({type:"magnetChanged",magnetid:e.id,data:e.outerHTML})},Share.execute=function(event,params){function adapt(e){return e instanceof MouseEvent?{pressure:e.pressure,offsetX:e.offsetX,offsetY:e.offsetY}:e}eval("ShareEvent."+event).apply(void 0,params),Share.isShared()&&Share.send({type:"execute",event,params:params.map((function(e){return adapt(e)}))})},Share._setTableauID=function(e){Share.id=e;var t=document.location.href,n=t+"?id="+e;history.pushState({},null,n),document.getElementById("shareUrl").value=t.startsWith("file://")?_config_json__WEBPACK_IMPORTED_MODULE_6__.f.t+"?id="+e:n},Share.isSharedURL=function(){return null!=new URL(document.location).searchParams.get("id")},Share.getTableauNoirID=function(){return Share.isSharedURL()?Share.getIDInSharedURL():"local"},Share.getIDInSharedURL=function(){return new URL(document.location).searchParams.get("id")},Share.join=function(e){Share.send({type:"join",id:e})},Share.setCanWriteForAllExceptMeAndByDefault=function(e){for(var t in document.getElementById("imgWritePermission"+e).hidden=!1,document.getElementById("imgWritePermission"+!e).hidden=!0,document.getElementById("sharePermissionWrite").checked=e,_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.users)_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.users[t]!=_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.me&&Share.execute("setUserCanWrite",[t,e]);Share.canWriteValueByDefault=e,Share.execute("setUserCanWrite",[_UserManager__WEBPACK_IMPORTED_MODULE_3__.w.me.userID,!0])},Share.ws=void 0,Share.id=void 0,Share.canWriteValueByDefault=!0,Share}()},269:e=>{e.exports=JSON.parse('{"f":{"I":"ws://tableaunoir.irisa.fr:8080","t":"http://tableaunoir.irisa.fr"}}')}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__(17)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ2hhbGtDdXJzb3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rpc2N1c3Npb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0RyYXdpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Vycm9yTWVzc2FnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTGF5b3V0LnRzIiwid2VicGFjazovLy8uL3NyYy9NZW51LnRzIiwid2VicGFjazovLy8uL3NyYy9TaGFyZUV2ZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9Ub3VjaFNjcmVlbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRXJhc2VyQ3Vyc29yLnRzIiwid2VicGFjazovLy8uL3NyYy9EZWxpbmVhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVXNlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVXNlck1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NhbmNlbFN0YWNrLnRzIiwid2VicGFjazovLy8uL3NyYy9ib2FyZE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21hZ25ldE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BhbGV0dGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL215TWFnbmV0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTG9hZFNhdmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Rvb2xiYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NTU1N0eWxlTW9kaWZpZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0JsYWNrVlNXaGl0ZUJvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9CYWNrZ3JvdW5kLnRzIiwid2VicGFjazovLy8uL3NyYy9UcmFuc2xhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcmUudHMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJpbml0IiwiY2hhbmdlIiwicGFyYW0iLCJDaGFsa0N1cnNvciIsImxlZnRIYW5kZWQiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJvbmNsaWNrIiwiZ2V0U3R5bGVDdXJzb3IiLCJjb2xvciIsImRhdGEiLCJnZXRDdXJzb3JVUkwiLCJ4IiwieSIsInNpemVIZWFkIiwiY2FudmFzIiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwiaGVpZ2h0IiwiY29udGV4dCIsImdldENvbnRleHQiLCJ0cmFuc2Zvcm0iLCJhbmdsZSIsIk1hdGgiLCJhdGFuMiIsImFuZ2xlUGx1cyIsImFuZ2xlTWludXMiLCJwMSIsImNvcyIsInNpbiIsInAyIiwibGwiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsInN0cm9rZSIsImZpbGxTdHlsZSIsImZpbGwiLCJ0b0RhdGFVUkwiLCJnZXRJdGVtIiwiZ2VuZXJhdGVJRCIsInJhbmRvbSIsImhpZGRlbiIsImFza1F1ZXN0aW9uIiwicXVlc3Rpb24iLCJwcm9tcHQiLCJ0cmltIiwiRGlzY3Vzc2lvbiIsInJlbW92ZVF1ZXN0aW9uIiwicXVlc3Rpb25JRCIsInJlbW92ZSIsImNoaWxkcmVuIiwibGVuZ3RoIiwiYWRkUXVlc3Rpb24iLCJ1c2VySUQiLCJpZHF1ZXN0aW9uIiwicXVlc3Rpb25FbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaWQiLCJpbm5lckhUTUwiLCJvdXRlckhUTUwiLCJhcHBlbmRDaGlsZCIsImNsZWFyUG9seWdvbiIsInBvaW50cyIsInNhdmUiLCJwb2ludCIsImNsaXAiLCJjbGVhclJlY3QiLCJyZXN0b3JlIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwicmVtb3ZlQ29udG91ciIsImdsb2JhbEFscGhhIiwiZHJhd0xpbmUiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInByZXNzdXJlIiwiY2xvc2VQYXRoIiwiZHJhd0RvdCIsImFyYyIsIlBJIiwiY2xlYXJMaW5lIiwibGluZUNhcCIsImRpdmlkZVNjcmVlbiIsImNvbnNvbGUiLCJsb2ciLCJEcmF3aW5nIiwic2hvdyIsIm1zZyIsIm1zZ3BsdXMiLCJoaWRlIiwic2V0SW50ZXJ2YWwiLCJnZXRYTWlkZGxlIiwic2Nyb2xsTGVmdCIsIkxheW91dCIsImdldFdpbmRvd1dpZHRoIiwiaW5pdFdvcldUIiwiaXNUYWN0aWxlRGV2aWNlIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWF0Y2giLCJpbml0Q2xhc3NpYyIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJnZXRXaW5kb3dIZWlnaHQiLCJpbm5lckhlaWdodCIsImdldFpvb20iLCJfcmVzaXplIiwiaW5pdFMiLCJjYW52YXNCYWNrZ3JvdW5kIiwiU1RBTkRBUkRIRUlHSFQiLCJhZGRFdmVudExpc3RlbmVyIiwic2NyZWVuIiwiaW5pdFciLCJjb250ZW50IiwiaGVpZ2h0dXNlZCIsInRvb2xiYXIiLCJjbGllbnRIZWlnaHQiLCJzdHlsZSIsInBvc2l0aW9uIiwiem9vbSIsImNvbnRlbnRFbGVtZW50IiwiY2xpY2siLCJvcGVuUGFnZSIsInBhZ2VOYW1lIiwiZWxtbnQiLCJpIiwidGFiY29udGVudCIsInRhYmxpbmtzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImRpc3BsYXkiLCJ0b2dnbGUiLCJNZW51IiwiaXNTaG93biIsImdldE1lbnUiLCJjb250YWlucyIsIm1vdXNlZG93biIsInVzZXJJZCIsImV2dCIsIm1vdXNlbW92ZSIsInVuZGVmaW5lZCIsIm1vdXNldXAiLCJzZXRDdXJyZW50Q29sb3IiLCJzd2l0Y2hFcmFzZSIsInN3aXRjaENoYWxrIiwic2V0VXNlckNhbldyaXRlIiwiYm9vbCIsInNldENhbldyaXRlIiwibWFnbmV0TW92ZSIsImlkTWFnbmV0IiwicGFyc2VJbnQiLCJlbCIsInRvcCIsImxlZnQiLCJtYWduZXRzQ2xlYXIiLCJtYWduZXRSZW1vdmUiLCJtYWduZXRDaGFuZ2UiLCJib2FyZENsZWFyIiwicXVlc3Rpb25BZGQiLCJxdWVzdGlvblJlbW92ZSIsInByaW50TWFnbmV0IiwibWFnbmV0SUQiLCJhZGRUb3VjaEV2ZW50cyIsImVsZW1lbnQiLCJvbnRvdWNoc3RhcnQiLCJUb3VjaFNjcmVlbiIsIl90b3VjaEhhbmRsZXIiLCJvbnRvdWNobW92ZSIsIm9udG91Y2hlbmQiLCJvbnRvdWNoY2FuY2VsIiwiZXZlbnQiLCJmaXJzdCIsImNoYW5nZWRUb3VjaGVzIiwidHlwZSIsInNpbXVsYXRlZEV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0TW91c2VFdmVudCIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY2xpZW50WCIsImNsaWVudFkiLCJ0YXJnZXQiLCJkaXNwYXRjaEV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzaXplIiwiRXJhc2VyQ3Vyc29yIiwicmFkaXVzIiwiY3R4IiwibGFzdHBvaW50cyIsIm1heWJlSnVzdEFQb2ludCIsIl9jcmVhdGVNYWduZXRGcm9tSW1nIiwiaW1nIiwiSW1hZ2UiLCJyZWN0YW5nbGUiLCJfZ2V0UmVjdGFuZ2xlIiwic3JjIiwiY2xpcFBhdGgiLCJtYXAiLCJqb2luIiwicmVzZXQiLCJ0aGlzIiwiZHJhd2luZyIsImZpbmlzaCIsInJlbW92ZVBvbHlnb24iLCJpc0RyYXdpbmciLCJjb250YWluc1BvbHlnb25Ub01hZ25ldGl6ZSIsImRyYXdQb2x5Z29uIiwicG9seWxpbmUiLCJjcmVhdGVFbGVtZW50TlMiLCJwdXNoIiwic2V0QXR0cmlidXRlIiwicCIsInJlbW92ZUNoaWxkIiwiYWRkUG9pbnQiLCJpc0RvdCIsImRvdEluUHJldmlvdXNQb2x5Z29uIiwic2V0VGltZW91dCIsImN1dEFuZE1hZ25ldGl6ZSIsImFicyIsImluUG9seWdvbiIsInBvbHlnb24iLCJpbnNpZGUiLCJqIiwieGkiLCJ5aSIsInhqIiwieWoiLCJEZWxpbmVhdGlvbiIsImVyYXNlIiwiaXNTdWl0YWJsZSIsImNvcHlBbmRNYWduZXRpemUiLCJyIiwibWluIiwibWF4IiwiaXNDdXJyZW50VXNlciIsInhJbml0IiwieUluaXQiLCJhbHJlYWR5RHJhd25TdGgiLCJlcmFzZU1vZGUiLCJlcmFzZU1vZGVCaWciLCJsYXN0RGVsaW5lYXRpb24iLCJjYW5Xcml0ZSIsImVyYXNlTGluZVdpZHRoIiwiY3Vyc29yIiwidG9vbEN1cnNvciIsInNldFRvb2xDdXJzb3JJbWFnZSIsInNldFVzZXJJRCIsInNyY0ltYWdlIiwidXBkYXRlQ3Vyc29yIiwiZGVzdHJveSIsImdldEN1cnJlbnRDb2xvciIsIlVzZXJNYW5hZ2VyIiwibWUiLCJhY3RpdmVFbGVtZW50IiwiYmx1ciIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZXZ0WCIsImV2dFkiLCJVc2VyIiwidXNlcnMiLCJpc1NtYWxsZXN0VXNlcklEIiwibWlua2V5Iiwia2V5IiwibGVhdmUiLCJ1c2VyaWQiLCJ1cGRhdGVHVUlVc2VycyIsInNldE15VXNlcklEIiwiZ2V0VXNlckltYWdlIiwic3Vic3RyIiwidXNlcnNJbWFnZUZpbGVOYW1lcyIsInVzZXJJZFRvRG9tIiwidXNlckRPTSIsInRpdGxlIiwiZ2V0TnVtYmVyT2ZVc2VycyIsInN0YWNrIiwiY3VycmVudEluZGV4IiwibiIsImNsZWFyIiwiYmFjayIsImZvcndhcmQiLCJnZXRCYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJfY2xlYXIiLCJCb2FyZE1hbmFnZXIiLCJjYW5jZWxTdGFjayIsImdldERlZmF1bHRDaGFsa0NvbG9yIiwiX2NyZWF0ZUNhbnZhc0ZvclJlY3RhbmdsZSIsIkMiLCJkcmF3SW1hZ2UiLCJfdG9CbG9iT2ZSZWN0YW5nbGUiLCJjYWxsYmFjayIsInRvQmxvYiIsImdldERhdGFVUkxPZlJlY3RhbmdsZSIsImlzQ2FuY2VsUmVkb0FjdGl2YXRlZCIsImJsb2IiLCJnZXRDdXJyZW50U2NyZWVuUmVjdGFuZ2xlIiwiY29udGFpbmVyIiwic2Nyb2xsVG9wIiwic2F2ZUN1cnJlbnRTY3JlZW4iLCJsb2FkIiwib25sb2FkIiwiZSIsImxvYWRXaXRob3V0U2F2ZSIsImJvYXJkTmFtZSIsInNjcm9sbFF1YW50aXR5IiwibWlkZGxlIiwic2hvd1BhZ2VOdW1iZXIiLCJzY3JvbGxUbyIsImJlaGF2aW9yIiwicmlnaHQiLCJfcmlnaHRFeHRlbmRDYW52YXNFbmFibGUiLCJwYWdlTnVtYmVyIiwicm91bmQiLCJ0b3RhbCIsIl9sb2FkQ3VycmVudENhbmNlbGxhdGlvblN0YWNrRGF0YSIsImltYWdlIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiY2FuY2VsIiwicmVkbyIsIkNhbmNlbFN0YWNrIiwiTWFnbmV0TWFuYWdlciIsImNsZWFyTWFnbmV0IiwiYXJyYW5nZSIsImRyYXdHcmFwaCIsImdldE1hZ25ldFVuZGVyQ3Vyc29yIiwibWFnbmV0VW5kZXJDdXJzb3IiLCJoYXNDdXJyZW50TWFnbmV0IiwiY3VycmVudE1hZ25ldCIsIm5vQ3VycmVudE1hZ25ldCIsImdldEN1cnJlbnRNYWduZXRJRCIsInNldEludGVyYWN0YWJsZSIsImIiLCJ2IiwibWFnbmV0cyIsImdldE1hZ25ldHMiLCJwb2ludGVyRXZlbnRzIiwiZ2V0WVRvcFdoZW5OZXdNYWduZXRzIiwibWFnbmV0WCIsIm1hZ25ldFkiLCJhZGRNYWduZXQiLCJmIiwidGFnTmFtZSIsIl9pbnN0YWxsTWFnbmV0IiwibWFnbmV0IiwibWFnbmV0Q29udGFpbnMiLCJtIiwiY2xpZW50V2lkdGgiLCJkaXN0IiwibWluRGlzdCIsInJlY3QiLCJnZW5lcmF0ZVBvc2l0aW9uIiwiY291bnQiLCJiZXN0RGlzdCIsImJlc3RYIiwiYmVzdFkiLCJnZXROb2RlcyIsIm5vZGVzIiwiZWRnZXMiLCJpc0Nyb3NzaW5nIiwiayIsImwiLCJhIiwiYyIsImQiLCJxIiwiZGV0IiwiZ2FtbWEiLCJsYW1iZGEiLCJzIiwiaW5zdGFsbE1hZ25ldHMiLCJldmFsIiwic2V0WkluZGV4IiwiekluZGV4IiwiY3JlYXRlQ29weU1hZ25ldCIsImNsb25lTm9kZSIsIm1ha2VEcmFnZ2FibGVFbGVtZW50IiwiZHgiLCJkeSIsImRyYWciLCJjdHJsS2V5IiwiY29weSIsImJpZ0VsZW1lbnQiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwiY2FudmFzQ3Vyc29yU3RvcmUiLCJvbnBvaW50ZXJ1cCIsImNsb3NlRHJhZ0VsZW1lbnQiLCJvbm1vdXNldXAiLCJvbnBvaW50ZXJtb3ZlIiwiZWxlbWVudERyYWciLCJvdGhlckVsZW1lbnRzVG9Nb3ZlIiwib25tb3VzZW1vdmUiLCJpbnN0YWxsTWFnbmV0VGV4dCIsIm9ubW91c2VlbnRlciIsIm9ubW91c2VsZWF2ZSIsImFkZE1hZ25ldEltYWdlIiwiZmlsZW5hbWUiLCJkaXZUZXh0Iiwib25wb2ludGVyZG93biIsInN0b3BQcm9wYWdhdGlvbiIsIm9ua2V5ZG93biIsInNldEZvbnRTaXplIiwiZm9udFNpemUiLCJnZXRTZWxlY3Rpb24iLCJyZW1vdmVBbGxSYW5nZXMiLCJvbmtleXVwIiwiYWRkTWFnbmV0VGV4dCIsImRpdiIsImNvbnRlbnRFZGl0YWJsZSIsImZvY3VzIiwiZXhlY0NvbW1hbmQiLCJyZW1vdmVDdXJyZW50TWFnbmV0IiwiYmVnaW4iLCJzcGxpdCIsInBvaW50U3RyIiwiY29sb3JzIiwiYnV0dG9ucyIsImN1cnJlbnRDb2xvcklEIiwib25jaGFuZ2UiLCJfY3JlYXRlUGFsZXR0ZSIsIl9jcmVhdGVDb2xvckJ1dHRvbiIsInN3aXRjaEJsYWNrQW5kV2hpdGUiLCJQYWxldHRlIiwiYm9yZGVyQ29sb3IiLCJvbm1vdXNlZG93biIsIm5leHQiLCJwcmV2aW91cyIsImNyZWF0ZU1hZ25ldCIsIm8iLCJjcmVhdGVNYWduZXRHU19CIiwibWFnbmV0R1MiLCJNeU1hZ25ldHMiLCJjcmVhdGVNYWduZXRSYWluYm93IiwibWFnbmV0U29ydGluZyIsIm1hZ25ldEJUcmVlcyIsIm1hZ25ldEdyYXBoTm9kZXMiLCJtYWduZXRGbG95ZHNBbGdvcml0aG0iLCJtYWduZXRHcmFwaFNpbUNpdHkiLCJjcmVhdGVUaWxpbmciLCJsZWZ0Q29sb3IiLCJ1cENvbG9yIiwicmlnaHRDb2xvciIsImJvdHRvbUNvbG9yIiwieG1sbnMiLCJzdmdFbGVtIiwiY3JlYXRlUGF0aCIsInBhdGhEZXNjIiwicGF0aCIsInNldEF0dHJpYnV0ZU5TIiwicGFkZGluZyIsIm1hZ25ldFRpbGluZ3MiLCJtYWduZXRVbmlvbkZpbmQiLCJtYWduZXRHbyIsInJlZ2lzdGVyIiwibWFnbmV0U2V0TmFtZSIsImxvYWRNYWduZXRzIiwiTG9hZFNhdmUiLCJsb2FkRmlsZSIsImZpbGVzIiwiZXhwb3J0UG5nIiwiYm9keSIsIm9uZHJhZ292ZXIiLCJvbmRyb3AiLCJkYXRhVHJhbnNmZXIiLCJpdGVtcyIsImtpbmQiLCJmaWxlIiwiZ2V0QXNGaWxlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9uZXJyb3IiLCJuYW1lIiwiZW5kc1dpdGgiLCJyZWFkQXNUZXh0IiwibG9hZEpTT04iLCJKU09OIiwicGFyc2UiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiZmV0Y2hJbWFnZUZyb21GaWxlIiwib2JqIiwiY2FudmFzRGF0YVVSTCIsImFsZXJ0IiwiZ2V0Q2FudmFzIiwiZG93bmxvYWQiLCJ2YWx1ZSIsInN0cmluZ2lmeSIsInRleHQiLCJkb3dubG9hZERhdGFVUkwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJkYXRhVVJMIiwic3BhbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiRXJyb3JNZXNzYWdlIiwiVG9vbGJhciIsImhlbHBCdXR0b25EaXZpZGUiLCJoZWxwRm9yQnV0dG9uQ2xvc2VDb250cm9scyIsImdldFRvb2xiYXIiLCJvcGFjaXR5IiwiZGl2aWRlTGluZSIsImNsYXNzTmFtZSIsInByZXBlbmQiLCJjb250cm9scyIsIkNTU1N0eWxlTW9kaWZpZXIiLCJzdHlsZXNoZWV0IiwiaGVhZCIsInVwZGF0ZSIsImNzcyIsInJ1bGVzIiwiZm9yRWFjaCIsInNlbGVjdG9yIiwicHJvcGVydHkiLCJzZXRSdWxlIiwicnVsZSIsIkJsYWNrVlNXaGl0ZUJvYXJkIiwic3dpdGNoIiwicHJldmlvdXNCYWNrZ3JvdW5kQ29sb3IiLCJwYWxldHRlIiwiX2ludmVydENhbnZhcyIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsInB1dEltYWdlRGF0YSIsIkJhY2tncm91bmQiLCJtdXNpY1Njb3JlIiwiZ2V0Q2FudmFzQmFja2dyb3VuZCIsInNjYWxlV2lkdGgiLCJmdWxsSGVpZ2h0IiwieW1pZGRsZVNjcmVlbiIsInlzaGlmdCIsImRyYXdTdGFmZiIsInltaWRkbGUiLCJzcGFjZSIsIlRyYW5zbGF0aW9uIiwidHJhbnNsYXRlIiwiZ2V0TGFuZ3VhZ2UiLCJsb2NhdGlvbiIsInNlYXJjaFBhcmFtcyIsImdldCIsImZldGNoRGljdGlvbmFyeSIsImxhbmd1YWdlIiwiUHJvbWlzZSIsImZldGNoIiwidGhlbiIsInR4dCIsImpzb24iLCJ0cmFuc2xhdGVFbGVtZW50IiwiZGljdCIsInRyYW5zbGF0ZUZyb21JRHMiLCJzdGFydHNXaXRoIiwibG9hZGVkIiwibWFnbmV0Q29sb3JzIiwibmV4dEJhY2tncm91bmRDb2xvciIsIkhUTUxCdXR0b25FbGVtZW50Iiwib25mb2N1cyIsIkhUTUxJbnB1dEVsZW1lbnQiLCJzaGlmdEtleSIsIm9ucG9pbnRlcmxlYXZlIiwiU2hhcmVFdmVudCIsImdldENvbnRhaW5lciIsInRyeUNvbm5lY3QiLCJTaGFyZSIsIndzIiwiV2ViU29ja2V0IiwiYmluYXJ5VHlwZSIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsIl90cmVhdFJlY2VpdmVkTWVzc2FnZSIsImlzT25HaXRIdWIiLCJvcmlnaW4iLCJpbmRleE9mIiwiaXNTaGFyZWQiLCJzaGFyZSIsImNvcHlTaGFyZVVybCIsIm9wZW4iLCJjaGVja2JveFNoYXJlUGVybWlzc2lvbldyaXRlIiwic2V0Q2FuV3JpdGVGb3JBbGxFeGNlcHRNZUFuZEJ5RGVmYXVsdCIsImNoZWNrZWQiLCJpc1NoYXJlZFVSTCIsImdldElESW5TaGFyZWRVUkwiLCJzaG93Q29ubmVjdGlvbkVycm9yIiwiYXNrUHJpdmlsZWdlIiwicGFzc3dvcmRDYW5kaWRhdGUiLCJzZW5kIiwicGFzc3dvcmQiLCJzaGFyZWxpbmsiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJpc1Jvb3QiLCJzZXRSb290IiwiX3NldFRhYmxlYXVJRCIsInNlbmRGdWxsQ2FudmFzIiwic2VuZE1hZ25ldHMiLCJleGVjdXRlIiwiY2FuV3JpdGVWYWx1ZUJ5RGVmYXVsdCIsIm1hZ25ldGlkIiwicGFyYW1zIiwidG8iLCJzZW5kTmV3TWFnbmV0Iiwic2VuZE1hZ25ldENoYW5nZWQiLCJhZGFwdCIsIk1vdXNlRXZlbnQiLCJ1cmwiLCJocmVmIiwibmV3VXJsIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImdldFRhYmxlYXVOb2lySUQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIl0sIm1hcHBpbmdzIjoiaUdBR0EsMkJBcUZBLE9BNUVXLEVBQUFBLEtBQVAsV0FDSSxJQUFNQyxFQUFTLFNBQUNDLEdBQ1pDLEVBQVlDLFdBQWFGLEVBQ3BCQSxFQUdERyxhQUFhQyxRQUFRLGFBQWMsUUFGbkNELGFBQWFFLFdBQVcsY0FHNUIsc0JBQ0EsWUFHSkMsU0FBU0MsZUFBZSxvQkFBb0JDLFFBQVUsV0FBUVQsR0FBTyxJQUNyRU8sU0FBU0MsZUFBZSxxQkFBcUJDLFFBQVUsV0FBUVQsR0FBTyxLQVNuRSxFQUFBVSxlQUFQLFNBQXNCQyxHQUNsQixNQUFPLENBQUVDLEtBQU1WLEVBQVlXLGFBQWFGLEdBQVFHLEVBQUdaLEVBQVlDLFdBQWEsR0FBSyxFQUFHWSxFQUFHLElBU3BGLEVBQUFGLGFBQVAsU0FBb0JGLEdB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LEVBQU9ELFFBQVNGLHFCQUcvQ0csRUFBT0QsUUNuQmZGLG9CQUFvQnJQLEVBQUksQ0FBQ3VQLEVBQVNHLEtBQ2pDLElBQUksSUFBSWhXLEtBQU9nVyxFQUNYTCxvQkFBb0JwTCxFQUFFeUwsRUFBWWhXLEtBQVMyVixvQkFBb0JwTCxFQUFFc0wsRUFBUzdWLElBQzVFaVcsT0FBT0MsZUFBZUwsRUFBUzdWLEVBQUssQ0FBRW1XLFlBQVksRUFBTS9FLElBQUs0RSxFQUFXaFcsTUNKM0UyVixvQkFBb0JwTCxFQUFJLENBQUNvRCxFQUFLeUksSUFBU0gsT0FBT0ksVUFBVUMsZUFBZUMsS0FBSzVJLEVBQUt5SSxHQ0dqRlQsb0JBQW9CLEsiLCJmaWxlIjoidGFibGVhdW5vaXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyTWFuYWdlciB9IGZyb20gJy4vVXNlck1hbmFnZXInO1xuaW1wb3J0IHsgTWVudSB9IGZyb20gJy4vTWVudSc7XG5cbmV4cG9ydCBjbGFzcyBDaGFsa0N1cnNvciB7XG5cbiAgICAvKiogdW5kZWZpbmVkIGZvciByaWdodC1oYW5kZWQsIFwidHJ1ZVwiIGZvciBsZWZ0LWhhbmRlZCAqL1xuICAgIHN0YXRpYyBsZWZ0SGFuZGVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJsZWZ0SGFuZGVkXCIpO1xuXG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gYWRkcyBjbGlja3Mgb24gYnV0dG9ucyBpbiB0aGUgbWVudSBmb3IgbGVmdC0gYW5kIHJpZ2h0LWhhbmRlZCBvcHRpb25zXG4gICAgICovXG4gICAgc3RhdGljIGluaXQoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNoYW5nZSA9IChwYXJhbSkgPT4ge1xuICAgICAgICAgICAgQ2hhbGtDdXJzb3IubGVmdEhhbmRlZCA9IHBhcmFtO1xuICAgICAgICAgICAgaWYgKCFwYXJhbSlcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImxlZnRIYW5kZWRcIik7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJsZWZ0SGFuZGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIFVzZXJNYW5hZ2VyLm1lLnVwZGF0ZUN1cnNvcigpO1xuICAgICAgICAgICAgTWVudS5oaWRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkxlZnRoYW5kZWRcIikub25jbGljayA9ICgpID0+IHsgY2hhbmdlKHRydWUpOyB9XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uUmlnaHRoYW5kZWRcIikub25jbGljayA9ICgpID0+IHsgY2hhbmdlKGZhbHNlKTsgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBjb2xvclxuICAgICAqIEByZXR1cm5zIHRoZSAuc3R5bGUuY3Vyc29yIG9mIHRoZSBjYW52YXMgaWYgeW91IHdhbnQgdG8gaGF2ZSBhIGN1cnNvciB0aGF0IGxvb2tzIGxpa2UgYSBjaGFsayB3aXRoIHRoZSBjb2xvciBjb2xvci5cbiAgICAgKiBUaGUgY3Vyc29yIGlzIGFuIG9iamV0IHtkYXRhOiBkYXRhb2ZpbWFnZSwgeDogcG9zaXRpb24gd2hlcmUgdG8gY2xpY2ssIHk6IHBvc2l0aW9uIHdoZXJlIHRvIGNsaWNrfVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRTdHlsZUN1cnNvcihjb2xvcik6IHtkYXRhLCB4LCB5fSB7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IENoYWxrQ3Vyc29yLmdldEN1cnNvclVSTChjb2xvciksIHg6IENoYWxrQ3Vyc29yLmxlZnRIYW5kZWQgPyAzMiA6IDAsIHk6IDAgfTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBjb2xvclxuICAgICAqIEByZXR1cm5zIHRoZSBpbWFnZSBpbmZvcm1hdGlvbiBvZiB0aGUgY2hhbGsgb2YgYSBzcGVjaWZpYyBjb2xvclxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRDdXJzb3JVUkwoY29sb3IpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBzaXplWCA9IDMyO1xuICAgICAgICBjb25zdCBzaXplWSA9IDQ0O1xuICAgICAgICBjb25zdCBhbmdsZU9wZW5pbmcgPSAwLjM7XG4gICAgICAgIGNvbnN0IHNpemVIZWFkID0gMTY7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IDM0O1xuXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBjYW52YXMud2lkdGggPSBzaXplWDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHNpemVZO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgICBpZiAoQ2hhbGtDdXJzb3IubGVmdEhhbmRlZCkgLy90cmFuc2Zvcm1hdGlvbiBvZiB0aGUgY2hhbGsgcGljdHVyZSBmb3IgbGVmdC1oYW5kZWRcbiAgICAgICAgICAgIGNvbnRleHQudHJhbnNmb3JtKC0xLCAwLCAwLCAxLCBzaXplWCwgMCk7XG5cbiAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKHNpemVZLCBzaXplWCk7XG5cbiAgICAgICAgY29uc3QgYW5nbGVQbHVzID0gYW5nbGUgKyBhbmdsZU9wZW5pbmc7XG4gICAgICAgIGNvbnN0IGFuZ2xlTWludXMgPSBhbmdsZSAtIGFuZ2xlT3BlbmluZztcblxuICAgICAgICBjb25zdCBwMSA9IHsgeDogc2l6ZUhlYWQgKiBNYXRoLmNvcyhhbmdsZVBsdXMpLCB5OiBzaXplSGVhZCAqIE1hdGguc2luKGFuZ2xlUGx1cykgfTtcbiAgICAgICAgY29uc3QgcDIgPSB7IHg6IHNpemVIZWFkICogTWF0aC5jb3MoYW5nbGVNaW51cyksIHk6IHNpemVIZWFkICogTWF0aC5zaW4oYW5nbGVNaW51cykgfTtcbiAgICAgICAgY29uc3QgbGwgPSB7IHg6IGxlbmd0aCAqIE1hdGguY29zKGFuZ2xlKSwgeTogbGVuZ3RoICogTWF0aC5zaW4oYW5nbGUpIH07XG5cbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHAxLngsIHAxLnkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhwMS54ICsgbGwueCwgcDEueSArIGxsLnkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhwMi54ICsgbGwueCwgcDIueSArIGxsLnkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhwMi54LCBwMi55KTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oMCwgMCk7XG5cbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAxO1xuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcblxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyhzaXplSGVhZCAqIE1hdGguY29zKGFuZ2xlUGx1cyksIHNpemVIZWFkICogTWF0aC5zaW4oYW5nbGVQbHVzKSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHNpemVIZWFkICogTWF0aC5jb3MoYW5nbGVNaW51cyksIHNpemVIZWFkICogTWF0aC5zaW4oYW5nbGVNaW51cykpO1xuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuXG4gICAgICAgIHJldHVybiBjYW52YXMudG9EYXRhVVJMKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU2hhcmUgfSBmcm9tIFwiLi9zaGFyZVwiO1xuaW1wb3J0IHsgVXNlck1hbmFnZXIgfSBmcm9tICcuL1VzZXJNYW5hZ2VyJztcblxuLyoqXG4gKiBEaXNjdXNzaW9uIChzdHVkZW50cyB0aGF0IGNhbiBhc2sgcXVlc3Rpb25zLCBtYWtlIGNvbW1lbnRzKVxuICogVGhlIG1lc3NhZ2UgYXBwZWFycyBhdCB0aGUgYm90dG9tIG9mIHRoZSBwYWdlXG4gKi9cbmV4cG9ydCBjbGFzcyBEaXNjdXNzaW9uIHtcblxuICAgIC8qKlxuICAgICAqIGdlbmVyYXRlIGFuIElEIGZvciBhIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGVJRCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJkXCIgKyBNYXRoLnJhbmRvbSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGluaXRpYWxpemF0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGluaXQoKTogdm9pZCB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVlc3Rpb25zXCIpLmhpZGRlbiA9IHRydWU7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBzaG93IGEgZGlhbG9nIGJveCB3aGVyZSB0aGUgdXNlciBjYW4gYXNrIGEgcXVlc3Rpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgYXNrUXVlc3Rpb24oKTogdm9pZCB7XG4gICAgICAgIGxldCBxdWVzdGlvbiA9IHByb21wdChcIlR5cGUgeW91ciBxdWVzdGlvbi9jb21tZW50OlwiKTtcblxuICAgICAgICBpZiAocXVlc3Rpb24gPT0gbnVsbCkgLy9pZiBjYW5jZWxcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBxdWVzdGlvbiA9IHF1ZXN0aW9uLnRyaW0oKTtcblxuICAgICAgICBpZiAocXVlc3Rpb24gPT0gXCJcIikgLy9pZiB0aGUgbWVzc2FnZSBpcyBlbXB0eVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIFNoYXJlLmV4ZWN1dGUoXCJxdWVzdGlvbkFkZFwiLCBbVXNlck1hbmFnZXIubWUudXNlcklELCBEaXNjdXNzaW9uLmdlbmVyYXRlSUQoKSwgcXVlc3Rpb25dKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHF1ZXN0aW9uSURcbiAgICAgKiBAZGVzY3JwdGlvbiByZW1vdmVzIHRoZSBxdWVzdGlvbiBvZiBJRCBxdWVzdGlvbklEXG4gICAgICovXG4gICAgc3RhdGljIHJlbW92ZVF1ZXN0aW9uKHF1ZXN0aW9uSUQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChxdWVzdGlvbklEKS5yZW1vdmUoKTtcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVlc3Rpb25zXCIpLmNoaWxkcmVuLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJxdWVzdGlvbnNcIikuaGlkZGVuID0gdHJ1ZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHVzZXJJRFxuICAgICAqIEBwYXJhbSBpZHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHF1ZXN0aW9uXG4gICAgICogQGRlc2NyaXB0aW9uIGFkZCBhIHF1ZXN0aW9uIGluIHRoZSBwaXBlLlxuICAgICAqL1xuICAgIHN0YXRpYyBhZGRRdWVzdGlvbih1c2VySUQ6IHN0cmluZywgaWRxdWVzdGlvbjogc3RyaW5nLCBxdWVzdGlvbjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHF1ZXN0aW9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicXVlc3Rpb25cIik7XG4gICAgICAgIHF1ZXN0aW9uRWxlbWVudC5pZCA9IGlkcXVlc3Rpb247XG4gICAgICAgIHF1ZXN0aW9uRWxlbWVudC5pbm5lckhUTUwgPSBVc2VyTWFuYWdlci5nZXRVc2VySW1hZ2UodXNlcklEKS5vdXRlckhUTUwgKyBxdWVzdGlvbjtcbiAgICAgICAgcXVlc3Rpb25FbGVtZW50Lm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoVXNlck1hbmFnZXIubWUuY2FuV3JpdGUpIHsgLy9vbmx5IHVzZXJzIHRoYXQgY2FuIHdyaXRlIGNhbiByZW1vdmUgcXVlc3Rpb25zXG4gICAgICAgICAgICAgICAgU2hhcmUuZXhlY3V0ZShcInF1ZXN0aW9uUmVtb3ZlXCIsIFtxdWVzdGlvbkVsZW1lbnQuaWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInF1ZXN0aW9uc1wiKS5hcHBlbmRDaGlsZChxdWVzdGlvbkVsZW1lbnQpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInF1ZXN0aW9uc1wiKS5oaWRkZW4gPSBmYWxzZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCb2FyZE1hbmFnZXIgfSBmcm9tICcuL2JvYXJkTWFuYWdlcic7XG5pbXBvcnQgeyBVc2VyTWFuYWdlciB9IGZyb20gJy4vVXNlck1hbmFnZXInO1xuaW1wb3J0IHsgZ2V0Q2FudmFzIH0gZnJvbSAnLi9tYWluJztcbmltcG9ydCB7IExheW91dCB9IGZyb20gJy4vTGF5b3V0JztcblxuZXhwb3J0IGNsYXNzIERyYXdpbmcge1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9pbnRzXG4gICAgICogQGRlc2NyaXB0aW9uIGNsZWFyIChlcmFzZSkgdGhlIGluc2lkZSBvZiB0aGUgcG9seWdvblxuICAgICAqL1xuICAgIHN0YXRpYyBjbGVhclBvbHlnb24ocG9pbnRzKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBnZXRDYW52YXMoKS5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBjb250ZXh0Lm1vdmVUbyhwb2ludHNbMF0ueCwgcG9pbnRzWzBdLnkpO1xuICAgICAgICBmb3IgKGxldCBwb2ludCBvZiBwb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHBvaW50LngsIHBvaW50LnkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuY2xpcCgpO1xuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBMYXlvdXQuZ2V0V2luZG93V2lkdGgoKSwgTGF5b3V0LmdldFdpbmRvd0hlaWdodCgpKTtcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiO1xuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gcG9pbnRzIFxuICAgICAqIEBkZXNjcmlwdGlvbiBlcmFzZSB0aGUgY29udG91ciBvZiB0aGUgcG9seWdvblxuICAgICAqL1xuICAgIHN0YXRpYyByZW1vdmVDb250b3VyKHBvaW50cykge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBnZXRDYW52YXMoKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJkZXN0aW5hdGlvbi1vdXRcIjtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDY7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxLjA7XG5cbiAgICAgICAgY29udGV4dC5tb3ZlVG8ocG9pbnRzWzBdLngsIHBvaW50c1swXS55KTtcbiAgICAgICAgZm9yIChsZXQgcG9pbnQgb2YgcG9pbnRzKSB7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhwb2ludC54LCBwb2ludC55KTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgIH1cblxuXG5cbiAgICBzdGF0aWMgZHJhd0xpbmUoY29udGV4dCwgeDEsIHkxLCB4MiwgeTIsIHByZXNzdXJlID0gMS4wLCBjb2xvciA9IFVzZXJNYW5hZ2VyLm1lLmdldEN1cnJlbnRDb2xvcigpKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2cocHJlc3N1cmUpXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1vdmVyXCI7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAwLjkgKyAwLjEgKiBwcmVzc3VyZTtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAxLjUgKyAzICogcHJlc3N1cmU7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHgxLCB5MSk7XG4gICAgICAgIGNvbnRleHQubGluZVRvKHgyLCB5Mik7XG4gICAgICAgIC8qY29udGV4dC5tb3ZlVG8oTWF0aC5yb3VuZCh4MSksIE1hdGgucm91bmQoeTEpKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oTWF0aC5yb3VuZCh4MiksIE1hdGgucm91bmQoeTIpKTsqL1xuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIH1cblxuXG4gICAgc3RhdGljIGRyYXdEb3QoeCwgeSwgY29sb3IpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGdldENhbnZhcygpLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAyLjU7XG4gICAgICAgIGNvbnRleHQuYXJjKHgsIHksIDIsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgY2xlYXJMaW5lKHgxLCB5MSwgeDIsIHkyLCBsaW5lV2lkdGggPSAxMCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gZ2V0Q2FudmFzKCkuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAvL2NvbnRleHQuc3Ryb2tlU3R5bGUgPSBCQUNLR1JPVU5EX0NPTE9SO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwiZGVzdGluYXRpb24tb3V0XCI7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcInJnYmEoMjU1LDI1NSwyNTUsMSlcIjtcblxuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8oeDEsIHkxKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oeDIsIHkyKTtcbiAgICAgICAgY29udGV4dC5saW5lQ2FwID0gXCJyb3VuZFwiO1xuICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIH1cblxuXG5cbiAgICBzdGF0aWMgZGl2aWRlU2NyZWVuKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImRpdmlkZSB0aGUgc2NyZWVuXCIpXG4gICAgICAgIGxldCB4ID0gTGF5b3V0LmdldFhNaWRkbGUoKTtcbiAgICAgICAgRHJhd2luZy5kcmF3TGluZShnZXRDYW52YXMoKS5nZXRDb250ZXh0KFwiMmRcIiksIHgsIDAsIHgsIExheW91dC5nZXRXaW5kb3dIZWlnaHQoKSwgMSwgQm9hcmRNYW5hZ2VyLmdldERlZmF1bHRDaGFsa0NvbG9yKCkpO1xuICAgICAgICBCb2FyZE1hbmFnZXIuc2F2ZUN1cnJlbnRTY3JlZW4oKTtcbiAgICB9XG5cbn1cbiIsImV4cG9ydCBjbGFzcyBFcnJvck1lc3NhZ2Uge1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbXNnXG4gICAgICogQHBhcmFtIG1zZ3BsdXNcbiAgICAgKiBAZGVzY3JpcHRpb24gc2hvdyBhIG1lc3NhZ2UgZXJyb3IuIFRoZSBtZXNzYWdlIG1zZyBpcyBzaG93bi4gbXNncGx1cyBpcyBzaG93biBpbiB0aGUgY29uc29sZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgc2hvdyhtc2csIG1zZ3BsdXM/KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3I6IFwiICsgbXNnKTtcbiAgICAgICAgaWYgKG1zZ3BsdXMpIGNvbnNvbGUubG9nKG1zZ3BsdXMpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yXCIpLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yXCIpLmlubmVySFRNTCA9IG1zZztcblxuICAgICAgICBjb25zdCBoaWRlID0gKCkgPT4geyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yXCIpLmhpZGRlbiA9IHRydWUgfTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvclwiKS5vbmNsaWNrID0gaGlkZTtcbiAgICAgICAgc2V0SW50ZXJ2YWwoaGlkZSwgNTAwMCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0Q2FudmFzLCBnZXRDYW52YXNCYWNrZ3JvdW5kIH0gZnJvbSAnLi9tYWluJztcblxuZXhwb3J0IGNsYXNzIExheW91dCB7XG4gICAgc3RhdGljIGdldFhNaWRkbGUoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zY3JvbGxMZWZ0ICsgTGF5b3V0LmdldFdpbmRvd1dpZHRoKCkgLyAyO1xuICAgIH1cblxuICAgIHN0YXRpYyBTVEFOREFSREhFSUdIVCA9IDEwMDA7XG5cbiAgICBzdGF0aWMgZ2V0V2luZG93V2lkdGg6ICgpID0+IG51bWJlcjtcbiAgICBzdGF0aWMgZ2V0V2luZG93SGVpZ2h0OiAoKSA9PiBudW1iZXI7XG4gICAgc3RhdGljIGdldFpvb206ICgpID0+IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIGluaXRpYWxpemF0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGluaXQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTGF5b3V0LmluaXQoKVwiKVxuICAgICAgICBMYXlvdXQuaW5pdFdvcldUKCk7XG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGRldmljZSBpcyBhIHNtYXJ0cGhvbmUgb3IgdGFibGV0LCBmYWxzZSBpZiBpdCBpcyBhIGNvbXB1dGVyXG4gICAgICovXG4gICAgc3RhdGljIGlzVGFjdGlsZURldmljZSgpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvaSlcbiAgICAgICAgICAgIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3dlYk9TL2kpXG4gICAgICAgICAgICB8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGhvbmUvaSlcbiAgICAgICAgICAgIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQYWQvaSlcbiAgICAgICAgICAgIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lwYWQvaSlcbiAgICAgICAgICAgIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQQUQvaSlcbiAgICAgICAgICAgIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0lQQUQvaSlcbiAgICAgICAgICAgIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQb2QvaSlcbiAgICAgICAgICAgIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0JsYWNrQmVycnkvaSlcbiAgICAgICAgICAgIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1dpbmRvd3MgUGhvbmUvaSk7XG4gICAgfVxuXG5cblxuICAgIHN0YXRpYyBpbml0Q2xhc3NpYygpIHtcbiAgICAgICAgY29uc3QgV0lEVEggPSA0ODAwO1xuICAgICAgICBjb25zdCBIRUlHSFQgPSAxNTAwO1xuXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuXG4gICAgICAgIGlmIChjYW52YXMud2lkdGggPCBXSURUSClcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IFdJRFRIO1xuXG4gICAgICAgIGlmIChjYW52YXMuaGVpZ2h0IDwgSEVJR0hUKVxuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IEhFSUdIVDtcblxuICAgICAgICBMYXlvdXQuZ2V0V2luZG93V2lkdGggPSAoKSA9PiB7IHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aDsgfTtcbiAgICAgICAgTGF5b3V0LmdldFdpbmRvd0hlaWdodCA9ICgpID0+IHsgcmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodDsgfTtcbiAgICAgICAgTGF5b3V0LmdldFpvb20gPSAoKSA9PiB7IHJldHVybiAxOyB9XG4gICAgICAgIExheW91dC5fcmVzaXplKCk7XG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIHJlc2NhbGluZyB3aXRoIHRoZSBzY3JlZW5cbiAgICAgKi9cbiAgICBzdGF0aWMgaW5pdFMoKSB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuICAgICAgICBjb25zdCBjYW52YXNCYWNrZ3JvdW5kID0gZ2V0Q2FudmFzQmFja2dyb3VuZCgpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTGF5b3V0LlNUQU5EQVJESEVJR0hUO1xuICAgICAgICBjYW52YXMud2lkdGggPSA0ODAwO1xuXG4gICAgICAgIGNhbnZhc0JhY2tncm91bmQuaGVpZ2h0ID0gTGF5b3V0LlNUQU5EQVJESEVJR0hUO1xuICAgICAgICBjYW52YXNCYWNrZ3JvdW5kLndpZHRoID0gNDgwMDtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBMYXlvdXQuX3Jlc2l6ZSk7XG5cbiAgICAgICAgTGF5b3V0LmdldFdpbmRvd0hlaWdodCA9ICgpID0+IHsgcmV0dXJuIExheW91dC5TVEFOREFSREhFSUdIVDsgfTtcbiAgICAgICAgTGF5b3V0LmdldFdpbmRvd1dpZHRoID0gKCkgPT4geyByZXR1cm4gd2luZG93LmlubmVyV2lkdGggKiBMYXlvdXQuZ2V0Wm9vbSgpOyB9O1xuICAgICAgICBMYXlvdXQuZ2V0Wm9vbSA9ICgpID0+IHsgcmV0dXJuIExheW91dC5TVEFOREFSREhFSUdIVCAvIHNjcmVlbi5oZWlnaHQ7IH07XG4gICAgICAgIExheW91dC5fcmVzaXplKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgICAgKiByZXNjYWxpbmcgd2l0aCB0aGUgc2NyZWVuXG4gICAgICAgICovXG4gICAgc3RhdGljIGluaXRXKCkge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBnZXRDYW52YXMoKTtcbiAgICAgICAgY29uc3QgY2FudmFzQmFja2dyb3VuZCA9IGdldENhbnZhc0JhY2tncm91bmQoKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IExheW91dC5TVEFOREFSREhFSUdIVDtcbiAgICAgICAgY2FudmFzLndpZHRoID0gNDgwMDtcblxuICAgICAgICBjYW52YXNCYWNrZ3JvdW5kLmhlaWdodCA9IExheW91dC5TVEFOREFSREhFSUdIVDtcbiAgICAgICAgY2FudmFzQmFja2dyb3VuZC53aWR0aCA9IDQ4MDA7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgTGF5b3V0Ll9yZXNpemUpO1xuXG4gICAgICAgIExheW91dC5nZXRXaW5kb3dIZWlnaHQgPSAoKSA9PiB7IHJldHVybiBMYXlvdXQuU1RBTkRBUkRIRUlHSFQ7IH07XG4gICAgICAgIExheW91dC5nZXRXaW5kb3dXaWR0aCA9ICgpID0+IHsgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoICogTGF5b3V0LmdldFpvb20oKTsgfTtcbiAgICAgICAgTGF5b3V0LmdldFpvb20gPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbm5lckhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgICAgICAgICAgcmV0dXJuIExheW91dC5TVEFOREFSREhFSUdIVCAvIGlubmVySGVpZ2h0O1xuICAgICAgICB9O1xuICAgICAgICBMYXlvdXQuX3Jlc2l6ZSgpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogcmVzY2FsaW5nIHdpdGggdGhlIHNjcmVlblxuICAgICAqL1xuICAgIHN0YXRpYyBpbml0V29yV1QoKSB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuICAgICAgICBjb25zdCBjYW52YXNCYWNrZ3JvdW5kID0gZ2V0Q2FudmFzQmFja2dyb3VuZCgpO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTGF5b3V0LlNUQU5EQVJESEVJR0hUO1xuICAgICAgICBjYW52YXMud2lkdGggPSA0ODAwO1xuXG4gICAgICAgIGNhbnZhc0JhY2tncm91bmQuaGVpZ2h0ID0gTGF5b3V0LlNUQU5EQVJESEVJR0hUO1xuICAgICAgICBjYW52YXNCYWNrZ3JvdW5kLndpZHRoID0gNDgwMDtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBMYXlvdXQuX3Jlc2l6ZSk7XG5cbiAgICAgICAgTGF5b3V0LmdldFdpbmRvd0hlaWdodCA9ICgpID0+IHsgcmV0dXJuIExheW91dC5TVEFOREFSREhFSUdIVDsgfTtcbiAgICAgICAgTGF5b3V0LmdldFdpbmRvd1dpZHRoID0gKCkgPT4geyByZXR1cm4gd2luZG93LmlubmVyV2lkdGggKiBMYXlvdXQuZ2V0Wm9vbSgpOyB9O1xuICAgICAgICBMYXlvdXQuZ2V0Wm9vbSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xiYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRyb2xzXCIpO1xuICAgICAgICAgICAgY29uc3QgaW5uZXJIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSAodG9vbGJhci5oaWRkZW4gPyAwIDogdG9vbGJhci5jbGllbnRIZWlnaHQpO1xuICAgICAgICAgICAgbGV0IGhlaWdodHVzZWQ7XG4gICAgICAgICAgICBpZiAodG9vbGJhci5jbGllbnRIZWlnaHQgPCB3aW5kb3cuaW5uZXJIZWlnaHQgLyAxMCkge1xuICAgICAgICAgICAgICAgIGhlaWdodHVzZWQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICAgICAgY29udGVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcblxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBoZWlnaHR1c2VkID0gaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICAgICAgY29udGVudC5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHJldHVybiBMYXlvdXQuU1RBTkRBUkRIRUlHSFQgLyBoZWlnaHR1c2VkO1xuICAgICAgICB9O1xuICAgICAgICBMYXlvdXQuX3Jlc2l6ZSgpO1xuICAgIH1cblxuXG5cbiAgICBzdGF0aWMgX3Jlc2l6ZSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJyZXNpemVcIik7XG4gICAgICAgIC8vaWYod2luZG93LmlubmVySGVpZ2h0ID4gTGF5b3V0LlNUQU5EQVJESEVJR0hUKVxuICAgICAgICBjb25zdCB6b29tID0gTGF5b3V0LmdldFpvb20oKTtcbiAgICAgICAgY29uc3QgY29udGVudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG4gICAgICAgIGNvbnRlbnRFbGVtZW50LnN0eWxlLndpZHRoID0gd2luZG93LmlubmVyV2lkdGggKiB6b29tICsgXCJweFwiO1xuICAgICAgICBjb250ZW50RWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBgc2NhbGUoJHsxIC8gTGF5b3V0LmdldFpvb20oKX0pYDtcbiAgICAgICAgLy9Cb2FyZE1hbmFnZXIucmVzaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuXG4gICAgfVxuXG5cbn1cbiIsImV4cG9ydCBjbGFzcyBNZW51IHtcblxuICAgIC8qKlxuICAgICAqIGluaXRpYWxpemF0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGluaXQoKSB7XG4gICAgICAgIC8vIEdldCB0aGUgZWxlbWVudCB3aXRoIGlkPVwiZGVmYXVsdE9wZW5cIiBhbmQgY2xpY2sgb24gaXRcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWZhdWx0T3BlblwiKS5jbGljaygpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZU5hbWVcbiAgICAgKiBAcGFyYW0gZWxtbnRcbiAgICAgKiBAZGVzY3JpcHRpb24gb3BlbiB0aGUgcGFnZSBvZiBuYW1lIHBhZ2VOYW1lXG4gICAgICovXG4gICAgc3RhdGljIG9wZW5QYWdlKHBhZ2VOYW1lOiBzdHJpbmcsIGVsbW50KSB7XG4gICAgICAgIC8vIEhpZGUgYWxsIGVsZW1lbnRzIHdpdGggY2xhc3M9XCJ0YWJjb250ZW50XCIgYnkgZGVmYXVsdCAqL1xuICAgICAgICBsZXQgaSwgdGFiY29udGVudCwgdGFibGlua3M7XG4gICAgICAgIHRhYmNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGFiY29udGVudFwiKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRhYmNvbnRlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRhYmNvbnRlbnRbaV0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIGFsbCB0YWJsaW5rcy9idXR0b25zXG4gICAgICAgIHRhYmxpbmtzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRhYmxpbmtcIik7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0YWJsaW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGFibGlua3NbaV0uY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hvdyB0aGUgc3BlY2lmaWMgdGFiIGNvbnRlbnRcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFnZU5hbWUpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICAgICAgLy8gQWRkIHRoZSBzcGVjaWZpYyBjb2xvciB0byB0aGUgYnV0dG9uIHVzZWQgdG8gb3BlbiB0aGUgdGFiIGNvbnRlbnRcbiAgICAgICAgZWxtbnQuY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBpZiB0aGUgbWVudSBpcyBzaG93biwgaGlkZSBpdC4gSWYgaXQgaXMgaW52aXNpYmxlLCBzaG93IGl0IVxuICAgICAqL1xuICAgIHN0YXRpYyB0b2dnbGUoKSB7XG4gICAgICAgIGlmIChNZW51LmlzU2hvd24oKSkge1xuICAgICAgICAgICAgTWVudS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBNZW51LnNob3coKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHJldHVybiB0aGUgbWVudSBwYW5lbFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRNZW51KCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51XCIpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIGhpZGVcbiAgICAgKi9cbiAgICBzdGF0aWMgaGlkZSgpIHtcbiAgICAgICAgTWVudS5nZXRNZW51KCkuY2xhc3NMaXN0LnJlbW92ZShcIm1lbnVTaG93XCIpO1xuICAgICAgICBNZW51LmdldE1lbnUoKS5jbGFzc0xpc3QuYWRkKFwibWVudUhpZGVcIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBAZGVzY3JpcHRpb24gc2hvd1xuICAgICovXG4gICAgc3RhdGljIHNob3coKSB7XG4gICAgICAgIE1lbnUuZ2V0TWVudSgpLmNsYXNzTGlzdC5hZGQoXCJtZW51U2hvd1wiKTtcbiAgICAgICAgTWVudS5nZXRNZW51KCkuY2xhc3NMaXN0LnJlbW92ZShcIm1lbnVIaWRlXCIpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZmYgdGhlIG1lbnUgaXMgc2hvd25cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNTaG93bigpIHsgcmV0dXJuIE1lbnUuZ2V0TWVudSgpLmNsYXNzTGlzdC5jb250YWlucyhcIm1lbnVTaG93XCIpOyB9XG59XG4iLCJpbXBvcnQgeyBNYWduZXRNYW5hZ2VyIH0gZnJvbSAnLi9tYWduZXRNYW5hZ2VyJztcbmltcG9ydCB7IEJvYXJkTWFuYWdlciB9IGZyb20gJy4vYm9hcmRNYW5hZ2VyJztcbmltcG9ydCB7IFVzZXJNYW5hZ2VyIH0gZnJvbSAnLi9Vc2VyTWFuYWdlcic7XG5pbXBvcnQgeyBEaXNjdXNzaW9uIH0gZnJvbSAnLi9EaXNjdXNzaW9uJztcbmltcG9ydCB7IE1lbnUgfSBmcm9tICcuL01lbnUnO1xuaW1wb3J0IHsgRHJhd2luZyB9IGZyb20gJy4vRHJhd2luZyc7XG5cbi8qKlxuICogdGhpcyBjbGFzcyBjb250YWlucyB0aGUgZXZlbnRzIHRoYXQgYXJlIHNoYXJlZCB3aXRoIG90aGVyIHVzZXJzIGNvbm5lY3RlZCB0byB0aGUgc2FtZSB0YWJsZWF1bm9pclxuICogKi9cblxuZXhwb3J0IGNsYXNzIFNoYXJlRXZlbnQge1xuICAgIHN0YXRpYyBtb3VzZWRvd24odXNlcklkLCBldnQpIHtcbiAgICAgICAgVXNlck1hbmFnZXIudXNlcnNbdXNlcklkXS5tb3VzZWRvd24oZXZ0KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbW91c2Vtb3ZlKHVzZXJJZCwgZXZ0KSB7XG4gICAgICAgIGlmIChVc2VyTWFuYWdlci51c2Vyc1t1c2VySWRdID09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwid2h5IGlzIFwiICsgdXNlcklkICsgXCIgbm90IGRlY2xhcmVkP1wiKTtcbiAgICAgICAgVXNlck1hbmFnZXIudXNlcnNbdXNlcklkXS5tb3VzZW1vdmUoZXZ0KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbW91c2V1cCh1c2VySWQsIGV2dCkge1xuICAgICAgICBVc2VyTWFuYWdlci51c2Vyc1t1c2VySWRdLm1vdXNldXAoZXZ0KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0Q3VycmVudENvbG9yKHVzZXJJZCwgY29sb3IpIHtcbiAgICAgICAgVXNlck1hbmFnZXIudXNlcnNbdXNlcklkXS5zZXRDdXJyZW50Q29sb3IoY29sb3IpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzd2l0Y2hFcmFzZSh1c2VySWQpIHtcbiAgICAgICAgVXNlck1hbmFnZXIudXNlcnNbdXNlcklkXS5zd2l0Y2hFcmFzZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzd2l0Y2hDaGFsayh1c2VySWQpIHtcbiAgICAgICAgVXNlck1hbmFnZXIudXNlcnNbdXNlcklkXS5zd2l0Y2hDaGFsaygpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXRVc2VyQ2FuV3JpdGUodXNlcklkLCBib29sKSB7XG4gICAgICAgIFVzZXJNYW5hZ2VyLnVzZXJzW3VzZXJJZF0uc2V0Q2FuV3JpdGUoYm9vbCk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1hZ25ldE1vdmUoaWRNYWduZXQsIHgsIHkpIHtcbiAgICAgICAgeCA9IHBhcnNlSW50KHgpO1xuICAgICAgICB5ID0gcGFyc2VJbnQoeSk7XG4gICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRNYWduZXQpO1xuICAgICAgICBlbC5zdHlsZS50b3AgPSB5ICsgXCJweFwiO1xuICAgICAgICBlbC5zdHlsZS5sZWZ0ID0geCArIFwicHhcIjtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBtYWduZXRzQ2xlYXIoKSB7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuY2xlYXJNYWduZXQoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbWFnbmV0UmVtb3ZlKGlkTWFnbmV0KSB7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIubWFnbmV0UmVtb3ZlKGlkTWFnbmV0KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbWFnbmV0Q2hhbmdlKGlkTWFnbmV0LCBvdXRlckhUTUwpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRNYWduZXQpLm91dGVySFRNTCA9IG91dGVySFRNTDtcbiAgICB9XG5cbiAgICBzdGF0aWMgYm9hcmRDbGVhcigpIHtcbiAgICAgICAgQm9hcmRNYW5hZ2VyLl9jbGVhcigpO1xuICAgICAgICBCb2FyZE1hbmFnZXIuc2F2ZSgpO1xuICAgICAgICBNZW51LmhpZGUoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcXVlc3Rpb25BZGQodXNlcklELCBpZHF1ZXN0aW9uLCBxdWVzdGlvbikge1xuICAgICAgICBEaXNjdXNzaW9uLmFkZFF1ZXN0aW9uKHVzZXJJRCwgaWRxdWVzdGlvbiwgcXVlc3Rpb24pO1xuICAgIH1cblxuXG4gICAgc3RhdGljIHF1ZXN0aW9uUmVtb3ZlKHF1ZXN0aW9uSUQpIHtcbiAgICAgICAgRGlzY3Vzc2lvbi5yZW1vdmVRdWVzdGlvbihxdWVzdGlvbklEKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlQ29udG91cihwb2ludHMpIHtcbiAgICAgICAgRHJhd2luZy5yZW1vdmVDb250b3VyKHBvaW50cyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNsZWFyUG9seWdvbihwb2ludHMpIHtcbiAgICAgICAgRHJhd2luZy5jbGVhclBvbHlnb24ocG9pbnRzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcHJpbnRNYWduZXQobWFnbmV0SUQpIHtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5wcmludE1hZ25ldChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtYWduZXRJRCkpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogVGhpcyBjbGFzcyBtYWtlcyB0aGF0IHRoZSBtb3VzZSBldmVudCBhbHNvIHdvcmtzIGZvciB0b3VjaCBzY3JlZW5zLlxuICoqL1xuZXhwb3J0IGNsYXNzIFRvdWNoU2NyZWVuIHtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBlbGVtZW50XG4gICAgICogQGRlc2NyaXB0aW9uIG1ha2VzIHRoYXQgYW4gZWxlbWVudCB3aXRoIGV2ZW50cyBmb3IgdGhlIG1vdXNlLCBjYW4gYmUgdXNlZCBvbiBhIHNtYXJ0cGhvbmUvdGFibGV0XG4gICAgICovXG4gICAgc3RhdGljIGFkZFRvdWNoRXZlbnRzKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5vbnRvdWNoc3RhcnQgPSBUb3VjaFNjcmVlbi5fdG91Y2hIYW5kbGVyO1xuICAgICAgICBlbGVtZW50Lm9udG91Y2htb3ZlID0gVG91Y2hTY3JlZW4uX3RvdWNoSGFuZGxlcjtcbiAgICAgICAgZWxlbWVudC5vbnRvdWNoZW5kID0gVG91Y2hTY3JlZW4uX3RvdWNoSGFuZGxlcjtcbiAgICAgICAgZWxlbWVudC5vbnRvdWNoY2FuY2VsID0gVG91Y2hTY3JlZW4uX3RvdWNoSGFuZGxlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGV2ZW50XG4gICAgICogQGRlc2NyaXB0aW9uIGNvbnZlcnRzIGEgdG91Y2ggZXZlbnQgaW50byBhIG1vdXNlIGV2ZW50XG4gICAgICovXG4gICAgc3RhdGljIF90b3VjaEhhbmRsZXIoZXZlbnQpIHtcbiAgICAgICAgbGV0IHRvdWNoZXMgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyxcbiAgICAgICAgICAgIGZpcnN0ID0gdG91Y2hlc1swXSxcbiAgICAgICAgICAgIHR5cGUgPSBcIlwiO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0b3VjaHN0YXJ0XCI6IHR5cGUgPSBcIm1vdXNlZG93blwiOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0b3VjaG1vdmVcIjogdHlwZSA9IFwibW91c2Vtb3ZlXCI7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInRvdWNoZW5kXCI6IHR5cGUgPSBcIm1vdXNldXBcIjsgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbml0TW91c2VFdmVudCh0eXBlLCBjYW5CdWJibGUsIGNhbmNlbGFibGUsIHZpZXcsIGNsaWNrQ291bnQsXG4gICAgICAgIC8vICAgICAgICAgICAgICAgIHNjcmVlblgsIHNjcmVlblksIGNsaWVudFgsIGNsaWVudFksIGN0cmxLZXksXG4gICAgICAgIC8vICAgICAgICAgICAgICAgIGFsdEtleSwgc2hpZnRLZXksIG1ldGFLZXksIGJ1dHRvbiwgcmVsYXRlZFRhcmdldCk7XG5cbiAgICAgICAgY29uc3Qgc2ltdWxhdGVkRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRcIik7XG4gICAgICAgIHNpbXVsYXRlZEV2ZW50LmluaXRNb3VzZUV2ZW50KHR5cGUsIHRydWUsIHRydWUsIHdpbmRvdywgMSxcbiAgICAgICAgICAgIGZpcnN0LnNjcmVlblgsIGZpcnN0LnNjcmVlblksXG4gICAgICAgICAgICBmaXJzdC5jbGllbnRYLCBmaXJzdC5jbGllbnRZLCBmYWxzZSxcbiAgICAgICAgICAgIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAvKmxlZnQqLywgbnVsbCk7XG5cbiAgICAgICAgZmlyc3QudGFyZ2V0LmRpc3BhdGNoRXZlbnQoc2ltdWxhdGVkRXZlbnQpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJvYXJkTWFuYWdlciB9IGZyb20gJy4vYm9hcmRNYW5hZ2VyJztcblxuZXhwb3J0IGNsYXNzIEVyYXNlckN1cnNvciB7XG5cbiAgICAvKipcbiAgICAqXG4gICAgKiBAcGFyYW0geyp9IHNpemVcbiAgICAqIEByZXR1cm5zIHRoZSAuc3R5bGUuY3Vyc29yIG9mIHRoZSBjYW52YXMgaWYgeW91IHdhbnQgdG8gaGF2ZSBhIGN1cnNvciB0aGF0IGxvb2tzIGxpa2UgYW4gZXJhc2VyIG9mIHNpemUgc2l6ZVxuICAgICovXG4gICAgc3RhdGljIGdldFN0eWxlQ3Vyc29yKHNpemUgPSAyMCkge1xuICAgICAgICBpZiAoc2l6ZSA+IDEyOCkgc2l6ZSA9IDEyODtcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogRXJhc2VyQ3Vyc29yLmdldEN1cnNvclVSTChzaXplKSwgeDogc2l6ZSAvIDIsIHk6IHNpemUgLyAyIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2l6ZVxuICAgICAqIEByZXR1cm5zIHRoZSBVUkwgb2YgdGhlIGltYWdlIG9mIHRoZSBjdXJzb3JcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0Q3Vyc29yVVJMKHNpemUpIHtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gc2l6ZSAvIDI7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBjYW52YXMud2lkdGggPSAyICogcmFkaXVzO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMiAqIHJhZGl1cztcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5hcmMocmFkaXVzLCByYWRpdXMsIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBCb2FyZE1hbmFnZXIuZ2V0QmFja2dyb3VuZENvbG9yKCkgPT0gXCJibGFja1wiID8gXCJ3aGl0ZVwiIDogXCJibGFja1wiO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gQm9hcmRNYW5hZ2VyLmdldEJhY2tncm91bmRDb2xvcigpID09IFwiYmxhY2tcIiA/IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpXCIgOiBcInJnYmEoMCwgMCwgMCwgMC4yKVwiO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJvYXJkTWFuYWdlciB9IGZyb20gJy4vYm9hcmRNYW5hZ2VyJztcbmltcG9ydCB7IGdldENhbnZhcyB9IGZyb20gJy4vbWFpbic7XG5pbXBvcnQgeyBNYWduZXRNYW5hZ2VyIH0gZnJvbSAnLi9tYWduZXRNYW5hZ2VyJztcbmltcG9ydCB7IFNoYXJlIH0gZnJvbSAnLi9zaGFyZSc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgcG9seWxpbmUgZHJhd24gYnkgYSB1c2VyXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWxpbmVhdGlvbiB7XG5cbiAgICBwb2ludHMgPSBbXTtcbiAgICBsYXN0cG9pbnRzID0gW107XG4gICAgZHJhd2luZzogYm9vbGVhbjtcbiAgICBtYXliZUp1c3RBUG9pbnQgPSB0cnVlOyAvL21lbW9pc2F0aW9uIGZvciBnZXREb3RcblxuXG4gICAgcmVzZXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZHJhd2luZyA9IHRydWU7XG4gICAgICAgIHRoaXMubGFzdHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLm1heWJlSnVzdEFQb2ludCA9IHRydWU7XG4gICAgfVxuXG4gICAgZmluaXNoKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRyYXdpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZW1vdmVQb2x5Z29uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHNldCBvZiBjdXJyZW50IHBvaW50cyBpcyBub24tZW1wdHlcbiAgICAgKi9cbiAgICBpc0RyYXdpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50cy5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGNvbnRhaW5zUG9seWdvblRvTWFnbmV0aXplKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludHMubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICBkcmF3UG9seWdvbihwb2ludHMgOnt4LCB5fVtdKTogdm9pZCB7XG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hZ25ldENyZWF0aW9uUG9seWdvblwiKSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjb25zdCBwb2x5bGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncG9seWxpbmUnKTtcbiAgICAgICAgcG9seWxpbmUuaWQgPSBcIm1hZ25ldENyZWF0aW9uUG9seWdvblwiO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN2Z1wiKS5hcHBlbmRDaGlsZChwb2x5bGluZSk7XG5cbiAgICAgICAgcG9pbnRzLnB1c2gocG9pbnRzWzBdKTtcbiAgICAgICAgcG9seWxpbmUuc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIHBvaW50cy5tYXAoKHApID0+IHAueCArIFwiLCBcIiArIHAueSkuam9pbihcIiBcIikpO1xuICAgIH1cblxuICAgIHJlbW92ZVBvbHlnb24oKTogdm9pZCB7XG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hZ25ldENyZWF0aW9uUG9seWdvblwiKSlcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3ZnXCIpLnJlbW92ZUNoaWxkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFnbmV0Q3JlYXRpb25Qb2x5Z29uXCIpKTtcbiAgICB9XG5cblxuICAgIGFkZFBvaW50KHBvaW50OiB7eCx5fSk6IHZvaWQge1xuICAgICAgICB0aGlzLnBvaW50cy5wdXNoKHBvaW50KTtcblxuICAgICAgICBpZiAodGhpcy5pc0RvdCgpICYmIHRoaXMuZG90SW5QcmV2aW91c1BvbHlnb24oKSkge1xuICAgICAgICAgICAgdGhpcy5kcmF3UG9seWdvbih0aGlzLmxhc3Rwb2ludHMpO1xuXG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZHJhd2luZyAmJiB0aGlzLmlzRG90KCkgJiYgdGhpcy5kb3RJblByZXZpb3VzUG9seWdvbigpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUG9seWdvbigpO1xuICAgICAgICAgICAgICAgICAgICBTaGFyZS5leGVjdXRlKFwicmVtb3ZlQ29udG91clwiLCBbdGhpcy5wb2ludHNdKTsgLy9yZW1vdmUgdGhlIGRvdFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50cyA9IHRoaXMubGFzdHBvaW50cztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0cG9pbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3V0QW5kTWFnbmV0aXplKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVQb2x5Z29uKCk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBjdXJyZW50IGRyYXdpbmcgaXMganVzdCBhIHBvaW50XG4gICAgICovXG4gICAgaXNEb3QoKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghdGhpcy5tYXliZUp1c3RBUG9pbnQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnBvaW50cy5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBmb3IgKGNvbnN0IHBvaW50IG9mIHRoaXMucG9pbnRzKVxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBvaW50LnggLSB0aGlzLnBvaW50c1swXS54KSA+IDIgJiYgTWF0aC5hYnMocG9pbnQueSAtIHRoaXMucG9pbnRzWzBdLnkpID4gMikge1xuICAgICAgICAgICAgICAgIHRoaXMubWF5YmVKdXN0QVBvaW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBwb2ludFxuICAgICAqIEBwYXJhbSB7Kn0gcG9seWdvblxuICAgICAqIEByZXR1cm5zIHRydWUgaWZmIHRoZSBwb2ludCBpcyBpbnNpZGUgdGhlIHBvbHlnb25cbiAgICAgKi9cbiAgICBzdGF0aWMgaW5Qb2x5Z29uKHBvaW50LCBwb2x5Z29uKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIHJheS1jYXN0aW5nIGFsZ29yaXRobSBiYXNlZCBvblxuICAgICAgICAvLyBodHRwczovL3dyZi5lY3NlLnJwaS5lZHUvUmVzZWFyY2gvU2hvcnRfTm90ZXMvcG5wb2x5Lmh0bWwvcG5wb2x5Lmh0bWxcblxuICAgICAgICBjb25zdCB4ID0gcG9pbnQueCwgeSA9IHBvaW50Lnk7XG5cbiAgICAgICAgbGV0IGluc2lkZSA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHBvbHlnb24ubGVuZ3RoIC0gMTsgaSA8IHBvbHlnb24ubGVuZ3RoOyBqID0gaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB4aSA9IHBvbHlnb25baV0ueCwgeWkgPSBwb2x5Z29uW2ldLnk7XG4gICAgICAgICAgICBjb25zdCB4aiA9IHBvbHlnb25bal0ueCwgeWogPSBwb2x5Z29uW2pdLnk7XG5cbiAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdCA9ICgoeWkgPiB5KSAhPSAoeWogPiB5KSlcbiAgICAgICAgICAgICAgICAmJiAoeCA8ICh4aiAtIHhpKSAqICh5IC0geWkpIC8gKHlqIC0geWkpICsgeGkpO1xuICAgICAgICAgICAgaWYgKGludGVyc2VjdCkgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnNpZGU7XG4gICAgfVxuXG4gICAgZG90SW5QcmV2aW91c1BvbHlnb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBEZWxpbmVhdGlvbi5pblBvbHlnb24odGhpcy5wb2ludHNbMF0sIHRoaXMubGFzdHBvaW50cyk7XG4gICAgfVxuXG4gICAgZXJhc2UoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5pc1N1aXRhYmxlKCkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgU2hhcmUuZXhlY3V0ZShcInJlbW92ZUNvbnRvdXJcIiwgW3RoaXMucG9pbnRzXSk7XG4gICAgICAgIFNoYXJlLmV4ZWN1dGUoXCJjbGVhclBvbHlnb25cIiwgW3RoaXMucG9pbnRzXSk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgQm9hcmRNYW5hZ2VyLnNhdmUoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBtYWduZXRpemUgdGhlIFwic2VsZWN0ZWRcIiBwYXJ0IG9mIHRoZSBibGFja2JvYXJkLiBUaGUgc2VsZWN0ZWQgcGFydCBpcyBhbHNvIHJlbW92ZWQuXG4gICAgICovXG4gICAgY3V0QW5kTWFnbmV0aXplKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdWl0YWJsZSgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIFNoYXJlLmV4ZWN1dGUoXCJyZW1vdmVDb250b3VyXCIsIFt0aGlzLnBvaW50c10pO1xuICAgICAgICB0aGlzLl9jcmVhdGVNYWduZXRGcm9tSW1nKCk7XG4gICAgICAgIFNoYXJlLmV4ZWN1dGUoXCJjbGVhclBvbHlnb25cIiwgW3RoaXMucG9pbnRzXSk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgQm9hcmRNYW5hZ2VyLnNhdmUoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICogQGRlc2NyaXB0aW9uIG1hZ25ldGl6ZSB0aGUgXCJzZWxlY3RlZFwiIHBhcnQgb2YgdGhlIGJsYWNrYm9hcmQuXG4gICAgKi9cbiAgICBjb3B5QW5kTWFnbmV0aXplKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdWl0YWJsZSgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIFNoYXJlLmV4ZWN1dGUoXCJyZW1vdmVDb250b3VyXCIsIFt0aGlzLnBvaW50c10pO1xuICAgICAgICB0aGlzLl9jcmVhdGVNYWduZXRGcm9tSW1nKCk7XG4gICAgICAgIEJvYXJkTWFuYWdlci5zYXZlKCk7XG4gICAgfVxuXG5cblxuXG4gICAgaXNTdWl0YWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgZm9yIChjb25zdCBwb2ludCBvZiB0aGlzLnBvaW50cykge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBvaW50LnggLSB0aGlzLnBvaW50c1swXS54KSA+IDE2ICYmXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMocG9pbnQueCAtIHRoaXMucG9pbnRzWzBdLngpID4gMTYpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuXG4gICAgX2dldFJlY3RhbmdsZSgpIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG4gICAgICAgIGNvbnN0IHIgPSB7IHgxOiBjYW52YXMud2lkdGgsIHkxOiBjYW52YXMuaGVpZ2h0LCB4MjogMCwgeTI6IDAgfTtcblxuICAgICAgICBmb3IgKGNvbnN0IHBvaW50IG9mIHRoaXMucG9pbnRzKSB7XG4gICAgICAgICAgICByLngxID0gTWF0aC5taW4oci54MSwgcG9pbnQueCk7XG4gICAgICAgICAgICByLnkxID0gTWF0aC5taW4oci55MSwgcG9pbnQueSk7XG4gICAgICAgICAgICByLngyID0gTWF0aC5tYXgoci54MiwgcG9pbnQueCk7XG4gICAgICAgICAgICByLnkyID0gTWF0aC5tYXgoci55MiwgcG9pbnQueSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG5cblxuXG5cbiAgICBfY3JlYXRlTWFnbmV0RnJvbUltZyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGNvbnN0IHJlY3RhbmdsZSA9IHRoaXMuX2dldFJlY3RhbmdsZSgpO1xuICAgICAgICBjb25zb2xlLmxvZyhyZWN0YW5nbGUpXG4gICAgICAgIC8vQm9hcmRNYW5hZ2VyLl90b0Jsb2JPZlJlY3RhbmdsZShyZWN0YW5nbGUsIChibG9iKSA9PiBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSk7XG4gICAgICAgIGltZy5zcmMgPSBCb2FyZE1hbmFnZXIuZ2V0RGF0YVVSTE9mUmVjdGFuZ2xlKHJlY3RhbmdsZSk7XG4gICAgICAgIGltZy5zdHlsZS5jbGlwUGF0aCA9IFwicG9seWdvbihcIiArIHRoaXMucG9pbnRzLm1hcChwb2ludCA9PiBgJHtwb2ludC54IC0gcmVjdGFuZ2xlLngxfXB4ICR7cG9pbnQueSAtIHJlY3RhbmdsZS55MX1weGApLmpvaW4oXCIsIFwiKSArIFwiKVwiO1xuICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChpbWcpO1xuICAgICAgICBpbWcuc3R5bGUubGVmdCA9IHJlY3RhbmdsZS54MSArIFwicHhcIjtcbiAgICAgICAgaW1nLnN0eWxlLnRvcCA9IHJlY3RhbmdsZS55MSArIFwicHhcIjtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEJvYXJkTWFuYWdlciB9IGZyb20gJy4vYm9hcmRNYW5hZ2VyJztcbmltcG9ydCB7IGdldENhbnZhcywgcGFsZXR0ZSB9IGZyb20gJy4vbWFpbic7XG5pbXBvcnQgeyBEcmF3aW5nIH0gZnJvbSAnLi9EcmF3aW5nJ1xuaW1wb3J0IHsgTWFnbmV0TWFuYWdlciB9IGZyb20gJy4vbWFnbmV0TWFuYWdlcic7XG5pbXBvcnQgeyBVc2VyTWFuYWdlciB9IGZyb20gJy4vVXNlck1hbmFnZXInO1xuaW1wb3J0IHsgTGF5b3V0IH0gZnJvbSAnLi9MYXlvdXQnO1xuaW1wb3J0IHsgRXJhc2VyQ3Vyc29yIH0gZnJvbSBcIi4vRXJhc2VyQ3Vyc29yXCI7XG5pbXBvcnQgeyBEZWxpbmVhdGlvbiB9IGZyb20gJy4vRGVsaW5lYXRpb24nO1xuaW1wb3J0IHsgQ2hhbGtDdXJzb3IgfSBmcm9tICcuL0NoYWxrQ3Vyc29yJztcblxuY29uc3QgRVJBU0VNT0RFREVGQVVMVFNJWkUgPSAxMDtcblxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSB1c2VyIChtYXliZSB5b3U/KVxuICovXG5leHBvcnQgY2xhc3MgVXNlciB7XG4gICAgeEluaXQgPSAwO1xuICAgIHlJbml0ID0gMDtcblxuICAgIHggPSAwO1xuICAgIHkgPSAwO1xuICAgIGlzRHJhd2luZyA9IGZhbHNlO1xuICAgIGFscmVhZHlEcmF3blN0aCA9IGZhbHNlOyAvLyB0cnVlIGlmIHNvbWV0aGluZyB2aXNpYmxlIGhhcyBiZWVuIGRyYXduIChJZiBzdGlsbCBmYWxzZSwgZHJhdyBhIGRvdClcbiAgICBlcmFzZU1vZGUgPSBmYWxzZTtcbiAgICBlcmFzZU1vZGVCaWcgPSBmYWxzZTtcbiAgICBsYXN0RGVsaW5lYXRpb24gPSBuZXcgRGVsaW5lYXRpb24oKTtcbiAgICBjYW5Xcml0ZSA9IHRydWU7XG4gICAgZXJhc2VMaW5lV2lkdGggPSBFUkFTRU1PREVERUZBVUxUU0laRTtcblxuICAgIGNvbG9yID0gXCJ3aGl0ZVwiO1xuXG4gICAgY3Vyc29yID0gdW5kZWZpbmVkO1xuICAgIHRvb2xDdXJzb3IgPSB1bmRlZmluZWQ7XG5cbiAgICB1c2VySUQgPSBcIjBcIjtcblxuICAgIHNldFVzZXJJRCh1c2VySUQpIHtcbiAgICAgICAgdGhpcy51c2VySUQgPSB1c2VySUQ7XG4gICAgfVxuXG4gICAgc2V0Q2FuV3JpdGUoYm9vbCkge1xuICAgICAgICB0aGlzLmNhbldyaXRlID0gYm9vbDtcbiAgICB9XG5cblxuICAgIHNldFRvb2xDdXJzb3JJbWFnZShzcmNJbWFnZSkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKS5zdHlsZS5jdXJzb3IgPSBgdXJsKCR7c3JjSW1hZ2UuZGF0YX0pICR7c3JjSW1hZ2UueH0gJHtzcmNJbWFnZS55fSwgYXV0b2A7XG4gICAgICAgIC8vIHRoaXMudG9vbEN1cnNvci5zcmMgPSBzcmNJbWFnZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gaXNDdXJyZW50VXNlciB0aGF0IHRlbGxzIHdoZXRoZXIgdGhlIHVzZXIgaXMgdGhlIGN1cnJlbnQgb25lXG4gICAgICogQGRlc2NyaXB0aW9uIGNyZWF0ZSB0aGUgdXNlci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihpc0N1cnJlbnRVc2VyKSB7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5jdXJzb3IuY2xhc3NMaXN0LmFkZChcImN1cnNvclwiKTtcblxuICAgICAgICB0aGlzLnRvb2xDdXJzb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICB0aGlzLnRvb2xDdXJzb3IuY2xhc3NMaXN0LmFkZChcInRvb2xjdXJzb3JcIik7XG5cblxuXG4gICAgICAgIGlmIChpc0N1cnJlbnRVc2VyKVxuICAgICAgICAgICAgdGhpcy5jdXJzb3IuaGlkZGVuID0gdHJ1ZTtcblxuICAgICAgICBpZiAoIWlzQ3VycmVudFVzZXIpXG4gICAgICAgICAgICB0aGlzLnRvb2xDdXJzb3IuaGlkZGVuID0gdHJ1ZTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnNvcnNcIikuYXBwZW5kQ2hpbGQodGhpcy5jdXJzb3IpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnNvcnNcIikuYXBwZW5kQ2hpbGQodGhpcy50b29sQ3Vyc29yKTtcbiAgICAgICAgaWYgKGlzQ3VycmVudFVzZXIpXG4gICAgICAgICAgICB0aGlzLnNldFRvb2xDdXJzb3JJbWFnZShDaGFsa0N1cnNvci5nZXRTdHlsZUN1cnNvcih0aGlzLmNvbG9yKSk7XG4gICAgfVxuXG5cblxuICAgIHVwZGF0ZUN1cnNvcigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDdXJyZW50VXNlcigpKSB7XG4gICAgICAgICAgICB0aGlzLnNldFRvb2xDdXJzb3JJbWFnZShDaGFsa0N1cnNvci5nZXRTdHlsZUN1cnNvcih0aGlzLmNvbG9yKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0ZWxscyB0aGF0IHRoZSB1c2VyIGhhcyBkaXNjb25uZWN0ZWRcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnNvcnNcIikucmVtb3ZlQ2hpbGQodGhpcy5jdXJzb3IpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnNvcnNcIikucmVtb3ZlQ2hpbGQodGhpcy50b29sQ3Vyc29yKTtcbiAgICB9XG5cbiAgICBzZXRDdXJyZW50Q29sb3IoY29sb3IpIHtcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLnVwZGF0ZUN1cnNvcigpO1xuICAgIH1cblxuICAgIGdldEN1cnJlbnRDb2xvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3I7XG4gICAgfVxuXG5cblxuICAgIHN3aXRjaENoYWxrKCkge1xuICAgICAgICB0aGlzLmVyYXNlTW9kZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLmlzQ3VycmVudFVzZXIoKSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJzb3IoKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uRXJhc2VyXCIpLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25DaGFsa1wiKS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmZiB0aGUgdXNlciBpcyB0aGUgY3VycmVudCB1c2VyICh0aGUgb25lIHRoYXQgY29udHJvbHMgdGhlIG1vdXNlKVxuICAgICAqL1xuICAgIGlzQ3VycmVudFVzZXIoKSB7XG4gICAgICAgIHJldHVybiAodGhpcyA9PSBVc2VyTWFuYWdlci5tZSk7XG4gICAgfVxuXG4gICAgc3dpdGNoRXJhc2UoKSB7XG4gICAgICAgIHRoaXMuZXJhc2VNb2RlID0gdHJ1ZTtcblxuICAgICAgICBpZiAodGhpcy5pc0N1cnJlbnRVc2VyKCkpIHtcbiAgICAgICAgICAgIHBhbGV0dGUuaGlkZSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRUb29sQ3Vyc29ySW1hZ2UoRXJhc2VyQ3Vyc29yLmdldFN0eWxlQ3Vyc29yKHRoaXMuZXJhc2VMaW5lV2lkdGgpKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uRXJhc2VyXCIpLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkNoYWxrXCIpLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBtb3VzZWRvd24oZXZ0KSB7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuc2V0SW50ZXJhY3RhYmxlKGZhbHNlKTtcblxuICAgICAgICAvL3Vuc2VsZWN0IHRoZSBzZWxlY3RlZCBlbGVtZW50IChlLmcuIGEgdGV4dCBpbiBlZGl0IG1vZGUpXG4gICAgICAgICg8YW55PmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLmJsdXIoKTtcblxuXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJtb3VzZWRvd25cIilcbiAgICAgICAgdGhpcy54ID0gZXZ0Lm9mZnNldFg7XG4gICAgICAgIHRoaXMueSA9IGV2dC5vZmZzZXRZO1xuICAgICAgICB0aGlzLnhJbml0ID0gdGhpcy54O1xuICAgICAgICB0aGlzLnlJbml0ID0gdGhpcy55O1xuICAgICAgICB0aGlzLmlzRHJhd2luZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZXJhc2VNb2RlQmlnID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FuV3JpdGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVyYXNlTW9kZSkge1xuICAgICAgICAgICAgICAgIERyYXdpbmcuY2xlYXJMaW5lKHRoaXMueCwgdGhpcy55LCB0aGlzLngsIHRoaXMueSwgRVJBU0VNT0RFREVGQVVMVFNJWkUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0RGVsaW5lYXRpb24ucmVzZXQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3REZWxpbmVhdGlvbi5hZGRQb2ludCh7IHg6IHRoaXMueCwgeTogdGhpcy55IH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc0N1cnJlbnRVc2VyKCkpXG4gICAgICAgICAgICBwYWxldHRlLmhpZGUoKTtcbiAgICB9XG5cblxuXG4gICAgbW91c2Vtb3ZlKGV2dCkge1xuXG4gICAgICAgIGNvbnN0IGV2dFggPSBldnQub2Zmc2V0WDtcbiAgICAgICAgY29uc3QgZXZ0WSA9IGV2dC5vZmZzZXRZO1xuXG4gICAgICAgIGlmICghdGhpcy5pc0N1cnJlbnRVc2VyKCkpIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yLnN0eWxlLmxlZnQgPSBldnRYIC0gODtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yLnN0eWxlLnRvcCA9IGV2dFkgLSA4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2FuV3JpdGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRHJhd2luZykgey8vfSAmJiB0aGlzLmxhc3REZWxpbmVhdGlvbi5pc0RyYXdpbmcoKSkge1xuICAgICAgICAgICAgICAgIHBhbGV0dGUuaGlkZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVyYXNlTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuZXJhc2VMaW5lV2lkdGggPSAxMDtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVyYXNlTGluZVdpZHRoID0gMTAgKyAzMCAqIGV2dC5wcmVzc3VyZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy54IC0gdGhpcy54SW5pdCkgPiBMYXlvdXQuZ2V0V2luZG93V2lkdGgoKSAvIDQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKHRoaXMueSAtIHRoaXMueUluaXQpID4gTGF5b3V0LmdldFdpbmRvd0hlaWdodCgpIC8gNClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJhc2VNb2RlQmlnID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lcmFzZU1vZGVCaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJhc2VMaW5lV2lkdGggPSAxMjg7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0N1cnJlbnRVc2VyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VG9vbEN1cnNvckltYWdlKEVyYXNlckN1cnNvci5nZXRTdHlsZUN1cnNvcih0aGlzLmVyYXNlTGluZVdpZHRoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBEcmF3aW5nLmNsZWFyTGluZSh0aGlzLngsIHRoaXMueSwgZXZ0WCwgZXZ0WSwgdGhpcy5lcmFzZUxpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhc3REZWxpbmVhdGlvbi5pc0RyYXdpbmcoKSkgey8vdGhpcyBndWFyZCBpcyBiZWNhdXNlLCB3aGVuIGEgbWFnbmV0IGlzIGNyZWF0ZWQgdGhlIHVzZXIgZG9lcyBub3Qga25vdyB0aGUgZHJhd2luZyBzdG9wcGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgRHJhd2luZy5kcmF3TGluZShnZXRDYW52YXMoKS5nZXRDb250ZXh0KFwiMmRcIiksIHRoaXMueCwgdGhpcy55LCBldnRYLCBldnRZLCBldnQucHJlc3N1cmUsIHRoaXMuY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RGVsaW5lYXRpb24uYWRkUG9pbnQoeyB4OiBldnRYLCB5OiBldnRZIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cblxuXG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy54IC0gdGhpcy54SW5pdCkgPiAxIHx8IE1hdGguYWJzKHRoaXMueSAtIHRoaXMueUluaXQpID4gMSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbHJlYWR5RHJhd25TdGggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZXJhc2VNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnRvb2xDdXJzb3Iuc3R5bGUubGVmdCA9IGV2dFggLSB0aGlzLmVyYXNlTGluZVdpZHRoIC8gMjtcbiAgICAgICAgICAgIHRoaXMudG9vbEN1cnNvci5zdHlsZS50b3AgPSBldnRZIC0gdGhpcy5lcmFzZUxpbmVXaWR0aCAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRvb2xDdXJzb3Iuc3R5bGUubGVmdCA9IGV2dFg7XG4gICAgICAgICAgICB0aGlzLnRvb2xDdXJzb3Iuc3R5bGUudG9wID0gZXZ0WVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy54ID0gZXZ0WDtcbiAgICAgICAgdGhpcy55ID0gZXZ0WTtcbiAgICB9XG5cblxuICAgIG1vdXNldXAoZXZ0KSB7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuc2V0SW50ZXJhY3RhYmxlKHRydWUpO1xuXG4gICAgICAgIGlmICh0aGlzLmNhbldyaXRlKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3REZWxpbmVhdGlvbi5maW5pc2goKTtcblxuXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwibW91c2V1cFwiKVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNEcmF3aW5nICYmICF0aGlzLmVyYXNlTW9kZSAmJiAhdGhpcy5hbHJlYWR5RHJhd25TdGgpIHtcbiAgICAgICAgICAgICAgICBEcmF3aW5nLmRyYXdEb3QodGhpcy54LCB0aGlzLnksIHRoaXMuY29sb3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5pc0N1cnJlbnRVc2VyKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lcmFzZU1vZGUpIHsvL3Jlc3RvcmUgdGhlIGVyYXNlciB0byB0aGUgb3JpZ2luYWwgc2l6ZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJhc2VMaW5lV2lkdGggPSBFUkFTRU1PREVERUZBVUxUU0laRTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUb29sQ3Vyc29ySW1hZ2UoRXJhc2VyQ3Vyc29yLmdldFN0eWxlQ3Vyc29yKHRoaXMuZXJhc2VMaW5lV2lkdGgpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQm9hcmRNYW5hZ2VyLnNhdmVDdXJyZW50U2NyZWVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbHJlYWR5RHJhd25TdGggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc0RyYXdpbmcgPSBmYWxzZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBVc2VyIH0gZnJvbSBcIi4vVXNlclwiO1xuXG5leHBvcnQgY2xhc3MgVXNlck1hbmFnZXIge1xuXG4gICAgc3RhdGljIG1lOiBVc2VyID0gdW5kZWZpbmVkOyAvLyB0aGUgY3VycmVudCB1c2VyXG4gICAgc3RhdGljIHVzZXJzID0ge307XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgdXNlcnNJbWFnZUZpbGVOYW1lcyA9IFsnMUY5RDEtMjAwRC0xRjM4NC5zdmcnLCAnMUY5RDkuc3ZnJywgJzFGOURBLTIwMEQtMjY0MC1GRTBGLnN2ZycsICcxRjlERC5zdmcnXTtcblxuXG4gICAgLyoqXG4gICAgICogaW5pdGlhbGlzYXRpb246IGNyZWF0aW9uIG9mIG15c2VsZiA6KVxuICAgICAqL1xuICAgIHN0YXRpYyBpbml0KCk6IHZvaWQge1xuICAgICAgICBVc2VyTWFuYWdlci5tZSA9IG5ldyBVc2VyKHRydWUpO1xuICAgICAgICBVc2VyTWFuYWdlci51c2Vyc1sncm9vdCddID0gVXNlck1hbmFnZXIubWU7XG4gICAgICAgIFVzZXJNYW5hZ2VyLm1lLnNldFVzZXJJRCgncm9vdCcpO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSB1c2VySUQgb2YgdGhlIGN1cnJlbnQgdXNlciBpcyB0aGUgbWluaW11bSBvZiBhbGwgcGFydGljaXBhbnRzXG4gICAgICovXG4gICAgc3RhdGljIGlzU21hbGxlc3RVc2VySUQoKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBtaW5rZXkgPSBcInp6enp6enp6enp6enp6enpcIjtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gVXNlck1hbmFnZXIudXNlcnMpIHtcbiAgICAgICAgICAgIGlmIChrZXkgPCBtaW5rZXkpXG4gICAgICAgICAgICAgICAgbWlua2V5ID0ga2V5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoVXNlck1hbmFnZXIubWUudXNlcklEID09IG1pbmtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHVzZXJpZFxuICAgICAqIEBkZXNjcmlwdGlvbiB1c2VyaWQgbGVhdmVzXG4gICAgICovXG4gICAgc3RhdGljIGxlYXZlKHVzZXJpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIFVzZXJNYW5hZ2VyLnVzZXJzW3VzZXJpZF0uZGVzdHJveSgpO1xuICAgICAgICBkZWxldGUgVXNlck1hbmFnZXIudXNlcnNbdXNlcmlkXTtcbiAgICAgICAgVXNlck1hbmFnZXIudXBkYXRlR1VJVXNlcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdXNlcmlkXG4gICAgICogQGRlc2NyaXB0aW9uIGFkZCBhIG5ldyB1c2VyIG9mIElEIHVzZXJpZFxuICAgICAqL1xuICAgIHN0YXRpYyBhZGQodXNlcmlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgVXNlck1hbmFnZXIudXNlcnNbdXNlcmlkXSA9IG5ldyBVc2VyKGZhbHNlKTtcbiAgICAgICAgVXNlck1hbmFnZXIudXBkYXRlR1VJVXNlcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdXNlcmlkXG4gICAgICogQGRlc2NyaXB0aW9uIHJlbmFVc2VyTWFuYWdlci5tZSB0aGUgY3VycmVudCB1c2VyIChVc2VyTWFuYWdlci5tZSkgYXMgdXNlcmlkXG4gICAgICovXG4gICAgc3RhdGljIHNldE15VXNlcklEKHVzZXJpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIFVzZXJNYW5hZ2VyLnVzZXJzKSB7XG4gICAgICAgICAgICBpZiAoVXNlck1hbmFnZXIudXNlcnNba2V5XSA9PSBVc2VyTWFuYWdlci5tZSlcbiAgICAgICAgICAgICAgICBkZWxldGUgVXNlck1hbmFnZXIudXNlcnNba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIFVzZXJNYW5hZ2VyLnVzZXJzW3VzZXJpZF0gPSBVc2VyTWFuYWdlci5tZTtcbiAgICAgICAgVXNlck1hbmFnZXIubWUuc2V0VXNlcklEKHVzZXJpZCk7XG4gICAgICAgIFVzZXJNYW5hZ2VyLnVwZGF0ZUdVSVVzZXJzKCk7XG4gICAgfVxuXG5cblxuICAgIHN0YXRpYyBnZXRVc2VySW1hZ2UodXNlcmlkOiBzdHJpbmcpOiBIVE1MSW1hZ2VFbGVtZW50IHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGNvbnN0IGkgPSBwYXJzZUludCh1c2VyaWQuc3Vic3RyKDEpKTtcbiAgICAgICAgaW1nLnNyYyA9IFwiaW1nL3VzZXJzL1wiICsgVXNlck1hbmFnZXIudXNlcnNJbWFnZUZpbGVOYW1lc1tpICUgVXNlck1hbmFnZXIudXNlcnNJbWFnZUZpbGVOYW1lcy5sZW5ndGhdO1xuICAgICAgICBpbWcuY2xhc3NMaXN0LmFkZChcInVzZXJJbWFnZVwiKTtcbiAgICAgICAgcmV0dXJuIGltZztcbiAgICB9XG5cblxuXG5cbiAgICBzdGF0aWMgdXNlcklkVG9Eb20odXNlcklEOiBzdHJpbmcpOiBIVE1MSW1hZ2VFbGVtZW50IHtcblxuICAgICAgICBjb25zdCB1c2VyRE9NID0gVXNlck1hbmFnZXIuZ2V0VXNlckltYWdlKHVzZXJJRCk7XG4gICAgICAgIHVzZXJET00uY2xhc3NMaXN0LmFkZChcInVzZXJcIik7XG4gICAgICAgIHVzZXJET00udGl0bGUgPSBcInVzZXIgXCIgKyB1c2VySUQ7XG4gICAgICAgIHJldHVybiB1c2VyRE9NO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0aGUgbnVtYmVyIG9mIGNvbm5lY3RlZCB1c2VycyB0byB0aGUgY3VycmVudCBiYW9yZFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXROdW1iZXJPZlVzZXJzKCk6IG51bWJlciB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gVXNlck1hbmFnZXIudXNlcnMpIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gdXBkYXRlIHRoZSBHVUlcbiAgICAgKi9cbiAgICBzdGF0aWMgdXBkYXRlR1VJVXNlcnMoKTogdm9pZCB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcnNcIikuaW5uZXJIVE1MID0gXCJcIjtcblxuICAgICAgICAvKipsZXQgaSA9IDA7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBVc2VyTWFuYWdlci51c2Vycykge1xuICAgICAgICAgICAgbGV0IGVsID0gVXNlck1hbmFnZXIudXNlcklkVG9Eb20oa2V5KTtcbiAgICAgICAgICAgIGlmIChrZXkgPT0gVXNlck1hbmFnZXIubWUudXNlcklEKVxuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoXCJtZVwiKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcnNcIikuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9Ki9cblxuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcnNcIikuaW5uZXJIVE1MID0gVXNlck1hbmFnZXIuZ2V0VXNlckltYWdlKFwidTBcIikub3V0ZXJIVE1MICsgXCIgw5cgXCIgKyBVc2VyTWFuYWdlci5nZXROdW1iZXJPZlVzZXJzKCk7XG5cbiAgICB9XG5cbn1cbiIsIi8qKlxuICogZGF0YSBzdHJ1Y3R1cmUgc3RhY2sgZm9yIGNhbmNlbC9yZWRvXG4gKi9cbmV4cG9ydCBjbGFzcyBDYW5jZWxTdGFjayB7XG4gICAgc3RhY2sgPSBbXTtcbiAgICBjdXJyZW50SW5kZXggPSAtMTtcbiAgICBuID0gMDtcblxuICAgIC8qKlxuICAgICAqIGVtcHR5IHRoZSBzdGFja1xuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnN0YWNrID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMubiA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGRhdGFcbiAgICAgKi9cbiAgICBwdXNoKGRhdGEpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXgrKztcbiAgICAgICAgdGhpcy5zdGFja1t0aGlzLmN1cnJlbnRJbmRleF0gPSBkYXRhO1xuICAgICAgICB0aGlzLm4gPSB0aGlzLmN1cnJlbnRJbmRleCArIDE7XG4gICAgfVxuXG5cbiAgICBiYWNrKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPD0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YWNrW3RoaXMuY3VycmVudEluZGV4XTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleC0tO1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFja1t0aGlzLmN1cnJlbnRJbmRleF07XG4gICAgfVxuXG4gICAgZm9yd2FyZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID49IHRoaXMubiAtIDEpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFja1t0aGlzLmN1cnJlbnRJbmRleF07XG5cbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXgrKztcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5jdXJyZW50SW5kZXhdO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgZ2V0Q2FudmFzLCBnZXRDb250YWluZXIgfSBmcm9tIFwiLi9tYWluXCI7XG5pbXBvcnQgeyBTaGFyZSB9IGZyb20gXCIuL3NoYXJlXCI7XG5pbXBvcnQgeyBMYXlvdXQgfSBmcm9tICcuL0xheW91dCc7XG5pbXBvcnQgeyBDYW5jZWxTdGFjayB9IGZyb20gJy4vY2FuY2VsU3RhY2snO1xuXG4vKipcbiAqIE1hbmFnZSB0aGUgYm9hcmRcbiAqL1xuZXhwb3J0IGNsYXNzIEJvYXJkTWFuYWdlciB7XG5cbiAgICAvKiogbmFtZSBvZiB0aGUgYm9hcmQuIERlZmF1bHQgaXMgMCAodGhpcyBuYW1lIGlzIHVzZWQgZm9yIHN0b3JpbmcgaW4gbG9jYWxTdG9yYWdlKSAqL1xuICAgIHN0YXRpYyBib2FyZE5hbWUgPSBcIjBcIjtcblxuICAgIC8qKiBzdGFjayB0byBzdG9yZSB0aGUgY2FuY2VsL3JlZG8gYWN0aW9ucyAqL1xuICAgIHN0YXRpYyBjYW5jZWxTdGFjayA9IG5ldyBDYW5jZWxTdGFjaygpO1xuXG4gICAgc3RhdGljIF9yaWdodEV4dGVuZENhbnZhc0VuYWJsZSA9IHRydWU7XG5cbiAgICAvKipcbiAgICogaW5pdGlhbGl6YXRpb24gKGJ1dHRvbilcbiAgICovXG4gICAgc3RhdGljIGluaXQoKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmxhY2tib2FyZENsZWFyXCIpLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBTaGFyZS5leGVjdXRlKFwiYm9hcmRDbGVhclwiLCBbXSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG4gICAgc3RhdGljIGdldEJhY2tncm91bmRDb2xvcigpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzQmFja2dyb3VuZFwiKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICAgICogZXJhc2UgdGhlIGJvYXJkXG4gICAgICAgICovXG4gICAgc3RhdGljIF9jbGVhcigpIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy53aWR0aDsgLy9jbGVhclxuICAgICAgICBCb2FyZE1hbmFnZXIuY2FuY2VsU3RhY2suY2xlYXIoKTtcbiAgICB9XG5cblxuXG5cblxuICAgIHN0YXRpYyBnZXREZWZhdWx0Q2hhbGtDb2xvcigpIHtcbiAgICAgICAgcmV0dXJuIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc0JhY2tncm91bmRcIikuc3R5bGUuYmFja2dyb3VuZENvbG9yID09IFwiYmxhY2tcIikgPyBcIndoaXRlXCIgOiBcImJsYWNrXCI7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgX2NyZWF0ZUNhbnZhc0ZvclJlY3RhbmdsZShyKSB7XG4gICAgICAgIGNvbnN0IEMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICBDLndpZHRoID0gci54MiAtIHIueDE7XG4gICAgICAgIEMuaGVpZ2h0ID0gci55MiAtIHIueTE7XG4gICAgICAgIGNvbnN0IGN0eCA9IEMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBjdHguZHJhd0ltYWdlKGdldENhbnZhcygpLFxuICAgICAgICAgICAgci54MSwgci55MSwgci54MiAtIHIueDEsIHIueTIgLSByLnkxLCAvL2Nvb3JkaW5hdGVzIGluIHRoZSBjYW52YXNcbiAgICAgICAgICAgIDAsIDAsIHIueDIgLSByLngxLCByLnkyIC0gci55MSk7IC8vY29vcmRpbmF0ZXMgaW4gdGhlIG1hZ25ldFxuICAgICAgICByZXR1cm4gQztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSByIGEgcmVjdGFuZ2xlIHt4MSwgeTEsIHgyLCB5Mn1cbiAgICAgKiBAZGVzY3JpcHRpb24gY2FsbCB0aGUgY2FsbGJhY2sgd2hlbiB0aGUgYmxvYiBvZiB0aGUgcmVjdGFuZ2xlIGlzIGNyZWF0ZWRcbiAgICAgKi9cbiAgICBzdGF0aWMgX3RvQmxvYk9mUmVjdGFuZ2xlKHIsIGNhbGxiYWNrKSB7XG4gICAgICAgIEJvYXJkTWFuYWdlci5fY3JlYXRlQ2FudmFzRm9yUmVjdGFuZ2xlKHIpLnRvQmxvYihjYWxsYmFjayk7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAqXG4gICogQHBhcmFtIHsqfSByIGEgcmVjdGFuZ2xlIHt4MSwgeTEsIHgyLCB5Mn1cbiAgKiBAcmV0dXJucyB0aGUgY29udGVudCBhcyBhIHN0cmluZyBvZiB0aGUgaW1hZ2VcbiAgKi9cbiAgICBzdGF0aWMgZ2V0RGF0YVVSTE9mUmVjdGFuZ2xlKHIpIHtcbiAgICAgICAgcmV0dXJuIEJvYXJkTWFuYWdlci5fY3JlYXRlQ2FudmFzRm9yUmVjdGFuZ2xlKHIpLnRvRGF0YVVSTCgpO1xuICAgIH1cblxuXG5cbiAgICBzdGF0aWMgaXNDYW5jZWxSZWRvQWN0aXZhdGVkKCkge1xuICAgICAgICByZXR1cm4gIVNoYXJlLmlzU2hhcmVkKCk7Ly8oIVNoYXJlLmlzU2hhcmVkKCkgJiYgIUxheW91dC5pc1RhY3RpbGVEZXZpY2UoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc2F2ZSB0aGUgY3VycmVudCBib2FyZCBpbnRvIHRoZSBjYW5jZWwvcmVkbyBzdGFjayBidXQgYWxzbyBpbiB0aGUgbG9jYWxTdG9yYWdlIG9mIHRoZSBicm93c2VyXG4gICAgICovXG4gICAgc3RhdGljIHNhdmUoKSB7XG4gICAgICAgIC8vIGlmIChyZWN0YW5nbGUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChCb2FyZE1hbmFnZXIuaXNDYW5jZWxSZWRvQWN0aXZhdGVkKCkpXG4gICAgICAgICAgICBnZXRDYW52YXMoKS50b0Jsb2IoKGJsb2IpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNhdmUgdGhhdCBibG9iOiBcIiArIGJsb2IpXG4gICAgICAgICAgICAgICAgLy8gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNoYXJlLmdldFRhYmxlYXVOb2lySUQoKSwgY2FudmFzLnRvRGF0YVVSTCgpKTtcbiAgICAgICAgICAgICAgICBCb2FyZE1hbmFnZXIuY2FuY2VsU3RhY2sucHVzaChibG9iKTtcbiAgICAgICAgICAgICAgICAvL1NoYXJlLnNlbmRGdWxsQ2FudmFzKGJsb2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgLyp9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIEJvYXJkTWFuYWdlci5fdG9CbG9iT2ZSZWN0YW5nbGUocmVjdGFuZ2xlLCAoYmxvYikgPT4ge1xuICAgICAgICAgICAgICAgICAgcmVjdGFuZ2xlLmJsb2IgPSBibG9iO1xuICAgICAgICAgICAgICAgICAgQm9hcmRNYW5hZ2VyLmNhbmNlbFN0YWNrLnB1c2gocmVjdGFuZ2xlKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikudG9CbG9iKChibG9iKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNhdmUgdGhhdCBibG9iOiBcIiArIGJsb2IpXG4gICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShCb2FyZE1hbmFnZXIuYm9hcmROYW1lLCBibG9iKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAqL1xuXG5cbiAgICB9XG5cblxuXG5cbiAgICBzdGF0aWMgZ2V0Q3VycmVudFNjcmVlblJlY3RhbmdsZSgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIik7XG4gICAgICAgIGNvbnN0IHgxID0gY29udGFpbmVyLnNjcm9sbExlZnQ7XG4gICAgICAgIGNvbnN0IHkxID0gY29udGFpbmVyLnNjcm9sbFRvcDtcbiAgICAgICAgY29uc3QgeDIgPSB4MSArIExheW91dC5nZXRXaW5kb3dXaWR0aCgpO1xuICAgICAgICBjb25zdCB5MiA9IHkxICsgTGF5b3V0LmdldFdpbmRvd0hlaWdodCgpO1xuICAgICAgICByZXR1cm4geyB4MTogeDEsIHkxOiB5MSwgeDI6IHgyLCB5MjogeTIgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2F2ZUN1cnJlbnRTY3JlZW4oKSB7XG4gICAgICAgIEJvYXJkTWFuYWdlci5zYXZlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbG9hZCB0aGUgYm9hcmQgZnJvbSB0aGUgbG9jYWwgc3RvcmFnZVxuICAgICAqL1xuICAgIHN0YXRpYyBsb2FkKGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTaGFyZS5nZXRUYWJsZWF1Tm9pcklEKCkpKSB7XG4gICAgICAgIC8vIGxldCBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oQm9hcmRNYW5hZ2VyLmJvYXJkTmFtZSk7XG5cbiAgICAgICAgaWYgKGRhdGEgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCb2FyZE1hbmFnZXIuX2NsZWFyKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gZGF0YTtcbiAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBCb2FyZE1hbmFnZXIuc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRlZCFcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIEJvYXJkTWFuYWdlci5fY2xlYXIoKTtcbiAgICAgICAgICAgIEJvYXJkTWFuYWdlci5zYXZlKCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG5cblxuICAgIC8qKlxuICAgICAqIGxvYWQgdGhlIGJvYXJkIGZyb20gdGhlIGxvY2FsIHN0b3JhZ2VcbiAgICAgKi9cbiAgICBzdGF0aWMgbG9hZFdpdGhvdXRTYXZlKGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShCb2FyZE1hbmFnZXIuYm9hcmROYW1lKSkge1xuICAgICAgICAvLyBsZXQgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKEJvYXJkTWFuYWdlci5ib2FyZE5hbWUpO1xuXG4gICAgICAgIGlmIChkYXRhICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQm9hcmRNYW5hZ2VyLl9jbGVhcigpO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltYWdlLnNyYyA9IGRhdGE7XG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDtcbiAgICAgICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkZWQhXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBCb2FyZE1hbmFnZXIuX2NsZWFyKCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRoZSBudW1iZXIgb2YgcGl4ZWxzIHdoZW4gc2Nyb2xsaW5nXG4gICAgICovXG4gICAgc3RhdGljIHNjcm9sbFF1YW50aXR5KCkge1xuICAgICAgICBjb25zdCBUSEVTSE9MRCA9IDE1MDA7XG4gICAgICAgIGNvbnN0IG1pZGRsZSA9IExheW91dC5nZXRXaW5kb3dXaWR0aCgpIC8gMjtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKG1pZGRsZSwgVEhFU0hPTEQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGdvIGxlZnRcbiAgICAgKi9cbiAgICBzdGF0aWMgbGVmdCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKCk7XG4gICAgICAgIGNvbnN0IHggPSBjb250YWluZXIuc2Nyb2xsTGVmdCAtIEJvYXJkTWFuYWdlci5zY3JvbGxRdWFudGl0eSgpO1xuXG4gICAgICAgIGlmICh4IDwgMCkge1xuICAgICAgICAgICAgQm9hcmRNYW5hZ2VyLnNob3dQYWdlTnVtYmVyKDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvKHsgdG9wOiAwLCBsZWZ0OiB4LCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgICAgIEJvYXJkTWFuYWdlci5zaG93UGFnZU51bWJlcih4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnbyByaWdodCAoYW5kIGV4dGVuZCB0aGUgYm9hcmQgaWYgbmVjZXNzYXJ5KVxuICAgICAqL1xuICAgIHN0YXRpYyByaWdodCgpIHtcbiAgICAgICAgY29uc3QgTUFYQ0FOVkFTV0lEVEggPSAyMDAwMDtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKCk7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuICAgICAgICBpZiAoY29udGFpbmVyLnNjcm9sbExlZnQgPj0gTUFYQ0FOVkFTV0lEVEggLSBMYXlvdXQuZ2V0V2luZG93V2lkdGgoKSkge1xuICAgICAgICAgICAgY29udGFpbmVyLnNjcm9sbExlZnQgPSBNQVhDQU5WQVNXSURUSCAtIExheW91dC5nZXRXaW5kb3dXaWR0aCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChjb250YWluZXIuc2Nyb2xsTGVmdCA+PSBjYW52YXMud2lkdGggLSBMYXlvdXQuZ2V0V2luZG93V2lkdGgoKSAtIEJvYXJkTWFuYWdlci5zY3JvbGxRdWFudGl0eSgpKSAmJiBCb2FyZE1hbmFnZXIuX3JpZ2h0RXh0ZW5kQ2FudmFzRW5hYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJleHRlbnNpb246IGNhbnZhcyB3aWR0aCBcIiArIGNhbnZhcy53aWR0aCArIFwiIHRvIFwiICsgKGNvbnRhaW5lci5zY3JvbGxMZWZ0ICsgTGF5b3V0LmdldFdpbmRvd1dpZHRoKCkpKVxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gKChjYW52YXMud2lkdGggLyBCb2FyZE1hbmFnZXIuc2Nyb2xsUXVhbnRpdHkoKSkgKyAxKSAqIEJvYXJkTWFuYWdlci5zY3JvbGxRdWFudGl0eSgpO1xuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLW92ZXJcIjtcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxLjA7XG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQm9hcmRNYW5hZ2VyLl9yaWdodEV4dGVuZENhbnZhc0VuYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IEJvYXJkTWFuYWdlci5fcmlnaHRFeHRlbmRDYW52YXNFbmFibGUgPSB0cnVlIH0sIDEwMDApOy8vcHJldmVudCB0byBleHRlbmQgdGhlIGNhbnZhcyB0b28gbWFueSB0aW1lc1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHggPSBjb250YWluZXIuc2Nyb2xsTGVmdCArIEJvYXJkTWFuYWdlci5zY3JvbGxRdWFudGl0eSgpO1xuICAgICAgICBjb250YWluZXIuc2Nyb2xsVG8oeyB0b3A6IDAsIGxlZnQ6IHgsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICAgICAgQm9hcmRNYW5hZ2VyLnNob3dQYWdlTnVtYmVyKHgpO1xuICAgIH1cblxuXG4gICAgc3RhdGljIHNob3dQYWdlTnVtYmVyKHgpIHtcbiAgICAgICAgY29uc3QgcGFnZU51bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFnZU51bWJlclwiKTtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGdldENvbnRhaW5lcigpO1xuXG4gICAgICAgIHBhZ2VOdW1iZXIuY2xhc3NMaXN0LnJlbW92ZShcInBhZ2VOdW1iZXJIaWRkZW5cIik7XG4gICAgICAgIHBhZ2VOdW1iZXIuY2xhc3NMaXN0LnJlbW92ZShcInBhZ2VOdW1iZXJcIik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IE1hdGgucm91bmQoeCAvIEJvYXJkTWFuYWdlci5zY3JvbGxRdWFudGl0eSgpKTtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gTWF0aC5yb3VuZChjYW52YXMud2lkdGggLyBCb2FyZE1hbmFnZXIuc2Nyb2xsUXVhbnRpdHkoKSk7XG4gICAgICAgICAgICBjb250YWluZXIuc2Nyb2xsTGVmdCA9IChuKSAqIEJvYXJkTWFuYWdlci5zY3JvbGxRdWFudGl0eSgpO1xuICAgICAgICAgICAgcGFnZU51bWJlci5pbm5lckhUTUwgPSAobiArIDEpICsgXCIvXCIgKyAodG90YWwpOyBwYWdlTnVtYmVyLmNsYXNzTGlzdC5hZGQoXCJwYWdlTnVtYmVyXCIpO1xuICAgICAgICB9LCAzMDApXG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gbGV2ZWxcbiAgICAgKi9cbiAgICBzdGF0aWMgX2xvYWRDdXJyZW50Q2FuY2VsbGF0aW9uU3RhY2tEYXRhKGRhdGEpIHtcbiAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG5cbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2Utb3ZlclwiO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gMS4wO1xuXG4gICAgICAgIC8vICBpZiAoZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgaW1hZ2Uuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChkYXRhKTtcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIC8qICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiX2xvYWRDdXJyZW50Q2FuY2VsbGF0aW9uU3RhY2tEYXRhIHdpdGggcmVjdGFuZ2xlIGF0IFwiICsgZGF0YS54MSlcbiAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChkYXRhLmJsb2IpO1xuICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdChkYXRhLngxLCBkYXRhLnkxLCBkYXRhLngyIC0gZGF0YS54MSwgZGF0YS55MiAtIGRhdGEueTEpO1xuICAgICAgICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIGRhdGEueDEsIGRhdGEueTEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSovIC8vc3RpbGwgYnVneVxuXG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIHN0YXRpYyBjYW5jZWwoKSB7XG4gICAgICAgIGlmIChCb2FyZE1hbmFnZXIuaXNDYW5jZWxSZWRvQWN0aXZhdGVkKCkpXG4gICAgICAgICAgICBCb2FyZE1hbmFnZXIuX2xvYWRDdXJyZW50Q2FuY2VsbGF0aW9uU3RhY2tEYXRhKEJvYXJkTWFuYWdlci5jYW5jZWxTdGFjay5iYWNrKCkpO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqL1xuICAgIHN0YXRpYyByZWRvKCkge1xuICAgICAgICBpZiAoQm9hcmRNYW5hZ2VyLmlzQ2FuY2VsUmVkb0FjdGl2YXRlZCgpKVxuICAgICAgICAgICAgQm9hcmRNYW5hZ2VyLl9sb2FkQ3VycmVudENhbmNlbGxhdGlvblN0YWNrRGF0YShCb2FyZE1hbmFnZXIuY2FuY2VsU3RhY2suZm9yd2FyZCgpKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBnZXRDYW52YXMgfSBmcm9tIFwiLi9tYWluXCI7XG5pbXBvcnQgeyBTaGFyZSB9IGZyb20gXCIuL3NoYXJlXCI7XG5pbXBvcnQgeyBCb2FyZE1hbmFnZXIgfSBmcm9tICcuL2JvYXJkTWFuYWdlcic7XG5pbXBvcnQgeyBMYXlvdXQgfSBmcm9tICcuL0xheW91dCc7XG5pbXBvcnQgeyBNZW51IH0gZnJvbSAnLi9NZW51JztcbmltcG9ydCB7IFRvdWNoU2NyZWVuIH0gZnJvbSAnLi9Ub3VjaFNjcmVlbic7XG5pbXBvcnQgeyBEcmF3aW5nIH0gZnJvbSAnLi9EcmF3aW5nJztcblxuZXhwb3J0IGNsYXNzIE1hZ25ldE1hbmFnZXIge1xuXG5cdHN0YXRpYyBtYWduZXRYID0gMDtcblx0c3RhdGljIG1hZ25ldFkgPSA2NDtcblx0c3RhdGljIGN1cnJlbnRNYWduZXQgPSB1bmRlZmluZWQ7IC8vIGxhc3QgbWFnbmV0IHVzZWRcblx0c3RhdGljIG1hZ25ldFVuZGVyQ3Vyc29yID0gdW5kZWZpbmVkO1xuXG5cblxuXHQvKipcblx0ICogaW5pdGlhbGl6YXRpb25cblx0ICovXG5cdHN0YXRpYyBpbml0KCkge1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xlYXJNYWduZXRcIikub25jbGljayA9IE1hZ25ldE1hbmFnZXIuY2xlYXJNYWduZXQ7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWduZXRzQXJyYW5nZVwiKS5vbmNsaWNrID0gTWFnbmV0TWFuYWdlci5hcnJhbmdlO1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFnbmV0c0NyZWF0ZUdyYXBoXCIpLm9uY2xpY2sgPSBNYWduZXRNYW5hZ2VyLmRyYXdHcmFwaDtcblx0fVxuXG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHRoZSBtYWduZXQgdW5kZXIgdGhlIGN1cnNvclxuXHQgKi9cblx0c3RhdGljIGdldE1hZ25ldFVuZGVyQ3Vyc29yKCkge1xuXHRcdHJldHVybiBNYWduZXRNYW5hZ2VyLm1hZ25ldFVuZGVyQ3Vyc29yO1xuXHR9XG5cblxuXHQvKipcblx0ICogQHJldHVybnMgdHJ1ZSBpZmYgdGhlcmUgaXMgYSBjdXJyZW50IG1hZ25ldFxuXHQgKi9cblx0c3RhdGljIGhhc0N1cnJlbnRNYWduZXQoKSB7XG5cdFx0cmV0dXJuIE1hZ25ldE1hbmFnZXIuY3VycmVudE1hZ25ldCA9PSB1bmRlZmluZWQ7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gc2V0IHRoYXQgdGhlcmUgaXMgbm8gY3VycmVudCBtYWduZXRcblx0ICovXG5cdHN0YXRpYyBub0N1cnJlbnRNYWduZXQoKSB7XG5cdFx0TWFnbmV0TWFuYWdlci5jdXJyZW50TWFnbmV0ID0gdW5kZWZpbmVkO1xuXHR9XG5cblxuXHQvKipcblx0ICogQHJldHVybnMgdGhlIElEIG9mIHRoZSBjdXJyZW50IG1hZ25ldFxuXHQgKi9cblx0c3RhdGljIGdldEN1cnJlbnRNYWduZXRJRCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBNYWduZXRNYW5hZ2VyLmN1cnJlbnRNYWduZXQuaWQ7XG5cdH1cblxuXG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gYlxuXHQgKiBAZGVzY3JpcHRpb24gaWYgYiA9PSB0cnVlLCBtYWtlcyBhbGwgdGhlIG1hZ25ldHMgaW50ZXJhY3RhYmxlIHdpdGggdGhlIG1vdXNlL3BvaW50ZXJcblx0ICogIGlmIGIgPT0gZmFsc2UsIHRoZSBtYWduZXRzIGNhbm5vdCBiZSBtb3ZlZFxuXHQgKi9cblx0c3RhdGljIHNldEludGVyYWN0YWJsZShiKSB7XG5cdFx0Y29uc3QgdiA9IGIgPyBcImF1dG9cIiA6IFwibm9uZVwiO1xuXG5cdFx0Y29uc3QgbWFnbmV0cyA9IE1hZ25ldE1hbmFnZXIuZ2V0TWFnbmV0cygpO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBtYWduZXRzLmxlbmd0aDsgaSsrKVxuXHRcdFx0KDxhbnk+bWFnbmV0c1tpXSkuc3R5bGUucG9pbnRlckV2ZW50cyA9IHY7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIGFsbCB0aGUgbWFnbmV0c1xuXHQgKi9cblx0c3RhdGljIGdldE1hZ25ldHMoKTogSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD4ge1xuXHRcdHJldHVybiA8SFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD4+ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1hZ25ldFwiKTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHRoZSB0b3AgWSB3aGVuIGEgc2V0IG9mIG1hZ25ldHMgaXMgYXV0b21hdGljYWxseSBhcnJhbmdlZFxuXHQgKi9cblx0c3RhdGljIGdldFlUb3BXaGVuTmV3TWFnbmV0cygpIHtcblx0XHRyZXR1cm4gNjQ7XG5cdH1cblxuXHQvKipcblx0ICogZGVsZXRlIGFsbCB0aGUgbWFnbmV0c1xuXHQgKi9cblx0c3RhdGljIGNsZWFyTWFnbmV0KCkge1xuXHRcdE1hZ25ldE1hbmFnZXIuY3VycmVudE1hZ25ldCA9IHVuZGVmaW5lZDtcblx0XHRNYWduZXRNYW5hZ2VyLm1hZ25ldFggPSBCb2FyZE1hbmFnZXIuZ2V0Q3VycmVudFNjcmVlblJlY3RhbmdsZSgpLngxO1xuXHRcdE1hZ25ldE1hbmFnZXIubWFnbmV0WSA9IE1hZ25ldE1hbmFnZXIuZ2V0WVRvcFdoZW5OZXdNYWduZXRzKCk7XG5cdFx0Y29uc3QgbWFnbmV0cyA9IE1hZ25ldE1hbmFnZXIuZ2V0TWFnbmV0cygpO1xuXG5cdFx0d2hpbGUgKG1hZ25ldHMubGVuZ3RoID4gMClcblx0XHRcdG1hZ25ldHNbMF0ucmVtb3ZlKCk7XG5cblx0XHRTaGFyZS5zZW5kTWFnbmV0cygpO1xuXG5cdFx0TWVudS5oaWRlKCk7XG5cdH1cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHsqfSBlbGVtZW50XG5cdCAqIEBkZXNjcmlwdGlvbiBhZGQgdGhlIERPTSBlbGVtZW50IGVsZW1lbnQgdG8gdGhlIGxpc3Qgb2YgbWFnbmV0c1xuXHQgKi9cblx0c3RhdGljIGFkZE1hZ25ldChlbGVtZW50LCBjYWxsYmFjayA9IChlbCkgPT4geyB9KSB7XG5cdFx0aWYgKE1hZ25ldE1hbmFnZXIubWFnbmV0WCA+IEJvYXJkTWFuYWdlci5nZXRDdXJyZW50U2NyZWVuUmVjdGFuZ2xlKCkueDIgLSAxMCkge1xuXHRcdFx0TWFnbmV0TWFuYWdlci5tYWduZXRYID0gQm9hcmRNYW5hZ2VyLmdldEN1cnJlbnRTY3JlZW5SZWN0YW5nbGUoKS54MTtcblx0XHRcdE1hZ25ldE1hbmFnZXIubWFnbmV0WSArPSA2NDtcblx0XHR9XG5cblx0XHRlbGVtZW50LmlkID0gXCJtXCIgKyBNYXRoLnJhbmRvbSgpOyAvL2dlbmVyYXRlIHJhbmRvbWx5IGFuIGlkXG5cdFx0ZWxlbWVudC5zdHlsZS5sZWZ0ID0gTWFnbmV0TWFuYWdlci5tYWduZXRYICsgXCJweFwiO1xuXHRcdGVsZW1lbnQuc3R5bGUudG9wID0gTWFnbmV0TWFuYWdlci5tYWduZXRZICsgXCJweFwiO1xuXG5cdFx0TWFnbmV0TWFuYWdlci5tYWduZXRYICs9IDY0O1xuXHRcdE1hZ25ldE1hbmFnZXIuY3VycmVudE1hZ25ldCA9IGVsZW1lbnQ7XG5cdFx0ZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWFnbmV0XCIpO1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFnbmV0c1wiKS5hcHBlbmRDaGlsZChlbGVtZW50KTtcblxuXHRcdGNvbnN0IGYgPSAoKSA9PiB7XG5cdFx0XHRpZiAoU2hhcmUuaXNTaGFyZWQoKSlcblx0XHRcdFx0U2hhcmUuc2VuZE5ld01hZ25ldChlbGVtZW50KTtcblx0XHRcdGNhbGxiYWNrKGVsZW1lbnQpO1xuXHRcdH1cblxuXG5cdFx0aWYgKGVsZW1lbnQudGFnTmFtZSA9PSBcIklNR1wiKSB7XG5cdFx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGYpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGYoKTtcblx0XHR9XG5cblx0XHRNYWduZXRNYW5hZ2VyLl9pbnN0YWxsTWFnbmV0KGVsZW1lbnQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBwdXQgdGhlIGV4aXN0aW5nIG1hZ25ldHMgb24gdGhlIGN1cnJlbnQgc2NyZWVuXG5cdCAqL1xuXHRzdGF0aWMgYXJyYW5nZSgpIHtcblx0XHRjb25zdCBtYWduZXRzID0gTWFnbmV0TWFuYWdlci5nZXRNYWduZXRzKCk7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG1hZ25ldHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG1hZ25ldCA9IG1hZ25ldHNbaV07XG5cdFx0XHRsZXQgeCA9IHVuZGVmaW5lZDtcblx0XHRcdGxldCB5ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRjb25zdCBtYWduZXRDb250YWlucyA9IChtLCB4LCB5KSA9PiB7XG5cdFx0XHRcdHJldHVybiAocGFyc2VJbnQobS5zdHlsZS5sZWZ0KSA8PSB4ICYmIHBhcnNlSW50KG0uc3R5bGUudG9wKSA8PSB5ICYmXG5cdFx0XHRcdFx0eCA8PSBwYXJzZUludChtLnN0eWxlLmxlZnQpICsgcGFyc2VJbnQobS5jbGllbnRXaWR0aCkgJiZcblx0XHRcdFx0XHR5IDw9IHBhcnNlSW50KG0uc3R5bGUudG9wKSArIHBhcnNlSW50KG0uY2xpZW50SGVpZ2h0KSk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRpc3QgPSAoKSA9PiB7XG5cdFx0XHRcdGxldCBtaW5EaXN0ID0gMTAwMDAwO1xuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG1hZ25ldHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRtaW5EaXN0ID0gTWF0aC5taW4obWluRGlzdCxcblx0XHRcdFx0XHRcdE1hdGguYWJzKHggLSBwYXJzZUludCgoPGFueT5tYWduZXRzW2pdKS5zdHlsZS5sZWZ0KSkgKyBNYXRoLmFicyh5IC0gcGFyc2VJbnQoKDxhbnk+bWFnbmV0c1tqXSkuc3R5bGUudG9wKSkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtaW5EaXN0O1xuXG5cdFx0XHR9XG5cdFx0XHRjb25zdCBjb250YWlucyA9ICgpID0+IHtcblx0XHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBtYWduZXRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0aWYgKG1hZ25ldENvbnRhaW5zKG1hZ25ldHNbal0sIHgsIHkpIHx8XG5cdFx0XHRcdFx0XHRtYWduZXRDb250YWlucyhtYWduZXRzW2pdLCB4ICsgbWFnbmV0LmNsaWVudFdpZHRoLCB5ICsgbWFnbmV0LmNsaWVudEhlaWdodCkpXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHJlY3QgPSBCb2FyZE1hbmFnZXIuZ2V0Q3VycmVudFNjcmVlblJlY3RhbmdsZSgpO1xuXG5cdFx0XHRjb25zdCBnZW5lcmF0ZVBvc2l0aW9uID0gKCkgPT4ge1xuXHRcdFx0XHRsZXQgY291bnQgPSAwO1xuXHRcdFx0XHRjb25zdCBtYXJnaW4gPSAzMjtcblx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdHggPSByZWN0LngxICsgKE1hdGgucmFuZG9tKCkgKiBMYXlvdXQuZ2V0V2luZG93V2lkdGgoKSk7XG5cdFx0XHRcdFx0eSA9IHJlY3QueTEgKyAoTWF0aC5yYW5kb20oKSAqIDMgKiBMYXlvdXQuZ2V0V2luZG93SGVpZ2h0KCkgLyA0KTtcblxuXHRcdFx0XHRcdHggPSBNYXRoLm1heCh4LCByZWN0LngxICsgbWFyZ2luKTtcblx0XHRcdFx0XHR5ID0gTWF0aC5tYXgoeSwgcmVjdC55MSArIG1hcmdpbik7XG5cdFx0XHRcdFx0eCA9IE1hdGgubWluKHgsIHJlY3QueDIgLSBtYWduZXQuY2xpZW50V2lkdGggLSBtYXJnaW4pO1xuXHRcdFx0XHRcdHkgPSBNYXRoLm1pbih5LCByZWN0LnkyIC0gbWFnbmV0LmNsaWVudEhlaWdodCAtIG1hcmdpbik7XG5cdFx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0fVxuXHRcdFx0XHR3aGlsZSAoY29udGFpbnMoKSAmJiBjb3VudCA8IDUwKVxuXHRcdFx0fVxuXG5cblx0XHRcdGxldCBjb3VudCA9IDA7XG5cdFx0XHRsZXQgYmVzdERpc3QgPSAwO1xuXHRcdFx0bGV0IGJlc3RYID0gdW5kZWZpbmVkO1xuXHRcdFx0bGV0IGJlc3RZID0gdW5kZWZpbmVkO1xuXG5cdFx0XHR3aGlsZSAoY291bnQgPCAzMCkge1xuXG5cdFx0XHRcdGdlbmVyYXRlUG9zaXRpb24oKTtcblxuXHRcdFx0XHRpZiAoYmVzdERpc3QgPCBkaXN0KCkpIHtcblx0XHRcdFx0XHRiZXN0WCA9IHg7XG5cdFx0XHRcdFx0YmVzdFkgPSB5O1xuXHRcdFx0XHRcdGJlc3REaXN0ID0gZGlzdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvdW50Kys7XG5cdFx0XHR9XG5cblx0XHRcdG1hZ25ldC5zdHlsZS5sZWZ0ID0gYmVzdFg7XG5cdFx0XHRtYWduZXQuc3R5bGUudG9wID0gYmVzdFk7XG5cdFx0fVxuXG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMgdGhlIGFycmF5IG9mIGNlbnRlciBwb2ludHMgb2YgZXhpc3RpbmcgbWFnbmV0c1xuXHQgKi9cblx0c3RhdGljIGdldE5vZGVzKCkge1xuXHRcdGNvbnN0IG1hZ25ldHMgPSBNYWduZXRNYW5hZ2VyLmdldE1hZ25ldHMoKTtcblx0XHRjb25zdCBub2RlcyA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbWFnbmV0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgbSA9IG1hZ25ldHNbaV07XG5cdFx0XHRub2Rlcy5wdXNoKHsgeDogcGFyc2VJbnQobS5zdHlsZS5sZWZ0KSArIG0uY2xpZW50V2lkdGggLyAyLCB5OiBwYXJzZUludChtLnN0eWxlLnRvcCkgKyBtLmNsaWVudEhlaWdodCAvIDIgfSk7XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKG5vZGVzKVxuXHRcdHJldHVybiBub2Rlcztcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gbWFrZSBhIGdyYXBoIHdoZXJlIHRoZSBub2RlcyBhcmUgdGhlIG1hZ25ldHNcblx0ICovXG5cdHN0YXRpYyBkcmF3R3JhcGgoKSB7XG5cdFx0TWFnbmV0TWFuYWdlci5hcnJhbmdlKCk7XG5cblx0XHRjb25zdCBub2RlcyA9IE1hZ25ldE1hbmFnZXIuZ2V0Tm9kZXMoKTtcblx0XHRjb25zdCBjYW52YXMgPSBnZXRDYW52YXMoKTtcblx0XHRjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRjb25zdCBlZGdlcyA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGVkZ2VzW2ldID0gW107XG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG5vZGVzLmxlbmd0aDsgaisrKSB7IGVkZ2VzW2ldW2pdID0gMDsgfVxuXHRcdH1cblxuXHRcdC8vIHJldHVybnMgdHJ1ZSBpZmYgdGhlIGxpbmUgZnJvbSAoYSxiKS0+KGMsZCkgaW50ZXJzZWN0cyB3aXRoIChwLHEpLT4ocixzKVxuXHRcdGZ1bmN0aW9uIGludGVyc2VjdHMoYSwgYiwgYywgZCwgcCwgcSwgciwgcykge1xuXHRcdFx0bGV0IGRldCwgZ2FtbWEsIGxhbWJkYTtcblx0XHRcdGRldCA9IChjIC0gYSkgKiAocyAtIHEpIC0gKHIgLSBwKSAqIChkIC0gYik7XG5cdFx0XHRpZiAoZGV0ID09PSAwKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxhbWJkYSA9ICgocyAtIHEpICogKHIgLSBhKSArIChwIC0gcikgKiAocyAtIGIpKSAvIGRldDtcblx0XHRcdFx0Z2FtbWEgPSAoKGIgLSBkKSAqIChyIC0gYSkgKyAoYyAtIGEpICogKHMgLSBiKSkgLyBkZXQ7XG5cdFx0XHRcdHJldHVybiAoMCA8IGxhbWJkYSAmJiBsYW1iZGEgPCAxKSAmJiAoMCA8IGdhbW1hICYmIGdhbW1hIDwgMSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgaXNDcm9zc2luZyA9IChpLCBqKSA9PiB7XG5cdFx0XHRmb3IgKGxldCBrID0gMDsgayA8IG5vZGVzLmxlbmd0aDsgaysrKVxuXHRcdFx0XHRmb3IgKGxldCBsID0gMDsgbCA8IG5vZGVzLmxlbmd0aDsgbCsrKVxuXHRcdFx0XHRcdGlmIChlZGdlc1trXVtsXSkge1xuXHRcdFx0XHRcdFx0aWYgKGludGVyc2VjdHMobm9kZXNbaV0ueCwgbm9kZXNbaV0ueSwgbm9kZXNbal0ueCwgbm9kZXNbal0ueSwgbm9kZXNba10ueCwgbm9kZXNba10ueSwgbm9kZXNbbF0ueCwgbm9kZXNbbF0ueSkpXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKVxuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCBub2Rlcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRpZiAoTWF0aC5hYnMobm9kZXNbaV0ueCAtIG5vZGVzW2pdLngpICsgTWF0aC5hYnMobm9kZXNbaV0ueSAtIG5vZGVzW2pdLnkpIDwgNDAwICYmICFpc0Nyb3NzaW5nKGksIGopKSB7XG5cdFx0XHRcdFx0ZWRnZXNbaV1bal0gPSAxO1xuXHRcdFx0XHRcdERyYXdpbmcuZHJhd0xpbmUoY29udGV4dCwgbm9kZXNbaV0ueCwgbm9kZXNbaV0ueSwgbm9kZXNbal0ueCwgbm9kZXNbal0ueSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdEJvYXJkTWFuYWdlci5zYXZlKCk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gYWRkcyB0aGUgZXZlbnQgbW91c2Vkb3duIGV0Yy4gdG8gdGhlIG1hZ25ldHMuIENhbGwgTGFURVhcblx0ICovXG5cdHN0YXRpYyBpbnN0YWxsTWFnbmV0cygpIHtcblx0XHRjb25zdCBtYWduZXRzID0gTWFnbmV0TWFuYWdlci5nZXRNYWduZXRzKCk7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG1hZ25ldHMubGVuZ3RoOyBpKyspXG5cdFx0XHRNYWduZXRNYW5hZ2VyLl9pbnN0YWxsTWFnbmV0KG1hZ25ldHNbaV0pO1xuXG5cdFx0ZXZhbChcIk1hdGhKYXgudHlwZXNldCgpO1wiKTtcblxuXHR9XG5cblxuXG5cblx0LyoqXG5cdCAqIEBwYXJhbSBlbGVtZW50IFxuXHQgKiBAZGVzY3JpcHRpb24gc2V0IHRoZSB6LWluZGV4IG9mIHRoZSBlbGVtZW50IGRlcGVuZGluZyBvbiB0aGUgc2l6ZSBvZiB0aGUgZWxlbWVudFxuXHQgKi9cblx0c3RhdGljIHNldFpJbmRleChlbGVtZW50KSB7XG5cdFx0bGV0IGYgPSAoKSA9PiB7IGNvbnN0IExBUkdFTlVNQkVSID0gMTAwMDA7IGVsZW1lbnQuc3R5bGUuekluZGV4ID0gTEFSR0VOVU1CRVIgLSBlbGVtZW50LmNsaWVudFdpZHRoOyB9O1xuXG5cdFx0aWYgKGVsZW1lbnQudGFnTmFtZSA9PSBcIklNR1wiKSB7XG5cdFx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGYpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGYoKTtcblx0XHR9XG5cdH1cblxuXG5cblx0LyoqXG5cdCAqIFxuXHQgKiBAcGFyYW0gZWxlbWVudCBcblx0ICogQHJldHVybnMgYSBjb3B5IG9mIHRoZSBlbGVtZW50LCByZWFkeSB0byBiZSBnaXZlbiB0byBhZGRNYWduZXRcblx0ICovXG5cdHByaXZhdGUgc3RhdGljIGNyZWF0ZUNvcHlNYWduZXQoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XG5cdFx0cmV0dXJuIDxIVE1MRWxlbWVudD5lbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIFxuXHQgKiBAcGFyYW0gZWxlbWVudCBcblx0ICogQGRlc2NyaXB0aW9uIG1ha2VzIHRoYXQgdGhlIG1hZ25ldCBpcyBkcmFnZ2FibGVcblx0ICovXG5cdHByaXZhdGUgc3RhdGljIG1ha2VEcmFnZ2FibGVFbGVtZW50KGVsZW1lbnQpIHtcblx0XHRsZXQgZHggPSAwLCBkeSA9IDAsIHggPSAwLCB5ID0gMDtcblxuXHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIGRyYWdNb3VzZURvd24pO1xuXG5cdFx0VG91Y2hTY3JlZW4uYWRkVG91Y2hFdmVudHMoZWxlbWVudCk7XG5cblx0XHRsZXQgb3RoZXJFbGVtZW50c1RvTW92ZSA9IFtdO1xuXHRcdGxldCBjYW52YXNDdXJzb3JTdG9yZSA9IHVuZGVmaW5lZDtcblx0XHRsZXQgZHJhZyA9IHRydWU7XG5cblxuXHRcdGZ1bmN0aW9uIGRyYWdNb3VzZURvd24oZXZ0KSB7XG5cdFx0XHRkcmFnID0gdHJ1ZTtcblx0XHRcdE1hZ25ldE1hbmFnZXIuY3VycmVudE1hZ25ldCA9IGV2dC50YXJnZXQ7XG5cblx0XHRcdGlmIChldnQuY3RybEtleSkge1xuXHRcdFx0XHQvKiptYWtlcyBhIGNvcHkuIFRoZSBjb3B5IGRvZXMgbm90IG1vdmUuICovXG5cdFx0XHRcdGNvbnN0IGNvcHkgPSBNYWduZXRNYW5hZ2VyLmNyZWF0ZUNvcHlNYWduZXQoZWxlbWVudCk7XG5cdFx0XHRcdE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KGNvcHkpO1xuXHRcdFx0XHRTaGFyZS5leGVjdXRlKFwibWFnbmV0TW92ZVwiLCBbY29weS5pZCwgZWxlbWVudC5zdHlsZS5sZWZ0LCBlbGVtZW50LnN0eWxlLnRvcF0pO1xuXHRcdFx0fVxuXHRcdFx0LyoqXG5cdFx0XHQgKiBcblx0XHRcdCAqIEBwYXJhbSB7Kn0gZWxlbWVudCBcblx0XHRcdCAqIEBwYXJhbSB7Kn0gYmlnRWxlbWVudCBcblx0XHRcdCAqIEByZXR1cm5zIHRydWUgaWYgZWxlbWVudCBpcyBpbnNpZGUgYmlnRWxlbWVudFxuXHRcdFx0ICovXG5cdFx0XHRmdW5jdGlvbiBpbnNpZGUoZWxlbWVudCwgYmlnRWxlbWVudCkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbWVudC5vZmZzZXRMZWZ0ID4gYmlnRWxlbWVudC5vZmZzZXRMZWZ0ICYmIGVsZW1lbnQub2Zmc2V0VG9wID4gYmlnRWxlbWVudC5vZmZzZXRUb3AgJiZcblx0XHRcdFx0XHRlbGVtZW50Lm9mZnNldExlZnQgKyBlbGVtZW50LmNsaWVudFdpZHRoIDwgYmlnRWxlbWVudC5vZmZzZXRMZWZ0ICsgYmlnRWxlbWVudC5jbGllbnRXaWR0aCAmJlxuXHRcdFx0XHRcdGVsZW1lbnQub2Zmc2V0VG9wICsgZWxlbWVudC5jbGllbnRIZWlnaHQgPCBiaWdFbGVtZW50Lm9mZnNldFRvcCArIGJpZ0VsZW1lbnQuY2xpZW50SGVpZ2h0O1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBjYW52YXMgPSBnZXRDYW52YXMoKTtcblx0XHRcdGNhbnZhc0N1cnNvclN0b3JlID0gY2FudmFzLnN0eWxlLmN1cnNvcjtcblx0XHRcdGV2dCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7XG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTsgLy90byBhdm9pZCB0aGUgZHJhZy9kcm9wIGJ5IHRoZSBicm93c2VyXG5cdFx0XHQvLyBnZXQgdGhlIG1vdXNlIGN1cnNvciBwb3NpdGlvbiBhdCBzdGFydHVwOlxuXG5cdFx0XHR4ID0gZXZ0LmNsaWVudFggKiBMYXlvdXQuZ2V0Wm9vbSgpO1xuXHRcdFx0eSA9IGV2dC5jbGllbnRZICogTGF5b3V0LmdldFpvb20oKTtcblxuXHRcdFx0ZG9jdW1lbnQub25wb2ludGVydXAgPSBjbG9zZURyYWdFbGVtZW50O1xuXHRcdFx0ZG9jdW1lbnQub25tb3VzZXVwID0gY2xvc2VEcmFnRWxlbWVudDtcblx0XHRcdGRvY3VtZW50Lm9ucG9pbnRlcm1vdmUgPSBlbGVtZW50RHJhZztcblxuXHRcdFx0bGV0IG1hZ25ldHMgPSBNYWduZXRNYW5hZ2VyLmdldE1hZ25ldHMoKTtcblx0XHRcdG90aGVyRWxlbWVudHNUb01vdmUgPSBbXTtcblxuXHRcdFx0Ly9pZihlbG10LnN0eWxlLmNsaXBQYXRoID09IHVuZGVmaW5lZCkgLy9pZiBub3QgYW4gaW1hZ2UgKG90aGVyd2lzZSBidWcpXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG1hZ25ldHMubGVuZ3RoOyBpKyspXG5cdFx0XHRcdGlmIChtYWduZXRzW2ldICE9IGVsZW1lbnQgJiYgaW5zaWRlKG1hZ25ldHNbaV0sIGVsZW1lbnQpKSB7XG5cdFx0XHRcdFx0b3RoZXJFbGVtZW50c1RvTW92ZS5wdXNoKG1hZ25ldHNbaV0pO1xuXHRcdFx0XHR9XG5cblxuXHRcdH1cblxuXG5cblx0XHRmdW5jdGlvbiBlbGVtZW50RHJhZyhlKSB7XG5cdFx0XHRpZiAoIWRyYWcpIHJldHVybjtcblxuXHRcdFx0TWFnbmV0TWFuYWdlci5jdXJyZW50TWFnbmV0ID0gZS50YXJnZXQ7XG5cdFx0XHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwibWFnbmV0RHJhZ1wiKTtcblx0XHRcdGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcygpO1xuXG5cdFx0XHRjYW52YXMuc3R5bGUuY3Vyc29yID0gXCJub25lXCI7XG5cdFx0XHRlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQvLyBjYWxjdWxhdGUgdGhlIG5ldyBjdXJzb3IgcG9zaXRpb246XG5cdFx0XHRkeCA9IHggLSBlLmNsaWVudFggKiBMYXlvdXQuZ2V0Wm9vbSgpO1xuXHRcdFx0ZHkgPSB5IC0gZS5jbGllbnRZICogTGF5b3V0LmdldFpvb20oKTtcblx0XHRcdHggPSBlLmNsaWVudFggKiBMYXlvdXQuZ2V0Wm9vbSgpO1xuXHRcdFx0eSA9IGUuY2xpZW50WSAqIExheW91dC5nZXRab29tKCk7XG5cblxuXG5cdFx0XHQvLyBzZXQgdGhlIGVsZW1lbnQncyBuZXcgcG9zaXRpb246XG5cdFx0XHRTaGFyZS5leGVjdXRlKFwibWFnbmV0TW92ZVwiLCBbZWxlbWVudC5pZCwgZWxlbWVudC5vZmZzZXRMZWZ0IC0gZHgsIGVsZW1lbnQub2Zmc2V0VG9wIC0gZHldKTtcblxuXHRcdFx0Zm9yIChsZXQgZWwgb2Ygb3RoZXJFbGVtZW50c1RvTW92ZSkge1xuXHRcdFx0XHRTaGFyZS5leGVjdXRlKFwibWFnbmV0TW92ZVwiLCBbZWwuaWQsIGVsLm9mZnNldExlZnQgLSBkeCwgZWwub2Zmc2V0VG9wIC0gZHldKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjbG9zZURyYWdFbGVtZW50KGUpIHtcblx0XHRcdGlmICghZHJhZylcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHRkcmFnID0gZmFsc2U7XG5cdFx0XHRjb25zb2xlLmxvZyhcImNsb3NlIGRyYWdcIilcblxuXHRcdFx0bGV0IG1hZ25ldHMgPSBNYWduZXRNYW5hZ2VyLmdldE1hZ25ldHMoKTtcblxuXHRcdFx0Zm9yKGxldCBpID0gMDsgaSA8IG1hZ25ldHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0bWFnbmV0c1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwibWFnbmV0RHJhZ1wiKTtcblx0XHRcdH1cblxuXHRcdFx0Z2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yID0gY2FudmFzQ3Vyc29yU3RvcmU7XG5cblx0XHRcdC8vIHN0b3AgbW92aW5nIHdoZW4gbW91c2UgYnV0dG9uIGlzIHJlbGVhc2VkOlxuXHRcdFx0ZG9jdW1lbnQub25tb3VzZXVwID0gbnVsbDtcblx0XHRcdGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXG5cblx0LyoqXG5cdCAqIFxuXHQgKiBAcGFyYW0gZWxlbWVudCBcblx0ICogQGRlc2NyaXB0aW9uIGFkZHMgdGhlIGV2ZW50IG1vdXNlZG93biBldGMuIHRvIHRoZSBtYWduZXQuIENhbGwgTGFURVhcblx0ICovXG5cdHN0YXRpYyBfaW5zdGFsbE1hZ25ldChlbGVtZW50KSB7XG5cdFx0aWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFnbmV0VGV4dFwiKSlcblx0XHRcdE1hZ25ldE1hbmFnZXIuaW5zdGFsbE1hZ25ldFRleHQoZWxlbWVudCk7XG5cblx0XHRNYWduZXRNYW5hZ2VyLm1ha2VEcmFnZ2FibGVFbGVtZW50KGVsZW1lbnQpO1xuXHRcdE1hZ25ldE1hbmFnZXIuc2V0WkluZGV4KGVsZW1lbnQpO1xuXG5cdFx0ZWxlbWVudC5vbm1vdXNlZW50ZXIgPSAoKSA9PiB7IE1hZ25ldE1hbmFnZXIubWFnbmV0VW5kZXJDdXJzb3IgPSBlbGVtZW50IH07XG5cdFx0ZWxlbWVudC5vbm1vdXNlbGVhdmUgPSAoKSA9PiB7IE1hZ25ldE1hbmFnZXIubWFnbmV0VW5kZXJDdXJzb3IgPSB1bmRlZmluZWQgfTtcblxuXHR9XG5cblxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0gZmlsZW5hbWVcblx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdCAqIEBkZXNjcmlwdGlvbiBhZGRzIGEgaW1hZ2UgbWFnbmV0IHdoZXJlIHRoZSBmaWxlIGlzIGFscmVhZHkgb24gdGhlIHNlcnZlclxuXHQgKi9cblx0c3RhdGljIGFkZE1hZ25ldEltYWdlKGZpbGVuYW1lLCBjYWxsYmFjayA9IChlbCkgPT4geyB9KSB7XG5cdFx0Y29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG5cdFx0aW1nLnNyYyA9IFwiaW1nL21hZ25ldHMvXCIgKyBmaWxlbmFtZTtcblx0XHRpbWcuY2xhc3NMaXN0LmFkZChcImJhY2tncm91bmRUcmFuc3BhcmVudFwiKTtcblx0XHRNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChpbWcsIGNhbGxiYWNrKTtcblx0XHRyZXR1cm4gaW1nO1xuXHR9XG5cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIGVsZW1lbnRcblx0ICogQGRlc2NyaXB0aW9uIHNldCB1cCB0aGUgdGV4dCBtYWduZXQ6IGFkZCB0aGUgbW91c2UgZXZlbnQsIGtleSBldmVudCBmb3IgZWRpdGluZyB0aGUgdGV4dCBtYWduZXRcblx0ICovXG5cdHN0YXRpYyBpbnN0YWxsTWFnbmV0VGV4dChlbGVtZW50KSB7XG5cblx0XHRjb25zdCBkaXZUZXh0ID0gZWxlbWVudC5jaGlsZHJlblswXTtcblxuXHRcdGRpdlRleHQub25wb2ludGVyZG93biA9IChlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH1cblx0XHRkaXZUZXh0Lm9ucG9pbnRlcm1vdmUgPSAoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyB9XG5cdFx0ZGl2VGV4dC5vbnBvaW50ZXJ1cCA9IChlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH1cblx0XHRkaXZUZXh0Lm9ua2V5ZG93biA9IChlKSA9PiB7XG5cdFx0XHRjb25zdCBzZXRGb250U2l6ZSA9IChzaXplKSA9PiB7XG5cdFx0XHRcdGRpdlRleHQuc3R5bGUuZm9udFNpemUgPSBzaXplICsgXCJweFwiO1xuXHRcdFx0XHRmb3IgKGNvbnN0IG8gb2YgZGl2VGV4dC5jaGlsZHJlbikge1xuXHRcdFx0XHRcdG8uc3R5bGUuZm9udFNpemUgPSBzaXplICsgXCJweFwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblxuXHRcdFx0aWYgKGUua2V5ID09IFwiRXNjYXBlXCIpIHtcblx0XHRcdFx0ZGl2VGV4dC5ibHVyKCk7XG5cdFx0XHRcdGV2YWwoXCJNYXRoSmF4LnR5cGVzZXQoKTtcIilcblx0XHRcdFx0d2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuXHRcdFx0XHQvKmlmKGRpdlRleHQuaW5uZXJIVE1MID09IFwiXCIpXG5cdFx0XHRcdFx0TWFnbmV0TWFuYWdlci5yZW1vdmUoZGl2KTsqL1xuXHRcdFx0fVxuXHRcdFx0aWYgKChlLmN0cmxLZXkgJiYgZS5rZXkgPT0gXCI9XCIpIHx8IChlLmN0cmxLZXkgJiYgZS5rZXkgPT0gXCIrXCIpKSB7IC8vIEN0cmwgKyArXG5cblx0XHRcdFx0bGV0IHNpemUgPSBwYXJzZUludChkaXZUZXh0LnN0eWxlLmZvbnRTaXplKTtcblx0XHRcdFx0c2l6ZSsrO1xuXHRcdFx0XHRzZXRGb250U2l6ZShzaXplKTtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZS5jdHJsS2V5ICYmIGUua2V5ID09IFwiLVwiKSB7IC8vIEN0cmwgKyAtXG5cdFx0XHRcdGxldCBzaXplID0gcGFyc2VJbnQoZGl2VGV4dC5zdHlsZS5mb250U2l6ZSk7XG5cdFx0XHRcdGlmIChzaXplID4gNikgc2l6ZS0tO1xuXHRcdFx0XHRzZXRGb250U2l6ZShzaXplKTtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXG5cblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXG5cdFx0ZGl2VGV4dC5vbmtleXVwID0gZXZ0ID0+IHtcblx0XHRcdGlmIChTaGFyZS5pc1NoYXJlZCgpKVxuXHRcdFx0XHRTaGFyZS5zZW5kTWFnbmV0Q2hhbmdlZChlbGVtZW50KTtcblx0XHRcdGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9O1xuXHR9XG5cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHsqfSB4XG5cdCAqIEBwYXJhbSB7Kn0geVxuXHQgKiBAZGVzY3JpcHRpb24gYWRkcyBhIG5ldyBtYWduZXQgdGV4dCBhdCBwb3NpdGlvbiB4IGFuZCB5XG5cdCAqL1xuXHRzdGF0aWMgYWRkTWFnbmV0VGV4dCh4LCB5KSB7XG5cdFx0Y29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRjb25zdCBkaXZUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuXHRcdGRpdi5hcHBlbmRDaGlsZChkaXZUZXh0KTtcblx0XHRkaXZUZXh0LmlubmVySFRNTCA9IFwidHlwZSB0ZXh0XCI7XG5cdFx0ZGl2VGV4dC5jb250ZW50RWRpdGFibGUgPSBcInRydWVcIjtcblx0XHRkaXZUZXh0LnN0eWxlLmZvbnRTaXplID0gXCIyNHB4XCI7XG5cdFx0ZGl2LmNsYXNzTGlzdC5hZGQoXCJtYWduZXRUZXh0XCIpO1xuXG5cblx0XHRNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChkaXYpO1xuXHRcdGRpdi5zdHlsZS5sZWZ0ID0geCArIFwicHhcIjtcblx0XHRkaXYuc3R5bGUudG9wID0geSArIFwicHhcIjtcblx0XHRkaXZUZXh0LmZvY3VzKCk7XG5cblx0XHRpZiAoU2hhcmUuaXNTaGFyZWQoKSlcblx0XHRcdFNoYXJlLnNlbmRNYWduZXRDaGFuZ2VkKGRpdik7XG5cblxuXHRcdGRvY3VtZW50LmV4ZWNDb21tYW5kKCdzZWxlY3RBbGwnLCBmYWxzZSwgbnVsbCk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gcmVtb3ZlIHRoZSBjdXJyZW50IG1hZ25ldFxuXHQgKi9cblx0c3RhdGljIHJlbW92ZUN1cnJlbnRNYWduZXQoKSB7XG5cdFx0aWYgKE1hZ25ldE1hbmFnZXIuY3VycmVudE1hZ25ldCA9PSB1bmRlZmluZWQpXG5cdFx0XHRyZXR1cm47XG5cdFx0U2hhcmUuZXhlY3V0ZShcIm1hZ25ldFJlbW92ZVwiLCBbTWFnbmV0TWFuYWdlci5jdXJyZW50TWFnbmV0LmlkXSk7XG5cdH1cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHsqfSBpZFxuXHQgKiBAZGVzY3JpcHRpb24gcmVtb3ZlIHRoZSBtYWduZXQgb2YgaWRcblx0ICovXG5cdHN0YXRpYyBtYWduZXRSZW1vdmUoaWQpIHtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkucmVtb3ZlKCk7XG5cdFx0TWFnbmV0TWFuYWdlci5jdXJyZW50TWFnbmV0ID09IHVuZGVmaW5lZDtcblx0XHRNYWduZXRNYW5hZ2VyLm1hZ25ldFVuZGVyQ3Vyc29yID0gdW5kZWZpbmVkO1xuXHR9XG5cblxuXHQvKipcblx0ICogQHBhcmFtIGltZ1xuXHQgKiBAZGVzY3JpcHRpb24gZHJhdyB0aGUgY3VycmVudCBtYWduZXQgdG8gdGhlIGNhbnZhc1xuXHQgKi9cblx0c3RhdGljIHByaW50TWFnbmV0KGltZykge1xuXG5cdFx0aWYgKCEoaW1nIGluc3RhbmNlb2YgSW1hZ2UpKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcInRoZSBjdXJyZW50IGltYWdlIGlzIG5vdCBhbiBpbWFnZSEgQ291bGQgbm90IGJlIHByaW50ZWQhXCIpXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgY29udGV4dCA9IGdldENhbnZhcygpLmdldENvbnRleHQoXCIyZFwiKTtcblxuXHRcdGNvbnN0IHggPSBwYXJzZUludChpbWcuc3R5bGUubGVmdCk7XG5cdFx0Y29uc3QgeSA9IHBhcnNlSW50KGltZy5zdHlsZS50b3ApO1xuXHRcdGxldCBzID0gaW1nLnN0eWxlLmNsaXBQYXRoO1xuXG5cdFx0cyA9IHMuc3Vic3RyKFwicG9seWdvbihcIi5sZW5ndGgsIHMubGVuZ3RoIC0gXCJwb2x5Z29uKFwiLmxlbmd0aCAtIFwiKVwiLmxlbmd0aCk7XG5cblx0XHRjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLW92ZXJcIjtcblx0XHRjb250ZXh0LnNhdmUoKTtcblx0XHRjb250ZXh0LmJlZ2luUGF0aCgpO1xuXHRcdGxldCBiZWdpbiA9IHRydWU7XG5cdFx0Zm9yIChsZXQgcG9pbnRTdHIgb2Ygcy5zcGxpdChcIixcIikpIHtcblx0XHRcdHBvaW50U3RyID0gcG9pbnRTdHIudHJpbSgpO1xuXHRcdFx0Y29uc3QgYSA9IHBvaW50U3RyLnNwbGl0KFwiIFwiKTtcblx0XHRcdGlmIChiZWdpbilcblx0XHRcdFx0Y29udGV4dC5tb3ZlVG8oeCArIHBhcnNlSW50KGFbMF0pLCB5ICsgcGFyc2VJbnQoYVsxXSkpO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRjb250ZXh0LmxpbmVUbyh4ICsgcGFyc2VJbnQoYVswXSksIHkgKyBwYXJzZUludChhWzFdKSk7XG5cdFx0XHRiZWdpbiA9IGZhbHNlO1xuXHRcdH1cblx0XHRjb250ZXh0LmNsb3NlUGF0aCgpO1xuXHRcdGNvbnRleHQuY2xpcCgpO1xuXG5cdFx0Y29udGV4dC5kcmF3SW1hZ2UoaW1nLCB4LCB5KTtcblxuXHRcdGNvbnRleHQucmVzdG9yZSgpO1xuXG5cblxuXHRcdEJvYXJkTWFuYWdlci5zYXZlKCk7XG5cdH1cblxuXG5cblxufVxuIiwiaW1wb3J0IHsgQ2hhbGtDdXJzb3IgfSBmcm9tICcuL0NoYWxrQ3Vyc29yJztcblxuLyoqXG4gKiB0aGUgY2lyY3VsYXIgcGFsZXR0ZVxuICovXG5leHBvcnQgY2xhc3MgUGFsZXR0ZSB7XG4gICAgLyoqIGNvbG9ycyB0aGF0IGNhbiBoYXZlIGEgY2hhbGsuIFRoZSBmaXJzdCBjb2xvciAqbXVzdCogYmUgd2hpdGUgKi9cbiAgICBjb2xvcnMgPSBbXCJ3aGl0ZVwiLCBcInllbGxvd1wiLCBcIm9yYW5nZVwiLCBcInJnYigxMDAsIDE3MiwgMjU1KVwiLCBcIkNyaW1zb25cIiwgXCJQbHVtXCIsIFwiTGltZUdyZWVuXCJdO1xuXG5cbiAgICBidXR0b25zID0gW107XG4gICAgY3VycmVudENvbG9ySUQgPSAwO1xuICAgIG9uY2hhbmdlID0gKCkgPT4geyB9O1xuXG5cbiAgICBzdGF0aWMgcmFkaXVzID0gOTY7XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpdGlvbiBjcmVhdGUgKHRoZSBET00gZWxlbWVudHMgb2YpIHRoZSBwYWxldHRlXG4gICAgICovXG4gICAgX2NyZWF0ZVBhbGV0dGUoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFsZXR0ZVwiKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5idXR0b25zW2ldID0gdGhpcy5fY3JlYXRlQ29sb3JCdXR0b24oaSk7XG4gICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodGhpcy5idXR0b25zW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBzd2l0Y2ggdGhlIGZpcnN0IGNvbG9yICh3aGl0ZSA8PT4gYmxhY2spXG4gICAgICovXG4gICAgc3dpdGNoQmxhY2tBbmRXaGl0ZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb2xvcnNbMF0gPSAodGhpcy5jb2xvcnNbMF0gPT0gXCJ3aGl0ZVwiKSA/IFwiYmxhY2tcIiA6IFwid2hpdGVcIjtcbiAgICAgICAgdGhpcy5vbmNoYW5nZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBpICBhbiBpbmRleCBiZXR3ZWVuIDAgYW5kIHRoaXMuY29sb3JzLmxlbmd0aCAtIDFcbiAgICAgKiBAZGVzY3JpcHRpb24gY3JlYXRlIHRoZSBidXR0b24gZm9yIHRoZSBjb2xvciBvZiBpbmRleCBpXG4gICAgICovXG4gICAgX2NyZWF0ZUNvbG9yQnV0dG9uKGk6IG51bWJlcik6IEhUTUxJbWFnZUVsZW1lbnQge1xuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLnNyYyA9IENoYWxrQ3Vyc29yLmdldEN1cnNvclVSTCh0aGlzLmNvbG9yc1tpXSk7XG4gICAgICAgIGltZy5jbGFzc0xpc3QuYWRkKFwicGFsZXR0ZUNvbG9yQnV0dG9uXCIpO1xuXG4gICAgICAgIGNvbnN0IGFuZ2xlID0gLU1hdGguUEkgLyAyICsgMiAqIE1hdGguUEkgKiBpIC8gdGhpcy5jb2xvcnMubGVuZ3RoO1xuXG4gICAgICAgIGltZy5zdHlsZS50b3AgPSAoUGFsZXR0ZS5yYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkgLSAyMikgKyBcInB4XCI7XG4gICAgICAgIGltZy5zdHlsZS5sZWZ0ID0gKFBhbGV0dGUucmFkaXVzICogTWF0aC5jb3MoYW5nbGUpIC0gMTYpICsgXCJweFwiO1xuICAgICAgICBpbWcuc3R5bGUuYm9yZGVyQ29sb3IgPSB0aGlzLmNvbG9yc1tpXTtcblxuICAgICAgICBpbWcub25tb3VzZWRvd24gPSAoZXZ0KSA9PiB7IGV2dC5wcmV2ZW50RGVmYXVsdCgpOyB9IC8vdG8gcHJldmVudCB0aGUgZHJhZyBhbmQgZHJvcCBvZiB0aGUgaW1hZ2Ugb2YgdGhlIGNoYWxrXG5cbiAgICAgICAgaW1nLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJ1dHRvbnNbdGhpcy5jdXJyZW50Q29sb3JJRF0uY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29sb3JJRCA9IGk7XG4gICAgICAgICAgICB0aGlzLmJ1dHRvbnNbdGhpcy5jdXJyZW50Q29sb3JJRF0uY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLm9uY2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gc2VsZWN0IHRoZSBuZXh0IGNvbG9yXG4gICAgICovXG4gICAgbmV4dCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5idXR0b25zW3RoaXMuY3VycmVudENvbG9ySURdLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgdGhpcy5jdXJyZW50Q29sb3JJRCsrO1xuICAgICAgICB0aGlzLmN1cnJlbnRDb2xvcklEID0gdGhpcy5jdXJyZW50Q29sb3JJRCAlIHRoaXMuY29sb3JzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5idXR0b25zW3RoaXMuY3VycmVudENvbG9ySURdLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgdGhpcy5vbmNoYW5nZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBzZWxlY3QgdGhlIHByZXZpb3VzIGNvbG9yXG4gICAgICovXG4gICAgcHJldmlvdXMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuYnV0dG9uc1t0aGlzLmN1cnJlbnRDb2xvcklEXS5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7XG4gICAgICAgIHRoaXMuY3VycmVudENvbG9ySUQtLTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENvbG9ySUQgPCAwKVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29sb3JJRCA9IHRoaXMuY29sb3JzLmxlbmd0aCAtIDE7XG4gICAgICAgIHRoaXMuYnV0dG9uc1t0aGlzLmN1cnJlbnRDb2xvcklEXS5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XG4gICAgICAgIHRoaXMub25jaGFuZ2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gYSBwb2ludCB7eDogLi4uLCB5OiAuLi59XG4gICAgICogQGRlc2NyaXB0aW9uIHNob3cgdGhlIHBhbGV0dGUgYXQgcG9zaXRpb24gcG9zaXRpb25cbiAgICAgKi9cbiAgICBzaG93KHBvc2l0aW9uOiB7IHgsIHkgfSk6IHZvaWQge1xuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhbGV0dGVcIik7XG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICB0aGlzLl9jcmVhdGVQYWxldHRlKCk7XG5cbiAgICAgICAgcG9zaXRpb24ueSA9IE1hdGgubWF4KHBvc2l0aW9uLnksIFBhbGV0dGUucmFkaXVzICsgMTYgKyA0OCk7XG4gICAgICAgIHBvc2l0aW9uLnggPSBNYXRoLm1heChwb3NpdGlvbi54LCBQYWxldHRlLnJhZGl1cyArIDE2ICsgNDgpO1xuXG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gcG9zaXRpb24ueCArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9IHBvc2l0aW9uLnkgKyBcInB4XCI7XG4gICAgICAgIGRpdi5jbGFzc0xpc3QucmVtb3ZlKFwiUGFsZXR0ZUhpZGVcIik7XG4gICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKFwiUGFsZXR0ZVNob3dcIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIGhpZGUgdGhlIHBhbGV0dGVcbiAgICAgKi9cbiAgICBoaWRlKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhbGV0dGVcIik7XG4gICAgICAgIGRpdi5jbGFzc0xpc3QucmVtb3ZlKFwiUGFsZXR0ZVNob3dcIik7XG4gICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKFwiUGFsZXR0ZUhpZGVcIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZmYgdGhlIHBhbGV0dGUgaXMgc2hvd25cbiAgICAgKi9cbiAgICBpc1Nob3duKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYWxldHRlXCIpLmNsYXNzTGlzdC5jb250YWlucyhcIlBhbGV0dGVTaG93XCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRoZSBzZWxlY3RlZCBjb2xvclxuICAgICAqL1xuICAgIGdldEN1cnJlbnRDb2xvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xvcnNbdGhpcy5jdXJyZW50Q29sb3JJRF07XG4gICAgfVxufVxuIiwiLyoqIEdhbGUtU2hhcGxleSAqL1xuXG5pbXBvcnQgeyBTaGFyZSB9IGZyb20gJy4vc2hhcmUnO1xuaW1wb3J0IHsgTWFnbmV0TWFuYWdlciB9IGZyb20gJy4vbWFnbmV0TWFuYWdlcic7XG5cblxuXG5leHBvcnQgY2xhc3MgTXlNYWduZXRzIHtcblxuICAgIHN0YXRpYyBjcmVhdGVNYWduZXQoY29udGVudDogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgby5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgICAgICByZXR1cm4gbztcbiAgICB9XG5cblxuICAgIHN0YXRpYyBtYWduZXRzQ2xlYXIoKTogdm9pZCB7XG4gICAgICAgIFNoYXJlLmV4ZWN1dGUoXCJtYWduZXRzQ2xlYXJcIiwgW10pO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGVNYWduZXRHU19CKGNvbnRlbnQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG8uaW5uZXJIVE1MID0gY29udGVudDtcbiAgICAgICAgby5jbGFzc0xpc3QuYWRkKFwiR1NfQlwiKVxuICAgICAgICByZXR1cm4gbztcbiAgICB9XG5cblxuICAgIHN0YXRpYyBtYWduZXRHUygpOiB2b2lkIHtcbiAgICAgICAgTXlNYWduZXRzLm1hZ25ldHNDbGVhcigpO1xuICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChNeU1hZ25ldHMuY3JlYXRlTWFnbmV0KFwiMVwiKSlcbiAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXQoTXlNYWduZXRzLmNyZWF0ZU1hZ25ldChcIjJcIikpXG4gICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KE15TWFnbmV0cy5jcmVhdGVNYWduZXQoXCIzXCIpKVxuICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChNeU1hZ25ldHMuY3JlYXRlTWFnbmV0R1NfQihcIjFcIikpXG4gICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KE15TWFnbmV0cy5jcmVhdGVNYWduZXRHU19CKFwiMlwiKSlcbiAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXQoTXlNYWduZXRzLmNyZWF0ZU1hZ25ldEdTX0IoXCIzXCIpKVxuXG4gICAgfVxuXG4gICAgLyoqIFNvcnRpbmcgKi9cblxuICAgIHN0YXRpYyBjcmVhdGVNYWduZXRSYWluYm93KGNvbnRlbnQ6IG51bWJlcik6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgbyA9IE15TWFnbmV0cy5jcmVhdGVNYWduZXQoXCJcIiArIGNvbnRlbnQpO1xuICAgICAgICBjb25zdCBjb2xvcnMgPSBbJ3JnYigxMzksIDk3LCAxOTUpJywgJ3JnYigxMTUsIDk3LCAxOTUpJywgJ3JnYig5MywgMTA1LCAyMTQpJywgJ3JnYig0MCwgMTY3LCAyMjYpJywgJ3JnYig0MCwgMjA0LCAyMjYpJywgJ3JnYig0MCwgMjI2LCAyMDEpJywgJ3JnYig0MCwgMjI2LCAxNDgpJyxcbiAgICAgICAgICAgICdyZ2IoNDAsIDIyNiwgMTAyKScsICdyZ2IoMTMwLCAyMjYsIDQwKScsICdyZ2IoMTcwLCAyMjYsIDQwKScsICdyZ2IoMjIzLCAyMjYsIDQwKScsICdyZ2IoMjI2LCAxODMsIDQwKScsXG4gICAgICAgICAgICAncmdiKDIyNiwgMTUyLCA0MCknLCAncmdiKDIyNiwgMTI0LCA0MCknLCAncmdiKDIyNiwgNzcsIDQwKScsICdyZ2IoMjU1LCAwLCAwKScsICdyZ2IoMTQ0LCAyNCwgMjQpJ107XG4gICAgICAgIG8uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3JzW2NvbnRlbnQgLSAxXTtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgbWFnbmV0U29ydGluZygpOiB2b2lkIHtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5jbGVhck1hZ25ldCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAxNzsgaSsrKVxuICAgICAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXQoTXlNYWduZXRzLmNyZWF0ZU1hZ25ldFJhaW5ib3coaSkpXG4gICAgfVxuXG4gICAgLyoqIEItdHJlZXMgKi9cblxuICAgIHN0YXRpYyBtYWduZXRCVHJlZXMoKTogdm9pZCB7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuY2xlYXJNYWduZXQoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTc7IGkrKylcbiAgICAgICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KE15TWFnbmV0cy5jcmVhdGVNYWduZXRSYWluYm93KGkpKVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDc7IGkrKylcbiAgICAgICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0SW1hZ2UoXCJCdHJlZW5vZGUucG5nXCIpO1xuXG5cbiAgICB9XG5cbiAgICAvKiogR3JhcGhzICovXG5cbiAgICBzdGF0aWMgbWFnbmV0R3JhcGhOb2RlcygpOiB2b2lkIHtcbiAgICAgICAgLy9NYWduZXRNYW5hZ2VyLmNsZWFyTWFnbmV0KCk7XG4gICAgICAgIGZvciAoY29uc3QgaSBvZiBbJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJ10pXG4gICAgICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChNeU1hZ25ldHMuY3JlYXRlTWFnbmV0KGkpKVxuICAgIH1cblxuXG4gICAgc3RhdGljIG1hZ25ldEZsb3lkc0FsZ29yaXRobSgpOiB2b2lkIHtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXRJbWFnZShcInR1cnRsZXJhYmJpdC90dXJ0bGUucG5nXCIpO1xuICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldEltYWdlKFwidHVydGxlcmFiYml0L3JhYmJpdC5wbmdcIik7XG5cbiAgICB9XG5cbiAgICBzdGF0aWMgbWFnbmV0R3JhcGhTaW1DaXR5KCk6IHZvaWQge1xuICAgICAgICAvL01hZ25ldE1hbmFnZXIuY2xlYXJNYWduZXQoKTtcblxuICAgICAgICBjb25zdCBzaW1DaXR5UGljdHVyZXMgPSBbXCJhbnRlbm5lLnBuZ1wiLCBcImNvbW1lcmNlLnBuZ1wiLCBcInBhcmtpbmcucG5nXCIsIFwidG91ci5wbmdcIixcbiAgICAgICAgICAgIFwiYmF0aW1lbnRwbGF0LnBuZ1wiLCBcImZvdXJzb2xhaXJlLnBuZ1wiLCBcInJlc2lkZW5jZTIucG5nXCIsIFwidXNpbmUucG5nXCIsXG4gICAgICAgICAgICBcImJ1aWxkaW5nLnBuZ1wiLCBcImdhcmUucG5nXCIsIFwicmVzaWRlbmNlYmxldS5wbmdcIixcbiAgICAgICAgICAgIFwiY2hhdGVhdWRlYXUucG5nXCIsIFwibnVjbGVhcnBsYW50LnBuZ1wiLCBcInJlc2lkZW5jZS5wbmdcIixcbiAgICAgICAgICAgIFwiY2l0ZXJuZS5wbmdcIiwgXCJwYXJjLnBuZ1wiLCBcInN0YWRlLnBuZ1wiXG4gICAgICAgIF07XG5cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIHNpbUNpdHlQaWN0dXJlcykge1xuICAgICAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXRJbWFnZShcInNpbUNpdHlHcmFwaC9cIiArIG5hbWUpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvKiogVGlsaW5ncyAqL1xuXG4gICAgc3RhdGljIGNyZWF0ZVRpbGluZyhsZWZ0Q29sb3IsIHVwQ29sb3IsIHJpZ2h0Q29sb3IsIGJvdHRvbUNvbG9yKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCB4bWxucyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IDEwMDtcbiAgICAgICAgY29uc3Qgc3ZnRWxlbSA9IDxTVkdFbGVtZW50PmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh4bWxucywgXCJzdmdcIik7XG4gICAgICAgIHN2Z0VsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ2aWV3Qm94XCIsIFwiMCAwIFwiICsgc2l6ZSArIFwiIFwiICsgc2l6ZSk7XG4gICAgICAgIHN2Z0VsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCBcIlwiICsgc2l6ZSk7XG4gICAgICAgIHN2Z0VsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgXCJcIiArIHNpemUpO1xuICAgICAgICBzdmdFbGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVQYXRoKHBhdGhEZXNjLCBjb2xvcikge1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh4bWxucywgXCJwYXRoXCIpO1xuICAgICAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnc3Ryb2tlJywgXCIjMzMzMzMzXCIpO1xuICAgICAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnc3Ryb2tlLXdpZHRoJywgXCJcIiArIDEwKTtcbiAgICAgICAgICAgIHBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0cm9rZS1saW5lam9pbicsIFwicm91bmRcIik7XG4gICAgICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgcGF0aERlc2MpO1xuICAgICAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsIGNvbG9yKTtcbiAgICAgICAgICAgIHBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ29wYWNpdHknLCBcIlwiICsgMS4wKTtcbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9XG5cbiAgICAgICAgc3ZnRWxlbS5hcHBlbmRDaGlsZChjcmVhdGVQYXRoKFwiTSA1MCA1MCBMIDAgMCBMIDAgMTAwIFpcIiwgbGVmdENvbG9yKSk7XG4gICAgICAgIHN2Z0VsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlUGF0aChcIk0gNTAgNTAgTCAwIDAgTCAxMDAgMCBaXCIsIHVwQ29sb3IpKTtcbiAgICAgICAgc3ZnRWxlbS5hcHBlbmRDaGlsZChjcmVhdGVQYXRoKFwiTSA1MCA1MCBMIDEwMCAwIEwgMTAwIDEwMCBaXCIsIHJpZ2h0Q29sb3IpKTtcbiAgICAgICAgc3ZnRWxlbS5hcHBlbmRDaGlsZChjcmVhdGVQYXRoKFwiTSA1MCwgNTAgTCAxMDAgMTAwIEwgMCAxMDAgWlwiLCBib3R0b21Db2xvcikpO1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoc3ZnRWxlbSk7XG4gICAgICAgIGRpdi5zdHlsZS5wYWRkaW5nID0gXCIwcHhcIjtcbiAgICAgICAgcmV0dXJuIGRpdjtcblxuICAgIH1cblxuXG4gICAgc3RhdGljIG1hZ25ldFRpbGluZ3MoKTogdm9pZCB7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuY2xlYXJNYWduZXQoKTtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXQoTXlNYWduZXRzLmNyZWF0ZVRpbGluZyhcInllbGxvd1wiLCBcInJlZFwiLCBcImdyZWVuXCIsIFwicmVkXCIpKTtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXQoTXlNYWduZXRzLmNyZWF0ZVRpbGluZyhcImdyZWVuXCIsIFwicmVkXCIsIFwiZ3JlZW5cIiwgXCJ5ZWxsb3dcIikpO1xuICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChNeU1hZ25ldHMuY3JlYXRlVGlsaW5nKFwiZ3JlZW5cIiwgXCJyZWRcIiwgXCJncmVlblwiLCBcInllbGxvd1wiKSk7XG5cbiAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXQoTXlNYWduZXRzLmNyZWF0ZVRpbGluZyhcInJlZFwiLCBcInJlZFwiLCBcInJlZFwiLCBcInJlZFwiKSk7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KE15TWFnbmV0cy5jcmVhdGVUaWxpbmcoXCJyZWRcIiwgXCJ5ZWxsb3dcIiwgXCJyZWRcIiwgXCJncmVlblwiKSk7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KE15TWFnbmV0cy5jcmVhdGVUaWxpbmcoXCJyZWRcIiwgXCJ5ZWxsb3dcIiwgXCJ5ZWxsb3dcIiwgXCJ5ZWxsb3dcIikpO1xuXG4gICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KE15TWFnbmV0cy5jcmVhdGVUaWxpbmcoXCJncmVlblwiLCBcInJlZFwiLCBcImdyZWVuXCIsIFwieWVsbG93XCIpKTtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXQoTXlNYWduZXRzLmNyZWF0ZVRpbGluZyhcImdyZWVuXCIsIFwiZ3JlZW5cIiwgXCJyZWRcIiwgXCJncmVlblwiKSk7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuYWRkTWFnbmV0KE15TWFnbmV0cy5jcmVhdGVUaWxpbmcoXCJyZWRcIiwgXCJ5ZWxsb3dcIiwgXCJyZWRcIiwgXCJncmVlblwiKSk7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgc3RhdGljIG1hZ25ldFVuaW9uRmluZCgpOiB2b2lkIHtcbiAgICAgICAgTWFnbmV0TWFuYWdlci5jbGVhck1hZ25ldCgpO1xuICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldEltYWdlKFwidW5pb25maW5kMC5wbmdcIik7XG4gICAgfVxuXG5cblxuXG5cblxuXG4gICAgc3RhdGljIG1hZ25ldEdvKCk6IHZvaWQge1xuICAgICAgICBNYWduZXRNYW5hZ2VyLmNsZWFyTWFnbmV0KCk7XG5cbiAgICAgICAgY29uc3QgZiA9IChjb2xvciwgeCkgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgTWFnbmV0TWFuYWdlci5hZGRNYWduZXRJbWFnZShcImdvL1wiICsgY29sb3IgKyBcIi5wbmdcIixcbiAgICAgICAgICAgICAgICAgICAgKGltZykgPT4gU2hhcmUuZXhlY3V0ZShcIm1hZ25ldE1vdmVcIiwgW2ltZy5pZCwgeCwgMTAgKyBpICogNV0pKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZihcImJsYWNrXCIsIDIwKTtcbiAgICAgICAgZihcIndoaXRlXCIsIDUwKTtcblxuICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldEltYWdlKFwiZ28vZ29iYW4ucG5nXCIsIChpbWcpID0+IFNoYXJlLmV4ZWN1dGUoXCJtYWduZXRNb3ZlXCIsIFtpbWcuaWQsIDExMCwgMjBdKSk7XG5cbiAgICB9XG5cblxuICAgIC8qKlxuICpcbiAqIEBwYXJhbSBtYWduZXRTZXROYW1lXG4gKiBAZGVzY3JpcHRpb24gcmVnaXN0ZXIgYSBzZXQgb2YgbWFnbmV0cy4gQWRkIGl0IHRvIHRoZSBtYWduZXQgbWVudS5cbiAqL1xuICAgIHN0YXRpYyByZWdpc3RlcihtYWduZXRTZXROYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWFnbmV0U2V0TmFtZSkub25jbGljayA9IE15TWFnbmV0c1ttYWduZXRTZXROYW1lXTtcbiAgICB9XG5cblxuXG5cbiAgICBzdGF0aWMgbG9hZE1hZ25ldHMoKTogdm9pZCB7XG4gICAgICAgIE15TWFnbmV0cy5yZWdpc3RlcihcIm1hZ25ldEdTXCIpO1xuICAgICAgICBNeU1hZ25ldHMucmVnaXN0ZXIoXCJtYWduZXRTb3J0aW5nXCIpO1xuICAgICAgICBNeU1hZ25ldHMucmVnaXN0ZXIoXCJtYWduZXRCVHJlZXNcIik7XG4gICAgICAgIE15TWFnbmV0cy5yZWdpc3RlcihcIm1hZ25ldEdyYXBoTm9kZXNcIik7XG4gICAgICAgIE15TWFnbmV0cy5yZWdpc3RlcihcIm1hZ25ldFRpbGluZ3NcIik7XG4gICAgICAgIE15TWFnbmV0cy5yZWdpc3RlcihcIm1hZ25ldFVuaW9uRmluZFwiKTtcbiAgICAgICAgTXlNYWduZXRzLnJlZ2lzdGVyKFwibWFnbmV0R3JhcGhTaW1DaXR5XCIpO1xuICAgICAgICBNeU1hZ25ldHMucmVnaXN0ZXIoXCJtYWduZXRGbG95ZHNBbGdvcml0aG1cIik7XG4gICAgICAgIE15TWFnbmV0cy5yZWdpc3RlcihcIm1hZ25ldEdvXCIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldENhbnZhcyB9IGZyb20gJy4vbWFpbic7XG5pbXBvcnQgeyBNYWduZXRNYW5hZ2VyIH0gZnJvbSAnLi9tYWduZXRNYW5hZ2VyJztcbmltcG9ydCB7IEJvYXJkTWFuYWdlciB9IGZyb20gJy4vYm9hcmRNYW5hZ2VyJztcbmltcG9ydCB7IE1lbnUgfSBmcm9tICcuL01lbnUnXG5cbi8qKlxuICogdGhpcyBjbGFzcyBjb250YWlucyB0aGUgY29kZSBmb3IgbG9hZGluZy9zYXZpbmcgYSB0YWJsZWF1bm9pci4gQWxzbyBmb3IgaW1wb3J0aW5nIGltYWdlcyBhcyBtYWduZXRzLlxuICovXG5leHBvcnQgY2xhc3MgTG9hZFNhdmUge1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIGluaXRpYWxpemUgdGhlIGJ1dHRvbiBTYXZlIGFuZCB0aGUgZHJhZyBhbmQgZHJvcCBvZiBmaWxlc1xuICAgICAqL1xuICAgIHN0YXRpYyBpbml0KCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogbG9hZCBhIGZpbGUgZnJvbSB0aGUgPGlucHV0IHR5cGU9XCJmaWxlXCIuLi4+XG4gICAgICAgICAqL1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbGVcIikub25jaGFuZ2UgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBMb2FkU2F2ZS5sb2FkRmlsZSgoPGFueT50aGlzKS5maWxlc1swXSk7XG4gICAgICAgIH07XG5cblxuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2F2ZVwiKS5vbmNsaWNrID0gTG9hZFNhdmUuc2F2ZTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJleHBvcnRQbmdcIikub25jbGljayA9IExvYWRTYXZlLmV4cG9ydFBuZztcblxuXG5cblxuICAgICAgICBkb2N1bWVudC5ib2R5Lm9uZHJhZ292ZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgZGVmYXVsdCBiZWhhdmlvciAoUHJldmVudCBmaWxlIGZyb20gYmVpbmcgb3BlbmVkKVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5ib2R5Lm9uZHJvcCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gUHJldmVudCBkZWZhdWx0IGJlaGF2aW9yIChQcmV2ZW50IGZpbGUgZnJvbSBiZWluZyBvcGVuZWQpXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIERhdGFUcmFuc2Zlckl0ZW1MaXN0IGludGVyZmFjZSB0byBhY2Nlc3MgdGhlIGZpbGUocylcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50LmRhdGFUcmFuc2Zlci5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBkcm9wcGVkIGl0ZW1zIGFyZW4ndCBmaWxlcywgcmVqZWN0IHRoZW1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlci5pdGVtc1tpXS5raW5kID09PSAnZmlsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlID0gZXZlbnQuZGF0YVRyYW5zZmVyLml0ZW1zW2ldLmdldEFzRmlsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgTG9hZFNhdmUubG9hZEZpbGUoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFVzZSBEYXRhVHJhbnNmZXIgaW50ZXJmYWNlIHRvIGFjY2VzcyB0aGUgZmlsZShzKVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIExvYWRTYXZlLmxvYWRGaWxlKGZpbGVbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGaWxlfSBmaWxlXG4gICAgICogQGRlc2NyaXB0aW9uIGxvYWQgdGhlIGZpbGUgZmlsZVxuICAgICAqL1xuICAgIHN0YXRpYyBsb2FkRmlsZShmaWxlKSB7XG4gICAgICAgIGlmIChmaWxlKSB7XG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZ0KSB7IH1cblxuICAgICAgICAgICAgLyoqIGxvYWQgYSAudGFibGVhdW5vaXIgZmlsZSwgdGhhdCBpcywgYSBmaWxlIGNvbnRhaW5pbmcgdGhlIGJsYWNrYm9hcmQgKyBzb21lIG1hZ25ldHMgKi9cbiAgICAgICAgICAgIGlmIChmaWxlLm5hbWUuZW5kc1dpdGgoXCIudGFibGVhdW5vaXJcIikpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlLCBcIlVURi04XCIpO1xuICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZ0KSB7IExvYWRTYXZlLmxvYWRKU09OKEpTT04ucGFyc2UoPGFueT5ldnQudGFyZ2V0LnJlc3VsdCkpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiogbG9hZCBhbiBpbWFnZSBhbmQgYWRkIGl0IGFzIGEgbWFnbmV0ICovXG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSA8c3RyaW5nPmV2dC50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICBNYWduZXRNYW5hZ2VyLmFkZE1hZ25ldChpbWcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgTWVudS5oaWRlKCk7IC8vaGlkZSB0aGUgbWVudSBhZnRlciBsb2FkaW5nXG4gICAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmlsZVxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqIEBkZXNjcnB0aW9uIGxvYWQgdGhlIGltYWdlIGluIHRoZSBmaWxlLCBvbmNlIHRoZSBmaWxlIGlzIGxvYWRlZC4gQ2FsbCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICovXG4gICAgc3RhdGljIGZldGNoSW1hZ2VGcm9tRmlsZShmaWxlLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uIChldnQpIHsgfVxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgaW1nLnNyYyA9IDxzdHJpbmc+ZXZ0LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4gY2FsbGJhY2soaW1nKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IG9ialxuICAgICAqIEBkZXNjcmlwdGlvbiBsb2FkIHRoZSBKU09OIG9iamVjdDpcbiAgICAgKiBvYmouY2FudmFzRGF0YVVSTCBpcyB0aGUgY29udGVudCBvZiB0aGUgY2FudmFzXG4gICAgICogb2JqLm1hZ25ldHMgaXMgdGhlIEhUTUwgY29kZSBvZiB0aGUgbWFnbmV0c1xuICAgICAqL1xuICAgIHN0YXRpYyBsb2FkSlNPTihvYmopIHtcbiAgICAgICAgQm9hcmRNYW5hZ2VyLmxvYWQob2JqLmNhbnZhc0RhdGFVUkwpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hZ25ldHNcIikuaW5uZXJIVE1MID0gb2JqLm1hZ25ldHM7XG4gICAgICAgIE1hZ25ldE1hbmFnZXIuaW5zdGFsbE1hZ25ldHMoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBleHBvcnQgdGhlIGJvYXJkIGFzIGEgLnBuZyBpbWFnZSBmaWxlXG4gICAgICovXG4gICAgc3RhdGljIGV4cG9ydFBuZygpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbiAgICAgICAgYWxlcnQoXCJ0byBiZSBpbXBsZW1lbnRlZC4gRG8gc2NyZWVuc2hvdHMuXCIpO1xuICAgICAgICAvKlxuICAgICAgICAgKiBgbnBtIGluc3RhbGwgLS1zYXZlLWRlcHMgaHRtbDJjYW52YXNgXG4gICAgICAgICAqIGltcG9ydCBodG1sMmNhbnZhcyBmcm9tICdodG1sMmNhbnZhcyc7XG4gICAgICAgICAqIGh0bWwyY2FudmFzKG5vZGUpLnRoZW4oY2FudmFzID0+IHtcbiAgICAgICAgICAgIExvYWRTYXZlLmRvd25sb2FkRGF0YVVSTChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4cG9ydFBuZ05hbWVcIikudmFsdWUgKyBcIi5wbmdcIiwgY2FudmFzLnRvRGF0YVVSTCgpKTtcbiAgICAgICAgfSk7Ki9cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBzYXZlIHRoZSBibGFja2JvYXJkIGFuZCB0aGUgbWFnbmV0c1xuICAgICAqL1xuICAgIHN0YXRpYyBzYXZlKCkge1xuICAgICAgICBjb25zdCBtYWduZXRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWduZXRzXCIpLmlubmVySFRNTDtcbiAgICAgICAgY29uc3QgY2FudmFzRGF0YVVSTCA9IGdldENhbnZhcygpLnRvRGF0YVVSTCgpO1xuICAgICAgICBjb25zdCBvYmogPSB7IG1hZ25ldHM6IG1hZ25ldHMsIGNhbnZhc0RhdGFVUkw6IGNhbnZhc0RhdGFVUkwgfTtcbiAgICAgICAgTG9hZFNhdmUuZG93bmxvYWQoKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiKSkudmFsdWUgKyBcIi50YWJsZWF1bm9pclwiLCBKU09OLnN0cmluZ2lmeShvYmopKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gZmlsZW5hbWVcbiAgICAgKiBAcGFyYW0geyp9IHRleHRcbiAgICAgKiBAZGVzY3JpcHRpb24gcHJvcG9zZSB0byBkb3dubG9hZCBhIGZpbGUgY2FsbGVkIGZpbGVuYW1lIHRoYXQgY29udGFpbnMgdGhlIHRleHQgdGV4dFxuICAgICAqL1xuICAgIHN0YXRpYyBkb3dubG9hZChmaWxlbmFtZSwgdGV4dCkge1xuICAgICAgICBMb2FkU2F2ZS5kb3dubG9hZERhdGFVUkwoZmlsZW5hbWUsICdkYXRhOnRleHQvcGxhaW47Y2hhcnNldD11dGYtOCwnICsgZW5jb2RlVVJJQ29tcG9uZW50KHRleHQpKVxuXG4gICAgfVxuXG5cblxuICAgIC8qKlxuICpcbiAqIEBwYXJhbSB7Kn0gZmlsZW5hbWVcbiAqIEBwYXJhbSB7Kn0gZGF0YVVSTFxuICogQGRlc2NyaXB0aW9uIHByb3Bvc2UgdG8gZG93bmxvYWQgYSBmaWxlIHdpdGggdGhlIGNvbnRlbnRcbiAqL1xuICAgIHN0YXRpYyBkb3dubG9hZERhdGFVUkwoZmlsZW5hbWUsIGRhdGFVUkwpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBkYXRhVVJMKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgZmlsZW5hbWUpO1xuXG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KTtcblxuICAgICAgICBlbGVtZW50LmNsaWNrKCk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IExheW91dCB9IGZyb20gJy4vTGF5b3V0JztcbmltcG9ydCB7IEVycm9yTWVzc2FnZSB9IGZyb20gJy4vRXJyb3JNZXNzYWdlJztcblxuZXhwb3J0IGNsYXNzIFRvb2xiYXIge1xuXG5cbiAgICAvKipcbiAgICAgKiBpbml0aWFsaXphdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBpbml0KCkge1xuICAgICAgICBpZiAoTGF5b3V0LmlzVGFjdGlsZURldmljZSgpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uQ2xvc2VDb250cm9sc1wiKS5oaWRkZW4gPSB0cnVlOyAvL29uIHBob25lIG9yIHRhYmxldCwgd2UgY2FuIG5vdCByZW1vdmUgdGhlIHRvb2xiYXIsIHRoZXJlZm9yZSB0aGUgYnV0dG9uIGlzIGhpZGRlblxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3BhbnMgPSA8Tm9kZUxpc3RPZjxIVE1MU3BhbkVsZW1lbnQ+PmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjY29udHJvbHMgPiBzcGFuXCIpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc3BhbnNbaV0uaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIEVycm9yTWVzc2FnZS5zaG93KFwiRXJyb3IgaW4gbG9hZGluZyB0aGUgdG9vbGJhci4gWW91IGNhbiBob3dldmVyIHVzZSBUYWJsZWF1bm9pci5cIilcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgVG9vbGJhci5oZWxwQnV0dG9uRGl2aWRlKCk7XG4gICAgICAgIFRvb2xiYXIuaGVscEZvckJ1dHRvbkNsb3NlQ29udHJvbHMoKTtcblxuICAgIH1cblxuXG5cblxuXG4gICAgLyoqXG4gICAgICogaGVscCBhbmltYXRpb24gZm9yIGhpZGluZyB0aGUgdG9vbGJhclxuICAgICAqL1xuICAgIHN0YXRpYyBoZWxwRm9yQnV0dG9uQ2xvc2VDb250cm9scygpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25DbG9zZUNvbnRyb2xzXCIpLm9ubW91c2VlbnRlciA9ICgpID0+IHsgVG9vbGJhci5nZXRUb29sYmFyKCkuc3R5bGUub3BhY2l0eSA9IFwiMC41XCIgfTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25DbG9zZUNvbnRyb2xzXCIpLm9ubW91c2VsZWF2ZSA9ICgpID0+IHsgVG9vbGJhci5nZXRUb29sYmFyKCkuc3R5bGUub3BhY2l0eSA9IFwiMVwiIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaGVscCBhbmltYXRpb24gZm9yIGRpdmlkZSB0aGUgc2NyZWVuXG4gICAgICovXG4gICAgc3RhdGljIGhlbHBCdXR0b25EaXZpZGUoKSB7XG4gICAgICAgIGNvbnN0IGRpdmlkZUxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBkaXZpZGVMaW5lLmNsYXNzTmFtZSA9IFwiZGl2aWRlTGluZUhlbHBcIjtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkRpdmlkZVwiKS5vbm1vdXNlZW50ZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBkaXZpZGVMaW5lLnN0eWxlLmxlZnQgPSBcIlwiICsgTGF5b3V0LmdldFhNaWRkbGUoKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9hcmRcIikucHJlcGVuZChkaXZpZGVMaW5lKTtcbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25EaXZpZGVcIikub25tb3VzZWxlYXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgZGl2aWRlTGluZS5yZW1vdmUoKTtcbiAgICAgICAgfTtcbiAgICB9XG5cblxuXG4gICAgc3RhdGljIGdldFRvb2xiYXIoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRyb2xzXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiB0b29nbGUgdGhlIHZpc2liaWxpdHkgb2YgdGhlIHRvb2xiYXJcbiAgICAgKi9cbiAgICBzdGF0aWMgdG9nZ2xlKCkge1xuICAgICAgICBjb25zdCBjb250cm9scyA9IFRvb2xiYXIuZ2V0VG9vbGJhcigpO1xuICAgICAgICBjb250cm9scy5oaWRkZW4gPSAhY29udHJvbHMuaGlkZGVuO1xuICAgICAgICBMYXlvdXQuX3Jlc2l6ZSgpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogYnkgRnJhbsOnb2lzIFNjaHdhcnplbnRydWJlclxuICogaW5zcGlyZWQgZnJvbSBhIGNvZGUgY2FsbGVkIGpjc3NydWxlLmpzIGZyb20gSmVhbi1NYXJjIFZJR0xJTk8uXG4gKiBcbiAqIFRoZSBjbGFzcyBDU1NTdHlsZU1vZGlmaWVyIGVuYWJsZXMgdG8gYWRkIG5ldyBDU1MgcnVsZXMgb24gdGhlIGZseS5cbiAqIEluIFRhYmxlYXVub2lyLCBpdCBpcyB1c2VkIGZvciBtb2RpZnlpbmcgdGhlIGNvbG9ycyBvZiBtYW55IG9iamVjdHMgd2hlbiBzd2l0Y2hpbmcgZnJvbSBibGFjay93aGl0ZWJvYXJkLiBcbiAqL1xuXG5cbmV4cG9ydCBjbGFzcyBDU1NTdHlsZU1vZGlmaWVyIHtcblxuICAgIHN0YXRpYyBzdHlsZXNoZWV0O1xuICAgIHN0YXRpYyBydWxlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIGFkZCBhIG5ldyBzdHlsZSBwYXJ0IGluIHRoZSBodG1sXG4gICAgICovXG4gICAgc3RhdGljIGluaXQoKTogdm9pZCB7XG4gICAgICAgIENTU1N0eWxlTW9kaWZpZXIuc3R5bGVzaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgIENTU1N0eWxlTW9kaWZpZXIuc3R5bGVzaGVldC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcbiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkpIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoQ1NTU3R5bGVNb2RpZmllci5zdHlsZXNoZWV0KTtcbiAgICAgICAgZWxzZSBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKENTU1N0eWxlTW9kaWZpZXIuc3R5bGVzaGVldCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiB1cGRhdGUgdGhlIGh0bWwgd2l0aCB0aGUgbmV3IHJ1bGVzXG4gICAgICovXG4gICAgc3RhdGljIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgbGV0IGNzcyA9ICdcXG4nO1xuICAgICAgICBDU1NTdHlsZU1vZGlmaWVyLnJ1bGVzLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIGNzcyArPSByLnNlbGVjdG9yICsgJyB7JyArIHIucHJvcGVydHkgKyAnOicgKyByLnZhbHVlICsgJzsgfVxcbic7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhjc3MpO1xuICAgICAgICBDU1NTdHlsZU1vZGlmaWVyLnN0eWxlc2hlZXQuaW5uZXJIVE1MID0gY3NzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBzZWxlY3RvclxuICAgICAqIEBwYXJhbSBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqIEBkZXNyaXB0aW9uIGFkZCBhIG5ldyBydWxlIGZvciBlbGVtZW50cyBtYXRjaGluZyB0aGUgc2VsZWN0b3IuIFRoZSBwcm9wZXJ0eSBpcyBhc3NpZ25lZCB0byB0aGUgdmFsdWUuXG4gICAgICogQGV4YW1wbGUgXG4gICAgICogc2V0UnVsZShcImJvZHlcIiwgXCJiYWNrZ3JvdW5kXCIsXCJyZWRcIik7ICAvLyBDaGFuZ2UgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgYm9keVxuICAgICAqL1xuICAgIHN0YXRpYyBzZXRSdWxlKHNlbGVjdG9yOiBzdHJpbmcsIHByb3BlcnR5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgZm9yIChjb25zdCBydWxlIG9mIENTU1N0eWxlTW9kaWZpZXIucnVsZXMpXG4gICAgICAgICAgICBpZiAocnVsZS5zZWxlY3RvciA9PSBzZWxlY3RvciAmJiBydWxlLnByb3BlcnR5ID09IHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgcnVsZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIENTU1N0eWxlTW9kaWZpZXIudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIENTU1N0eWxlTW9kaWZpZXIucnVsZXMucHVzaCh7ICdzZWxlY3Rvcic6IHNlbGVjdG9yLCAncHJvcGVydHknOiBwcm9wZXJ0eSwgJ3ZhbHVlJzogdmFsdWUgfSk7XG4gICAgICAgIENTU1N0eWxlTW9kaWZpZXIudXBkYXRlKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0Q2FudmFzLCBwYWxldHRlIH0gZnJvbSAnLi9tYWluJztcbmltcG9ydCB7IENTU1N0eWxlTW9kaWZpZXIgfSBmcm9tICcuL0NTU1N0eWxlTW9kaWZpZXInO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyB0aGUgc3dpdGNoIGJldHdlZW4gd2hpdGVib2FyZCBhbmQgYmxhY2tib2FyZFxuICovXG5leHBvcnQgY2xhc3MgQmxhY2tWU1doaXRlQm9hcmQge1xuXG4gICAgc3RhdGljIGluaXQoKTogdm9pZCB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzQmFja2dyb3VuZFwiKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImJsYWNrXCI7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2hpdGVCb2FyZFN3aXRjaFwiKS5vbmNsaWNrID0gQmxhY2tWU1doaXRlQm9hcmQuc3dpdGNoO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJsYWNrQm9hcmRTd2l0Y2hcIikub25jbGljayA9IEJsYWNrVlNXaGl0ZUJvYXJkLnN3aXRjaDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIHN3aXRjaCBiZXR3ZWVuIHdoaXRlYm9hcmQgYW5kIGJsYWNrYm9hcmRcbiAgICAgKi9cbiAgICBzdGF0aWMgc3dpdGNoKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBwcmV2aW91c0JhY2tncm91bmRDb2xvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzQmFja2dyb3VuZFwiKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIGNvbnN0IGJhY2tncm91bmRDb2xvciA9IHByZXZpb3VzQmFja2dyb3VuZENvbG9yID09IFwid2hpdGVcIiA/IFwiYmxhY2tcIiA6IFwid2hpdGVcIjtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYWNrZ3JvdW5kQ29sb3IgKyBcIkJvYXJkU3dpdGNoXCIpLmhpZGRlbiA9IHRydWU7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZXZpb3VzQmFja2dyb3VuZENvbG9yICsgXCJCb2FyZFN3aXRjaFwiKS5oaWRkZW4gPSBmYWxzZTtcblxuXG4gICAgICAgIGNvbnNvbGUubG9nKFwicHJldmlvdXMgYmFja2dyb3VuZCBjb2xvciB3YXMgXCIgKyBwcmV2aW91c0JhY2tncm91bmRDb2xvcik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwic3dpdGNoIHRvIFwiICsgYmFja2dyb3VuZENvbG9yICsgXCJib2FyZFwiKVxuICAgICAgICBwYWxldHRlLnN3aXRjaEJsYWNrQW5kV2hpdGUoKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNCYWNrZ3JvdW5kXCIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvcjtcblxuICAgICAgICBpZiAoYmFja2dyb3VuZENvbG9yID09IFwiYmxhY2tcIikge1xuICAgICAgICAgICAgQ1NTU3R5bGVNb2RpZmllci5zZXRSdWxlKFwiLm1hZ25ldFRleHQgZGl2XCIsIFwiYmFja2dyb3VuZC1jb2xvclwiLCBcInJnYmEoMjcsIDI3LCAyNywgMC45KVwiKTtcbiAgICAgICAgICAgIENTU1N0eWxlTW9kaWZpZXIuc2V0UnVsZShcImRpdi5tYWduZXRUZXh0XCIsIFwiYmFja2dyb3VuZC1jb2xvclwiLCBcInJnYmEoNjQsIDY0LCA2NCwgMC45KVwiKTtcbiAgICAgICAgICAgIENTU1N0eWxlTW9kaWZpZXIuc2V0UnVsZShcIi5tYWduZXRUZXh0IGRpdlwiLCBcImNvbG9yXCIsIFwid2hpdGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBDU1NTdHlsZU1vZGlmaWVyLnNldFJ1bGUoXCIubWFnbmV0VGV4dCBkaXZcIiwgXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwicmdiYSgyNDcsIDI0NywgMjQ3LCAwLjkpXCIpO1xuICAgICAgICAgICAgQ1NTU3R5bGVNb2RpZmllci5zZXRSdWxlKFwiZGl2Lm1hZ25ldFRleHRcIiwgXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwicmdiYSgyMjcsIDIyNywgMjI3LCAwLjkpXCIpO1xuICAgICAgICAgICAgQ1NTU3R5bGVNb2RpZmllci5zZXRSdWxlKFwiLm1hZ25ldFRleHQgZGl2XCIsIFwiY29sb3JcIiwgXCJibGFja1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEJsYWNrVlNXaGl0ZUJvYXJkLl9pbnZlcnRDYW52YXMoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBkc2VjcmlwdGlvbiBpbnZlcnQgdGhlIGNvbG9ycyBvZiB0aGUgY2FudmFzIChibGFjayBiZWNvbWVzIHdoaXRlLCB3aGl0ZSBiZWNvbWVzIGJsYWNrLCByZWQgYmVjb21lcy4uLilcbiAgICAgKi9cbiAgICBzdGF0aWMgX2ludmVydENhbnZhcygpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjb25zdCBkYXRhID0gaW1hZ2VEYXRhLmRhdGE7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICAgICAgICAvLyByZWRcbiAgICAgICAgICAgIGRhdGFbaV0gPSAyNTUgLSBkYXRhW2ldO1xuICAgICAgICAgICAgLy8gZ3JlZW5cbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gMjU1IC0gZGF0YVtpICsgMV07XG4gICAgICAgICAgICAvLyBibHVlXG4gICAgICAgICAgICBkYXRhW2kgKyAyXSA9IDI1NSAtIGRhdGFbaSArIDJdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3ZlcndyaXRlIG9yaWdpbmFsIGltYWdlXG4gICAgICAgIGNvbnRleHQucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XG4gICAgfVxuXG59XG5cblxuIiwiaW1wb3J0IHsgQm9hcmRNYW5hZ2VyIH0gZnJvbSAnLi9ib2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgZ2V0Q2FudmFzQmFja2dyb3VuZCB9IGZyb20gJy4vbWFpbic7XG5pbXBvcnQgeyBMYXlvdXQgfSBmcm9tICcuL0xheW91dCc7XG5pbXBvcnQgeyBMb2FkU2F2ZSB9IGZyb20gJy4vTG9hZFNhdmUnO1xuaW1wb3J0IHsgTWVudSB9IGZyb20gJy4vTWVudSc7XG5pbXBvcnQgeyBEcmF3aW5nIH0gZnJvbSAnLi9EcmF3aW5nJ1xuXG5leHBvcnQgY2xhc3MgQmFja2dyb3VuZCB7XG4gICAgc3RhdGljIGluaXQoKTogdm9pZCB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uTm9CYWNrZ3JvdW5kXCIpLm9uY2xpY2sgPSAoKSA9PiB7IEJhY2tncm91bmQuY2xlYXIoKTsgTWVudS5oaWRlKCk7IH07XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uTXVzaWNTY29yZVwiKS5vbmNsaWNrID0gKCkgPT4geyBCYWNrZ3JvdW5kLm11c2ljU2NvcmUoKTsgTWVudS5oaWRlKCk7IH07XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dEJhY2tncm91bmRcIikub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBMb2FkU2F2ZS5mZXRjaEltYWdlRnJvbUZpbGUoKDxhbnk+dGhpcykuZmlsZXNbMF0sXG4gICAgICAgICAgICAgICAgKGltZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBCYWNrZ3JvdW5kLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhc0JhY2tncm91bmQgPSBnZXRDYW52YXNCYWNrZ3JvdW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IExheW91dC5nZXRXaW5kb3dIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGVXaWR0aCA9IGltZy53aWR0aCAqIGhlaWdodCAvIGltZy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSAoTGF5b3V0LmdldFdpbmRvd1dpZHRoKCkgLSBzY2FsZVdpZHRoKSAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGltZylcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzQmFja2dyb3VuZC5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKGltZywgeCwgMCwgc2NhbGVXaWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICB9O1xuXG4gICAgfVxuICAgIHN0YXRpYyBjbGVhcigpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY2FudmFzQmFja2dyb3VuZCA9IGdldENhbnZhc0JhY2tncm91bmQoKTtcbiAgICAgICAgY2FudmFzQmFja2dyb3VuZC5nZXRDb250ZXh0KFwiMmRcIikuY2xlYXJSZWN0KDAsIDAsIGNhbnZhc0JhY2tncm91bmQud2lkdGgsIGNhbnZhc0JhY2tncm91bmQuaGVpZ2h0KTtcbiAgICB9XG5cblxuICAgIHN0YXRpYyBtdXNpY1Njb3JlKCk6IHZvaWQge1xuICAgICAgICBCYWNrZ3JvdW5kLmNsZWFyKCk7XG4gICAgICAgIGNvbnN0IENPTE9SU1RBRkYgPSBcInJnYigxMjgsIDEyOCwgMjU1KVwiO1xuICAgICAgICBjb25zdCBmdWxsSGVpZ2h0ID0gTGF5b3V0LmdldFdpbmRvd0hlaWdodCgpIC0gMzI7XG4gICAgICAgIGNvbnN0IGNhbnZhc0JhY2tncm91bmQgPSBnZXRDYW52YXNCYWNrZ3JvdW5kKCk7XG5cbiAgICAgICAgY29uc3QgeCA9IDA7XG4gICAgICAgIGNvbnN0IHgyID0gMiAqIExheW91dC5nZXRXaW5kb3dXaWR0aCgpO1xuICAgICAgICBjb25zdCB5bWlkZGxlU2NyZWVuID0gZnVsbEhlaWdodCAvIDI7XG4gICAgICAgIGNvbnN0IHlzaGlmdCA9IGZ1bGxIZWlnaHQgLyA3O1xuICAgICAgICBjb25zdCBkcmF3U3RhZmYgPSAoeW1pZGRsZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3BhY2UgPSBmdWxsSGVpZ2h0IC8gMzA7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAtMjsgaSA8PSAyOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0geW1pZGRsZSArIGkgKiBzcGFjZTtcbiAgICAgICAgICAgICAgICBEcmF3aW5nLmRyYXdMaW5lKGNhbnZhc0JhY2tncm91bmQuZ2V0Q29udGV4dChcIjJkXCIpLCB4LCB5LCB4MiwgeSwgMS4wLCBDT0xPUlNUQUZGKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cbiAgICAgICAgZHJhd1N0YWZmKHltaWRkbGVTY3JlZW4gLSB5c2hpZnQpO1xuICAgICAgICBkcmF3U3RhZmYoeW1pZGRsZVNjcmVlbiArIHlzaGlmdCk7XG5cbiAgICAgICAgQm9hcmRNYW5hZ2VyLnNhdmVDdXJyZW50U2NyZWVuKCk7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgeyBFcnJvck1lc3NhZ2UgfSBmcm9tICcuL0Vycm9yTWVzc2FnZSc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBlbmFibGVzIHRvIHRyYW5zbGF0ZSBUYWJsZWF1bm9pciBpbiBvdGhlciBsYW5ndWFnZXMgKGZyZW5jaCBmb3IgaW5zdGFuY2UpXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmFuc2xhdGlvbiB7XG5cbiAgICAvKipcbiAgICAgKiBpbml0aWFsaXphdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBpbml0KCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgVHJhbnNsYXRpb24udHJhbnNsYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIEVycm9yTWVzc2FnZS5zaG93KGUpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0aGUgbGFuZ3VhZ2Ugd3JpdHRlbiBpbiB0aGUgVVJMIChmb3IgaW5zdGFuY2UgXCJmclwiKSwgb3IgbnVsbCBpZiBub25lIGlzIHByb3ZpZGVkXG4gICAgICovXG4gICAgc3RhdGljIGdldExhbmd1YWdlKCkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSAobmV3IFVSTCg8YW55PmRvY3VtZW50LmxvY2F0aW9uKSkuc2VhcmNoUGFyYW1zO1xuICAgICAgICByZXR1cm4gcGFyYW1zLmdldCgnbGFuZycpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIG9uIHRoZSBkaWN0aW9ubmFyeSBvZiB0aGUgc2VsZWN0ZWQgbGFuZ3VhZ2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZmV0Y2hEaWN0aW9uYXJ5KCk6IFByb21pc2U8e30+IHtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2UgPSBUcmFuc2xhdGlvbi5nZXRMYW5ndWFnZSgpO1xuXG4gICAgICAgIGlmIChsYW5ndWFnZSA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpID0+IHsgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZldGNoKFwic3JjL1wiICsgbGFuZ3VhZ2UgKyBcIi5qc29uXCIpXG4gICAgICAgICAgICAudGhlbih0eHQgPT4gdHh0Lmpzb24oKSlcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1lbnQgSFRNTCBlbGVtZW50XG4gICAgICogQHBhcmFtIGRpY3RcbiAgICAgKiBAZGVzY3JpcHRpb24gdHJhbnNsYXRlIHRoZSBIVE1MIGVsZW1lbnRcbiAgICAgKi9cbiAgICBzdGF0aWMgdHJhbnNsYXRlRWxlbWVudChlbGVtZW50OiBFbGVtZW50LCBkaWN0KSB7XG4gICAgICAgIGlmIChlbGVtZW50LmNoaWxkcmVuID09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBpZiAoKDxhbnk+ZWxlbWVudCkudGl0bGUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoZGljdFsoPGFueT5lbGVtZW50KS50aXRsZV0pXG4gICAgICAgICAgICAgICAgKDxhbnk+ZWxlbWVudCkudGl0bGUgPSBkaWN0Wyg8YW55PmVsZW1lbnQpLnRpdGxlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBpZiAoZGljdFtlbGVtZW50LmlubmVySFRNTF0pXG4gICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBkaWN0W2VsZW1lbnQuaW5uZXJIVE1MXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaSBpbiBlbGVtZW50LmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgIFRyYW5zbGF0aW9uLnRyYW5zbGF0ZUVsZW1lbnQoZWxlbWVudC5jaGlsZHJlbltpXSwgZGljdCk7XG5cbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBkaWN0XG4gICAgICogQGRlc2NyaXB0aW9uIHRyYW5zbGF0ZXMgdGhlIGVsZW1lbnQgYnkgdGhlIElEc1xuICAgICAqL1xuICAgIHN0YXRpYyB0cmFuc2xhdGVGcm9tSURzKGRpY3QpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGljdCkge1xuICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoa2V5LnN1YnN0cigxKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBFbGVtZW50ICR7a2V5fSBub3QgZm91bmQuIEkgY2FuIHRyYW5zbGF0ZS4uYCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jaGlsZHJlbi5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkkgcmVmdXNlIHRvIHRyYW5zbGF0ZSBiZWNhdXNlIHRoZSBlbGVtZW50IGhhcyBzb21lIGNoaWxkcmVuLlwiKTtcblxuICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gZGljdFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGJpZyB0cmFuc2xhdGlvbiBwcm9jZWR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgdHJhbnNsYXRlKCkge1xuICAgICAgICBjb25zdCBkaWN0aW9ubmFyeSA9IFRyYW5zbGF0aW9uLmZldGNoRGljdGlvbmFyeSgpO1xuICAgICAgICBkaWN0aW9ubmFyeS50aGVuKGRpY3QgPT4ge1xuICAgICAgICAgICAgVHJhbnNsYXRpb24udHJhbnNsYXRlRWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRyb2xzXCIpLCBkaWN0KTtcbiAgICAgICAgICAgIFRyYW5zbGF0aW9uLnRyYW5zbGF0ZUVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51XCIpLCBkaWN0KTtcbiAgICAgICAgICAgIFRyYW5zbGF0aW9uLnRyYW5zbGF0ZUZyb21JRHMoZGljdCk7XG5cblxuICAgICAgICB9XG4gICAgICAgIClcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQYWxldHRlIH0gZnJvbSBcIi4vUGFsZXR0ZVwiO1xuaW1wb3J0IHsgU2hhcmUgfSBmcm9tIFwiLi9zaGFyZVwiO1xuaW1wb3J0IHsgTXlNYWduZXRzIH0gZnJvbSBcIi4vbXlNYWduZXRzXCI7XG5pbXBvcnQgeyBNYWduZXRNYW5hZ2VyIH0gZnJvbSAnLi9tYWduZXRNYW5hZ2VyJztcbmltcG9ydCB7IEJvYXJkTWFuYWdlciB9IGZyb20gJy4vYm9hcmRNYW5hZ2VyJztcbmltcG9ydCB7IFVzZXJNYW5hZ2VyIH0gZnJvbSAnLi9Vc2VyTWFuYWdlcic7XG5pbXBvcnQgeyBMb2FkU2F2ZSB9IGZyb20gJy4vTG9hZFNhdmUnO1xuaW1wb3J0IHsgTGF5b3V0IH0gZnJvbSAnLi9MYXlvdXQnO1xuaW1wb3J0IHsgVG9vbGJhciB9IGZyb20gJy4vVG9vbGJhcic7XG5pbXBvcnQgeyBEaXNjdXNzaW9uIH0gZnJvbSAnLi9EaXNjdXNzaW9uJztcbmltcG9ydCB7IERlbGluZWF0aW9uIH0gZnJvbSAnLi9EZWxpbmVhdGlvbic7XG5pbXBvcnQgeyBDaGFsa0N1cnNvciB9IGZyb20gJy4vQ2hhbGtDdXJzb3InO1xuaW1wb3J0IHsgQmxhY2tWU1doaXRlQm9hcmQgfSBmcm9tICcuL0JsYWNrVlNXaGl0ZUJvYXJkJztcbmltcG9ydCB7IEJhY2tncm91bmQgfSBmcm9tICcuL0JhY2tncm91bmQnO1xuaW1wb3J0IHsgRXJyb3JNZXNzYWdlIH0gZnJvbSAnLi9FcnJvck1lc3NhZ2UnO1xuaW1wb3J0IHsgVHJhbnNsYXRpb24gfSBmcm9tICcuL1RyYW5zbGF0aW9uJztcbmltcG9ydCB7IE1lbnUgfSBmcm9tICcuL01lbnUnO1xuaW1wb3J0IHsgVG91Y2hTY3JlZW4gfSBmcm9tICcuL1RvdWNoU2NyZWVuJztcbmltcG9ydCB7IFNoYXJlRXZlbnQgfSBmcm9tICcuL1NoYXJlRXZlbnQnO1xuaW1wb3J0IHsgRHJhd2luZyB9IGZyb20gJy4vRHJhd2luZydcblxud2luZG93Lm9ubG9hZCA9IGxvYWQ7XG53aW5kb3dbJ01lbnUnXSA9IE1lbnU7XG53aW5kb3dbJ1NoYXJlRXZlbnQnXSA9IFNoYXJlRXZlbnQ7XG5cbmV4cG9ydCBjb25zdCBwYWxldHRlID0gbmV3IFBhbGV0dGUoKTtcblxubGV0IGxvYWRlZCA9IGZhbHNlO1xuXG4vKipcbiAqIHRoaXMgZnVuY3Rpb24gc2V0cyB0aGUgZG9jdW1lbnQuYm9keSBzY3JvbGxzIHRvIDBcbiAqIEl0IHNvbHZlcyBzb21lIGlzc3VlczpcbiAqIC0gb24gc21hcnRwaG9uZXM6IHRoYXQgd2UgY2FuIHNjcm9sbCB0aGUgcGFnZSBpdHNlbGZcbiAqIC0gd2hlbiB0eXBpbmcgdGV4dHMgaW4gbWFnbmV0LCBpdCBtYWtlcyB0aGUgc2NyZWVuIG5vdCB0byBzY3JvbGxcbiAqL1xuZnVuY3Rpb24gaW5zdGFsbEJvZHlOb1Njcm9sbCgpIHtcblx0c2V0SW50ZXJ2YWwoKCkgPT4ge1xuXHRcdGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCA9IDA7XG5cdFx0ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSAwO1xuXHR9LCAxMDAwKTtcbn1cblxuXG5mdW5jdGlvbiBsb2FkKCkge1xuXHR0cnkge1xuXG5cdFx0aW5zdGFsbEJvZHlOb1Njcm9sbCgpO1xuXG5cdFx0aWYgKGxvYWRlZClcblx0XHRcdHJldHVybjtcblxuXHRcdFVzZXJNYW5hZ2VyLmluaXQoKTtcblxuXG5cdFx0QmFja2dyb3VuZC5pbml0KCk7XG5cdFx0TGF5b3V0LmluaXQoKTtcblxuXHRcdFRyYW5zbGF0aW9uLmluaXQoKTtcblx0XHRDaGFsa0N1cnNvci5pbml0KCk7XG5cdFx0TG9hZFNhdmUuaW5pdCgpO1xuXHRcdEJvYXJkTWFuYWdlci5pbml0KCk7XG5cdFx0TWVudS5pbml0KCk7XG5cdFx0U2hhcmUuaW5pdCgpO1xuXHRcdFRvb2xiYXIuaW5pdCgpO1xuXHRcdERpc2N1c3Npb24uaW5pdCgpO1xuXG5cblxuXHRcdGNvbnN0IGNoYW5nZUNvbG9yID0gKCkgPT4ge1xuXHRcdFx0aWYgKE1hZ25ldE1hbmFnZXIuZ2V0TWFnbmV0VW5kZXJDdXJzb3IoKSA9PSB1bmRlZmluZWQpIHsgLy9pZiBubyBtYWduZXQgdW5kZXIgdGhlIGN1cnNvciwgY2hhbmdlIHRoZSBjb2xvciBvZiB0aGUgY2hhbGtcblx0XHRcdFx0Ly9pZiAoIWlzRHJhd2luZylcblx0XHRcdFx0cGFsZXR0ZS5zaG93KHsgeDogVXNlck1hbmFnZXIubWUueCwgeTogVXNlck1hbmFnZXIubWUueSB9KTtcblx0XHRcdFx0cGFsZXR0ZS5uZXh0KCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHsgLy8gaWYgdGhlcmUgaXMgYSBtYWduZXQgY2hhbmdlIHRoZSBiYWNrZ3JvdW5kIG9mIHRoZSBtYWduZXRcblx0XHRcdFx0Y29uc3QgbWFnbmV0ID0gTWFnbmV0TWFuYWdlci5nZXRNYWduZXRVbmRlckN1cnNvcigpO1xuXHRcdFx0XHRtYWduZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gbmV4dEJhY2tncm91bmRDb2xvcihtYWduZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBwcmV2aW91c0NvbG9yID0gKCkgPT4ge1xuXHRcdFx0aWYgKE1hZ25ldE1hbmFnZXIuZ2V0TWFnbmV0VW5kZXJDdXJzb3IoKSA9PSB1bmRlZmluZWQpIHsgLy9pZiBubyBtYWduZXQgdW5kZXIgdGhlIGN1cnNvciwgY2hhbmdlIHRoZSBjb2xvciBvZiB0aGUgY2hhbGtcblx0XHRcdFx0VXNlck1hbmFnZXIubWUuZXJhc2VNb2RlID0gZmFsc2U7XG5cblx0XHRcdFx0aWYgKCFVc2VyTWFuYWdlci5tZS5pc0RyYXdpbmcpXG5cdFx0XHRcdFx0cGFsZXR0ZS5zaG93KHsgeDogVXNlck1hbmFnZXIubWUueCwgeTogVXNlck1hbmFnZXIubWUueSB9KTtcblx0XHRcdFx0cGFsZXR0ZS5wcmV2aW91cygpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7IC8vIGlmIHRoZXJlIGlzIGEgbWFnbmV0IGNoYW5nZSB0aGUgYmFja2dyb3VuZCBvZiB0aGUgbWFnbmV0XG5cdFx0XHRcdGNvbnN0IG1hZ25ldCA9IE1hZ25ldE1hbmFnZXIuZ2V0TWFnbmV0VW5kZXJDdXJzb3IoKTtcblx0XHRcdFx0bWFnbmV0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHByZXZpb3VzQmFja2dyb3VuZENvbG9yKG1hZ25ldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IHN3aXRjaENoYWxrRXJhc2VyID0gKCkgPT4ge1xuXHRcdFx0aWYgKFVzZXJNYW5hZ2VyLm1lLmVyYXNlTW9kZSlcblx0XHRcdFx0U2hhcmUuZXhlY3V0ZShcInN3aXRjaENoYWxrXCIsIFtVc2VyTWFuYWdlci5tZS51c2VySURdKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0U2hhcmUuZXhlY3V0ZShcInN3aXRjaEVyYXNlXCIsIFtVc2VyTWFuYWdlci5tZS51c2VySURdKTtcblxuXG5cdFx0fVxuXG5cblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbk1lbnVcIikub25jbGljayA9IE1lbnUudG9nZ2xlO1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uQ29sb3JzXCIpLm9uY2xpY2sgPSBjaGFuZ2VDb2xvcjtcblxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uQ2hhbGtcIikub25jbGljayA9IHN3aXRjaENoYWxrRXJhc2VyO1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uRXJhc2VyXCIpLm9uY2xpY2sgPSBzd2l0Y2hDaGFsa0VyYXNlcjtcblxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uVGV4dFwiKS5vbmNsaWNrID0gKCkgPT4gTWFnbmV0TWFuYWdlci5hZGRNYWduZXRUZXh0KFVzZXJNYW5hZ2VyLm1lLngsIFVzZXJNYW5hZ2VyLm1lLnkpO1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uRGl2aWRlXCIpLm9uY2xpY2sgPSBEcmF3aW5nLmRpdmlkZVNjcmVlbjtcblxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uTGVmdFwiKS5vbmNsaWNrID0gQm9hcmRNYW5hZ2VyLmxlZnQ7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25SaWdodFwiKS5vbmNsaWNrID0gQm9hcmRNYW5hZ2VyLnJpZ2h0O1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uQ2FuY2VsXCIpLm9uY2xpY2sgPSBCb2FyZE1hbmFnZXIuY2FuY2VsO1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uUmVkb1wiKS5vbmNsaWNrID0gQm9hcmRNYW5hZ2VyLnJlZG87XG5cblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkFza1F1ZXN0aW9uXCIpLm9uY2xpY2sgPSBEaXNjdXNzaW9uLmFza1F1ZXN0aW9uO1xuXG5cblxuXHRcdGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRyb2xzXCIpLmNoaWxkcmVuO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBidXR0b25zLmxlbmd0aDsgaSsrKVxuXHRcdFx0aWYgKGJ1dHRvbnNbaV0gaW5zdGFuY2VvZiBIVE1MQnV0dG9uRWxlbWVudClcblx0XHRcdFx0KDxIVE1MQnV0dG9uRWxlbWVudD5idXR0b25zW2ldKS5vbmZvY3VzID0gKDxhbnk+ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkuYmx1cjsgLy90byBiZSBpbXByb3ZlZFxuXG5cdFx0QmxhY2tWU1doaXRlQm9hcmQuaW5pdCgpO1xuXG5cdFx0cGFsZXR0ZS5vbmNoYW5nZSA9ICgpID0+IHtcblx0XHRcdFNoYXJlLmV4ZWN1dGUoXCJzd2l0Y2hDaGFsa1wiLCBbVXNlck1hbmFnZXIubWUudXNlcklEXSk7XG5cdFx0XHRTaGFyZS5leGVjdXRlKFwic2V0Q3VycmVudENvbG9yXCIsIFtVc2VyTWFuYWdlci5tZS51c2VySUQsIHBhbGV0dGUuZ2V0Q3VycmVudENvbG9yKCldKTtcblx0XHR9XG5cblxuXHRcdGRvY3VtZW50Lm9ua2V5ZG93biA9IChldnQpID0+IHtcblx0XHRcdC8vY29uc29sZS5sb2coXCJjdHJsOiBcIiArIGV2dC5jdHJsS2V5ICsgXCIgc2hpZnQ6XCIgKyBldnQuc2hpZnRLZXkgKyBcImtleTogXCIgKyBldnQua2V5KVxuXHRcdFx0aWYgKGV2dC5rZXkgPT0gXCJCYWNrc3BhY2VcIiAmJiAhKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSlcblx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdGlmIChldnQua2V5ID09IFwiRXNjYXBlXCIgfHwgZXZ0LmtleSA9PSBcIkYxXCIpIHsvL2VzY2FwZSA9PiBzaG93IG1lbnVcblx0XHRcdFx0aWYgKHBhbGV0dGUuaXNTaG93bigpKVxuXHRcdFx0XHRcdHBhbGV0dGUuaGlkZSgpO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0TWVudS50b2dnbGUoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKE1lbnUuaXNTaG93bigpKVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdGlmICghZXZ0LmN0cmxLZXkgJiYgIWV2dC5zaGlmdEtleSAmJiBldnQua2V5ID09IFwiY1wiKSAvLyBjID0+IGNoYW5nZSBjb2xvclxuXHRcdFx0XHRjaGFuZ2VDb2xvcigpO1xuXHRcdFx0ZWxzZSBpZiAoIWV2dC5jdHJsS2V5ICYmIGV2dC5zaGlmdEtleSAmJiBldnQua2V5ID09IFwiQ1wiKVxuXHRcdFx0XHRwcmV2aW91c0NvbG9yKCk7XG5cdFx0XHRlbHNlIGlmIChldnQua2V5ID09IFwiRW50ZXJcIiAmJiBwYWxldHRlLmlzU2hvd24oKSlcblx0XHRcdFx0cGFsZXR0ZS5oaWRlKCk7XG5cdFx0XHRlbHNlIGlmIChldnQua2V5ID09IFwiQXJyb3dMZWZ0XCIgJiYgcGFsZXR0ZS5pc1Nob3duKCkpXG5cdFx0XHRcdHBhbGV0dGUucHJldmlvdXMoKTtcblx0XHRcdGVsc2UgaWYgKGV2dC5rZXkgPT0gXCJBcnJvd1JpZ2h0XCIgJiYgcGFsZXR0ZS5pc1Nob3duKCkpXG5cdFx0XHRcdHBhbGV0dGUubmV4dCgpO1xuXHRcdFx0ZWxzZSBpZiAoZXZ0LmtleSA9PSBcIkVudGVyXCIpIHtcblx0XHRcdFx0TWFnbmV0TWFuYWdlci5hZGRNYWduZXRUZXh0KFVzZXJNYW5hZ2VyLm1lLngsIFVzZXJNYW5hZ2VyLm1lLnkpO1xuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTsgLy9zbyB0aGF0IGl0IHdpbGwgbm90IGFkZCBcIm5ldyBsaW5lXCIgaW4gdGhlIHRleHQgZWxlbWVudFxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZXZ0LmtleSA9PSBcIkFycm93TGVmdFwiKSB7XG5cdFx0XHRcdEJvYXJkTWFuYWdlci5sZWZ0KCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChldnQua2V5ID09IFwiQXJyb3dSaWdodFwiKSB7XG5cdFx0XHRcdEJvYXJkTWFuYWdlci5yaWdodCgpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZXZ0LmtleSA9PSBcImRcIikgIC8vZCA9IGRpdmlkZSBzY3JlZW5cblx0XHRcdFx0RHJhd2luZy5kaXZpZGVTY3JlZW4oKTtcblx0XHRcdGVsc2UgaWYgKChldnQuY3RybEtleSAmJiBldnQuc2hpZnRLZXkgJiYgZXZ0LmtleSA9PSBcIlpcIikgfHwgKGV2dC5jdHJsS2V5ICYmIGV2dC5rZXkgPT0gXCJ5XCIpKSB7IC8vY3RybCArIHNoaWZ0ICsgeiBPUiBDdHJsICsgWSA9IHJlZG9cblx0XHRcdFx0Qm9hcmRNYW5hZ2VyLnJlZG8oKTtcblx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChldnQuY3RybEtleSAmJiBldnQua2V5ID09IFwielwiKSB7Ly8gY3RybCArIHogPSB1bmRvXG5cdFx0XHRcdEJvYXJkTWFuYWdlci5jYW5jZWwoKTtcblx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cblx0XHRcdGVsc2UgaWYgKGV2dC5rZXkgPT0gXCJlXCIpICAvL2UgPSBzd2l0Y2ggZXJhc2VyIGFuZCBjaGFsa1xuXHRcdFx0XHRzd2l0Y2hDaGFsa0VyYXNlcigpO1xuXHRcdFx0ZWxzZSBpZiAoZXZ0LmtleSA9PSBcImhcIilcblx0XHRcdFx0VG9vbGJhci50b2dnbGUoKTtcblx0XHRcdGVsc2UgaWYgKGV2dC5jdHJsS2V5ICYmIGV2dC5rZXkgPT0gJ3gnKSB7Ly9DdHJsICsgeFxuXHRcdFx0XHRwYWxldHRlLmhpZGUoKTtcblx0XHRcdFx0aWYgKFVzZXJNYW5hZ2VyLm1lLmxhc3REZWxpbmVhdGlvbi5jb250YWluc1BvbHlnb25Ub01hZ25ldGl6ZSgpKVxuXHRcdFx0XHRcdFVzZXJNYW5hZ2VyLm1lLmxhc3REZWxpbmVhdGlvbi5jdXRBbmRNYWduZXRpemUoKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKGV2dC5jdHJsS2V5ICYmIGV2dC5rZXkgPT0gJ2MnKSB7Ly9DdHJsICsgY1xuXHRcdFx0XHRwYWxldHRlLmhpZGUoKTtcblx0XHRcdFx0aWYgKFVzZXJNYW5hZ2VyLm1lLmxhc3REZWxpbmVhdGlvbi5jb250YWluc1BvbHlnb25Ub01hZ25ldGl6ZSgpKVxuXHRcdFx0XHRcdFVzZXJNYW5hZ2VyLm1lLmxhc3REZWxpbmVhdGlvbi5jb3B5QW5kTWFnbmV0aXplKCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChldnQuY3RybEtleSAmJiBldnQua2V5ID09IFwidlwiKSB7IC8vQ3RybCArIHYgPSBwcmludCB0aGUgY3VycmVudCBtYWduZXRcblx0XHRcdFx0cGFsZXR0ZS5oaWRlKCk7XG5cdFx0XHRcdFNoYXJlLmV4ZWN1dGUoXCJwcmludE1hZ25ldFwiLCBbTWFnbmV0TWFuYWdlci5nZXRDdXJyZW50TWFnbmV0SUQoKV0pO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZXZ0LmtleSA9PSBcIm1cIikgeyAvL20gPSBtYWtlIG5ldyBtYWduZXRzXG5cdFx0XHRcdHBhbGV0dGUuaGlkZSgpO1xuXHRcdFx0XHRpZiAoVXNlck1hbmFnZXIubWUubGFzdERlbGluZWF0aW9uLmNvbnRhaW5zUG9seWdvblRvTWFnbmV0aXplKCkpXG5cdFx0XHRcdFx0VXNlck1hbmFnZXIubWUubGFzdERlbGluZWF0aW9uLmN1dEFuZE1hZ25ldGl6ZSgpO1xuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRTaGFyZS5leGVjdXRlKFwicHJpbnRNYWduZXRcIiwgW01hZ25ldE1hbmFnZXIuZ2V0Q3VycmVudE1hZ25ldElEKCldKTtcblx0XHRcdFx0XHRNYWduZXRNYW5hZ2VyLnJlbW92ZUN1cnJlbnRNYWduZXQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZXZ0LmtleSA9PSBcInBcIikgeyAvL3AgPSBwcmludCB0aGUgY3VycmVudCBtYWduZXRcblx0XHRcdFx0cGFsZXR0ZS5oaWRlKCk7XG5cdFx0XHRcdFNoYXJlLmV4ZWN1dGUoXCJwcmludE1hZ25ldFwiLCBbTWFnbmV0TWFuYWdlci5nZXRDdXJyZW50TWFnbmV0SUQoKV0pO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZXZ0LmtleSA9PSBcIkRlbGV0ZVwiIHx8IGV2dC5rZXkgPT0gXCJ4XCIgfHwgZXZ0LmtleSA9PSBcIkJhY2tzcGFjZVwiKSB7IC8vc3VwciA9IGRlbGV0ZSB0aGUgY3VycmVudCBtYWduZXRcblx0XHRcdFx0cGFsZXR0ZS5oaWRlKCk7XG5cdFx0XHRcdC8qaWYgKGxhc3REZWxpbmVhdGlvbi5jb250YWluc1BvbHlnb25Ub01hZ25ldGl6ZSgpKVxuXHRcdFx0XHRcdGxhc3REZWxpbmVhdGlvbi5lcmFzZSgpO1xuXHRcdFx0XHRlbHNlKi9cblx0XHRcdFx0TWFnbmV0TWFuYWdlci5yZW1vdmVDdXJyZW50TWFnbmV0KCk7XG5cdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXG5cdFx0fTtcblxuXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikub25wb2ludGVyZG93biA9IChldnQpID0+IHtcblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0U2hhcmUuZXhlY3V0ZShcIm1vdXNlZG93blwiLCBbVXNlck1hbmFnZXIubWUudXNlcklELCBldnRdKVxuXHRcdH07XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNCYWNrZ3JvdW5kXCIpLm9ucG9pbnRlcm1vdmUgPSAoZXZ0KSA9PiB7IGNvbnNvbGUubG9nKFwibW91c2Vtb3ZlIG9uIHRoZSBiYWNrZ3JvdW5kIHNob3VsZCBub3Qgb2NjdXJcIikgfTtcblxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpLm9ucG9pbnRlcm1vdmUgPSAoZXZ0KSA9PiB7XG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFNoYXJlLmV4ZWN1dGUoXCJtb3VzZW1vdmVcIiwgW1VzZXJNYW5hZ2VyLm1lLnVzZXJJRCwgZXZ0XSlcblx0XHR9O1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpLm9ucG9pbnRlcnVwID0gKGV2dCkgPT4ge1xuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRTaGFyZS5leGVjdXRlKFwibW91c2V1cFwiLCBbVXNlck1hbmFnZXIubWUudXNlcklELCBldnRdKVxuXHRcdH07XG5cblx0XHQvL29ucG9pbnRlcmxlYXZlOiBzdG9wIHRoZSBkcmF3aW5nIHRvIHByZXZlbnQgYnVncyAobGlrZSBpdCBkcmF3cyBhIHNtYWxsIGxpbmUpXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikub25wb2ludGVybGVhdmUgPSAoZXZ0KSA9PiB7XG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFNoYXJlLmV4ZWN1dGUoXCJtb3VzZXVwXCIsIFtVc2VyTWFuYWdlci5tZS51c2VySUQsIGV2dF0pXG5cdFx0fTtcblx0XHQvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpLm9ubW91c2Vkb3duID0gbW91c2Vkb3duO1xuXG5cdFx0VG91Y2hTY3JlZW4uYWRkVG91Y2hFdmVudHMoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikpO1xuXG5cblxuXG5cdFx0Ly9cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpLm9ubW91c2VsZWF2ZSA9IGZ1bmN0aW9uIChldnQpIHsgaXNEcmF3aW5nID0gZmFsc2U7IH1cblxuXHRcdE1hZ25ldE1hbmFnZXIuaW5pdCgpO1xuXHRcdE15TWFnbmV0cy5sb2FkTWFnbmV0cygpO1xuXG5cdFx0Qm9hcmRNYW5hZ2VyLmxvYWQoKTtcblx0XHRsb2FkZWQgPSB0cnVlO1xuXHR9XG5cdGNhdGNoIChlKSB7XG5cdFx0RXJyb3JNZXNzYWdlLnNob3coZSk7XG5cdFx0bG9hZGVkID0gZmFsc2U7XG5cdH1cbn1cblxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDYW52YXMoKTogSFRNTENhbnZhc0VsZW1lbnQge1xuXHRyZXR1cm4gPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDYW52YXNCYWNrZ3JvdW5kKCk6IEhUTUxDYW52YXNFbGVtZW50IHtcblx0cmV0dXJuIDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc0JhY2tncm91bmRcIik7XG59XG5cblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGFpbmVyKCkge1xuXHRyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIik7XG59XG5cblxuXG5jb25zdCBtYWduZXRDb2xvcnMgPSBbJycsICdyZ2IoMjU1LCAxMjgsIDApJywgJ3JnYigwLCAxMjgsIDApJywgJ3JnYigxOTIsIDAsIDApJywgJ3JnYigwLCAwLCAyNTUpJ107XG5cbmZ1bmN0aW9uIG5leHRCYWNrZ3JvdW5kQ29sb3IoY29sb3IpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBtYWduZXRDb2xvcnMubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAobWFnbmV0Q29sb3JzW2ldID09IGNvbG9yKSB7XG5cdFx0XHRyZXR1cm4gbWFnbmV0Q29sb3JzWyhpICsgMSkgJSBtYWduZXRDb2xvcnMubGVuZ3RoXTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1hZ25ldENvbG9yc1swXTtcbn1cblxuXG5mdW5jdGlvbiBwcmV2aW91c0JhY2tncm91bmRDb2xvcihjb2xvcikge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IG1hZ25ldENvbG9ycy5sZW5ndGg7IGkrKykge1xuXHRcdGlmIChtYWduZXRDb2xvcnNbaV0gPT0gY29sb3IpIHtcblx0XHRcdHJldHVybiBtYWduZXRDb2xvcnNbKGkgLSAxKSAlIG1hZ25ldENvbG9ycy5sZW5ndGhdO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbWFnbmV0Q29sb3JzWzBdO1xufVxuIiwiaW1wb3J0IHsgZ2V0Q2FudmFzIH0gZnJvbSAnLi9tYWluJztcbmltcG9ydCB7IE1hZ25ldE1hbmFnZXIgfSBmcm9tICcuL21hZ25ldE1hbmFnZXInO1xuaW1wb3J0IHsgQm9hcmRNYW5hZ2VyIH0gZnJvbSAnLi9ib2FyZE1hbmFnZXInO1xuaW1wb3J0IHsgVXNlck1hbmFnZXIgfSBmcm9tICcuL1VzZXJNYW5hZ2VyJztcbmltcG9ydCB7IEVycm9yTWVzc2FnZSB9IGZyb20gJy4vRXJyb3JNZXNzYWdlJztcbmltcG9ydCB7IFNoYXJlRXZlbnQgfSBmcm9tICcuL1NoYXJlRXZlbnQnO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZy5qc29uJ1xuXG4vKipcbiAqIHRoZSBjbGFzcyB0aGF0IGVuYWJsZXMgdG8gc2hhcmUgdGhlIGJvYXJkXG4gKi9cbmV4cG9ydCBjbGFzcyBTaGFyZSB7XG5cdHN0YXRpYyB3czogV2ViU29ja2V0ID0gdW5kZWZpbmVkO1xuXHRzdGF0aWMgaWQ6IHN0cmluZyA9IHVuZGVmaW5lZDtcblx0c3RhdGljIGNhbldyaXRlVmFsdWVCeURlZmF1bHQgPSB0cnVlO1xuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0geyp9IGEgZnVuY3Rpb24gZlxuXHQgKiBAZGVzY3JpcHRpb24gdHJpZXMgdG8gY29ubmVjdCB0byB0aGUgc2VydmVyLCB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIG1hZGUsIGl0IGV4ZWN1dGVzIGZcblx0ICovXG5cdHN0YXRpYyB0cnlDb25uZWN0KGY6ICgpID0+IHZvaWQpOiB2b2lkIHtcblx0XHRpZiAoU2hhcmUud3MgIT0gdW5kZWZpbmVkKVxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0U2hhcmUud3MgPSBuZXcgV2ViU29ja2V0KGNvbmZpZy5zZXJ2ZXIud2Vic29ja2V0KTtcblx0XHRTaGFyZS53cy5iaW5hcnlUeXBlID0gXCJhcnJheWJ1ZmZlclwiO1xuXG5cdFx0U2hhcmUud3Mub25lcnJvciA9ICgpID0+IHsgRXJyb3JNZXNzYWdlLnNob3coXCJJbXBvc3NpYmxlIHRvIGNvbm5lY3QgdG8gdGhlIHNlcnZlci5cIikgfTtcblxuXHRcdFNoYXJlLndzLm9ub3BlbiA9IGY7XG5cdFx0U2hhcmUud3Mub25tZXNzYWdlID0gKG1zZykgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coXCJJIHJlY2VpdmVkIHRoZSBtZXNzYWdlOiBcIik7XG5cdFx0XHRTaGFyZS5fdHJlYXRSZWNlaXZlZE1lc3NhZ2UoSlNPTi5wYXJzZShtc2cuZGF0YSkpO1xuXHRcdH07XG5cblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbkFza1F1ZXN0aW9uXCIpLmhpZGRlbiA9IGZhbHNlO1xuXG5cdH1cblxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB0cnVlIGlmZiB3ZSBhcmUgb24gZ2l0aHViLmlvXG5cdCAqL1xuXHRzdGF0aWMgaXNPbkdpdEh1YigpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gd2luZG93LmxvY2F0aW9uLm9yaWdpbi5pbmRleE9mKFwiZ2l0aHViXCIpID49IDA7XG5cdH1cblx0LyoqXG5cdCAqIGluaXRpYWxpemF0aW9uXG5cdCAqL1xuXHRzdGF0aWMgaW5pdCgpOiB2b2lkIHtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlQnV0dG9uXCIpLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHRpZiAoIVNoYXJlLmlzU2hhcmVkKCkpXG5cdFx0XHRcdFNoYXJlLnNoYXJlKCk7XG5cdFx0fTtcblxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uU2hhcmVcIikub25jbGljayA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICghU2hhcmUuaXNTaGFyZWQoKSkge1xuXHRcdFx0XHRTaGFyZS5zaGFyZSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0U2hhcmUuY29weVNoYXJlVXJsKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJqb2luQnV0dG9uXCIpLm9uY2xpY2sgPSAoKSA9PiB7XG5cdFx0XHR3aW5kb3cub3Blbig8YW55PndpbmRvdy5sb2NhdGlvbiwgXCJfc2VsZlwiKVxuXHRcdH1cblxuXHRcdGNvbnN0IGNoZWNrYm94U2hhcmVQZXJtaXNzaW9uV3JpdGUgPSA8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlUGVybWlzc2lvbldyaXRlXCIpO1xuXHRcdGNoZWNrYm94U2hhcmVQZXJtaXNzaW9uV3JpdGUub25jbGljayA9XG5cdFx0XHQoKSA9PiBTaGFyZS5zZXRDYW5Xcml0ZUZvckFsbEV4Y2VwdE1lQW5kQnlEZWZhdWx0KGNoZWNrYm94U2hhcmVQZXJtaXNzaW9uV3JpdGUuY2hlY2tlZCk7XG5cblx0XHRpZiAoIVNoYXJlLmlzT25HaXRIdWIoKSlcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdTaGFyZUdpdGh1YicpLmhpZGRlbiA9IHRydWU7XG5cblx0XHRpZiAoU2hhcmUuaXNTaGFyZWRVUkwoKSkge1xuXHRcdFx0Y29uc3QgdHJ5Sm9pbiA9ICgpID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRTaGFyZS5pZCA9IFNoYXJlLmdldElESW5TaGFyZWRVUkwoKTtcblx0XHRcdFx0XHRpZiAoU2hhcmUuaWQgIT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0U2hhcmUuam9pbihTaGFyZS5pZCk7XG5cdFx0XHRcdFx0XHQoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGFyZVVybFwiKSkudmFsdWUgPSA8YW55PmRvY3VtZW50LmxvY2F0aW9uO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFNoYXJlLndzID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFNoYXJlLnNob3dDb25uZWN0aW9uRXJyb3IoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdFNoYXJlLnRyeUNvbm5lY3QodHJ5Sm9pbik7XG5cdFx0fVxuXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25Bc2tQcml2aWxlZ2VcIikub25jbGljayA9IFNoYXJlLmFza1ByaXZpbGVnZTtcblxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uQ29weVNoYXJlVXJsXCIpLm9uY2xpY2sgPSBTaGFyZS5jb3B5U2hhcmVVcmw7XG5cdH1cblxuXG5cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIGFzayBmb3IgcHJpdmlsZWdlIChyb290KVxuXHQgKi9cblx0c3RhdGljIGFza1ByaXZpbGVnZSgpOiB2b2lkIHtcblx0XHRjb25zdCBwYXNzd29yZENhbmRpZGF0ZSA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhc3N3b3JkQ2FuZGlkYXRlXCIpKS52YWx1ZTtcblx0XHRTaGFyZS5zZW5kKHsgdHlwZTogXCJhc2twcml2aWxlZ2VcIiwgcGFzc3dvcmQ6IHBhc3N3b3JkQ2FuZGlkYXRlIH0pXG5cdH1cblxuXG5cdHN0YXRpYyBjb3B5U2hhcmVVcmwoKTogdm9pZCB7XG5cdFx0Y29uc3Qgc2hhcmVsaW5rID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmVVcmxcIikpLnZhbHVlO1xuXHRcdG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHNoYXJlbGluaykuXG5cdFx0XHR0aGVuKGZ1bmN0aW9uICgpIHsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGFyZVVybENvcGllZFwiKS5oaWRkZW4gPSBmYWxzZTsgfSxcbiAgICAgICAgLyogZWxzZSAqLyBmdW5jdGlvbiAoKSB7IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmVVcmxDb3BpZWRcIikuaGlkZGVuID0gZmFsc2U7IH0pO1xuXHR9XG5cblxuXHQvKipcblx0ICogQHJldHVybnMgdHJ1ZSBpZmYgdGhlIGJvYXJkIGlzIHNoYXJlZCB3aXRoIG90aGVyc1xuXHQgKi9cblx0c3RhdGljIGlzU2hhcmVkKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBTaGFyZS5pZCAhPSB1bmRlZmluZWQ7XG5cdH1cblxuXG5cdHN0YXRpYyBzaG93Q29ubmVjdGlvbkVycm9yKCk6IHZvaWQge1xuXHRcdGlmIChTaGFyZS5pc09uR2l0SHViKCkpXG5cdFx0XHRFcnJvck1lc3NhZ2Uuc2hvdyhcIkZvciBzaGFyaW5nLCBmaXJzdCBnbyB0byBhIGRlcGxveWVkIHNlcnZlci4gR28gdG8gbWVudS9zaGFyZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIik7XG5cdFx0ZWxzZVxuXHRcdFx0RXJyb3JNZXNzYWdlLnNob3coXCJJbXBvc3NpYmxlIHRvIGNvbm5lY3QgdG8gdGhlIHNlcnZlclwiKTtcblx0fVxuXHQvKipcblx0ICogQHJldHVybnMgdHJ1ZSBpZmYgdGhlIGN1cnJlbnQgdXNlciBpcyByb290XG5cdCAqL1xuXHRzdGF0aWMgaXNSb290KCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFza1ByaXZpbGVnZVwiKS5oaWRkZW47XG5cdH1cblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIHRyaWVzIHRvIGNvbm5lY3QgdGhlIHNlcnZlciB0byBtYWtlIGEgc2hhcmVkIGJvYXJkXG5cdCAqL1xuXHRzdGF0aWMgc2hhcmUoKTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHBhc3N3b3JkID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFzc3dvcmRcIikpLnZhbHVlO1xuXG5cdFx0XHRTaGFyZS50cnlDb25uZWN0KCgpID0+IFNoYXJlLnNlbmQoeyB0eXBlOiBcInNoYXJlXCIsIHBhc3N3b3JkOiBwYXNzd29yZCB9KSk7XG5cblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmVJbmZvXCIpLmhpZGRlbiA9IGZhbHNlO1xuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25TaGFyZVwiKS5pbm5lckhUTUwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hhcmVjb3B5dGV4dCcpLmlubmVySFRNTDtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiam9pblwiKS5oaWRkZW4gPSB0cnVlO1xuXG5cdFx0XHRpZiAocGFzc3dvcmQgPT0gXCJcIikge1xuXHRcdFx0XHRTaGFyZS5zZXRDYW5Xcml0ZUZvckFsbEV4Y2VwdE1lQW5kQnlEZWZhdWx0KHRydWUpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRTaGFyZS5zZXRDYW5Xcml0ZUZvckFsbEV4Y2VwdE1lQW5kQnlEZWZhdWx0KGZhbHNlKTtcblxuXHRcdFx0U2hhcmUuc2V0Um9vdCgpO1xuXG5cdFx0fVxuXHRcdGNhdGNoIChlKSB7XG5cdFx0XHRTaGFyZS53cyA9IHVuZGVmaW5lZDtcblx0XHRcdFNoYXJlLnNob3dDb25uZWN0aW9uRXJyb3IoKTtcblx0XHR9XG5cblx0fVxuXG5cblxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0geyp9IG1zZyBhcyBhbiBvYmplY3Rcblx0ICogQGRlc2NyaXB0aW9uIHRyZWF0cyB0aGUgbXNnIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlclxuXHQgKi9cblx0c3RhdGljIF90cmVhdFJlY2VpdmVkTWVzc2FnZShtc2c6IGFueSk6IHZvaWQge1xuXHRcdGlmIChtc2cudHlwZSAhPSBcImZ1bGxDYW52YXNcIiAmJiBtc2cudHlwZSAhPSBcIm1hZ25ldHNcIiAmJiBtc2cudHlwZSAhPSBcImV4ZWN1dGVcIilcblx0XHRcdGNvbnNvbGUubG9nKFwiU2VydmVyIC0+IG1lOiBcIiArIEpTT04uc3RyaW5naWZ5KG1zZykpO1xuXHRcdGVsc2Vcblx0XHRcdGNvbnNvbGUubG9nKFwiU2VydmVyIC0+IG1lOiBcIiArIG1zZy50eXBlKTtcblx0XHRzd2l0Y2ggKG1zZy50eXBlKSB7XG5cdFx0XHRjYXNlIFwiaWRcIjogU2hhcmUuX3NldFRhYmxlYXVJRChtc2cuaWQpOyBicmVhaztcblx0XHRcdGNhc2UgXCJ5b3VydXNlcmlkXCI6IC8vIFwieW91ciBuYW1lIGlzIC4uLlwiXG5cdFx0XHRcdFVzZXJNYW5hZ2VyLnNldE15VXNlcklEKG1zZy51c2VyaWQpO1xuXG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmVBbmRKb2luXCIpLmhpZGRlbiA9IHRydWU7XG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmVJbmZvXCIpLmhpZGRlbiA9IGZhbHNlO1xuXG5cdFx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uU2hhcmVcIikuaW5uZXJIVE1MID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NoYXJlY29weXRleHQnKS5pbm5lckhUTUw7XG5cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwidXNlclwiOiAvL3RoZXJlIGlzIGFuIGV4aXN0aW5nIHVzZXJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJleGlzdGluZyB1c2VyOiBcIiwgbXNnLnVzZXJpZClcblx0XHRcdFx0aWYgKG1zZy51c2VyaWQgPT0gVXNlck1hbmFnZXIubWUudXNlcklEKVxuXHRcdFx0XHRcdHRocm93IFwib29wcy4uLiBhbiBhbHJlYWR5IGV4aXN0aW5nIHVzZXIgaGFzIHRoZSBzYW1lIG5hbWUgdGhhbiBtZVwiO1xuXG5cdFx0XHRcdFVzZXJNYW5hZ2VyLmFkZChtc2cudXNlcmlkKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwicm9vdFwiOiAvL3lvdSBvYnRhaW5lZCByb290IHBlcm1pc3Npb24gYW5kIHRoZSBzZXJ2ZXIgdGVsbHMgeW91IHRoYXRcblx0XHRcdFx0Y29uc29sZS5sb2coXCJJIGFtIHJvb3QuXCIpXG5cdFx0XHRcdFNoYXJlLnNldFJvb3QoKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiYWNjZXNzZGVuaWVkXCI6XG5cdFx0XHRcdEVycm9yTWVzc2FnZS5zaG93KFwiQWNjZXNzIGRlbmllZFwiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiam9pblwiOiAvL2EgbmV3IHVzZXIgam9pbnMgdGhlIGdyb3VwXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiYSBuZXcgdXNlciBpcyBqb2luaW5nOiBcIiwgbXNnLnVzZXJpZClcblx0XHRcdFx0Ly8gdGhlIGxlYWRlciBpcyB0aGUgdXNlciB3aXRoIHRoZSBzbWFsbGVzdCBJRFxuXG5cdFx0XHRcdFVzZXJNYW5hZ2VyLmFkZChtc2cudXNlcmlkKTtcblxuXHRcdFx0XHRpZiAoVXNlck1hbmFnZXIuaXNTbWFsbGVzdFVzZXJJRCgpKSB7XG5cdFx0XHRcdFx0Ly9nZXRDYW52YXMoKS50b0Jsb2IoKGJsb2IpID0+IFNoYXJlLnNlbmRGdWxsQ2FudmFzKGJsb2IsIG1zZy51c2VyaWQpKTtcblx0XHRcdFx0XHRTaGFyZS5zZW5kRnVsbENhbnZhcyhtc2cudXNlcmlkKTtcblx0XHRcdFx0XHRTaGFyZS5zZW5kTWFnbmV0cyhtc2cudXNlcmlkKTtcblx0XHRcdFx0XHRTaGFyZS5leGVjdXRlKFwic2V0VXNlckNhbldyaXRlXCIsIFttc2cudXNlcmlkLCBTaGFyZS5jYW5Xcml0ZVZhbHVlQnlEZWZhdWx0XSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJsZWF2ZVwiOlxuXHRcdFx0XHRVc2VyTWFuYWdlci5sZWF2ZShtc2cudXNlcmlkKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwiZnVsbENhbnZhc1wiOlxuXHRcdFx0XHRCb2FyZE1hbmFnZXIubG9hZFdpdGhvdXRTYXZlKG1zZy5kYXRhKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwibWFnbmV0c1wiOlxuXHRcdFx0XHRjb25zb2xlLmxvZyhtc2cubWFnbmV0cylcblx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWduZXRzXCIpLmlubmVySFRNTCA9IG1zZy5tYWduZXRzO1xuXHRcdFx0XHRNYWduZXRNYW5hZ2VyLmluc3RhbGxNYWduZXRzKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcIm1hZ25ldENoYW5nZWRcIjpcblx0XHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobXNnLm1hZ25ldGlkKS5vdXRlckhUTUwgPSBtc2cuZGF0YTtcblx0XHRcdFx0TWFnbmV0TWFuYWdlci5pbnN0YWxsTWFnbmV0cygpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJuZXdtYWduZXRcIjpcblx0XHRcdFx0Y29uc29sZS5sb2coXCJuZXcgbWFnbmV0OlwiKVxuXHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hZ25ldHNcIikuaW5uZXJIVE1MID1cblx0XHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hZ25ldHNcIikuaW5uZXJIVE1MICsgKG1zZy5kYXRhKTsgLy9hIGJpdCBjcmF6eVxuXHRcdFx0XHRNYWduZXRNYW5hZ2VyLmluc3RhbGxNYWduZXRzKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImV4ZWN1dGVcIjpcblx0XHRcdFx0U2hhcmVFdmVudFttc2cuZXZlbnRdKC4uLm1zZy5wYXJhbXMpO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBtb2RpZnkgdGhlIGludGVyZmFjZSB0byBzYXkgdGhhdCB0aGUgY3VycmVudCB1c2VyIGlzIHJvb3QgKGFsbCBwcml2aWxlZ2VzKVxuXHQgKi9cblx0c3RhdGljIHNldFJvb3QoKTogdm9pZCB7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhc2tQcml2aWxlZ2VcIikuaGlkZGVuID0gdHJ1ZTtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJlTW9kZVwiKS5oaWRkZW4gPSBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0geyp9IG1zZyBhcyBhbiBvYmplY3Rcblx0ICogQGRlc2NyaXB0aW9uIHNlbmQgdGhlIG1lc3NhZ2UgdG8gc2VydmVyXG5cdCAqXG5cdCAqL1xuXHRzdGF0aWMgc2VuZChtc2c6IGFueSk6IHZvaWQge1xuXHRcdG1zZy5pZCA9IFNoYXJlLmlkO1xuXHRcdHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShtc2cpKTtcblx0fVxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0geyp9IGJsb2Jcblx0ICogQHBhcmFtIHsqfSB0b1xuXHQgKiBAZGVzY3JpcHRpb24gc2VuZCB0aGUgYmxvYiBvZiB0aGUgY2FudmFzIHRvIHRoZSB1c2VyIHRvXG5cdCAqL1xuXHRzdGF0aWMgc2VuZEZ1bGxDYW52YXModG8/OiBzdHJpbmcpOiB2b2lkIHtcblx0XHRTaGFyZS5zZW5kKHsgdHlwZTogXCJmdWxsQ2FudmFzXCIsIGRhdGE6IGdldENhbnZhcygpLnRvRGF0YVVSTCgpLCB0bzogdG8gfSk7IC8vIGF0IHNvbWUgcG9pbnQgc2VuZCB0aGUgYmxvYiBkaXJlY3RseVxuXHR9XG5cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHRvXG5cdCAqIEBkZXNjcmlwdGlvbiBzZW5kIGFsbCB0aGUgbWFnbmV0cyB0byB0by4gSWYgdG8gaXMgdW5kZWZpbmVkLCBzZW5kIHRvIGFsbC5cblx0ICovXG5cdHN0YXRpYyBzZW5kTWFnbmV0cyh0bz86IHN0cmluZyk6IHZvaWQge1xuXHRcdGlmIChTaGFyZS5pc1NoYXJlZCgpKSB7XG5cdFx0XHRpZiAodG8pXG5cdFx0XHRcdFNoYXJlLnNlbmQoeyB0eXBlOiBcIm1hZ25ldHNcIiwgbWFnbmV0czogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWduZXRzXCIpLmlubmVySFRNTCwgdG86IHRvIH0pOyAvLyBzZW5kIHRoZSBodG1sIGNvZGUgZm9yIGFsbCB0aGUgbWFnbmV0c1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRTaGFyZS5zZW5kKHsgdHlwZTogXCJtYWduZXRzXCIsIG1hZ25ldHM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFnbmV0c1wiKS5pbm5lckhUTUwgfSk7IC8vIHNlbmQgdGhlIGh0bWwgY29kZSBmb3IgYWxsIHRoZSBtYWduZXRzXG5cdFx0fVxuXG5cdH1cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIGVsZW1lbnRcblx0ICogQGRlc2NyaXB0aW9uIHNlbmQgdGhlIGZhY3QgdGhhdCB0aGVyZSBpcyBhIG5ldyBtYWduZXRcblx0ICovXG5cdHN0YXRpYyBzZW5kTmV3TWFnbmV0KGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0Y29uc29sZS5sb2coXCJuZXcgbWFnbmV0IHNlbnQhXCIpXG5cdFx0U2hhcmUuc2VuZCh7IHR5cGU6IFwibmV3bWFnbmV0XCIsIGRhdGE6IGVsZW1lbnQub3V0ZXJIVE1MIH0pO1xuXHR9XG5cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIGVsZW1lbnRcblx0ICogQGRlc2NyaXB0aW9uIHNlbmQgdGhlIG5ldyBpbmZvcm1hdGlvbiBhYm91dCBhbiBleGlzdGluZyBtYWduZXRcblx0ICovXG5cdHN0YXRpYyBzZW5kTWFnbmV0Q2hhbmdlZChlbGVtZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdFNoYXJlLnNlbmQoeyB0eXBlOiBcIm1hZ25ldENoYW5nZWRcIiwgbWFnbmV0aWQ6IGVsZW1lbnQuaWQsIGRhdGE6IGVsZW1lbnQub3V0ZXJIVE1MIH0pO1xuXHR9XG5cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHsqfSBldmVudCwgYW4gZXZlbnQgbmFtZSAoc3RyaW5nKSwgdGhhdCBpcyBhIG1ldGhvZCBvZiB0aGUgY2xhc3MgU2hhcmVFdmVudFxuXHQgKiBAcGFyYW0geyp9IHBhcmFtcyBhbiBhcnJheSBvZiBwYXJhbWV0ZXJzXG5cdCAqIEBkZXNjcmlwdGlvbiBleGVjdXRlcyB0aGUgZXZlbnQgd2l0aCB0aGUgcGFyYW1zLCB0aGF0IGlzIGV4ZWN1dGUgdGhlIG1ldGhvZCBldmVudCBvZiB0aGUgY2xhc3MgU2hhcmVFdmVudFxuXHQgKiB3aXRoIHRoZSBwYXJhbXMuIFRoZW4gc2VuZCBhIG1lc3NhZ2UgdG8gc2VydmVyIHRoYXQgdGhpcyBldmVudCBzaG91bGQgYmUgZXhlY3V0ZWQgZm9yIHRoZSBvdGhlciB1c2VycyBhcyB3ZWxsXG5cdCAqL1xuXHRzdGF0aWMgZXhlY3V0ZShldmVudDogc3RyaW5nLCBwYXJhbXM6IGFueVtdKTogdm9pZCB7XG5cdFx0ZnVuY3Rpb24gYWRhcHQob2JqKSB7XG5cdFx0XHRpZiAob2JqIGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xuXHRcdFx0XHRyZXR1cm4geyBwcmVzc3VyZTogKDxhbnk+b2JqKS5wcmVzc3VyZSwgb2Zmc2V0WDogb2JqLm9mZnNldFgsIG9mZnNldFk6IG9iai5vZmZzZXRZIH07XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBvYmo7XG5cdFx0XHQvKlx0bGV0IHByb3BzID0gWy8vJ3RhcmdldCcsICdjbGllbnRYJywgJ2NsaWVudFknLCAnbGF5ZXJYJywgJ2xheWVyWScsXG5cdFx0XHRcdFx0J3ByZXNzdXJlJywgJ29mZnNldFgnLCAnb2Zmc2V0WSddO1xuXHRcdFx0XHRwcm9wcy5mb3JFYWNoKHByb3AgPT4ge1xuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIHByb3AsIHtcblx0XHRcdFx0XHRcdHZhbHVlOiBvYmpbcHJvcF0sXG5cdFx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb2JqOyovXG5cblx0XHR9XG5cdFx0ZXZhbChcIlNoYXJlRXZlbnQuXCIgKyBldmVudCkoLi4ucGFyYW1zKTtcblx0XHRpZiAoU2hhcmUuaXNTaGFyZWQoKSlcblx0XHRcdFNoYXJlLnNlbmQoeyB0eXBlOiBcImV4ZWN1dGVcIiwgZXZlbnQ6IGV2ZW50LCBwYXJhbXM6IHBhcmFtcy5tYXAoKHBhcmFtKSA9PiBhZGFwdChwYXJhbSkpIH0pO1xuXHR9XG5cblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIGlkXG5cdCAqIEBkZXNjcmlwdGlvbiBzZXQgdGhlIElEIG9mIHRoZSBjdXJyZW50IGJvYXJkXG5cdCAqL1xuXHRzdGF0aWMgX3NldFRhYmxlYXVJRChpZDogc3RyaW5nKTogdm9pZCB7XG5cdFx0U2hhcmUuaWQgPSBpZDtcblxuXHRcdGNvbnN0IHVybCA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XG5cdFx0LypcdGlmICh1cmwuc3RhcnRzV2l0aChcImZpbGU6Ly9cIikpXG5cdFx0XHRcdHVybCA9IERFRkFVTFRBRERSRVNTOyovXG5cblx0XHRjb25zdCBuZXdVcmwgPSB1cmwgKyBcIj9pZD1cIiArIGlkO1xuXHRcdGhpc3RvcnkucHVzaFN0YXRlKHt9LCBudWxsLCBuZXdVcmwpO1xuXG5cdFx0KDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmVVcmxcIikpLnZhbHVlID0gdXJsLnN0YXJ0c1dpdGgoXCJmaWxlOi8vXCIpID8gY29uZmlnLnNlcnZlci5mcm9udGVuZCArIFwiP2lkPVwiICsgaWQgOiBuZXdVcmw7XG5cblx0XHQvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpLnRvQmxvYigoYmxvYikgPT4gU2hhcmUuc2VuZEZ1bGxDYW52YXMoYmxvYikpO1xuXG5cdH1cblxuXG5cblxuXG5cblxuXG5cblxuXHQvKipcblx0ICogQHJldHVybnMgeWVzIGlmIHRoZSBjdXJyZW50IFVSTCBpcyBhbiBVUkwgb2YgYSBzaGFyZWQgYm9hcmRcblx0ICovXG5cdHN0YXRpYyBpc1NoYXJlZFVSTCgpOiBib29sZWFuIHtcblx0XHRjb25zdCBwYXJhbXMgPSAobmV3IFVSTCg8YW55PmRvY3VtZW50LmxvY2F0aW9uKSkuc2VhcmNoUGFyYW1zO1xuXHRcdHJldHVybiBwYXJhbXMuZ2V0KCdpZCcpICE9IG51bGw7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB0aGUgY3VycmVudCB0YWJsZWF1bm9pciBJRFxuXHQgKi9cblx0c3RhdGljIGdldFRhYmxlYXVOb2lySUQoKTogc3RyaW5nIHtcblx0XHRpZiAoU2hhcmUuaXNTaGFyZWRVUkwoKSkge1xuXHRcdFx0cmV0dXJuIFNoYXJlLmdldElESW5TaGFyZWRVUkwoKTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIFwibG9jYWxcIjtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB0aGUgY3VycmVudCB0YWJsZWF1bm9pciBJRFxuXHQgKi9cblx0c3RhdGljIGdldElESW5TaGFyZWRVUkwoKTogc3RyaW5nIHtcblx0XHRjb25zdCBwYXJhbXMgPSAobmV3IFVSTCg8YW55PmRvY3VtZW50LmxvY2F0aW9uKSkuc2VhcmNoUGFyYW1zO1xuXHRcdHJldHVybiBwYXJhbXMuZ2V0KCdpZCcpO1xuXHR9XG5cblxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0gaWRcblx0ICogQGRlc2NyaXB0aW9uIHNheSB0aGF0IHRoZSBjdXJyZW50IHVzZXIgd2FudHMgdG8gam9pbiB0aGUgdGFibGVhdW5vaXIgaWRcblx0ICovXG5cdHN0YXRpYyBqb2luKGlkOiBzdHJpbmcpOiB2b2lkIHtcblx0XHRTaGFyZS5zZW5kKHsgdHlwZTogXCJqb2luXCIsIGlkOiBpZCB9KTtcblx0fVxuXG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSBjYW5Xcml0ZVxuXHQgKiBAZGVzY3JpcHRpb24gaWYgY2FuV3JpdGUgPT0gdHJ1ZSwgbWFrZXMgdGhhdCBldmVyeWJvZHkgY2FuIGRyYXcsIG90aGVyd2lzZSBvbmx5IHlvdSBjYW5cblx0ICovXG5cdHN0YXRpYyBzZXRDYW5Xcml0ZUZvckFsbEV4Y2VwdE1lQW5kQnlEZWZhdWx0KGNhbldyaXRlOiBib29sZWFuKTogdm9pZCB7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbWdXcml0ZVBlcm1pc3Npb25cIiArIGNhbldyaXRlKS5oaWRkZW4gPSBmYWxzZTtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltZ1dyaXRlUGVybWlzc2lvblwiICsgIWNhbldyaXRlKS5oaWRkZW4gPSB0cnVlO1xuXG5cdFx0KDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmVQZXJtaXNzaW9uV3JpdGVcIikpLmNoZWNrZWQgPSBjYW5Xcml0ZTtcblxuXHRcdGZvciAoY29uc3QgdXNlcmlkIGluIFVzZXJNYW5hZ2VyLnVzZXJzKSB7XG5cdFx0XHRpZiAoVXNlck1hbmFnZXIudXNlcnNbdXNlcmlkXSAhPSBVc2VyTWFuYWdlci5tZSlcblx0XHRcdFx0U2hhcmUuZXhlY3V0ZShcInNldFVzZXJDYW5Xcml0ZVwiLCBbdXNlcmlkLCBjYW5Xcml0ZV0pO1xuXHRcdH1cblx0XHRTaGFyZS5jYW5Xcml0ZVZhbHVlQnlEZWZhdWx0ID0gY2FuV3JpdGU7XG5cdFx0U2hhcmUuZXhlY3V0ZShcInNldFVzZXJDYW5Xcml0ZVwiLCBbVXNlck1hbmFnZXIubWUudXNlcklELCB0cnVlXSk7XG5cdH1cblxuXG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGVcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=